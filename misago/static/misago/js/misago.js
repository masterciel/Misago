(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;

  return _react2.default.createElement('img', {
    className: props.className || 'user-avatar',
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    title: gettext("User avatar"),
    width: size,
    height: size
  });
};

exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _2.default.get('BLANK_AVATAR_URL');
  }
} /* jshint ignore:start */
function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"..":252,"react":"react"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _participants = require('../reducers/participants');

var participants = _interopRequireWildcard(_participants);

var _thread = require('../reducers/thread');

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUsernameChange = function (event) {
      _this.changeValue('username', event.target.value);
    };

    _this.state = {
      isLoading: false,

      username: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.username.trim().length) {
        _snackbar2.default.error(gettext("You have to enter user name."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'add', path: 'participants', value: this.state.username }, { op: 'add', path: 'acl', value: 1 }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch((0, _thread.updateAcl)(data));
      _store2.default.dispatch(participants.replace(data.participants));

      _snackbar2.default.success(gettext("New participant has been added to thread."));

      _modal2.default.hide();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                { 'for': 'id_username', label: gettext("User to add") },
                _react2.default.createElement('input', {
                  id: 'id_username',
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  onChange: this.onUsernameChange,
                  type: 'text',
                  value: this.state.username
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-block btn-primary',
                  disabled: this.state.isLoading
                },
                gettext("Add participant")
              ),
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-block btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Add participant")
    )
  );
}

},{"../reducers/participants":298,"../reducers/thread":306,"../services/ajax":311,"../services/modal":317,"../services/snackbar":322,"../services/store":323,"./form":42,"./form-group":41,"react":"react"}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), { username: this.props.signedIn.username }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), { username: this.props.user.username }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      var className = 'auth-message';
      if (this.props.signedIn || this.props.signedOut) {
        className += ' show';
      }

      return _react2.default.createElement(
        "div",
        { className: className },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getMessage()
          ),
          _react2.default.createElement(
            "p",
            null,
            _react2.default.createElement(
              "button",
              {
                className: "btn btn-default",
                type: "button",
                onClick: this.refresh
              },
              gettext("Reload page")
            ),
            _react2.default.createElement(
              "span",
              { className: "hidden-xs hidden-sm" },
              ' ' + gettext("or press F5 key.")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;

  return _react2.default.createElement('img', {
    className: props.className || 'user-avatar',
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    title: gettext("User avatar"),
    width: size,
    height: size
  });
};

exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _2.default.get('BLANK_AVATAR_URL');
  }
} /* jshint ignore:start */
function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"..":252,"react":"react"}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getReasonMessage',
    value: function getReasonMessage() {
      /* jshint ignore:start */
      if (this.props.message.html) {
        return _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
            __html: this.props.message.html
          } });
      } else {
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.props.message.plain
        );
      }
      /* jshint ignore:end */
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.props.expires.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.props.expires.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-error page-error-banned' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'highlight_off'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              this.getReasonMessage(),
              _react2.default.createElement(
                'p',
                { className: 'message-footnote' },
                this.getExpirationMessage()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"moment":"moment","react":"react"}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Button = function (_React$Component) {
  _inherits(Button, _React$Component);

  function Button() {
    _classCallCheck(this, Button);

    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));
  }

  _createClass(Button, [{
    key: 'render',
    value: function render() {
      var className = 'btn ' + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += ' btn-loading';
        disabled = true;
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        {
          className: className,
          disabled: disabled,
          onClick: this.props.onClick,
          type: this.props.onClick ? 'button' : 'submit'
        },
        this.props.children,
        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return Button;
}(_react2.default.Component);

exports.default = Button;


Button.defaultProps = {
  className: "btn-default",

  type: "submit",

  loading: false,
  disabled: false,

  onClick: null
};

},{"./loader":44,"react":"react"}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'list-group-item category-subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'list-group-item category-subcategory';
      }
    }
  }, {
    key: 'getDescription',
    value: function getDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'subcategory-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_subcategorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'title-row' },
          _react2.default.createElement(
            'h4',
            null,
            _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
            _react2.default.createElement(
              'a',
              { href: this.props.category.absolute_url, className: 'item-title' },
              this.props.category.name
            )
          ),
          _react2.default.createElement(_stats2.default, { category: this.props.category })
        ),
        _react2.default.createElement(_lastActivity2.default, { category: this.props.category }),
        this.getDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-group category-subcategories' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./last-activity":9,"./read-icon":10,"./stats":12,"./subcategory-subcategories":13,"react":"react"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySubcategories = require('./category-subcategories');

var _categorySubcategories2 = _interopRequireDefault(_categorySubcategories);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'panel panel-default panel-category panel-category-' + this.props.category.css_class;
      } else {
        return 'panel panel-default panel-category';
      }
    }
  }, {
    key: 'getHeadingClassName',
    value: function getHeadingClassName() {
      if (this.props.category.subcategories.length) {
        return 'panel-heading';
      } else {
        return 'panel-heading heading-alone';
      }
    }
  }, {
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'panel-body category-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_categorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { id: 'panel-category-' + this.props.category.id,
          className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: this.getHeadingClassName() },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading-inblock' },
            _react2.default.createElement(
              'div',
              { className: 'panel-heading-top-row' },
              _react2.default.createElement(
                'h3',
                { className: 'panel-title' },
                _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
                _react2.default.createElement(
                  'a',
                  { href: this.props.category.absolute_url, className: 'item-title' },
                  this.props.category.name
                )
              ),
              _react2.default.createElement(_stats2.default, { category: this.props.category })
            ),
            _react2.default.createElement(_lastActivity2.default, { category: this.props.category })
          )
        ),
        this.getCategoryDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-subcategories":7,"./last-activity":9,"./read-icon":10,"./stats":12,"react":"react"}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProtectedMessage = exports.PrivateMessage = exports.EmptyMessage = exports.LastPostMessage = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var THREAD_URL = '<a href="%(url)s" class="item-title thread-title">%(thread)s</a>';
var LAST_POST_URL = '<a href="%(url)s" class="last-title" title="%(absolute)s">%(relative)s</a>';

var LastPostMessage = exports.LastPostMessage = function (_React$Component) {
  _inherits(LastPostMessage, _React$Component);

  function LastPostMessage() {
    _classCallCheck(this, LastPostMessage);

    return _possibleConstructorReturn(this, (LastPostMessage.__proto__ || Object.getPrototypeOf(LastPostMessage)).apply(this, arguments));
  }

  _createClass(LastPostMessage, [{
    key: 'getLastPoster',
    value: function getLastPoster() {
      if (this.props.category.last_poster_url) {
        return interpolate(LAST_POSTER_URL, {
          url: (0, _escapeHtml2.default)(this.props.category.last_poster_url),
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      } else {
        return interpolate(LAST_POSTER_SPAN, {
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      }
    }
  }, {
    key: 'getLastThread',
    value: function getLastThread() {
      return interpolate(THREAD_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_thread_url),
        thread: (0, _escapeHtml2.default)(this.props.category.last_thread_title)
      }, true);
    }
  }, {
    key: 'getLastReplyDate',
    value: function getLastReplyDate() {
      return interpolate(LAST_POST_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_post_url),
        absolute: (0, _escapeHtml2.default)(this.props.category.last_post_on.format('LLL')),
        relative: (0, _escapeHtml2.default)(this.props.category.last_post_on.fromNow())
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('p', { className: 'category-last-post',
        dangerouslySetInnerHTML: { __html: interpolate((0, _escapeHtml2.default)(gettext("Last post in %(thread)s by %(user)s %(date)s")), {
            thread: this.getLastThread(),
            date: this.getLastReplyDate(),
            user: this.getLastPoster()
          }, true) } });
      /* jshint ignore:end */
    }
  }]);

  return LastPostMessage;
}(_react2.default.Component);

var EmptyMessage = exports.EmptyMessage = function (_React$Component2) {
  _inherits(EmptyMessage, _React$Component2);

  function EmptyMessage() {
    _classCallCheck(this, EmptyMessage);

    return _possibleConstructorReturn(this, (EmptyMessage.__proto__ || Object.getPrototypeOf(EmptyMessage)).apply(this, arguments));
  }

  _createClass(EmptyMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        gettext("This category is empty.")
      );
      /* jshint ignore:end */
    }
  }]);

  return EmptyMessage;
}(_react2.default.Component);

var PrivateMessage = exports.PrivateMessage = function (_React$Component3) {
  _inherits(PrivateMessage, _React$Component3);

  function PrivateMessage() {
    _classCallCheck(this, PrivateMessage);

    return _possibleConstructorReturn(this, (PrivateMessage.__proto__ || Object.getPrototypeOf(PrivateMessage)).apply(this, arguments));
  }

  _createClass(PrivateMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        ),
        gettext("This category is private. You can see only your own threads within it.")
      );
      /* jshint ignore:end */
    }
  }]);

  return PrivateMessage;
}(_react2.default.Component);

var ProtectedMessage = exports.ProtectedMessage = function (_React$Component4) {
  _inherits(ProtectedMessage, _React$Component4);

  function ProtectedMessage() {
    _classCallCheck(this, ProtectedMessage);

    return _possibleConstructorReturn(this, (ProtectedMessage.__proto__ || Object.getPrototypeOf(ProtectedMessage)).apply(this, arguments));
  }

  _createClass(ProtectedMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'highlight_off'
        ),
        gettext("This category is protected. You can't browse it's contents.")
      );
      /* jshint ignore:end */
    }
  }]);

  return ProtectedMessage;
}(_react2.default.Component);

var _class = function (_React$Component5) {
  _inherits(_class, _React$Component5);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.category.acl.can_browse) {
        if (!this.props.category.acl.can_see_all_threads) {
          /* jshint ignore:start */
          return _react2.default.createElement(PrivateMessage, null);
          /* jshint ignore:end */
        } else if (this.props.category.last_thread_title) {
          /* jshint ignore:start */
          return _react2.default.createElement(LastPostMessage, { category: this.props.category });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(EmptyMessage, null);
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(ProtectedMessage, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/escape-html":329,"react":"react"}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.is_read) {
        return 'read-status item-read';
      } else {
        return 'read-status item-new';
      }
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts. (closed)");
        } else {
          return gettext("This category has new posts. (closed)");
        }
      } else {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts.");
        } else {
          return gettext("This category has new posts.");
        }
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return 'lock_outline';
        } else {
          return 'lock';
        }
      } else {
        if (this.props.category.is_read) {
          return 'chat_bubble_outline';
        } else {
          return 'chat_bubble';
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), title: this.getTitle() },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment2.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    };

    _this.state = {
      categories: _index2.default.get('CATEGORIES').map(hydrate)
    };

    _this.startPolling(_index2.default.get('CATEGORIES_API'));
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'categories',
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'categories-list' },
        this.state.categories.map(function (category) {
          return _react2.default.createElement(_category2.default, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick
  };
}

},{"../../index":252,"../../services/polls":320,"./category":8,"moment":"moment","react":"react"}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getThreadsCount",
    value: function getThreadsCount() {
      var string = ngettext("%(threads)s thread", "%(threads)s threads", this.props.category.threads);

      return interpolate(string, {
        'threads': this.props.category.threads
      }, true);
    }
  }, {
    key: "getPostsCount",
    value: function getPostsCount() {
      var string = ngettext("%(posts)s post", "%(posts)s posts", this.props.category.posts);

      return interpolate(string, {
        'posts': this.props.category.posts
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "ul",
        { className: "list-inline category-stats" },
        _react2.default.createElement(
          "li",
          { className: "category-threads" },
          this.getThreadsCount()
        ),
        _react2.default.createElement(
          "li",
          { className: "category-posts" },
          this.getPostsCount()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'subcategory';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'a',
          { href: this.props.category.absolute_url,
            className: this.getClassName() },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-inline subcategories-list' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./subcategory-subcategories":13,"react":"react"}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'select',
    {
      className: props.className || 'form-control',
      disabled: props.disabled || false,
      id: props.id || null,
      onChange: props.onChange,
      value: props.value
    },
    props.choices.map(function (item) {
      return _react2.default.createElement(
        'option',
        {
          disabled: item.disabled || false,
          key: item.value,
          value: item.value
        },
        '- - '.repeat(item.level) + item.label
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.cropAvatar = function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        'isLoading': true
      });

      var avatarType = _this.props.upload ? 'crop_tmp' : 'crop_src';
      var cropit = $('.crop-form');

      var deviceRatio = cropit.cropit('exportZoom');
      var cropitOffset = cropit.cropit('offset');

      _ajax2.default.post(_this.props.user.api_url.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit('zoom') * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);
        _snackbar2.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getAvatarSize',
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: 'getImagePath',
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $('.crop-form');
      var cropperWidth = this.getAvatarSize();

      var initialWidth = cropit.width();
      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }

      var deviceRatio = this.getAvatarSize() / cropperWidth;

      cropit.width(cropperWidth);

      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit('zoom');
            var imageSize = cropit.cropit('imageSize');

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit('offset', {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;

            if (crop) {
              cropit.cropit('zoom', crop.zoom);
              cropit.cropit('offset', {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      $('.crop-form').cropit('disable');
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-crop' },
          _react2.default.createElement(
            'div',
            { className: 'crop-form' },
            _react2.default.createElement('div', { className: 'cropit-preview' }),
            _react2.default.createElement('input', {
              type: 'range',
              className: 'cropit-image-zoom-input'
            })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.cropAvatar,
                loading: this.state.isLoading,
                className: 'btn-primary btn-block'
              },
              this.props.upload ? gettext("Set avatar") : gettext("Crop image")
            ),
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.props.showIndex,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block'
              },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":311,"../../services/snackbar":322,"../avatar":4,"../button":6,"react":"react"}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Gallery = exports.GalleryItem = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Avatar = require('../Avatar');

var _Avatar2 = _interopRequireDefault(_Avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var GalleryItem = exports.GalleryItem = function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  function GalleryItem() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GalleryItem.__proto__ || Object.getPrototypeOf(GalleryItem)).call.apply(_ref, [this].concat(args))), _this), _this.select = function () {
      _this.props.select(_this.props.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(GalleryItem, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return 'btn btn-avatar btn-disabled avatar-selected';
        } else {
          return 'btn btn-avatar avatar-selected';
        }
      } else if (this.props.disabled) {
        return 'btn btn-avatar btn-disabled';
      } else {
        return 'btn btn-avatar';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        {
          type: 'button',
          className: this.getClassName(),
          disabled: this.props.disabled,
          onClick: this.select
        },
        _react2.default.createElement('img', { src: this.props.url })
      );
      /* jshint ignore:end */
    }
  }]);

  return GalleryItem;
}(_react2.default.Component);

var Gallery = exports.Gallery = function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).apply(this, arguments));
  }

  _createClass(Gallery, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'avatars-gallery' },
        _react2.default.createElement(
          'h3',
          null,
          this.props.name
        ),
        _react2.default.createElement(
          'div',
          { className: 'avatars-gallery-images' },
          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {
            return _react2.default.createElement(
              'div',
              { className: 'row', key: i },
              row.map(function (item, i) {
                return _react2.default.createElement(
                  'div',
                  { className: 'col-xs-3', key: i },
                  item ? _react2.default.createElement(GalleryItem, _extends({
                    disabled: _this3.props.disabled,
                    select: _this3.props.select,
                    selection: _this3.props.selection
                  }, item)) : _react2.default.createElement('div', { className: 'blank-avatar' })
                );
              })
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Gallery;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.select = function (image) {
      _this4.setState({
        selection: image
      });
    };

    _this4.save = function () {
      if (_this4.state.isLoading) {
        return false;
      }

      _this4.setState({
        'isLoading': true
      });

      _ajax2.default.post(_this4.props.user.api_url.avatar, {
        avatar: 'galleries',
        image: _this4.state.selection
      }).then(function (response) {
        _this4.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this4.props.onComplete(response);
        _this4.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this4.setState({
            'isLoading': false
          });
        } else {
          _this4.props.showError(rejection);
        }
      });
    };

    _this4.state = {
      'selection': null,
      'isLoading': false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      var _this5 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-gallery' },
          this.props.options.galleries.map(function (item, i) {
            return _react2.default.createElement(Gallery, { name: item.name,
              images: item.images,
              selection: _this5.state.selection,
              disabled: _this5.state.isLoading,
              select: _this5.select,
              key: i });
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-6 col-md-offset-3' },
              _react2.default.createElement(
                _button2.default,
                { onClick: this.save,
                  loading: this.state.isLoading,
                  disabled: !this.state.selection,
                  className: 'btn-primary btn-block' },
                this.state.selection ? gettext("Save choice") : gettext("Select avatar")
              ),
              _react2.default.createElement(
                _button2.default,
                { onClick: this.props.showIndex,
                  disabled: this.state.isLoading,
                  className: 'btn-default btn-block' },
                gettext("Cancel")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":252,"../../services/ajax":311,"../../services/snackbar":322,"../../utils/batch":326,"../Avatar":1,"../button":6,"react":"react"}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _loader = require('../loader');

var _loader2 = _interopRequireDefault(_loader);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setGravatar = function () {
      _this.callApi('gravatar');
    };

    _this.setGenerated = function () {
      _this.callApi('generated');
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'callApi',
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        'isLoading': true
      });

      _ajax2.default.post(this.props.user.api_url.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          'isLoading': false
        });
        console.log(response);
        _snackbar2.default.success(response.detail);
        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this2.setState({
            'isLoading': false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getGravatarButton',

    /* jshint ignore:end */

    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.setGravatar,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gravatar' },
          gettext("Download my Gravatar")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCropButton',
    value: function getCropButton() {
      if (this.props.options.crop_src) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showCrop,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-crop' },
          gettext("Re-crop uploaded image")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      if (this.props.options.upload) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showUpload,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-upload' },
          gettext("Upload new image")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getGalleryButton',
    value: function getGalleryButton() {
      if (this.props.options.galleries) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showGallery,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gallery' },
          gettext("Pick avatar from gallery")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getAvatarPreview',
    value: function getAvatarPreview() {
      /* jshint ignore:start */
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };
      /* jshint ignore:end */

      if (this.state.isLoading) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview preview-loading' },
          _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' }),
          _react2.default.createElement(_loader2.default, null)
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview' },
          _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-index' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-5' },
            this.getAvatarPreview()
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-md-7' },
            this.getGravatarButton(),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.setGenerated,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block btn-avatar-generate' },
              gettext("Generate my individual avatar")
            ),
            this.getCropButton(),
            this.getUploadButton(),
            this.getGalleryButton()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":311,"../../services/snackbar":322,"../avatar":4,"../button":6,"../loader":44,"react":"react"}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChangeAvatarError = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('./index');

var _index2 = _interopRequireDefault(_index);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _gallery = require('./gallery');

var _gallery2 = _interopRequireDefault(_gallery);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _possibleConstructorReturn(this, (ChangeAvatarError.__proto__ || Object.getPrototypeOf(ChangeAvatarError)).apply(this, arguments));
  }

  _createClass(ChangeAvatarError, [{
    key: 'getErrorReason',
    value: function getErrorReason() {
      if (this.props.reason) {
        /* jshint ignore:start */
        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getErrorReason(),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ChangeAvatarError;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this2, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this2), _this2.showError = function (error) {
      _this2.setState({
        error: error
      });
    }, _this2.showIndex = function () {
      _this2.setState({
        'component': _index2.default
      });
    }, _this2.showUpload = function () {
      _this2.setState({
        'component': _upload2.default
      });
    }, _this2.showCrop = function () {
      _this2.setState({
        'component': _crop2.default
      });
    }, _this2.showGallery = function () {
      _this2.setState({
        'component': _gallery2.default
      });
    }, _this2.completeFlow = function (options) {
      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, options.avatars));

      _this2.setState({
        'component': _index2.default,
        options: options
      });
    }, _temp), _possibleConstructorReturn(_this2, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      _ajax2.default.get(this.props.user.api_url.avatar).then(function (options) {
        _this3.setState({
          'component': _index2.default,
          'options': options,
          'error': null
        });
      }, function (rejection) {
        _this3.showError(rejection);
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getBody',

    /* jshint ignore:end */

    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          /* jshint ignore:start */
          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,
            reason: this.state.error.reason });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(this.state.component, { options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change your avatar")
            )
          ),
          this.getBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    'user': state.auth.user
  };
}

},{"../../reducers/users":310,"../../services/ajax":311,"../../services/store":323,"../modal-loader":47,"./crop":15,"./gallery":16,"./index":17,"./upload":19,"react":"react"}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _fileSize = require('../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.pickFile = function () {
      document.getElementById('avatar-hidden-upload').click();
    };

    _this.uploadFile = function () {
      var image = document.getElementById('avatar-hidden-upload').files[0];
      if (!image) return;

      var validationError = _this.validateFile(image);
      if (validationError) {
        _snackbar2.default.error(validationError);
        return;
      }

      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });

      var data = new FormData();
      data.append('avatar', 'upload');
      data.append('image', image);

      _ajax2.default.upload(_this.props.user.api_url.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });

        _snackbar2.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'validateFile',
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          'filesize': (0, _fileSize2.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }

    /* jshint ignore:start */

  }, {
    key: 'getUploadRequirements',

    /* jshint ignore:end */

    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });

      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        'files': extensions.join(', '),
        'limit': (0, _fileSize2.default)(options.limit)
      }, true);
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn-pick-file',
            onClick: this.pickFile
          },
          _react2.default.createElement(
            'div',
            { className: 'material-icon' },
            'input'
          ),
          gettext("Select file")
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-muted' },
          this.getUploadRequirements(this.props.options.upload)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUploadProgressLabel',
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        'progress': this.state.progress
      }, true);
    }
  }, {
    key: 'getUploadProgress',
    value: function getUploadProgress() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          'div',
          { className: 'upload-progress' },
          _react2.default.createElement('img', { src: this.state.preview }),
          _react2.default.createElement(
            'div',
            { className: 'progress' },
            _react2.default.createElement(
              'div',
              {
                className: 'progress-bar',
                role: 'progressbar',
                'aria-valuenow': '{this.state.progress}',
                'aria-valuemin': '0',
                'aria-valuemax': '100',
                style: { width: this.state.progress + '%' }
              },
              _react2.default.createElement(
                'span',
                { className: 'sr-only' },
                this.getUploadProgressLabel()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderUpload',
    value: function renderUpload() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement('input', {
          type: 'file',
          id: 'avatar-hidden-upload',
          className: 'hidden-file-upload',
          onChange: this.uploadFile
        }),
        this.state.image ? this.getUploadProgress() : this.getUploadButton(),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.props.showIndex,
                disabled: !!this.state.image,
                className: 'btn-default btn-block'
              },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCrop',
    value: function renderCrop() {
      /* jshint ignore:start */
      return _react2.default.createElement(_crop2.default, {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.uploaded) return this.renderCrop();

      return this.renderUpload();
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":311,"../../services/snackbar":322,"../../utils/file-size":330,"../button":6,"./crop":15,"react":"react"}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { className: this.getClassName(),
          type: "button",
          onClick: this.props.toggleNav,
          "aria-haspopup": "true",
          "aria-expanded": this.props.dropdown ? 'true' : 'false' },
        _react2.default.createElement(
          "i",
          { className: "material-icon" },
          "menu"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.replaceSelection(_this.props.execAction);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-icon ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: this.props.title,
          type: 'button'
        },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertCode,
      title: gettext("Insert code")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'functions'
    )
  );
};

exports.insertCode = insertCode;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertCode(selection, replace) {
  var syntax = $.trim(prompt(gettext("Enter name of syntax of your code (optional)") + ':'));
  replace("\n\n```" + syntax + '\n' + selection + "\n```\n\n");
}

},{"../../../utils/is-url":331,"./action":21,"react":"react"}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeEmphasis,
      title: gettext("Emphase selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_italic'
    )
  );
};

exports.makeEmphasis = makeEmphasis;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeEmphasis(selection, replace) {
  if (selection.length) {
    replace('*' + selection + '*');
  }
}

},{"./action":21,"react":"react"}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertHr,
      title: gettext("Insert horizontal ruler")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'remove'
    )
  );
};

exports.insertHr = insertHr;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertHr(selection, replace) {
  replace('\n\n- - - - -\n\n');
}

},{"./action":21,"react":"react"}],25:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertImage,
      title: gettext("Insert image")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_photo'
    )
  );
};

exports.insertImage = insertImage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertImage(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link to image") + ':', url));
  label = $.trim(prompt(gettext("Enter image label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('![' + label + '](' + url + ')');
    } else {
      replace('!(' + url + ')');
    }
  }
}

},{"../../../utils/is-url":331,"./action":21,"react":"react"}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertLink,
      title: gettext("Insert link")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_link'
    )
  );
};

exports.insertLink = insertLink;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertLink(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link address") + ':', url));
  label = $.trim(prompt(gettext("Enter link label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('[' + label + '](' + url + ')');
    } else {
      replace(url);
    }
  }
}

},{"../../../utils/is-url":331,"./action":21,"react":"react"}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertQuote,
      title: gettext("Insert quote")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_quote'
    )
  );
};

exports.insertQuote = insertQuote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertQuote(selection, replace) {
  var title = $.trim(prompt(gettext("Enter quote autor, prefix usernames with @") + ':', title));

  if (title) {
    replace('\n\n[quote="' + title + '"]\n' + selection + '\n[/quote]\n\n');
  } else {
    replace('\n\n[quote]\n' + selection + '\n[/quote]\n\n');
  }
}

},{"../../../utils/is-url":331,"./action":21,"react":"react"}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStriketrough,
      title: gettext("Striketrough selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_strikethrough'
    )
  );
};

exports.makeStriketrough = makeStriketrough;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStriketrough(selection, replace) {
  if (selection.length) {
    replace('~~' + selection + '~~');
  }
}

},{"./action":21,"react":"react"}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStrong,
      title: gettext("Bolder selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_bold'
    )
  );
};

exports.makeStrong = makeStrong;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStrong(selection, replace) {
  if (selection.length) {
    replace('**' + selection + '**');
  }
}

},{"./action":21,"react":"react"}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onInsert = function () {
      _this.props.replaceSelection(_this.insertAttachment);
    }, _this.insertAttachment = function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace('[![' + item.filename + '](' + item.url.thumb + ')](' + item.url.index + ')');
        } else {
          replace('[![' + item.filename + '](' + item.url.index + ')](' + item.url.index + ')');
        }
      } else {
        replace('[' + item.filename + '](' + item.url.index + ')');
      }
    }, _this.onRemove = function () {
      _this.updateItem({
        isRemoved: true
      });
    }, _this.onUndo = function () {
      _this.updateItem({
        isRemoved: false
      });
    }, _this.updateItem = function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });
      _this.props.onAttachmentsChange(updatedAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-complete' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-8 col-md-9' },
            _react2.default.createElement(Preview, this.props),
            _react2.default.createElement(
              'div',
              { className: 'editor-attachment-details' },
              _react2.default.createElement(Filename, this.props),
              _react2.default.createElement(Details, this.props)
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-4 col-md-3 xs-margin-top-half' },
            _react2.default.createElement(Actions, _extends({
              onInsert: this.onInsert,
              onRemove: this.onRemove,
              onUndo: this.onUndo
            }, this.props))
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function Preview(props) {
  if (props.item.is_image) {
    return _react2.default.createElement(Image, props);
  } else {
    return _react2.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-image' },
    _react2.default.createElement('a', {
      href: props.item.url.index + '?shva=1',
      style: { backgroundImage: "url('" + thumbnailUrl + "?shva=1')" },
      target: '_blank'
    })
  );
};

function Icon(props) {
  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-icon' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_drive_file'
    )
  );
}

function Filename(props) {
  return _react2.default.createElement(
    'h4',
    null,
    _react2.default.createElement(
      'a',
      {
        className: 'item-title',
        href: props.item.url.index + '?shva=1',
        target: '_blank'
      },
      props.item.filename
    )
  );
}

function Details(props) {
  var user = null;
  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.item.url.uploader),
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.item.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.item.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0, _fileSize2.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });
}

function Actions(props) {
  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-actions' },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      _react2.default.createElement(Insert, props),
      _react2.default.createElement(Remove, props),
      _react2.default.createElement(Undo, props)
    )
  );
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-6' },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm btn-block',
        onClick: props.onInsert,
        type: 'button'
      },
      gettext("Insert")
    )
  );
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-6' },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm btn-block',
        onClick: props.onRemove,
        type: 'button'
      },
      gettext("Remove")
    )
  );
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12' },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm btn-block',
        onClick: props.onUndo,
        type: 'button'
      },
      gettext("Undo removal")
    )
  );
}

},{"../../../..":252,"../../../../utils/escape-html":329,"../../../../utils/file-size":330,"react":"react"}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var STRONG = '<strong>%(name)s</strong>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });
      _this.props.onAttachmentsChange(filteredAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml2.default)(this.props.item.filename)
      }, true);

      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + '%'
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-error' },
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-message' },
          _react2.default.createElement('h4', { dangerouslySetInnerHTML: { __html: title + ':' } }),
          _react2.default.createElement(
            'p',
            null,
            this.props.item.error
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm',
              onClick: this.onClick,
              type: 'button'
            },
            gettext("Dismiss")
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../../../utils/escape-html":329,"react":"react"}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.item.id) {
    return _react2.default.createElement(_complete2.default, props);
  }

  if (props.item.error) {
    return _react2.default.createElement(_error2.default, props);
  }

  return _react2.default.createElement(_upload2.default, props);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _complete = require('./complete');

var _complete2 = _interopRequireDefault(_complete);

var _error = require('./error');

var _error2 = _interopRequireDefault(_error);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../..":252,"../../../../utils/escape-html":329,"./complete":30,"./error":31,"./upload":33,"react":"react"}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml2.default)(props.item.filename)
  }, true);

  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + '%'
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'editor-attachment-upload' },
    _react2.default.createElement(
      'div',
      { className: 'editor-attachment-progress-bar' },
      _react2.default.createElement('div', {
        className: 'editor-attachment-progress',
        style: { width: props.item.progress + '%' }
      })
    ),
    _react2.default.createElement('p', {
      className: 'editor-attachment-upload-message',
      dangerouslySetInnerHTML: { __html: message }
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var STRONG = '<strong>%(name)s</strong>';

;

},{"../../../../utils/escape-html":329,"react":"react"}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!_2.default.get('user').acl.max_attachment_size) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachments' },
    _react2.default.createElement(_list2.default, props),
    _react2.default.createElement(_uploader2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _uploader = require('./uploader');

var _uploader2 = _interopRequireDefault(_uploader);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

; // jshint ignore:start

},{"../../..":252,"./list":35,"./uploader":37,"react":"react"}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled editor-attachments-list' },
    props.attachments.map(function (item) {
      return _react2.default.createElement(_attachment2.default, _extends({ item: item, key: item.id || item.key }, props));
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

;

},{"./attachment":32,"react":"react"}],36:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      document.getElementById('editor-upload-field').click();
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!_2.default.get('user').acl.max_attachment_size) {
        return null;
      }

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-icon ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: gettext('Upload file'),
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'file_upload'
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../..":252,"react":"react"}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getRandomKey = getRandomKey;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (event) {
      var file = event.target.files[0];
      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append('upload', file);

      _ajax2.default.upload(_2.default.get('ATTACHMENTS_API'), data, function (progress) {
        upload.progress = progress;
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment2.default)(data.uploaded_on);
        Object.assign(upload, data);
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;
          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement('input', {
        id: 'editor-upload-field',
        onChange: this.onChange,
        type: 'file'
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function getRandomKey() {
  return 'upld-' + Math.round(new Date().getTime());
}

},{"../../..":252,"../../../services/ajax":311,"../../../services/snackbar":322,"moment":"moment","react":"react"}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Protect = Protect;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _code = require('./actions/code');

var _code2 = _interopRequireDefault(_code);

var _emphasis = require('./actions/emphasis');

var _emphasis2 = _interopRequireDefault(_emphasis);

var _hr = require('./actions/hr');

var _hr2 = _interopRequireDefault(_hr);

var _image = require('./actions/image');

var _image2 = _interopRequireDefault(_image);

var _link = require('./actions/link');

var _link2 = _interopRequireDefault(_link);

var _striketrough = require('./actions/striketrough');

var _striketrough2 = _interopRequireDefault(_striketrough);

var _strong = require('./actions/strong');

var _strong2 = _interopRequireDefault(_strong);

var _quote = require('./actions/quote');

var _quote2 = _interopRequireDefault(_quote);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _uploadButton = require('./attachments/upload-button/');

var _uploadButton2 = _interopRequireDefault(_uploadButton);

var _markupPreview = require('./markup-preview');

var _markupPreview2 = _interopRequireDefault(_markupPreview);

var _textUtils = require('./textUtils');

var textUtils = _interopRequireWildcard(_textUtils);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onPreviewClick = function () {
      if (_this.state.isPreviewLoading) {
        return;
      }

      _this.setState({
        isPreviewLoading: true
      });

      _ajax2.default.post(_2.default.get('PARSE_MARKUP_API'), { post: _this.props.value }).then(function (data) {
        _modal2.default.show(_react2.default.createElement(_markupPreview2.default, { markup: data.parsed }));

        _this.setState({
          isPreviewLoading: false
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _this.setState({
          isPreviewLoading: false
        });
      });
    };

    _this.replaceSelection = function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    };

    _this._replaceSelection = function (newValue) {
      _this.props.onChange({
        target: {
          value: textUtils.replace(newValue)
        }
      });
    };

    _this.state = {
      isPreviewLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'editor-border' },
        _react2.default.createElement('textarea', {
          className: 'form-control',
          value: this.props.value,
          disabled: this.props.loading,
          id: 'editor-textarea',
          onChange: this.props.onChange,
          rows: '9'
        }),
        _react2.default.createElement(
          'div',
          { className: 'editor-footer' },
          _react2.default.createElement(
            'div',
            { className: 'buttons-list pull-left' },
            _react2.default.createElement(_strong2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_emphasis2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_striketrough2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_hr2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_link2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_image2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_quote2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_code2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_uploadButton2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading
            })
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              onClick: this.onPreviewClick,
              type: 'button'
            },
            gettext("Preview")
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-primary btn-sm pull-right',
              loading: this.props.loading
            },
            this.props.submitLabel || gettext("Post")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm pull-right',
              disabled: this.props.loading,
              onClick: this.props.onCancel,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement('div', { className: 'clearfix visible-xs-block' }),
          _react2.default.createElement(Protect, {
            canProtect: this.props.canProtect,
            disabled: this.props.loading,
            onProtect: this.props.onProtect,
            onUnprotect: this.props.onUnprotect,
            protect: this.props.protect
          })
        ),
        _react2.default.createElement(_attachments2.default, {
          attachments: this.props.attachments,
          onAttachmentsChange: this.props.onAttachmentsChange,
          placeholder: this.props.placeholder,
          replaceSelection: this.replaceSelection
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Protect(props) {
  if (!props.canProtect) return null;

  var label = props.protect ? gettext('Protected') : gettext('Protect');

  return _react2.default.createElement(
    'button',
    {
      className: 'btn btn-icon btn-default btn-protect btn-sm pull-right',
      disabled: props.disabled,
      onClick: props.protect ? props.onUnprotect : props.onProtect,
      title: label,
      type: 'button'
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      props.protect ? 'lock' : 'lock_outline'
    ),
    _react2.default.createElement(
      'span',
      { className: 'btn-text hidden-md hidden-lg' },
      label
    )
  );
}

},{"../..":252,"../../services/ajax":311,"../../services/modal":317,"../../services/snackbar":322,"../button":6,"./actions/code":22,"./actions/emphasis":23,"./actions/hr":24,"./actions/image":25,"./actions/link":26,"./actions/quote":27,"./actions/striketrough":28,"./actions/strong":29,"./attachments":34,"./attachments/upload-button/":36,"./markup-preview":39,"./textUtils":40,"react":"react"}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Preview message")
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'modal-body markup-preview' },
        _react2.default.createElement(_misagoMarkup2.default, { markup: props.markup })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../misago-markup":46,"react":"react"}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
var textareaId = exports.textareaId = 'editor-textarea';

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();
  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart('character', -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == '0') {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();
  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart('character', selectionRange.start);
    range.moveEnd('character', selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isValidated',
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'form-group';
      if (this.isValidated()) {
        className += ' has-feedback';
        if (this.props.validation === null) {
          className += ' has-success';
        } else {
          className += ' has-error';
        }
      }
      return className;
    }
  }, {
    key: 'getFeedback',
    value: function getFeedback() {
      var _this2 = this;

      if (this.props.validation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'help-block errors' },
          this.props.validation.map(function (error, i) {
            return _react2.default.createElement(
              'p',
              { key: _this2.props.for + 'FeedbackItem' + i },
              error
            );
          })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFeedbackDescription',
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { id: this.props.for + '_status', className: 'sr-only' },
          this.props.validation ? gettext('(error)') : gettext('(success)')
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'label',
          { className: 'control-label ' + (this.props.labelClass || ''),
            htmlFor: this.props.for || '' },
          this.props.label + ':'
        ),
        _react2.default.createElement(
          'div',
          { className: this.props.controlClass || '' },
          this.props.children,
          this.getFeedbackDescription(),
          this.getFeedback(),
          this.getHelpText(),
          this.props.extra || null
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],42:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _validators = require('../utils/validators');

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var validateRequired = (0, _validators.required)();

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.bindInput = function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    }, _this.changeValue = function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    }, _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();
      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({ isLoading: true });
        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({ isLoading: false });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({ isLoading: false });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({ isLoading: false });
        }
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'validate',
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };

      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: 'isValid',
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: 'validateField',
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };

      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',
    value: function clean() {
      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return null;
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: 'handleError',

    /* jshint ignore:end */
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/snackbar":322,"../utils/validators":339,"react":"react"}],43:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isActive',
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || '') + ' ' + (this.props.activeClassName || 'active');
      } else {
        return this.props.className || '';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        this.props.children
      );
      // jshint ignore:end
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className || "loader" },
    _react2.default.createElement("div", { className: "loader-spinning-wheel" })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],45:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.props.onSuccess(success);
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      _this.props.onError(rejection);
    };

    _this.onPollChange = function (event) {
      _this.changeValue('poll', event.target.value);
    };

    _this.state = {
      isLoading: false,

      poll: 0
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var confirmation = confirm(gettext("Are you sure? This will delete other polls."));
      return confirmation;
    }
  }, {
    key: 'send',
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        poll: this.state.poll
      });

      return _ajax2.default.post(this.props.api, data);
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                'aria-label': gettext("Close"),
                className: 'close',
                'data-dismiss': 'modal',
                type: 'button'
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge polls")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                'p',
                null,
                gettext("Select poll to use in merged thread. Other polls will be deleted.")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Poll"),
                  'for': 'id_poll'
                },
                _react2.default.createElement(
                  'select',
                  {
                    className: 'form-control',
                    id: 'id_poll',
                    onChange: this.onPollChange,
                    value: this.state.poll
                  },
                  this.props.polls.map(function (poll) {
                    return _react2.default.createElement(
                      'option',
                      { value: poll[0], key: poll[0] },
                      poll[1]
                    );
                  })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Merge polls")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../services/ajax":311,"../services/modal":317,"./button":6,"./form":42,"./form-group":41,"react":"react"}],46:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _oneBox = require('../services/one-box');

var _oneBox2 = _interopRequireDefault(_oneBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _oneBox2.default.render(this.documentNode);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      _oneBox2.default.render(this.documentNode);
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement('article', {
        className: 'misago-markup',
        dangerouslySetInnerHTML: { __html: this.props.markup },
        ref: function ref(node) {
          _this2.documentNode = node;
        }
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/one-box":318,"react":"react"}],47:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-loader' },
        _react2.default.createElement(_loader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":44,"react":"react"}],48:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('./panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_PanelMessage) {
  _inherits(_class, _PanelMessage);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getHelpText(),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_panelMessage2.default);

exports.default = _class;

},{"./panel-message":61,"react":"react"}],49:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-form' },
    _react2.default.createElement(
      'div',
      { className: 'panel-heading' },
      _react2.default.createElement(
        'h3',
        { className: 'panel-title' },
        gettext("Change username")
      )
    ),
    _react2.default.createElement(_panelLoader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../panel-loader":60,"react":"react"}],50:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('../../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), { 'next_change': this.props.options.next_on.fromNow() }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelMessage2.default, {
          helpText: this.getHelpText(),
          message: gettext("You can't change your username at the moment.")
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-message":61,"react":"react"}],51:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      username: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);

        phrases.push(interpolate(message, {
          'changes_left': this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes redeem after %(name_changes_expire)s day.", "Used changes redeem after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          'name_changes_expire': this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(' ') : null;
    }
  }, {
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      if (errors.username) {
        _snackbar2.default.error(errors.username[0]);
        return false;
      }if (this.state.username.trim() === this.props.user.username) {
        _snackbar2.default.info(gettext("Your new username is same as current one."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.username, {
        'username': this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.setState({
        'username': ''
      });

      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change username")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New username"), 'for': 'id_username',
                helpText: this.getHelpText() },
              _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('username'),
                value: this.state.username })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Change username")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":311,"../../../services/snackbar":322,"../../../utils/validators":339,"../../button":6,"../../form":42,"../../form-group":41,"react":"react"}],52:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formLoading = require('./form-loading');

var _formLoading2 = _interopRequireDefault(_formLoading);

var _formLocked = require('./form-locked');

var _formLocked2 = _interopRequireDefault(_formLocked);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _root = require('../../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onComplete = function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)({ username: username, slug: slug }, _this.props.user, _this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar2.default.success(gettext("Your username has been changed successfully."));
    };

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle2.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax2.default.get(this.props.user.api_url.username), _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), { user: this.props.user.id })]).then(function (data) {
        _store2.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment2.default)(data[0].next_on) : null
          }
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getChangeForm',

    /* jshint ignore:end */

    value: function getChangeForm() {
      if (!this.state.isLoaded) {
        /* jshint ignore:start */
        return _react2.default.createElement(_formLoading2.default, null);
        /* jshint ignore:end */
      }

      if (this.state.options.changes_left === 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(_formLocked2.default, { options: this.state.options });
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      return _react2.default.createElement(_form2.default, {
        complete: this.onComplete,
        options: this.state.options,
        user: this.props.user
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        this.getChangeForm(),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          changes: this.props['username-history'] })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":252,"../../../reducers/username-history":309,"../../../reducers/users":310,"../../../services/ajax":311,"../../../services/page-title":319,"../../../services/snackbar":322,"../../../services/store":323,"../../username-history/root":234,"./form":51,"./form-loading":49,"./form-locked":50,"moment":"moment","react":"react"}],53:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _yesNoSwitch = require('../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _auth = require('../../reducers/auth');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,

      'is_hiding_presence': props.user.is_hiding_presence,
      'limits_private_thread_invites_to': props.user.limits_private_thread_invites_to,
      'subscribe_to_started_threads': props.user.subscribe_to_started_threads,
      'subscribe_to_replied_threads': props.user.subscribe_to_replied_threads,

      'errors': {}
    };

    _this.privateThreadInvitesChoices = [{
      'value': 0,
      'icon': 'help_outline',
      'label': gettext("Everybody")
    }, {
      'value': 1,
      'icon': 'done_all',
      'label': gettext("Users I follow")
    }, {
      'value': 2,
      'icon': 'highlight_off',
      'label': gettext("Nobody")
    }];

    _this.subscribeToChoices = [{
      'value': 0,
      'icon': 'star_border',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'star_half',
      'label': gettext("Notify")
    }, {
      'value': 2,
      'icon': 'star',
      'label': gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _store2.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));
      _snackbar2.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change forum options")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Privacy settings")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Hide my presence"),
                  helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
                  'for': 'id_is_hiding_presence'
                },
                _react2.default.createElement(_yesNoSwitch2.default, {
                  id: 'id_is_hiding_presence',
                  disabled: this.state.isLoading,
                  iconOn: 'visibility_off',
                  iconOff: 'visibility',
                  labelOn: gettext("Hide my presence from other users"),
                  labelOff: gettext("Show my presence to other users"),
                  onChange: this.bindInput('is_hiding_presence'),
                  value: this.state.is_hiding_presence
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Private thread invitations"),
                  'for': 'id_limits_private_thread_invites_to'
                },
                _react2.default.createElement(_select2.default, {
                  id: 'id_limits_private_thread_invites_to',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('limits_private_thread_invites_to'),
                  value: this.state.limits_private_thread_invites_to,
                  choices: this.privateThreadInvitesChoices
                })
              )
            ),
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Automatic subscriptions")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Threads I start"),
                  'for': 'id_subscribe_to_started_threads'
                },
                _react2.default.createElement(_select2.default, {
                  id: 'id_subscribe_to_started_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_started_threads'),
                  value: this.state.subscribe_to_started_threads,
                  choices: this.subscribeToChoices
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Threads I reply to"),
                  'for': 'id_subscribe_to_replied_threads'
                },
                _react2.default.createElement(_select2.default, {
                  id: 'id_subscribe_to_replied_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_replied_threads'),
                  value: this.state.subscribe_to_replied_threads,
                  choices: this.subscribeToChoices
                })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Save changes")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../reducers/auth":297,"../../services/ajax":311,"../../services/page-title":319,"../../services/snackbar":322,"../../services/store":323,"../button":6,"../form":42,"../form-group":41,"../select":169,"../yes-no-switch":251,"react":"react"}],54:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = SideNav;
exports.CompactNav = CompactNav;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function SideNav(props) {
  return _react2.default.createElement(
    'div',
    { className: 'list-group nav-side' },
    props.options.map(function (option) {
      return _react2.default.createElement(
        _reactRouter.Link,
        {
          to: props.baseUrl + option.component + '/',
          className: 'list-group-item',
          activeClassName: 'active',
          key: option.component
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          option.icon
        ),
        option.name
      );
    })
  );
}

function CompactNav(props) {
  return _react2.default.createElement(
    'ul',
    { className: props.className || "dropdown-menu stick-to-bottom", role: 'menu' },
    props.options.map(function (option) {
      return _react2.default.createElement(
        _li2.default,
        {
          path: props.baseUrl + option.component + '/',
          key: option.component
        },
        _react2.default.createElement(
          _reactRouter.Link,
          {
            to: props.baseUrl + option.component + '/',
            onClick: props.hideNav
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon hidden-sm' },
            option.icon
          ),
          option.name
        )
      );
    })
  );
}

},{"../../index":252,"../li":43,"react":"react","react-router":"react-router"}],55:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _forumOptions = require('./forum-options');

var _forumOptions2 = _interopRequireDefault(_forumOptions);

var _root = require('./change-username/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./sign-in-credentials/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-options' },
        _react2.default.createElement(
          'div',
          { className: 'page-header-bg' },
          _react2.default.createElement(
            'div',
            { className: 'page-header' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'h1',
                null,
                gettext("Change your options")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'page-tabs visible-xs-block visible-sm-block' },
              _react2.default.createElement(
                'div',
                { className: 'container' },
                _react2.default.createElement(_navs.CompactNav, {
                  className: 'nav nav-pills',
                  baseUrl: _index2.default.get('USERCP_URL'),
                  options: _index2.default.get('USER_OPTIONS')
                })
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(_navs.SideNav, {
                baseUrl: _index2.default.get('USERCP_URL'),
                options: _index2.default.get('USER_OPTIONS')
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'username-history': store['username-history']
  };
}

function paths() {
  return [{
    path: _index2.default.get('USERCP_URL') + 'forum-options/',
    component: (0, _reactRedux.connect)(select)(_forumOptions2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'change-username/',
    component: (0, _reactRedux.connect)(select)(_root2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'sign-in-credentials/',
    component: (0, _reactRedux.connect)(select)(_root4.default)
  }];
}

},{"../../index":252,"../dropdown-toggle":20,"../with-dropdown":250,"./change-username/root":52,"./forum-options":53,"./navs":54,"./sign-in-credentials/root":58,"react":"react","react-redux":"react-redux"}],56:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_email: '',
      password: '',

      validators: {
        new_email: [validators.email()],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_email) {
        _snackbar2.default.error(errors.new_email[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_email: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar2.default.error(rejection.new_email);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change e-mail address")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New e-mail"), 'for': 'id_new_email' },
              _react2.default.createElement('input', { type: 'text', id: 'id_new_email', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_email'),
                value: this.state.new_email })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Change e-mail")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":311,"../../../services/snackbar":322,"../../../utils/validators":339,"../../button":6,"../../form":42,"../../form-group":41,"react":"react"}],57:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_password: '',
      repeat_password: '',
      password: '',

      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_password) {
        _snackbar2.default.error(errors.new_password[0]);
        return false;
      }

      if (this.state.new_password.trim() !== this.state.repeat_password.trim()) {
        _snackbar2.default.error(gettext("New passwords are different."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_password: '',
        repeat_password: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar2.default.error(rejection.new_password);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change password")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New password"), 'for': 'id_new_password' },
              _react2.default.createElement('input', { type: 'password', id: 'id_new_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_password'),
                value: this.state.new_password })
            ),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Repeat password"), 'for': 'id_repeat_password' },
              _react2.default.createElement('input', { type: 'password', id: 'id_repeat_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('repeat_password'),
                value: this.state.repeat_password })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Change password")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":311,"../../../services/snackbar":322,"../../button":6,"../../form":42,"../../form-group":41,"react":"react"}],58:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changeEmail = require('./change-email');

var _changeEmail2 = _interopRequireDefault(_changeEmail);

var _changePassword = require('./change-password');

var _changePassword2 = _interopRequireDefault(_changePassword);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_changeEmail2.default, { user: this.props.user }),
        _react2.default.createElement(_changePassword2.default, { user: this.props.user }),
        _react2.default.createElement(
          'p',
          { className: 'message-line' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          ),
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },
            gettext("Change forgotten password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":252,"../../../services/page-title":319,"./change-email":56,"./change-password":57,"react":"react"}],59:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _stringCount = require('../utils/string-count');

var _stringCount2 = _interopRequireDefault(_stringCount);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount2.default)(this.props.copy, '<p') === 1 && this.props.copy.indexOf('<br') === -1) {
          return 'page-lead lead';
        }
      }

      return 'page-lead';
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: this.getClassName(), dangerouslySetInnerHTML: {
            __html: this.props.copy
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../utils/string-count":338,"react":"react"}],60:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel-body panel-body-loading' },
        _react2.default.createElement(_loader2.default, { className: 'loader loader-spaced' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":44,"react":"react"}],61:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "panel-body panel-message-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],62:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leave = leave;
exports.remove = remove;
exports.changeOwner = changeOwner;

var _participants = require('../../../reducers/participants');

var participants = _interopRequireWildcard(_participants);

var _thread = require('../../../reducers/thread');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function leave(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }]).then(function () {
    _snackbar2.default.success(gettext("You have left this thread."));
    window.setTimeout(function () {
      window.location = _2.default.get('PRIVATE_THREADS_URL');
    }, 3 * 1000);
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function remove(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been removed from this thread.");
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function changeOwner(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'owner', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been made new thread owner.");
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

},{"../../..":252,"../../../reducers/participants":298,"../../../reducers/thread":306,"../../../services/ajax":311,"../../../services/snackbar":322,"../../../services/store":323}],63:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var participant = props.participant;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-6 col-md-3 participant-card' },
    _react2.default.createElement(
      'a',
      { className: 'avatar-link', href: participant.url },
      _react2.default.createElement(_avatar2.default, { user: participant, size: '50' })
    ),
    _react2.default.createElement(
      'div',
      { className: 'participant-profile' },
      _react2.default.createElement(
        'a',
        { className: 'item-title', href: participant.url },
        participant.username
      ),
      _react2.default.createElement(
        'ul',
        { className: 'list-unstyled list-inline' },
        _react2.default.createElement(OwnerBadge, participant),
        _react2.default.createElement(_makeOwner2.default, props),
        _react2.default.createElement(_remove2.default, props)
      )
    )
  );
};

exports.OwnerBadge = OwnerBadge;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _makeOwner = require('./make-owner');

var _makeOwner2 = _interopRequireDefault(_makeOwner);

var _remove = require('./remove');

var _remove2 = _interopRequireDefault(_remove);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function OwnerBadge(props) {
  if (!props.is_owner) return null;

  return _react2.default.createElement(
    'li',
    { className: 'participant-owner' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'grade'
    ),
    gettext("Owner")
  );
} // jshint ignore:start

},{"../../avatar":4,"./make-owner":65,"./remove":66,"react":"react"}],64:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'participants-cards' },
    (0, _batch2.default)(props.participants, 4).map(function (row) {
      var key = row.map(function (i) {
        return i.id;
      }).join('_');
      return _react2.default.createElement(_row2.default, {
        key: key,
        participants: row,
        thread: props.thread,
        user: props.user,
        userIsOwner: props.userIsOwner
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _row = require('./row');

var _row2 = _interopRequireDefault(_row);

var _batch = require('../../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/batch":326,"./row":67,"react":"react"}],65:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./actions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to take over this thread?"));
      } else {
        var message = gettext("Are you sure you want to change thread owner to %(user)s?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', onClick: this.onClick, className: 'btn-link btn-sm' },
          gettext("Make owner")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":62,"react":"react"}],66:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./actions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to leave this thread?"));
      } else {
        var message = gettext("Are you sure you want to remove %(user)s from this thread?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      if (_this.isUser) {
        (0, _actions.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0, _actions.remove)(_this.props.thread, _this.props.participant);
      }
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;

      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link btn-sm', onClick: this.onClick, type: 'button' },
          this.isUser ? gettext("Leave thread") : gettext("Remove")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":62,"react":"react"}],67:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'row' },
    props.participants.map(function (participant) {
      return _react2.default.createElement(_card2.default, {
        key: participant.id,
        participant: participant,
        thread: props.thread,
        user: props.user,
        userIsOwner: props.userIsOwner
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _card = require('./card');

var _card2 = _interopRequireDefault(_card);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":63,"react":"react"}],68:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  if (!props.participants.length) return null;

  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-participants' },
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(_cardsList2.default, _extends({
        userIsOwner: getUserIsOwner(props.user, props.participants)
      }, props)),
      _react2.default.createElement(
        'p',
        null,
        utils.getParticipantsCopy(props.participants)
      )
    )
  );
};

exports.getUserIsOwner = getUserIsOwner;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _cardsList = require('./cards-list');

var _cardsList2 = _interopRequireDefault(_cardsList);

var _utils = require('./utils');

var utils = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

},{"./cards-list":64,"./utils":69,"react":"react"}],69:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParticipantsCopy = getParticipantsCopy;
function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = ngettext("This thread has %(users)s participant.", "This thread has %(users)s participants.", count);

  return interpolate(message, {
    users: count
  }, true);
}

},{}],70:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LABELS = exports.STYLES = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];

var LABELS = exports.LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this._score = 0;
    _this._password = null;
    _this._inputs = [];

    _this.state = {
      loaded: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _zxcvbn2.default.load().then(function () {
        _this2.setState({ loaded: true });
      });
    }
  }, {
    key: 'getScore',
    value: function getScore(password, inputs) {
      var _this3 = this;

      var cacheStale = false;

      if (password.trim() !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn2.default.scorePassword(password, inputs);
        this._password = password.trim();
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: 'render',
    value: function render() {
      if (!this.state.loaded) return null;

      /* jshint ignore:start */
      var score = this.getScore(this.props.password, this.props.inputs);

      return _react2.default.createElement(
        'div',
        { className: 'help-block password-strength' },
        _react2.default.createElement(
          'div',
          { className: 'progress' },
          _react2.default.createElement(
            'div',
            { className: "progress-bar " + STYLES[score],
              style: { width: 20 + 20 * score + '%' },
              role: 'progress-bar',
              'aria-valuenow': score,
              'aria-valuemin': '0',
              'aria-valuemax': '4' },
            _react2.default.createElement(
              'span',
              { className: 'sr-only' },
              LABELS[score]
            )
          )
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-small' },
          LABELS[score]
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/zxcvbn":324,"react":"react"}],71:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollChoice = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.generateRandomHash = generateRandomHash;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onAdd = function () {
      var choices = _this.props.choices.slice();
      choices.push({
        hash: generateRandomHash(),
        label: ''
      });

      _this.props.setChoices(choices);
    }, _this.onChange = function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }

        return choice;
      });
      _this.props.setChoices(choices);
    }, _this.onDelete = function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });
      _this.props.setChoices(choices);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'div',
        { className: 'poll-choices-control' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.choices.map(function (choice) {
            return _react2.default.createElement(PollChoice, {
              canDelete: _this2.props.choices.length > 2,
              choice: choice,
              disabled: _this2.props.disabled,
              key: choice.hash,
              onChange: _this2.onChange,
              onDelete: _this2.onDelete
            });
          })
        ),
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-sm',
            disabled: this.props.disabled,
            onClick: this.onAdd,
            type: 'button'
          },
          gettext("Add choice")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var PollChoice = exports.PollChoice = function (_React$Component2) {
  _inherits(PollChoice, _React$Component2);

  function PollChoice() {
    var _ref2;

    var _temp2, _this3, _ret2;

    _classCallCheck(this, PollChoice);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = PollChoice.__proto__ || Object.getPrototypeOf(PollChoice)).call.apply(_ref2, [this].concat(args))), _this3), _this3.onChange = function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    }, _this3.onDelete = function () {
      var deleteItem = confirm(gettext("Are you sure you want to delete this choice?"));
      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    }, _temp2), _possibleConstructorReturn(_this3, _ret2);
  }

  _createClass(PollChoice, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn',
            disabled: !this.props.canDelete || this.props.disabled,
            onClick: this.onDelete,
            title: gettext("Delete this choice"),
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'close'
          )
        ),
        _react2.default.createElement('input', {
          disabled: this.props.disabled,
          maxLength: '255',
          placeholder: gettext("choice label"),
          type: 'text',
          onChange: this.onChange,
          value: this.props.choice.label
        })
      );
    }
  }]);

  return PollChoice;
}(_react2.default.Component);

function generateRandomHash() {
  var randomHash = '';
  while (randomHash.length != 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, '').substr(1, 12);
  }
  return randomHash;
}

},{"react":"react"}],72:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PollPublicSwitch = PollPublicSwitch;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _choicesControl = require('./choices-control');

var _choicesControl2 = _interopRequireDefault(_choicesControl);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setChoices = function (choices) {
      var errors = Object.assign({}, errors, { choices: null });

      _this.setState({
        choices: choices,
        errors: errors
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard poll?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    var poll = props.poll || {
      question: '',
      choices: [{
        hash: 'choice-10000',
        label: ''
      }, {
        hash: 'choice-20000',
        label: ''
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };

    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,

      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,

      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },

      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };

      if (this.state.isEdit) {
        return _ajax2.default.put(this.props.poll.api.index, data);
      } else {
        return _ajax2.default.post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));

      if (this.state.isEdit) {
        _snackbar2.default.success(gettext("Poll has been edited."));
      } else {
        _snackbar2.default.success(gettext("Poll has been posted."));
      }

      _posting2.default.close();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }

        this.setState({
          'errors': Object.assign({}, rejection)
        });

        _snackbar2.default.error(gettext("Form contains errors."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'poll-form' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'panel panel-default panel-form' },
              _react2.default.createElement(
                'div',
                { className: 'panel-body' },
                _react2.default.createElement(
                  'fieldset',
                  null,
                  _react2.default.createElement(
                    'legend',
                    null,
                    gettext("Question and choices")
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Poll question"),
                      'for': 'id_questions',
                      validation: this.state.errors.question
                    },
                    _react2.default.createElement('input', {
                      className: 'form-control',
                      disabled: this.state.isLoading,
                      id: 'id_questions',
                      onChange: this.bindInput('question'),
                      type: 'text',
                      maxLength: '255',
                      value: this.state.question
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Available choices"),
                      validation: this.state.errors.choices
                    },
                    _react2.default.createElement(_choicesControl2.default, {
                      choices: this.state.choices,
                      disabled: this.state.isLoading,
                      setChoices: this.setChoices
                    })
                  )
                ),
                _react2.default.createElement(
                  'fieldset',
                  null,
                  _react2.default.createElement(
                    'legend',
                    null,
                    gettext("Voting")
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Poll length"),
                      helpText: gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
                      'for': 'id_length',
                      validation: this.state.errors.length
                    },
                    _react2.default.createElement('input', {
                      className: 'form-control',
                      disabled: this.state.isLoading,
                      id: 'id_length',
                      onChange: this.bindInput('length'),
                      type: 'text',
                      value: this.state.length
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Allowed choices"),
                      'for': 'id_allowed_choices',
                      validation: this.state.errors.allowed_choices
                    },
                    _react2.default.createElement('input', {
                      className: 'form-control',
                      disabled: this.state.isLoading,
                      id: 'id_allowed_choices',
                      onChange: this.bindInput('allowed_choices'),
                      type: 'text',
                      maxLength: '255',
                      value: this.state.allowed_choices
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Allow vote changes"),
                      'for': 'id_allow_revotes'
                    },
                    _react2.default.createElement(_yesNoSwitch2.default, {
                      id: 'id_allow_revotes',
                      disabled: this.state.isLoading,
                      iconOn: 'check',
                      iconOff: 'close',
                      labelOn: gettext("Allow participants to change their vote"),
                      labelOff: gettext("Don't allow participants to change their vote"),
                      onChange: this.bindInput('allow_revotes'),
                      value: this.state.allow_revotes
                    })
                  ),
                  _react2.default.createElement(PollPublicSwitch, {
                    bindInput: this.bindInput,
                    disabled: this.state.isLoading,
                    isEdit: this.state.isEdit,
                    value: this.state.is_public
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'panel-footer' },
                _react2.default.createElement(
                  _button2.default,
                  {
                    className: 'btn-primary',
                    loading: this.state.isLoading
                  },
                  this.state.isEdit ? gettext("Save changes") : gettext("Post poll")
                ),
                ' ',
                _react2.default.createElement(
                  'button',
                  {
                    className: 'btn btn-default',
                    disabled: this.state.isLoading,
                    onClick: this.onCancel,
                    type: 'button'
                  },
                  gettext("Cancel")
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function PollPublicSwitch(props) {
  if (props.isEdit) return null;

  return _react2.default.createElement(
    _formGroup2.default,
    {
      label: gettext("Make voting public"),
      helpText: gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
      'for': 'id_is_public'
    },
    _react2.default.createElement(_yesNoSwitch2.default, {
      id: 'id_is_public',
      disabled: props.disabled,
      iconOn: 'visibility',
      iconOff: 'visibility_off',
      labelOn: gettext("Votes are public"),
      labelOff: gettext("Votes are hidden"),
      onChange: props.bindInput('is_public'),
      value: props.value
    })
  );
}

},{"../../../reducers/poll":299,"../../../services/ajax":311,"../../../services/posting":321,"../../../services/snackbar":322,"../../../services/store":323,"../../button":6,"../../form":42,"../../form-group":41,"../../yes-no-switch":251,"./choices-control":71,"react":"react"}],73:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollForm = exports.Poll = undefined;

var _poll = require('./poll');

var _poll2 = _interopRequireDefault(_poll);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Poll = _poll2.default;
exports.PollForm = _form2.default;

},{"./form":72,"./poll":75}],74:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline poll-details' },
    _react2.default.createElement(PollCreation, { poll: props.poll }),
    _react2.default.createElement(PollLength, { poll: props.poll }),
    _react2.default.createElement(PollVotes, { votes: props.poll.votes }),
    _react2.default.createElement(PollIsPublic, { poll: props.poll })
  );
};

exports.PollCreation = PollCreation;
exports.getPoster = getPoster;
exports.getPostedOn = getPostedOn;
exports.PollLength = PollLength;
exports.getEndsOn = getEndsOn;
exports.PollVotes = PollVotes;
exports.PollIsPublic = PollIsPublic;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function PollCreation(props) {
  var message = interpolate((0, _escapeHtml2.default)(gettext("Posted by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);

  return _react2.default.createElement('li', {
    className: 'poll-info-creation',
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(poll.url.poster),
      user: (0, _escapeHtml2.default)(poll.poster_name)
    }, true);
  }

  return interpolate(USER_SPAN, {
    user: (0, _escapeHtml2.default)(poll.poster_name)
  }, true);
}

function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(poll.posted_on.fromNow())
  }, true);
}

function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }

  var message = interpolate((0, _escapeHtml2.default)(gettext("Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);

  return _react2.default.createElement('li', {
    className: 'poll-info-ends-on',
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.endsOn.format('LLL')),
    relative: (0, _escapeHtml2.default)(poll.endsOn.fromNow())
  }, true);
}

function PollVotes(props) {
  var message = ngettext("%(votes)s vote", "%(votes)s votes", props.votes);
  var label = interpolate(message, {
    'votes': props.votes
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'poll-info-votes' },
    label
  );
}

function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    { className: 'poll-info-public' },
    gettext("Votes are public.")
  );
}

},{"../../utils/escape-html":329,"react":"react"}],75:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getIsPollOver = getIsPollOver;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _results = require('./results');

var _results2 = _interopRequireDefault(_results);

var _voting = require('./voting');

var _voting2 = _interopRequireDefault(_voting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showResults = function () {
      _this.setState({
        showResults: true
      });
    };

    _this.showVoting = function () {
      _this.setState({
        showResults: false
      });
    };

    var showResults = true;
    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }

    _this.state = {
      showResults: showResults
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.poll) return null;

      var isPollOver = getIsPollOver(this.props.poll);

      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return _react2.default.createElement(_voting2.default, _extends({ showResults: this.showResults }, this.props));
      } else {
        return _react2.default.createElement(_results2.default, _extends({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function getIsPollOver(poll) {
  if (poll.length) {
    return (0, _moment2.default)().isAfter(poll.endsOn);
  }
  return false;
}

},{"./results":77,"./voting":81,"moment":"moment","react":"react"}],76:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled poll-choices-bars" },
    props.poll.choices.map(function (choice) {
      return _react2.default.createElement(PollChoice, {
        choice: choice,
        key: choice.hash,
        poll: props.poll
      });
    })
  );
};

exports.PollChoice = PollChoice;
exports.ChoiceVotes = ChoiceVotes;
exports.getVotesLabel = getVotesLabel;
exports.UserChoice = UserChoice;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function PollChoice(props) {
  var proc = 0;
  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled list-inline poll-chart" },
      _react2.default.createElement(
        "li",
        { className: "poll-char-label" },
        _react2.default.createElement(
          "strong",
          null,
          props.choice.label
        )
      ),
      _react2.default.createElement(ChoiceVotes, {
        proc: proc,
        votes: props.choice.votes
      }),
      _react2.default.createElement(UserChoice, { selected: props.choice.selected })
    ),
    _react2.default.createElement(
      "div",
      { className: "progress" },
      _react2.default.createElement(
        "div",
        {
          className: "progress-bar",
          role: "progressbar",
          "aria-valuenow": proc,
          "aria-valuemin": "0",
          "aria-valuemax": "100",
          style: { width: proc + '%' }
        },
        _react2.default.createElement(
          "span",
          { className: "sr-only" },
          getVotesLabel(props.votes, props.proc)
        )
      )
    )
  );
}

function ChoiceVotes(props) {
  return _react2.default.createElement(
    "li",
    { className: "poll-chart-votes" },
    getVotesLabel(props.votes, props.proc)
  );
}

function getVotesLabel(votes, proc) {
  var message = ngettext("%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);

  return interpolate(message, {
    'votes': votes,
    'proc': proc
  }, true);
}

function UserChoice(props) {
  if (!props.selected) return null;

  return _react2.default.createElement(
    "li",
    { className: "poll-chart-selected" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_circle"
    ),
    gettext("Your choice.")
  );
}

},{"react":"react"}],77:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-poll' },
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(
        'h2',
        null,
        props.poll.question
      ),
      _react2.default.createElement(_info2.default, { poll: props.poll }),
      _react2.default.createElement(_chart2.default, { poll: props.poll }),
      _react2.default.createElement(_options2.default, {
        isPollOver: props.isPollOver,
        poll: props.poll,
        showVoting: props.showVoting,
        thread: props.thread
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _chart = require('./chart');

var _chart2 = _interopRequireDefault(_chart);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

var _info = require('../info');

var _info2 = _interopRequireDefault(_info);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../info":74,"./chart":76,"./options":79,"react":"react"}],78:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalBody = ModalBody;
exports.ChoicesList = ChoicesList;
exports.ChoiceDetails = ChoiceDetails;
exports.VotesCount = VotesCount;
exports.VotesList = VotesList;
exports.Voter = Voter;
exports.VoteDate = VoteDate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: (0, _moment2.default)(voter.voted_on)
              });
            })
          });
        });

        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          className: 'modal-dialog' + (this.state.error ? ' modal-message' : ' modal-sm'),
          role: 'document'
        },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: 'close',
                'data-dismiss': 'modal',
                'aria-label': gettext("Close")
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Poll votes")
            )
          ),
          _react2.default.createElement(ModalBody, {
            data: this.state.data,
            error: this.state.error,
            isLoading: this.state.isLoading
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalBody(props) {
  if (props.isLoading) {
    return _react2.default.createElement(_modalLoader2.default, null);
  } else if (props.error) {
    return _react2.default.createElement(_modalMessage2.default, {
      icon: 'error_outline',
      message: props.error
    });
  }

  return _react2.default.createElement(ChoicesList, {
    data: props.data
  });
}

function ChoicesList(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-body modal-poll-votes' },
    _react2.default.createElement(
      'ul',
      { className: 'list-unstyled votes-details' },
      props.data.map(function (choice) {
        return _react2.default.createElement(ChoiceDetails, _extends({
          key: choice.hash
        }, choice));
      })
    )
  );
}

function ChoiceDetails(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'h4',
      null,
      props.label
    ),
    _react2.default.createElement(VotesCount, { votes: props.votes }),
    _react2.default.createElement(VotesList, { voters: props.voters }),
    _react2.default.createElement('hr', null)
  );
}

function VotesCount(props) {
  var message = ngettext("%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);

  var label = interpolate(message, {
    'votes': props.votes
  }, true);

  return _react2.default.createElement(
    'p',
    null,
    label
  );
}

function VotesList(props) {
  if (!props.voters.length) return null;

  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled' },
    props.voters.map(function (user) {
      return _react2.default.createElement(Voter, _extends({
        key: user.username
      }, user));
    })
  );
}

function Voter(props) {
  if (props.url) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        {
          className: 'item-title',
          href: props.url
        },
        props.username
      ),
      ' ',
      _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
    );
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'strong',
      null,
      props.username
    ),
    ' ',
    _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
  );
}

function VoteDate(props) {
  return _react2.default.createElement(
    'abbr',
    {
      className: 'text-muted',
      title: props.voted_on.format('LLL')
    },
    props.voted_on.fromNow()
  );
}

},{"../../../services/ajax":311,"../../modal-loader":47,"../../modal-message":48,"moment":"moment","react":"react"}],79:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Edit = exports.SeeVotes = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  var isPollOver = props.isPollOver,
      poll = props.poll,
      showVoting = props.showVoting,
      thread = props.thread;


  if (!isVisible(isPollOver, poll.acl, poll)) return null;

  var controls = [];

  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;

  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);

  return _react2.default.createElement(
    'div',
    { className: 'row poll-options' },
    _react2.default.createElement(ChangeVote, {
      controls: controls,
      isPollOver: isPollOver,
      poll: poll,
      showVoting: showVoting
    }),
    _react2.default.createElement(SeeVotes, {
      controls: controls,
      poll: poll
    }),
    _react2.default.createElement(Edit, {
      controls: controls,
      poll: poll,
      thread: thread
    }),
    _react2.default.createElement(Delete, {
      controls: controls,
      poll: poll
    })
  );
};

exports.isVisible = isVisible;
exports.getClassName = getClassName;
exports.ChangeVote = ChangeVote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _thread = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal3 = require('../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}

function getClassName(controls, control) {
  var className = 'col-xs-6';

  if (controls.length === 1) {
    className = 'col-xs-12';
  }

  if (controls.length === 3 && controls[0] === control) {
    className = 'col-xs-12';
  }

  return className + ' col-sm-3 col-md-2';
}

function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;

  if (!(canVote && canChangeVote)) return null;

  return _react2.default.createElement(
    'div',
    { className: getClassName(props.controls, 0) },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block btn-sm',
        disabled: props.poll.isBusy,
        onClick: props.showVoting
      },
      gettext("Vote")
    )
  );
}

var SeeVotes = exports.SeeVotes = function (_React$Component) {
  _inherits(SeeVotes, _React$Component);

  function SeeVotes() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, SeeVotes);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SeeVotes.__proto__ || Object.getPrototypeOf(SeeVotes)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { poll: _this.props.poll }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(SeeVotes, [{
    key: 'render',
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;

      return _react2.default.createElement(
        'div',
        { className: getClassName(this.props.controls, 1) },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-sm',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick
          },
          gettext("See votes")
        )
      );
    }
  }]);

  return SeeVotes;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        submit: _this2.props.poll.api.index,

        thread: _this2.props.thread,
        poll: _this2.props.poll,

        mode: 'POLL'
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;

      return _react2.default.createElement(
        'div',
        { className: getClassName(this.props.controls, 2) },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-sm',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick
          },
          gettext("Edit")
        )
      );
    }
  }]);

  return Edit;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var deletePoll = confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));
      if (!deletePoll) return false;

      _store2.default.dispatch(poll.busy());

      _ajax2.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
    }, _this3.handleSuccess = function (newThreadAcl) {
      _snackbar2.default.success("Poll has been deleted");
      _store2.default.dispatch(poll.remove());
      _store2.default.dispatch(thread.updateAcl(newThreadAcl));
    }, _this3.handleError = function (rejection) {
      _snackbar2.default.apiError(rejection);
      _store2.default.dispatch(poll.release());
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;

      return _react2.default.createElement(
        'div',
        { className: getClassName(this.props.controls, 3) },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-sm',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick
          },
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/poll":299,"../../../reducers/thread":306,"../../../services/ajax":311,"../../../services/modal":317,"../../../services/posting":321,"../../../services/snackbar":322,"../../../services/store":323,"./modal":78,"react":"react"}],80:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline poll-help' },
    _react2.default.createElement(PollChoicesLeft, { choicesLeft: props.choicesLeft }),
    _react2.default.createElement(PollAllowRevote, { poll: props.poll })
  );
};

exports.PollChoicesLeft = PollChoicesLeft;
exports.PollAllowRevote = PollAllowRevote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function PollChoicesLeft(props) {
  var message = ngettext("You can select %(choices)s choice.", "You can select %(choices)s choices.", props.choicesLeft);

  var label = interpolate(message, {
    'choices': props.choicesLeft
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'poll-help-choices-left' },
    label
  );
}

function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return _react2.default.createElement(
      'li',
      { className: 'poll-help-allow-revotes' },
      gettext("You can change your vote later.")
    );
  }

  return _react2.default.createElement(
    'li',
    { className: 'poll-help-no-revotes' },
    gettext("Votes are final.")
  );
}

},{"../../../utils/escape-html":329,"react":"react"}],81:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _help = require('./help');

var _help2 = _interopRequireDefault(_help);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _utils = require('./utils');

var _info = require('../info');

var _info2 = _interopRequireDefault(_info);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleChoice = function (hash) {
      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);

      var choices = null;
      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }

      _this.setState({
        choices: choices,
        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)
      });
    };

    _this.selectChoice = function (choice, hash) {
      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);

      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];
          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }

      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    };

    _this.deselectChoice = function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    };

    _this.state = {
      isLoading: false,

      choices: props.poll.choices,
      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        _snackbar2.default.error(gettext("You need to select at least one choice"));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      var data = [];
      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];
        if (item.selected) {
          data.push(item.hash);
        }
      }

      return _ajax2.default.post(this.props.poll.api.votes, data);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));
      _snackbar2.default.success(gettext("Your vote has been saved."));

      this.props.showResults();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-poll' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'h2',
              null,
              this.props.poll.question
            ),
            _react2.default.createElement(_info2.default, { poll: this.props.poll }),
            _react2.default.createElement(_select2.default, {
              choices: this.state.choices,
              toggleChoice: this.toggleChoice
            }),
            _react2.default.createElement(_help2.default, {
              choicesLeft: this.state.choicesLeft,
              poll: this.props.poll
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-xs-6 col-sm-4 col-md-2' },
                _react2.default.createElement(
                  _button2.default,
                  {
                    className: 'btn-primary btn-block btn-sm',
                    loading: this.state.isLoading
                  },
                  gettext("Save your vote")
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-xs-6 col-sm-4 col-md-2' },
                _react2.default.createElement(
                  'button',
                  {
                    className: 'btn btn-default btn-block btn-sm',
                    disabled: this.state.isLoading,
                    onClick: this.props.showResults,
                    type: 'button'
                  },
                  gettext("See results")
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/poll":299,"../../../services/ajax":311,"../../../services/snackbar":322,"../../../services/store":323,"../../button":6,"../../form":42,"../info":74,"./help":80,"./select":82,"./utils":83,"react":"react"}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChoiceSelect = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled poll-select-choices" },
    props.choices.map(function (choice) {
      return _react2.default.createElement(ChoiceSelect, {
        choice: choice,
        key: choice.hash,
        toggleChoice: props.toggleChoice
      });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var ChoiceSelect = exports.ChoiceSelect = function (_React$Component) {
  _inherits(ChoiceSelect, _React$Component);

  function ChoiceSelect() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, ChoiceSelect);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ChoiceSelect.__proto__ || Object.getPrototypeOf(ChoiceSelect)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "poll-select-choice" },
        _react2.default.createElement(
          "button",
          {
            className: this.props.choice.selected ? 'btn btn-selected' : 'btn',
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.choice.selected ? 'check_circle' : 'check'
          ),
          _react2.default.createElement(
            "strong",
            null,
            this.props.choice.label
          )
        )
      );
    }
  }]);

  return ChoiceSelect;
}(_react2.default.Component);

},{"react":"react"}],83:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getChoiceFromHash = getChoiceFromHash;
exports.getChoicesLeft = getChoicesLeft;
function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];
    if (choice.hash === hash) {
      return choice;
    }
  }

  return null;
}

function getChoicesLeft(poll, choices) {
  var selection = [];
  for (var i in choices) {
    var choice = choices[i];
    if (choice.selected) {
      selection.push(choice);
    }
  }

  return poll.allowed_choices - selection.length;
}

},{}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-body post-changelog-diff" },
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled" },
      props.diff.map(function (item, i) {
        return _react2.default.createElement(DiffItem, { item: item, key: i });
      })
    )
  );
};

exports.DiffItem = DiffItem;
exports.getItemClassName = getItemClassName;
exports.cleanItem = cleanItem;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function DiffItem(props) {
  if (props.item[0] === '?') return null;

  return _react2.default.createElement(
    "li",
    { className: getItemClassName(props.item) },
    cleanItem(props.item)
  );
}

function getItemClassName(item) {
  var className = 'diff-item';
  if (item[0] === '-') {
    className += ' diff-item-sub';
  } else if (item[0] === '+') {
    className += ' diff-item-add';
  }
  return className;
}

function cleanItem(item) {
  return item.substr(2);
}

},{"react":"react"}],85:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.revertEdit(_this.props.edit.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!this.props.canRevert) return null;

      return _react2.default.createElement(
        'div',
        { className: 'modal-footer visible-xs-block' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn-default btn-sm btn-block',
            disabled: this.props.disabled,
            onClick: this.onClick,
            title: gettext("Revert post to state from before this edit.")
          },
          gettext("Revert")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../button":6,"react":"react"}],86:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalDialog = ModalDialog;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diff = require('./diff');

var _diff2 = _interopRequireDefault(_diff);

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

var _utils = require('./utils');

var _modalMessage = require('../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.goToEdit = function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits;
      if (edit !== null) {
        url += '?edit=' + edit;
      }

      _ajax2.default.get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0, _utils.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    };

    _this.revertEdit = function (edit) {
      if (_this.state.isBusy) return;

      var confirmation = confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits + '?edit=' + edit;
      _ajax2.default.post(url).then(function (data) {
        var hydratedPost = post.hydrate(data);
        _store2.default.dispatch(post.patch(data, hydratedPost));

        _snackbar2.default.success(gettext("Post has been reverted to previous state."));
        _modal2.default.hide();
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _this.setState({
          isBusy: false
        });
      });
    };

    _this.state = {
      isReady: false,
      isBusy: true,

      canRevert: props.post.acl.can_edit,

      error: null,
      edit: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-dialog modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: this.state.error
          })
        );
      } else if (this.state.isReady) {
        return _react2.default.createElement(
          ModalDialog,
          null,
          _react2.default.createElement(_toolbar2.default, {
            canRevert: this.state.canRevert,
            disabled: this.state.isBusy,
            edit: this.state.edit,
            goToEdit: this.goToEdit,
            revertEdit: this.revertEdit
          }),
          _react2.default.createElement(_diff2.default, { diff: this.state.edit.diff }),
          _react2.default.createElement(_footer2.default, {
            canRevert: this.state.canRevert,
            disabled: this.state.isBusy,
            edit: this.state.edit,
            revertEdit: this.revertEdit
          })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        null,
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalDialog(props) {
  return _react2.default.createElement(
    'div',
    {
      className: props.className || "modal-dialog",
      role: 'document'
    },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Post edits history")
        )
      ),
      props.children
    )
  );
}

},{"../../reducers/post":300,"../../services/ajax":311,"../../services/modal":317,"../../services/snackbar":322,"../../services/store":323,"../modal-loader":47,"../modal-message":48,"./diff":84,"./footer":85,"./toolbar":87,"./utils":88,"react":"react"}],87:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.GoBackBtn = GoBackBtn;
exports.GoForwardBtn = GoForwardBtn;
exports.GoLastBtn = GoLastBtn;
exports.RevertBtn = RevertBtn;
exports.Label = Label;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.goLast = function () {
      _this.props.goToEdit();
    }, _this.goForward = function () {
      _this.props.goToEdit(_this.props.edit.next);
    }, _this.goBack = function () {
      _this.props.goToEdit(_this.props.edit.previous);
    }, _this.revertEdit = function () {
      _this.props.revertEdit(_this.props.edit.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-toolbar post-changelog-toolbar' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-4' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-xs-4' },
                _react2.default.createElement(GoBackBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goBack
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-xs-4' },
                _react2.default.createElement(GoForwardBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goForward
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-xs-4' },
                _react2.default.createElement(GoLastBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goLast
                })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-5 xs-margin-top-half post-change-label' },
            _react2.default.createElement(Label, { edit: this.props.edit })
          ),
          _react2.default.createElement(RevertBtn, {
            canRevert: this.props.canRevert,
            disabled: this.props.disabled,
            onClick: this.revertEdit
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function GoBackBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-block btn-icon btn-sm',
      disabled: props.disabled || !props.edit.previous,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_left'
    )
  );
}

function GoForwardBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-block btn-icon btn-sm',
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_right'
    )
  );
}

function GoLastBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-block btn-icon btn-sm',
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'last_page'
    )
  );
}

function RevertBtn(props) {
  if (!props.canRevert) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-3 hidden-xs' },
    _react2.default.createElement(
      _button2.default,
      {
        className: 'btn-default btn-sm btn-block',
        disabled: props.disabled,
        onClick: props.onClick,
        title: gettext("Revert post to state from before this edit.")
      },
      gettext("Revert")
    )
  );
}

function Label(props) {
  var user = null;
  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.edit.url.editor),
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.edit.edited_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.edit.edited_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);

  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });
}

},{"../../utils/escape-html":329,"../button":6,"react":"react"}],88:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateEdit = hydrateEdit;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: (0, _moment2.default)(json.edited_on)
  });
}

},{"moment":"moment"}],89:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var isReady = _ref.isReady,
      posts = _ref.posts,
      poster = _ref.poster;

  if (!isReady) {
    return _react2.default.createElement(_preview2.default, null);
  }

  return _react2.default.createElement(
    'ul',
    { className: 'posts-list post-feed ui-ready' },
    posts.map(function (post) {
      return _react2.default.createElement(_post2.default, {
        key: post.id,
        post: post,
        poster: poster
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _preview = require('./preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./post":92,"./preview":98,"react":"react"}],90:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Invalid = Invalid;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Default(props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-body' },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-body post-body-invalid' },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../utils/escape-html":329,"../../misago-markup":46,"react":"react"}],91:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;
  var category = post.category,
      thread = post.thread;


  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': post.posted_on.format('LL, LT')
  }, true);

  return _react2.default.createElement(
    'div',
    { className: 'post-heading' },
    _react2.default.createElement(
      'a',
      {
        className: 'btn btn-link item-title',
        href: thread.url
      },
      thread.title
    ),
    _react2.default.createElement(
      'a',
      {
        className: 'btn btn-link post-category',
        href: category.absolute_url
      },
      category.name
    ),
    _react2.default.createElement(
      'a',
      {
        href: post.url.index,
        className: 'btn btn-link posted-on',
        title: tooltip
      },
      post.posted_on.fromNow()
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],92:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  return _react2.default.createElement(
    'li',
    { id: 'post-' + post.id, className: 'post' },
    _react2.default.createElement(
      'div',
      { className: 'panel panel-default panel-post' },
      _react2.default.createElement(
        'div',
        { className: 'panel-body' },
        _react2.default.createElement(_postSide2.default, {
          post: post,
          poster: poster || post.poster
        }),
        _react2.default.createElement(_header2.default, { post: post }),
        _react2.default.createElement(_body2.default, { post: post })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _body = require('./body');

var _body2 = _interopRequireDefault(_body);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _postSide = require('./post-side');

var _postSide2 = _interopRequireDefault(_postSide);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./body":90,"./header":91,"./post-side":95,"react":"react"}],93:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  return _react2.default.createElement(
    'div',
    { className: 'post-side post-side-anonymous' },
    _react2.default.createElement(_button2.default, { post: post }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 50
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'div',
          { className: 'media-heading' },
          _react2.default.createElement(
            'span',
            { className: 'item-title' },
            post.poster_name
          )
        ),
        _react2.default.createElement(
          'span',
          { className: 'user-title user-title-anonymous' },
          gettext("Removed user")
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":4,"./button":94,"react":"react"}],94:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  return _react2.default.createElement(
    "a",
    {
      className: "btn btn-default btn-icon pull-right",
      href: post.url.index
    },
    _react2.default.createElement(
      "span",
      { className: "btn-text-left hidden-xs" },
      gettext("See post")
    ),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_right"
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],95:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  if (poster.id) {
    return _react2.default.createElement(_registered2.default, {
      post: post,
      poster: poster
    });
  }

  return _react2.default.createElement(_anonymous2.default, { post: post });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _anonymous = require('./anonymous');

var _anonymous2 = _interopRequireDefault(_anonymous);

var _registered = require('./registered');

var _registered2 = _interopRequireDefault(_registered);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./anonymous":93,"./registered":96,"react":"react"}],96:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  return _react2.default.createElement(
    'div',
    { className: 'post-side post-side-registered' },
    _react2.default.createElement(_button2.default, { post: post }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'a',
          { href: poster.absolute_url },
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 50,
            user: poster
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'div',
          { className: 'media-heading' },
          _react2.default.createElement(
            'a',
            {
              className: 'item-title',
              href: poster.absolute_url
            },
            poster.username
          )
        ),
        _react2.default.createElement(_userTitle2.default, {
          title: poster.title,
          rank: poster.rank
        })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _userTitle = require('./user-title');

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":4,"./button":94,"./user-title":97,"react":"react"}],97:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var title = _ref.title,
      rank = _ref.rank;

  var userTitle = title || rank.title || rank.name;

  var className = 'user-title';
  if (rank.css_class) {
    className += ' user-title-' + rank.css_class;
  }

  if (rank.is_tab) {
    return _react2.default.createElement(
      'a',
      { className: className, href: rank.absolute_url },
      userTitle
    );
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    userTitle
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],98:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    'ul',
    { className: 'posts-list post-feed ui-preview' },
    _react2.default.createElement(
      'li',
      { className: 'post' },
      _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-post' },
        _react2.default.createElement(
          'div',
          { className: 'panel-body' },
          _react2.default.createElement(
            'div',
            { className: 'post-side post-side-anonymous' },
            _react2.default.createElement(
              'div',
              { className: 'media' },
              _react2.default.createElement(
                'div',
                { className: 'media-left' },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_avatar2.default, {
                    className: 'poster-avatar',
                    size: 50
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'media-body' },
                _react2.default.createElement(
                  'div',
                  { className: 'media-heading' },
                  _react2.default.createElement(
                    'span',
                    { className: 'item-title' },
                    _react2.default.createElement(
                      'span',
                      {
                        className: 'ui-preview-text',
                        style: { width: random.int(30, 200) + "px" }
                      },
                      '\xA0'
                    )
                  )
                ),
                _react2.default.createElement(
                  'span',
                  { className: 'user-title user-title-anonymous' },
                  _react2.default.createElement(
                    'span',
                    {
                      className: 'ui-preview-text',
                      style: { width: random.int(30, 200) + "px" }
                    },
                    '\xA0'
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'post-heading' },
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 200) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'post-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                null,
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(30, 200) + "px" }
                  },
                  '\xA0'
                ),
                '\xA0',
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(30, 200) + "px" }
                  },
                  '\xA0'
                ),
                '\xA0',
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(30, 200) + "px" }
                  },
                  '\xA0'
                )
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../utils/random":334,"../avatar":4,"react":"react"}],99:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.hydrateLike = hydrateLike;
exports.ModalDialog = ModalDialog;
exports.LikesList = LikesList;
exports.LikeDetails = LikeDetails;
exports.LikeDate = LikeDate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _avatar = require('./avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _modalMessage = require('./modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('./modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isReady: false,

      error: null,
      likes: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: this.state.error
          })
        );
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return _react2.default.createElement(
            ModalDialog,
            {
              className: 'modal-sm',
              likes: this.state.likes
            },
            _react2.default.createElement(LikesList, {
              likes: this.state.likes
            })
          );
        }

        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: gettext("No users have liked this post.")
          })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        { className: 'modal-sm' },
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: (0, _moment2.default)(data.liked_on)
  });
}

function ModalDialog(_ref) {
  var className = _ref.className,
      children = _ref.children,
      likes = _ref.likes;

  var title = gettext("Post Likes");
  if (likes) {
    var likesCount = likes.length;
    var message = ngettext("%(likes)s like", "%(likes)s likes", likesCount);

    title = interpolate(message, { likes: likesCount }, true);
  }

  return _react2.default.createElement(
    'div',
    {
      className: "modal-dialog " + (className || ''),
      role: 'document'
    },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          title
        )
      ),
      children
    )
  );
}

function LikesList(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-body modal-post-likers' },
    _react2.default.createElement(
      'ul',
      { className: 'media-list' },
      props.likes.map(function (like) {
        return _react2.default.createElement(LikeDetails, _extends({
          key: like.id
        }, like));
      })
    )
  );
}

function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };

    return _react2.default.createElement(
      'li',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'a',
          {
            className: 'user-avatar',
            href: props.url
          },
          _react2.default.createElement(_avatar2.default, { size: '50', user: user })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'a',
          {
            className: 'item-title',
            href: props.url
          },
          props.username
        ),
        ' ',
        _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
      )
    );
  }

  return _react2.default.createElement(
    'li',
    { className: 'media' },
    _react2.default.createElement(
      'div',
      { className: 'media-left' },
      _react2.default.createElement(
        'span',
        { className: 'user-avatar' },
        _react2.default.createElement(_avatar2.default, { size: '50' })
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'media-body' },
      _react2.default.createElement(
        'strong',
        null,
        props.username
      ),
      ' ',
      _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
    )
  );
}

function LikeDate(props) {
  return _react2.default.createElement(
    'span',
    {
      className: 'text-muted',
      title: props.likedOn.format('LLL')
    },
    props.likedOn.fromNow()
  );
}

},{"../services/ajax":311,"./avatar":4,"./modal-loader":47,"./modal-message":48,"moment":"moment","react":"react"}],100:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,

        canProtect: data.can_protect
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onProtect = function () {
      _this.setState({
        protect: true
      });
    };

    _this.onUnprotect = function () {
      _this.setState({
        protect: false
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],
      protect: false,

      canProtect: false,

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Reply has been edited."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  canProtect: this.state.canProtect,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  onProtect: this.onProtect,
                  onUnprotect: this.onUnprotect,
                  protect: this.state.protect,
                  submitLabel: gettext("Edit reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":311,"../../services/posting":321,"../../services/snackbar":322,"../editor":38,"../form":42,"./utils/attachments":105,"./utils/container":106,"./utils/loader":107,"./utils/message":108,"./utils/validators":111,"react":"react"}],101:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.mode === 'START') {
    return _react2.default.createElement(_start2.default, props);
  } else if (props.mode === 'START_PRIVATE') {
    return _react2.default.createElement(_startPrivate2.default, props);
  } else if (props.mode === 'REPLY') {
    return _react2.default.createElement(_reply2.default, props);
  } else if (props.mode === 'EDIT') {
    return _react2.default.createElement(_edit2.default, props);
  } else {
    return null;
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _start = require('./start');

var _start2 = _interopRequireDefault(_start);

var _startPrivate = require('./start-private');

var _startPrivate2 = _interopRequireDefault(_startPrivate);

var _reply = require('./reply');

var _reply2 = _interopRequireDefault(_reply);

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./edit":100,"./reply":102,"./start":104,"./start-private":103,"react":"react"}],102:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + '\n[/quote]' : ''
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.appendData = function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + '\n[/quote]\n\n' : '';

      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + '\n\n' + newPost
          };
        }

        return {
          post: newPost
        };
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;

      if (context && newContext && context.reply === newContext.reply) return;

      _ajax2.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar2.default.apiError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your reply has been posted."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":311,"../../services/posting":321,"../../services/snackbar":322,"../editor":38,"../form":42,"./utils/attachments":105,"./utils/container":106,"./utils/loader":107,"./utils/message":108,"./utils/validators":111,"react":"react"}],103:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _usernames = require('./utils/usernames');

var _usernames2 = _interopRequireDefault(_usernames);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard private thread?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onToChange = function (event) {
      _this.changeValue('to', event.target.value);
    };

    _this.onTitleChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(', ');

    _this.state = {
      isLoading: false,

      to: to,
      title: '',
      post: '',
      attachments: [],

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!(0, _usernames2.default)(this.state.to).length) {
        _snackbar2.default.error(gettext("You have to enter at least one recipient."));
        return false;
      }

      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        to: (0, _usernames2.default)(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _container2.default,
        { className: 'posting-form', withFirstRow: true },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'row first-row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.onToChange,
                placeholder: gettext("Comma separated list of user names, eg.: Danny, Lisa"),
                type: 'text',
                value: this.state.to
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'row first-row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.onTitleChange,
                placeholder: gettext("Thread title"),
                type: 'text',
                value: this.state.title
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement(_editor2.default, {
                attachments: this.state.attachments,
                loading: this.state.isLoading,
                onAttachmentsChange: this.onAttachmentsChange,
                onCancel: this.onCancel,
                onChange: this.onPostChange,
                submitLabel: gettext("Post thread"),
                value: this.state.post
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":311,"../../services/posting":321,"../../services/snackbar":322,"../editor":38,"../form":42,"./utils/attachments":105,"./utils/container":106,"./utils/message":108,"./utils/usernames":110,"./utils/validators":111,"react":"react"}],104:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySelect = require('../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _options = require('./utils/options');

var _options2 = _interopRequireDefault(_options);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null;

      // hydrate categories, extract posting options
      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,

        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard thread?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onTitleChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onCategoryChange = function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      });

      // if selected pin is greater than allowed, reduce it
      var pin = _this.state.pin;
      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,

        pin: pin
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.onClose = function () {
      _this.changeValue('close', true);
    };

    _this.onOpen = function () {
      _this.changeValue('close', false);
    };

    _this.onPinGlobally = function () {
      _this.changeValue('pin', 2);
    };

    _this.onPinLocally = function () {
      _this.changeValue('pin', 1);
    };

    _this.onUnpin = function () {
      _this.changeValue('pin', 0);
    };

    _this.onHide = function () {
      _this.changeValue('hide', true);
    };

    _this.onUnhide = function () {
      _this.changeValue('hide', false);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      showOptions: false,
      categoryOptions: null,

      title: '',
      category: props.category || null,
      categories: [],
      post: '',
      attachments: [],
      close: false,
      hide: false,
      pin: 0,

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      }

      if (!this.state.isReady) {
        return _react2.default.createElement(_loader2.default, null);
      }

      var columns = 0;
      if (this.state.categoryOptions.close) columns += 1;
      if (this.state.categoryOptions.hide) columns += 1;
      if (this.state.categoryOptions.pin) columns += 1;

      var titleStyle = null;

      if (columns === 1) {
        titleStyle = 'col-sm-6';
      } else {
        titleStyle = 'col-sm-8';
      }

      if (columns === 3) {
        titleStyle += ' col-md-6';
      } else if (columns) {
        titleStyle += ' col-md-7';
      } else {
        titleStyle += ' col-md-9';
      }

      return _react2.default.createElement(
        _container2.default,
        { className: 'posting-form', withFirstRow: true },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'row first-row' },
            _react2.default.createElement(
              'div',
              { className: titleStyle },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.onTitleChange,
                placeholder: gettext("Thread title"),
                type: 'text',
                value: this.state.title
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12 col-sm-4 col-md-3 xs-margin-top' },
              _react2.default.createElement(_categorySelect2.default, {
                choices: this.state.categories,
                disabled: this.state.isLoading,
                onChange: this.onCategoryChange,
                value: this.state.category
              })
            ),
            _react2.default.createElement(_options2.default, {
              close: this.state.close,
              columns: columns,
              disabled: this.state.isLoading,
              hide: this.state.hide,
              onClose: this.onClose,
              onHide: this.onHide,
              onOpen: this.onOpen,
              onPinGlobally: this.onPinGlobally,
              onPinLocally: this.onPinLocally,
              onUnhide: this.onUnhide,
              onUnpin: this.onUnpin,
              options: this.state.categoryOptions,
              pin: this.state.pin,
              showOptions: this.state.showOptions
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-12' },
              _react2.default.createElement(_editor2.default, {
                attachments: this.state.attachments,
                loading: this.state.isLoading,
                onAttachmentsChange: this.onAttachmentsChange,
                onCancel: this.onCancel,
                onChange: this.onPostChange,
                submitLabel: gettext("Post thread"),
                value: this.state.post
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":311,"../../services/posting":321,"../../services/snackbar":322,"../category-select":14,"../editor":38,"../form":42,"./utils/attachments":105,"./utils/container":106,"./utils/loader":107,"./utils/message":108,"./utils/options":109,"./utils/validators":111,"react":"react"}],105:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });

  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment2.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],106:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "div",
      { className: "container" },
      props.children
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],107:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-loader' },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":44,"./container":106,"react":"react"}],108:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        null,
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        props.message
      ),
      _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-default', onClick: _posting2.default.close },
        gettext("Dismiss")
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../services/posting":321,"./container":106,"react":"react"}],109:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!props.showOptions) return null;

  var columns = props.columns;


  var className = 'col-xs-12 xs-margin-top';

  if (columns === 1) {
    className += ' col-sm-2';
  } else {
    className += ' sm-margin-top';
  }

  if (columns === 3) {
    className += ' col-md-3';
  } else {
    className += ' col-md-2';
  }
  className += ' posting-options';

  var columnClassName = 'col-xs-' + 12 / columns;

  var textClassName = 'btn-text';
  if (columns === 3) {
    textClassName += ' visible-sm-inline-block';
  } else if (columns === 2) {
    textClassName += ' hidden-md hidden-lg';
  } else {
    textClassName += ' hidden-sm';
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      _react2.default.createElement(PinOptions, {
        className: columnClassName,
        disabled: props.disabled,
        onPinGlobally: props.onPinGlobally,
        onPinLocally: props.onPinLocally,
        onUnpin: props.onUnpin,
        pin: props.pin,
        show: props.options.pin,
        textClassName: textClassName
      }),
      _react2.default.createElement(HideOptions, {
        className: columnClassName,
        disabled: props.disabled,
        hide: props.hide,
        onHide: props.onHide,
        onUnhide: props.onUnhide,
        show: props.options.hide,
        textClassName: textClassName
      }),
      _react2.default.createElement(CloseOptions, {
        className: columnClassName,
        close: props.close,
        disabled: props.disabled,
        onClose: props.onClose,
        onOpen: props.onOpen,
        show: props.options.close,
        textClassName: textClassName
      })
    )
  );
};

exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function CloseOptions(props) {
  if (!props.show) return null;

  var label = props.close ? gettext('Closed') : gettext('Open');

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block',
        disabled: props.disabled,
        onClick: props.close ? props.onOpen : props.onClose,
        title: label,
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        props.close ? 'lock' : 'lock_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: props.textClassName },
        label
      )
    )
  );
}

function HideOptions(props) {
  if (!props.show) return null;

  var label = props.hide ? gettext('Hidden') : gettext('Not hidden');

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block',
        disabled: props.disabled,
        onClick: props.hide ? props.onUnhide : props.onHide,
        title: label,
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        props.hide ? 'visibility_off' : 'visibility'
      ),
      _react2.default.createElement(
        'span',
        { className: props.textClassName },
        label
      )
    )
  );
}

function PinOptions(props) {
  if (!props.show) return null;

  var icon = null;
  var onClick = null;
  var label = null;

  switch (props.pin) {
    case 0:
      icon = 'radio_button_unchecked';
      onClick = props.onPinLocally;
      label = gettext("Unpinned");
      break;

    case 1:
      icon = 'bookmark_outline';
      onClick = props.onPinGlobally;
      label = gettext("Pinned locally");

      if (props.show == 2) {
        onClick = props.onPinGlobally;
      } else {
        onClick = props.onUnpin;
      }

      break;

    case 2:
      icon = 'bookmark';
      onClick = props.onUnpin;
      label = gettext("Pinned globally");
      break;
  }

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block',
        disabled: props.disabled,
        onClick: onClick,
        title: label,
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        icon
      ),
      _react2.default.createElement(
        'span',
        { className: props.textClassName },
        label
      )
    )
  );
}

},{"react":"react"}],110:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (usernames) {
  var normalisedNames = usernames.split(',').map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });

  return removedDuplicates;
};

},{}],111:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require('../../../utils/validators');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_2.default.get('SETTINGS').post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":252,"../../../utils/validators":339}],112:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'li',
      { className: 'event-controls' },
      _react2.default.createElement(Hide, props),
      _react2.default.createElement(Unhide, props),
      _react2.default.createElement(Delete, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function isVisible(acl) {
  return acl.can_hide;
}

var Hide = exports.Hide = function (_React$Component) {
  _inherits(Hide, _React$Component);

  function Hide() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment2.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.absolute_url
        })
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': true };

      _ajax2.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  function Unhide() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _store2.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': false };

      _ajax2.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));
      if (decision) {
        _this3.delete();
      }
    }, _this3.delete = function () {
      _store2.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax2.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar2.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-link', onClick: this.onClick },
        gettext("Delete")
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/post":300,"../../../services/ajax":311,"../../../services/snackbar":322,"../../../services/store":323,"moment":"moment","react":"react"}],113:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-avatar' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      ICON[props.post.event_type]
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: 'edit',

  pinned_globally: 'bookmark',
  pinned_locally: 'bookmark_border',
  unpinned: 'panorama_fish_eye',

  moved: 'arrow_forward',
  merged: 'call_merge',

  approved: 'done',

  opened: 'lock_open',
  closed: 'lock_outline',

  unhid: 'visibility',
  hid: 'visibility_off',

  changed_owner: 'grade',
  tookover: 'grade',

  added_participant: 'person_add',

  owner_left: 'person_outline',
  participant_left: 'person_outline',
  removed_participant: 'remove_circle_outline'
}; /* jshint ignore:start */

},{"react":"react"}],114:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'event';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden) {
    className = 'event post-hidden';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(_unreadLabel2.default, { post: props.post }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(_icon2.default, props)
      ),
      _react2.default.createElement(
        _waypoint2.default,
        { className: 'media-body', post: props.post },
        _react2.default.createElement(_message2.default, props),
        _react2.default.createElement(_info2.default, props)
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _info = require('./info');

var _info2 = _interopRequireDefault(_info);

var _message = require('./message');

var _message2 = _interopRequireDefault(_message);

var _unreadLabel = require('./unread-label');

var _unreadLabel2 = _interopRequireDefault(_unreadLabel);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../waypoint":140,"./icon":113,"./info":115,"./message":116,"./unread-label":117,"react":"react"}],115:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-inline event-info' },
    _react2.default.createElement(Hidden, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(Ip, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.Hidden = Hidden;
exports.Poster = Poster;
exports.Ip = Ip;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>'; /* jshint ignore:start */

var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
      relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
    }, true);

    var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);

    return _react2.default.createElement('li', {
      className: 'event-hidden-message',
      dangerouslySetInnerHTML: { __html: message }
    });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.post.poster.absolute_url),
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml2.default)(props.post.url.index),
    absolute: (0, _escapeHtml2.default)(props.post.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.posted_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);

  return _react2.default.createElement('li', { className: 'event-posters', dangerouslySetInnerHTML: { __html: message } });
}

function Ip(props) {
  if (props.user.acl.can_see_users_ips) {
    return _react2.default.createElement(
      'li',
      { className: 'event-ip' },
      _react2.default.createElement(
        'abbr',
        { title: props.post.poster_ip },
        gettext("IP recorded")
      )
    );
  } else {
    return null;
  }
}

},{"../../../utils/escape-html":329,"./controls":112,"react":"react"}],116:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (MESSAGE[props.post.event_type]) {
    return _react2.default.createElement(
      'p',
      { className: 'event-message' },
      MESSAGE[props.post.event_type]
    );
  } else if (props.post.event_type === 'changed_title') {
    return _react2.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === 'moved') {
    return _react2.default.createElement(Moved, props);
  } else if (props.post.event_type === 'merged') {
    return _react2.default.createElement(Merged, props);
  } else if (props.post.event_type === 'changed_owner') {
    return _react2.default.createElement(ChangedOwner, props);
  } else if (props.post.event_type === 'added_participant') {
    return _react2.default.createElement(AddedParticipant, props);
  } else if (props.post.event_type === 'removed_participant') {
    return _react2.default.createElement(RemovedParticipant, props);
  } else {
    return null;
  }
};

exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;
exports.ChangedOwner = ChangedOwner;
exports.AddedParticipant = AddedParticipant;
exports.RemovedParticipant = RemovedParticipant;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),

  approved: gettext("Thread has been approved."),

  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),

  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden."),

  tookover: gettext("Took thread over."),

  owner_left: gettext("Owner has left thread. This thread is now closed."),
  participant_left: gettext("Participant has left thread.")
};

var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.from_category.name)
  }, true);

  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.merged_thread)
  }, true);

  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function ChangedOwner(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function AddedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function RemovedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":329,"react":"react"}],117:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  if (post.is_read) return null;

  return _react2.default.createElement(
    "div",
    { className: "event-label" },
    _react2.default.createElement(
      "span",
      { className: "label label-unread" },
      gettext("New event")
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],118:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (props.posts.isLoaded) {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-ready' },
      props.posts.results.map(function (post) {
        return _react2.default.createElement(ListItem, _extends({ key: post.id, post: post }, props));
      })
    );
  }

  return _react2.default.createElement(
    'ul',
    { className: 'posts-list ui-preview' },
    _react2.default.createElement(_preview2.default, null)
  );
};

exports.ListItem = ListItem;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _event = require('./event');

var _event2 = _interopRequireDefault(_event);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _preview = require('./post/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ListItem(props) {
  if (props.post.is_event) {
    return _react2.default.createElement(_event2.default, props);
  }

  return _react2.default.createElement(_post2.default, props);
}

},{"./event":114,"./post":130,"./post/preview":138,"react":"react"}],119:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-md-6' },
    _react2.default.createElement(AttachmentPreview, props),
    _react2.default.createElement(
      'div',
      { className: 'post-attachment' },
      _react2.default.createElement(
        'a',
        { href: props.attachment.url.index, className: 'attachment-name item-title' },
        props.attachment.filename
      ),
      _react2.default.createElement(AttachmentDetails, props)
    )
  );
};

exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentThumbnail, props)
    );
  } else {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentIcon, props)
    );
  }
}

function AttachmentIcon(props) {
  return _react2.default.createElement(
    'a',
    { href: props.attachment.url.index, className: 'material-icon' },
    'insert_drive_file'
  );
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return _react2.default.createElement('a', {
    className: 'post-thumbnail',
    href: props.attachment.url.index,
    style: { backgroundImage: 'url("' + (0, _escapeHtml2.default)(url) + '")' }
  });
}

function AttachmentDetails(props) {
  var user = null;
  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.attachment.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.attachment.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize2.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', {
    className: 'post-attachment-description',
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../..":252,"../../../../utils/escape-html":329,"../../../../utils/file-size":330,"react":"react"}],120:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'post-attachments' },
    (0, _batch2.default)(props.post.attachments, 2).map(function (row) {
      var key = row.map(function (a) {
        return a ? a.id : 0;
      }).join('_');
      return _react2.default.createElement(Row, { key: key, row: row });
    })
  );
};

exports.isVisible = isVisible;
exports.Row = Row;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _batch = require('../../../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return _react2.default.createElement(
    'div',
    { className: 'row' },
    props.row.map(function (attachment) {
      return _react2.default.createElement(_attachment2.default, {
        attachment: attachment,
        key: attachment ? attachment.id : 0
      });
    })
  );
}

},{"../../../../utils/batch":326,"./attachment":119,"react":"react"}],121:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return _react2.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Default(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'post-body', post: props.post },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);

  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'post-body post-body-hidden', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post is hidden. You cannot see its contents.")
    ),
    _react2.default.createElement('p', { className: 'text-muted', dangerouslySetInnerHTML: { __html: message } })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'post-body post-body-invalid', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../utils/escape-html":329,"../../misago-markup":46,"../waypoint":140,"react":"react"}],122:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.like = like;
exports.unlike = unlike;
exports.patch = patch;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

  var previousState = {
    is_unapproved: props.post.is_unapproved
  };

  patch(props, ops, previousState);
}

function protect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function unprotect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function hide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment2.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.absolute_url
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };

  patch(props, ops, previousState);
}

function unhide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

  var previousState = {
    is_hidden: props.post.is_hidden
  };

  patch(props, ops, previousState);
}

function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;

  _store2.default.dispatch(post.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': true }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function unlike(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': false }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax2.default.patch(props.post.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  _store2.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax2.default.delete(props.post.api.index).then(function () {
    _snackbar2.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

},{"../../../../reducers/post":300,"../../../../services/ajax":311,"../../../../services/snackbar":322,"../../../../services/store":323,"moment":"moment"}],123:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = exports.PostEdits = exports.Permalink = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right stick-to-bottom' },
    _react2.default.createElement(Permalink, props),
    _react2.default.createElement(PostEdits, props),
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _postChangelog = require('../../../post-changelog');

var _postChangelog2 = _interopRequireDefault(_postChangelog);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Permalink = exports.Permalink = function (_React$Component) {
  _inherits(Permalink, _React$Component);

  function Permalink() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Permalink);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Permalink.__proto__ || Object.getPrototypeOf(Permalink)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      var permaUrl = window.location.protocol + '//';
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;

      prompt(gettext("Permament link to this post:"), permaUrl);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Permalink, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'link'
          ),
          gettext("Permament link")
        )
      );
    }
  }]);

  return Permalink;
}(_react2.default.Component);

var PostEdits = exports.PostEdits = function (_React$Component2) {
  _inherits(PostEdits, _React$Component2);

  function PostEdits() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, PostEdits);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this2.props.post }));
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(PostEdits, [{
    key: 'render',
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var message = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);

      var title = interpolate(message, {
        'edits': this.props.post.edits
      }, true);

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'edit'
          ),
          gettext("Changes history")
        )
      );
    }
  }]);

  return PostEdits;
}(_react2.default.Component);

var Approve = exports.Approve = function (_React$Component3) {
  _inherits(Approve, _React$Component3);

  function Approve() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Approve);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      moderation.approve(_this3.props);
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve")
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component4) {
  _inherits(Move, _React$Component4);

  function Move() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Move);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this4.props));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_move) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move")
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component5) {
  _inherits(Split, _React$Component5);

  function Split() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Split);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this5.props));
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_move) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_split'
          ),
          gettext("Split")
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component6) {
  _inherits(Protect, _React$Component6);

  function Protect() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Protect);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.protect(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Protect")
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component7) {
  _inherits(Unprotect, _React$Component7);

  function Unprotect() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Unprotect);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.unprotect(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Remove protection")
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component8) {
  _inherits(Hide, _React$Component8);

  function Hide() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Hide);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.hide(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_hide) return null;
      if (this.props.post.is_hidden) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide")
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component9) {
  _inherits(Unhide, _React$Component9);

  function Unhide() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Unhide);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.unhide(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide")
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component10) {
  _inherits(Delete, _React$Component10);

  function Delete() {
    var _ref10;

    var _temp10, _this10, _ret10;

    _classCallCheck(this, Delete);

    for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }

    return _ret10 = (_temp10 = (_this10 = _possibleConstructorReturn(this, (_ref10 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref10, [this].concat(args))), _this10), _this10.onClick = function () {
      moderation.remove(_this10.props);
    }, _temp10), _possibleConstructorReturn(_this10, _ret10);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_delete) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":317,"../../../post-changelog":86,"./actions":122,"./move":125,"./split":126,"react":"react"}],124:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'pull-right dropdown' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default btn-icon dropdown-toggle',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'expand_more'
      )
    ),
    _react2.default.createElement(_dropdown2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./dropdown":123,"react":"react"}],125:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move post to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move post")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move post")
    )
  );
}

},{"../../../../reducers/post":300,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"../../../button":6,"../../../form":42,"../../../form-group":41,"react":"react"}],126:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split post")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move this post at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split post into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":300,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"../../../../utils/validators":339,"../../../button":6,"../../../category-select":14,"../../../form":42,"../../../form-group":41,"../../../modal-loader":47,"../../../select":169,"react":"react"}],127:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.FlagProtected = FlagProtected;
exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-hidden" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "visibility_off"
    ),
    _react2.default.createElement(
      "p",
      null,
      gettext("This post is hidden. Only users with permission may see its contents.")
    )
  );
} /* jshint ignore:start */
function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-unapproved" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "remove_circle_outline"
    ),
    _react2.default.createElement(
      "p",
      null,
      gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")
    )
  );
}

function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-protected visible-xs-block" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "lock_outline"
    ),
    _react2.default.createElement(
      "p",
      null,
      gettext("This post is protected. Only moderators may change it.")
    )
  );
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],128:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Edit = exports.Reply = exports.LikesCompact = exports.Likes = exports.Like = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!isVisible(props.post)) return null;

  return _react2.default.createElement(
    'div',
    { className: 'post-footer' },
    _react2.default.createElement(Like, props),
    _react2.default.createElement(Likes, _extends({
      lastLikes: props.post.last_likes,
      likes: props.post.likes
    }, props)),
    _react2.default.createElement(LikesCompact, _extends({
      likes: props.post.likes
    }, props)),
    _react2.default.createElement(Reply, props),
    _react2.default.createElement(Edit, props)
  );
};

exports.isVisible = isVisible;
exports.getLikesMessage = getLikesMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./controls/actions');

var actions = _interopRequireWildcard(_actions);

var _postLikes = require('../../post-likes');

var _postLikes2 = _interopRequireDefault(_postLikes);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}

var Like = exports.Like = function (_React$Component) {
  _inherits(Like, _React$Component);

  function Like() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Like);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Like.__proto__ || Object.getPrototypeOf(Like)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.is_liked) {
        actions.unlike(_this.props);
      } else {
        actions.like(_this.props);
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Like, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_like) return null;

      var className = 'btn btn-default btn-sm pull-left';
      if (this.props.post.is_liked) {
        className = 'btn btn-success btn-sm pull-left';
      }

      return _react2.default.createElement(
        'button',
        {
          className: className,
          disabled: this.props.post.isBusy,
          onClick: this.onClick,
          type: 'button'
        },
        this.props.post.is_liked ? gettext("Liked") : gettext("Like")
      );
    }
  }]);

  return Like;
}(_react2.default.Component);

var Likes = exports.Likes = function (_React$Component2) {
  _inherits(Likes, _React$Component2);

  function Likes() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Likes);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Likes.__proto__ || Object.getPrototypeOf(Likes)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postLikes2.default, {
        post: _this2.props.post
      }));
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Likes, [{
    key: 'render',
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link btn-sm pull-left hidden-xs',
            onClick: this.onClick,
            type: 'button'
          },
          getLikesMessage(this.props.likes, this.props.lastLikes)
        );
      }

      return _react2.default.createElement(
        'p',
        { className: 'pull-left hidden-xs' },
        getLikesMessage(this.props.likes, this.props.lastLikes)
      );
    }
  }]);

  return Likes;
}(_react2.default.Component);

var LikesCompact = exports.LikesCompact = function (_Likes) {
  _inherits(LikesCompact, _Likes);

  function LikesCompact() {
    _classCallCheck(this, LikesCompact);

    return _possibleConstructorReturn(this, (LikesCompact.__proto__ || Object.getPrototypeOf(LikesCompact)).apply(this, arguments));
  }

  _createClass(LikesCompact, [{
    key: 'render',
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link btn-sm likes-compact pull-left visible-xs-block',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'favorite'
          ),
          this.props.likes
        );
      }

      return _react2.default.createElement(
        'p',
        { className: 'likes-compact pull-left visible-xs-block' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'favorite'
        ),
        this.props.likes
      );
    }
  }]);

  return LikesCompact;
}(Likes);

function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });

  if (usernames.length == 1) {
    return interpolate(gettext("%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }

  var hiddenLikes = likes - usernames.length;

  var otherUsers = usernames.slice(0, -1).join(', ');
  var lastUser = usernames.slice(-1)[0];

  var usernamesList = interpolate(gettext("%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);

  if (hiddenLikes === 0) {
    return interpolate(gettext("%(users)s like this."), {
      users: usernamesList
    }, true);
  }

  var message = ngettext("%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);

  return interpolate(message, {
    users: usernames.join(', '),
    likes: hiddenLikes
  }, true);
}

var Reply = exports.Reply = function (_React$Component3) {
  _inherits(Reply, _React$Component3);

  function Reply() {
    var _ref3;

    var _temp3, _this4, _ret3;

    _classCallCheck(this, Reply);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this4 = _possibleConstructorReturn(this, (_ref3 = Reply.__proto__ || Object.getPrototypeOf(Reply)).call.apply(_ref3, [this].concat(args))), _this4), _this4.onClick = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this4.props.thread.api.editor,
        submit: _this4.props.thread.api.posts.index,

        context: {
          reply: _this4.props.post.id
        }
      });
    }, _temp3), _possibleConstructorReturn(_this4, _ret3);
  }

  _createClass(Reply, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-primary btn-sm pull-right',
            type: 'button',
            onClick: this.onClick
          },
          gettext("Reply")
        );
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component4) {
  _inherits(Edit, _React$Component4);

  function Edit() {
    var _ref4;

    var _temp4, _this5, _ret4;

    _classCallCheck(this, Edit);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this5 = _possibleConstructorReturn(this, (_ref4 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref4, [this].concat(args))), _this5), _this5.onClick = function () {
      _posting2.default.open({
        mode: 'EDIT',

        config: _this5.props.post.api.editor,
        submit: _this5.props.post.api.index
      });
    }, _temp4), _possibleConstructorReturn(_this5, _ret4);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-sm pull-right',
            type: 'button',
            onClick: this.onClick
          },
          gettext("Edit")
        );
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react2.default.Component);

},{"../../../services/modal":317,"../../../services/posting":321,"../../post-likes":99,"./controls/actions":122,"react":"react"}],129:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PostEditsCompacts = exports.PostEdits = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-heading' },
    _react2.default.createElement(UnreadLabel, props),
    _react2.default.createElement(UnreadCompact, props),
    _react2.default.createElement(PostedOn, props),
    _react2.default.createElement(PostedOnCompact, props),
    _react2.default.createElement(PostEdits, props),
    _react2.default.createElement(PostEditsCompacts, props),
    _react2.default.createElement(ProtectedLabel, props),
    _react2.default.createElement(_select2.default, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.UnreadLabel = UnreadLabel;
exports.UnreadCompact = UnreadCompact;
exports.PostedOn = PostedOn;
exports.PostedOnCompact = PostedOnCompact;
exports.ProtectedLabel = ProtectedLabel;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../user-status');

var _postChangelog = require('../../post-changelog');

var _postChangelog2 = _interopRequireDefault(_postChangelog);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function UnreadLabel(props) {
  if (props.post.is_read) return null;

  return _react2.default.createElement(
    'span',
    { className: 'label label-unread hidden-xs' },
    gettext("New post")
  );
}

function UnreadCompact(props) {
  if (props.post.is_read) return null;

  return _react2.default.createElement(
    'span',
    { className: 'label label-unread visible-xs-inline-block' },
    gettext("New")
  );
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.format('LL, LT')
  }, true);

  return _react2.default.createElement(
    'a',
    {
      href: props.post.url.index,
      className: 'btn btn-link posted-on hidden-xs',
      title: tooltip
    },
    props.post.posted_on.fromNow()
  );
}

function PostedOnCompact(props) {
  return _react2.default.createElement(
    'a',
    {
      href: props.post.url.index,
      className: 'btn btn-link posted-on visible-xs-inline-block'
    },
    props.post.posted_on.fromNow(true)
  );
}

var PostEdits = exports.PostEdits = function (_React$Component) {
  _inherits(PostEdits, _React$Component);

  function PostEdits() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, PostEdits);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this.props.post }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(PostEdits, [{
    key: 'render',
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var tooltip = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);

      var title = interpolate(tooltip, {
        'edits': this.props.post.edits
      }, true);

      var label = ngettext("edited %(edits)s time", "edited %(edits)s times", this.props.post.edits);

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-link btn-see-edits hidden-xs',
          onClick: this.onClick,
          title: title,
          type: 'button'
        },
        interpolate(label, {
          'edits': this.props.post.edits
        }, true)
      );
    }
  }]);

  return PostEdits;
}(_react2.default.Component);

var PostEditsCompacts = exports.PostEditsCompacts = function (_PostEdits) {
  _inherits(PostEditsCompacts, _PostEdits);

  function PostEditsCompacts() {
    _classCallCheck(this, PostEditsCompacts);

    return _possibleConstructorReturn(this, (PostEditsCompacts.__proto__ || Object.getPrototypeOf(PostEditsCompacts)).apply(this, arguments));
  }

  _createClass(PostEditsCompacts, [{
    key: 'render',
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var label = ngettext("%(edits)s edit", "%(edits)s edits", this.props.post.edits);

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-link btn-see-edits visible-xs-inline-block',
          onClick: this.onClick,
          type: 'button'
        },
        interpolate(label, {
          'edits': this.props.post.edits
        }, true)
      );
    }
  }]);

  return PostEditsCompacts;
}(PostEdits);

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return _react2.default.createElement(
    'span',
    {
      className: 'label label-protected hidden-xs',
      title: gettext("This post is protected and may not be edited.")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'lock_outline'
    ),
    gettext("protected")
  );
}

},{"../../../services/modal":317,"../../post-changelog":86,"../../user-status":228,"./controls":124,"./select":139,"react":"react"}],130:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'post';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'post post-hidden';
  }

  if (!props.post.is_read) {
    className += ' post-new';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'panel panel-default panel-post' },
      _react2.default.createElement(
        'div',
        { className: 'panel-body' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(_postSide2.default, props),
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-md-9' },
            _react2.default.createElement(_header2.default, props),
            _react2.default.createElement(_flags.FlagUnapproved, props),
            _react2.default.createElement(_flags.FlagProtected, props),
            _react2.default.createElement(_flags.FlagHidden, props),
            _react2.default.createElement(_body2.default, props),
            _react2.default.createElement(_attachments2.default, props),
            _react2.default.createElement(_footer2.default, props)
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _body = require('./body');

var _body2 = _interopRequireDefault(_body);

var _flags = require('./flags');

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _postSide = require('./post-side');

var _postSide2 = _interopRequireDefault(_postSide);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./attachments":120,"./body":121,"./flags":127,"./footer":128,"./header":129,"./post-side":133,"react":"react"}],131:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-md-3 post-side post-side-anonymous' },
    _react2.default.createElement(Select, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(Controls, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 100
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'span',
          { className: 'media-heading item-title' },
          post.poster_name
        ),
        _react2.default.createElement(
          'span',
          { className: 'user-title user-title-anonymous' },
          gettext("Removed user")
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _userPostcount = require('./user-postcount');

var _userPostcount2 = _interopRequireDefault(_userPostcount);

var _userTitle = require('./user-title');

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":4,"../../../user-status":228,"./user-postcount":135,"./user-title":137,"react":"react"}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var title = _ref.title,
      rank = _ref.rank;

  return rank.is_tab || !!title || !!rank.title;
};

},{}],133:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.poster) {
    return _react2.default.createElement(_registered2.default, props);
  }

  return _react2.default.createElement(_anonymous2.default, props);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _anonymous = require('./anonymous');

var _anonymous2 = _interopRequireDefault(_anonymous);

var _registered = require('./registered');

var _registered2 = _interopRequireDefault(_registered);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./anonymous":131,"./registered":134,"react":"react"}],134:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  var poster = post.poster;


  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-md-3 post-side post-side-registered' },
    _react2.default.createElement(_select2.default, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(_controls2.default, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'a',
          { href: poster.absolute_url },
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 100,
            user: poster
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'div',
          { className: 'media-heading' },
          _react2.default.createElement(
            'a',
            {
              className: 'item-title',
              href: poster.absolute_url
            },
            poster.username
          ),
          _react2.default.createElement(
            _userStatus2.default,
            { status: poster.status },
            _react2.default.createElement(_userStatus.StatusIcon, { status: poster.status })
          )
        ),
        _react2.default.createElement(_userTitle2.default, {
          rank: poster.rank,
          title: poster.title
        }),
        _react2.default.createElement(_userStatus4.default, { poster: poster }),
        _react2.default.createElement(_userPostcount2.default, { poster: poster })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _controls = require('../controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _userPostcount = require('./user-postcount');

var _userPostcount2 = _interopRequireDefault(_userPostcount);

var _userStatus3 = require('./user-status');

var _userStatus4 = _interopRequireDefault(_userStatus3);

var _userTitle = require('./user-title');

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":4,"../../../user-status":228,"../controls":124,"../select":139,"./user-postcount":135,"./user-status":136,"./user-title":137,"react":"react"}],135:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var poster = _ref.poster;

  var message = ngettext("%(posts)s post", "%(posts)s posts", poster.posts);

  var className = 'user-postcount';
  if ((0, _hasVisibleTitle2.default)(poster)) {
    className += ' hidden-xs hidden-sm';
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    interpolate(message, {
      'posts': poster.posts
    }, true)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _hasVisibleTitle = require('./has-visible-title');

var _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./has-visible-title":132,"react":"react"}],136:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var poster = _ref.poster;

  var className = 'hidden-xs';
  if ((0, _hasVisibleTitle2.default)(poster)) {
    className += ' hidden-sm';
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    _react2.default.createElement(
      _userStatus2.default,
      { status: poster.status },
      _react2.default.createElement(_userStatus.StatusLabel, {
        status: poster.status,
        user: poster
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _userStatus = require('../../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _hasVisibleTitle = require('./has-visible-title');

var _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../user-status":228,"./has-visible-title":132,"react":"react"}],137:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var title = _ref.title,
      rank = _ref.rank;

  var userTitle = title || rank.title;
  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }

  if (!userTitle) return null;

  var className = 'user-title';
  if (rank.css_class) {
    className += ' user-title-' + rank.css_class;
  }

  if (rank.is_tab) {
    return _react2.default.createElement(
      'a',
      { className: className, href: rank.absolute_url },
      userTitle
    );
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    userTitle
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],138:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'li',
    { className: 'post' },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(_avatar2.default, { size: '100' })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading post-heading' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/random":334,"../../avatar":4,"react":"react"}],139:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.isSelected) {
        _store2.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store2.default.dispatch(posts.select(_this.props.post));
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { className: 'pull-right hidden-xs' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-icon',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.post.isSelected ? 'check_box' : 'check_box_outline_blank'
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

},{"../../../reducers/posts":301,"../../../services/store":323,"react":"react"}],140:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.post.is_read) {
        return; // don't register read tracker
      }

      $('#post-' + this.props.post.id).waypoint({
        handler: function handler(direction) {
          if (direction !== 'down' || _this2.props.post.is_read) {
            return;
          }

          // after 1500ms flag post as read
          window.setTimeout(function () {
            _store2.default.dispatch(post.patch(_this2.props.post, {
              is_read: true
            }));

            _ajax2.default.post(_this2.props.post.api.read);
          }, 1000);
        },
        offset: 'bottom-in-view'
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: this.props.className },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/post":300,"../../services/ajax":311,"../../services/store":323,"react":"react"}],141:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

var _panelMessage = require('../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,

        ban: ban
      });
    };

    _this.error = function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    };

    if (_index2.default.has('PROFILE_BAN')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_BAN'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api_url.ban);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'ban-details',
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('ban-details');
    }
  }, {
    key: 'getUserMessage',
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-user-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("User-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.user_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getStaffMessage',
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-staff-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("Team-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.staff_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: _title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getPanelBody',
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            this.getUserMessage(),
            this.getStaffMessage(),
            _react2.default.createElement(
              'div',
              { className: 'panel-body ban-expires' },
              _react2.default.createElement(
                'h4',
                null,
                gettext("Ban expiration")
              ),
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getExpirationMessage()
              )
            )
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_panelMessage2.default, { message: gettext("No ban is active at the moment.") })
          );
          /* jshint ignore:end */
        }
      } else if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelMessage2.default, { icon: 'error_outline',
            message: this.state.error })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelLoader2.default, null)
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-ban-details' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Ban details")
            )
          ),
          this.getPanelBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":252,"../../services/page-title":319,"../../services/polls":320,"../panel-loader":60,"../panel-message":61,"moment":"moment","react":"react"}],142:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.Threads = Threads;
exports.Posts = Posts;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Threads(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have no started threads.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s started no threads."), {
      'username': props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext('Loading...');
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have started %(threads)s thread.", "You have started %(threads)s threads.", props.posts.count);

    header = interpolate(message, {
      'threads': props.posts.count
    }, true);
  } else {
    var _message = ngettext("%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.posts.count);

    header = interpolate(_message, {
      'username': props.profile.username,
      'threads': props.posts.count
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api_url.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Threads")
  }, props));
}

function Posts(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have posted no messages.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s posted no messages."), {
      'username': props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext('Loading...');
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.posts.count);

    header = interpolate(message, {
      'posts': props.posts.count
    }, true);
  } else {
    var _message2 = ngettext("%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.posts.count);

    header = interpolate(_message2, {
      'username': props.profile.username,
      'posts': props.posts.count
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api_url.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Posts")
  }, props));
}

},{"./route":143,"react":"react"}],143:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Feed = Feed;
exports.LoadMoreButton = LoadMoreButton;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _postFeed = require('../../post-feed');

var _postFeed2 = _interopRequireDefault(_postFeed);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isLoading: true
      });

      _this.loadItems(_this.props.posts.page + 1);
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'loadItems',
    value: function loadItems() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

      _ajax2.default.get(this.props.api, {
        page: page || 1
      }).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch(posts.load(data));
        } else {
          _store2.default.dispatch(posts.append(data));
        }

        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });

        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.title,
        parent: this.props.profile.username
      });

      this.loadItems();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'profile-feed' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.props.header
          )
        ),
        _react2.default.createElement(Feed, _extends({
          isLoading: this.state.isLoading,
          loadMore: this.loadMore
        }, this.props))
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Feed(props) {
  if (!props.posts.count) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      props.emptyMessage
    );
  }

  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_postFeed2.default, {
      isReady: props.posts.isLoaded,
      posts: props.posts.results,
      poster: props.profile
    }),
    _react2.default.createElement(LoadMoreButton, {
      isLoading: props.isLoading,
      loadMore: props.loadMore,
      more: props.posts.more
    })
  );
}

function LoadMoreButton(props) {
  if (!props.more) return null;

  return _react2.default.createElement(
    'div',
    { className: 'pager-more' },
    _react2.default.createElement(
      _button2.default,
      {
        className: 'btn btn-default btn-outline',
        loading: props.isLoading,
        onClick: props.loadMore
      },
      interpolate(gettext("Show more (%(more)s)"), {
        'more': props.more
      }, true)
    )
  );
}

},{"../../../reducers/posts":301,"../../../services/ajax":311,"../../../services/page-title":319,"../../../services/snackbar":322,"../../../services/store":323,"../../button":6,"../../post-feed":89,"react":"react"}],144:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _profile = require('../../reducers/profile');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.action = function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax2.default.post(_this.props.profile.api_url.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store2.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + ' btn-default btn-following';
      } else {
        return this.props.className + ' btn-default btn-follow';
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return 'favorite';
      } else {
        return 'favorite_border';
      }
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        { className: this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.action },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/profile":302,"../../services/ajax":311,"../../services/snackbar":322,"../../services/store":323,"../button":6,"react":"react"}],145:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require('../quick-search');

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _root = require('../users-list/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    };

    _this.setSpecialProps();

    if (_index2.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_index2.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWERS';
      this.TITLE = gettext('Followers');
      this.API_FILTER = 'followers';
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadUsers();
    }
  }, {
    key: 'loadUsers',
    value: function loadUsers() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      var apiUrl = this.props.profile.api_url[this.API_FILTER];

      _ajax2.default.get(apiUrl, {
        search: search,
        page: page || 1
      }, 'user-' + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (!this.state.more) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'pager-more' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn btn-default btn-outline',
            loading: this.state.isBusy,
            onClick: this.loadMore
          },
          interpolate(gettext("Show more (%(more)s)"), {
            'more': this.state.more
          }, true)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getListBody',
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.getEmptyMessage()
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
            users: this.props.users,
            showRank: true,
            cols: 2 }),
          this.getMoreButton()
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      return 'profile-' + this.API_FILTER;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search users...") })
        ),
        this.getListBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":252,"../../reducers/users":310,"../../services/ajax":311,"../../services/page-title":319,"../../services/snackbar":322,"../../services/store":323,"../button":6,"../quick-search":156,"../users-list/root":235,"react":"react"}],146:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_Followers) {
  _inherits(_class, _Followers);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWS';
      this.TITLE = gettext('Follows');
      this.API_FILTER = 'follows';
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }]);

  return _class;
}(_followers2.default);

exports.default = _class;

},{"./followers":145,"react":"react"}],147:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.IsDisabledMessage = IsDisabledMessage;
exports.getColStyle = getColStyle;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _messageButton = require('./message-button');

var _messageButton2 = _interopRequireDefault(_messageButton);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _navs = require('./navs');

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'user-status-display' },
        _react2.default.createElement(
          _userStatus2.default,
          {
            user: this.props.profile,
            status: this.props.profile.status
          },
          _react2.default.createElement(_userStatus.StatusIcon, {
            user: this.props.profile,
            status: this.props.profile.status
          }),
          _react2.default.createElement(_userStatus.StatusLabel, {
            user: this.props.profile,
            status: this.props.profile.status,
            className: 'status-label'
          })
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUserRank',
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'a',
            { href: this.props.profile.rank.absolute_url, className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'span',
            { className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.profile.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.title
        );
        /* jshint ignore:end */
      } else if (this.props.profile.rank.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.rank.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getJoinedOn',
    value: function getJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'user-joined-on' },
        _react2.default.createElement(
          'abbr',
          { title: title },
          age
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getEmail',
    value: function getEmail() {
      if (this.props.profile.email) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-email' },
          _react2.default.createElement(
            'a',
            { href: 'mailto:' + this.props.profile.email, className: 'item-title' },
            this.props.profile.email
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, {
          className: 'btn btn-block btn-outline',
          profile: this.props.profile
        });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group' },
            _react2.default.createElement(
              'button',
              {
                className: 'btn btn-default btn-moderate btn-outline dropdown-toggle',
                type: 'button',
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false'
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'tonality'
              ),
              gettext("Moderation")
            ),
            _react2.default.createElement(_nav2.default, { profile: this.props.profile })
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var canFollow = this.props.profile.acl.can_follow;
      var canModerate = this.props.profile.acl.can_moderate;

      var isProfileOwner = this.props.user.id === this.props.profile.id;
      var canMessage = !isProfileOwner && this.props.user.acl.can_start_private_threads;

      var cols = 0;
      if (canFollow) cols += 1;
      if (canModerate) cols += 1;
      if (canMessage) cols += 1;

      var colsWidth = cols ? 2 * cols + 1 : 0;

      return _react2.default.createElement(
        'div',
        { className: 'page-header-bg' },
        _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(IsDisabledMessage, {
              isActive: this.props.profile.is_active
            }),
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-9 col-md-offset-3' },
                _react2.default.createElement(
                  'div',
                  { className: 'row' },
                  _react2.default.createElement(
                    'div',
                    { className: "col-sm-" + (12 - colsWidth) },
                    _react2.default.createElement(_avatar2.default, {
                      className: 'user-avatar user-avatar-sm',
                      user: this.props.profile,
                      size: '100',
                      size2x: '200'
                    }),
                    _react2.default.createElement(
                      'h1',
                      null,
                      this.props.profile.username
                    )
                  ),
                  !!cols && _react2.default.createElement(
                    'div',
                    { className: "col-sm-" + colsWidth },
                    _react2.default.createElement(
                      'div',
                      { className: 'row xs-margin-top sm-margin-top' },
                      canMessage && _react2.default.createElement(
                        'div',
                        { className: getColStyle(cols, 0) },
                        _react2.default.createElement(_messageButton2.default, {
                          className: 'btn btn-default btn-block btn-outline',
                          profile: this.props.profile,
                          user: this.props.user
                        })
                      ),
                      canFollow && _react2.default.createElement(
                        'div',
                        { className: getColStyle(cols, 1) },
                        this.getFollowButton()
                      ),
                      canModerate && _react2.default.createElement(
                        'div',
                        { className: getColStyle(cols, 2) },
                        this.getModerationButton()
                      )
                    )
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'header-stats' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'div',
                { className: 'row' },
                _react2.default.createElement(
                  'div',
                  { className: 'col-md-9 col-md-offset-3' },
                  _react2.default.createElement(
                    'ul',
                    { className: 'list-inline' },
                    this.getUserStatus(),
                    this.getUserRank(),
                    this.getUserTitle(),
                    this.getJoinedOn(),
                    this.getEmail()
                  )
                )
              )
            )
          ),
          _react2.default.createElement(_navs.CompactNav, {
            baseUrl: this.props.baseUrl,
            pages: this.props.pages,
            profile: this.props.profile
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

/* jshint ignore:start */


exports.default = _class;
function IsDisabledMessage(props) {
  if (props.isActive !== false) return null;

  return _react2.default.createElement(
    'div',
    { className: 'alert alert-danger' },
    _react2.default.createElement(
      'p',
      null,
      gettext("This user's account has been disabled by administrator.")
    )
  );
}

function getColStyle(cols, col) {
  var colStyle = "";

  if (cols == 1) {
    colStyle = "col-xs-12";
  }

  if (cols == 2) {
    colStyle = "col-xs-6 col-sm-6";
  }

  if (cols == 3) {
    if (col == 2) {
      colStyle = "col-xs-12 col-sm-4 xs-margin-top";
    } else {
      colStyle += "col-xs-6 col-sm-4";
    }
  }

  return colStyle;
}
/* jshint ignore:end */

},{"../avatar":4,"../dropdown-toggle":20,"../user-status":228,"./follow-button":144,"./message-button":148,"./moderation/nav":152,"./navs":153,"react":"react"}],148:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'START_PRIVATE',
        submit: _2.default.get('PRIVATE_THREADS_API'),

        to: [_this.props.profile]
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;

      if (!canMessage || isProfileOwner) return null;

      return _react2.default.createElement(
        'button',
        {
          className: this.props.className,
          onClick: this.onClick,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'comment'
        ),
        gettext("Message")
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":252,"../../services/posting":321,"react":"react"}],149:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      is_avatar_locked: '',
      avatar_lock_user_message: '',
      avatar_lock_staff_message: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,

          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || '',
          avatar_lock_staff_message: options.avatar_lock_staff_message || ''
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      _snackbar2.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Lock avatar"),
              helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
              'for': 'id_is_avatar_locked' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_avatar_locked',
              disabled: this.state.isLoading,
              iconOn: 'lock_outline',
              iconOff: 'lock_open',
              labelOn: gettext("Disallow user from changing avatar"),
              labelOff: gettext("Allow user to change avatar"),
              onChange: this.bindInput('is_avatar_locked'),
              value: this.state.is_avatar_locked })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User message"),
              helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
              'for': 'id_avatar_lock_user_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_user_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_user_message'),
              value: this.state.avatar_lock_user_message })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Staff message"),
              helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
              'for': 'id_avatar_lock_staff_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_staff_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_staff_message'),
              value: this.state.avatar_lock_staff_message })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Save changes")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Avatar controls")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/users":310,"../../../services/ajax":311,"../../../services/snackbar":322,"../../../services/store":323,"../../button":6,"../../form":42,"../../form-group":41,"../../modal-loader":47,"../../modal-message":48,"../../yes-no-switch":251,"react":"react"}],150:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      username: '',
      validators: {
        username: [validators.usernameContent()]
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ''
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar2.default.success(gettext("Username has been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New username"), 'for': 'id_username' },
            _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
              disabled: this.state.isLoading,
              onChange: this.bindInput('username'),
              value: this.state.username })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              disabled: this.state.isLoading,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Change username")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change username")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/username-history":309,"../../../reducers/users":310,"../../../services/ajax":311,"../../../services/snackbar":322,"../../../services/store":323,"../../../utils/validators":339,"../../button":6,"../../form":42,"../../form-group":41,"../../modal-loader":47,"../../modal-message":48,"react":"react"}],151:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.countdown = function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    };

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,

      countdown: 5,
      confirm: false,

      with_content: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'send',

    /* jshint ignore:end */

    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _polls2.default.stop('user-profile');

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            'username': this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            'username': this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: 'getButtonLabel',
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          'username': this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          'countdown': this.state.countdown
        }, true);
      }
    }
  }, {
    key: 'getForm',
    value: function getForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User content"),
              'for': 'id_with_content' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_with_content',
              disabled: this.state.isLoading,
              labelOn: gettext("Delete together with user's account"),
              labelOff: gettext("Hide after deleting user's account"),
              onChange: this.bindInput('with_content'),
              value: this.state.with_content })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default',
              'data-dismiss': 'modal' },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-danger',
              loading: this.state.isLoading,
              disabled: !this.state.confirm },
            this.getButtonLabel()
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getDeletedBody',
    value: function getDeletedBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.state.isDeleted
          ),
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(
              'a',
              { href: _index2.default.get('USERS_LIST_URL') },
              gettext("Return to users list")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Delete user account")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":252,"../../../services/ajax":311,"../../../services/polls":320,"../../button":6,"../../form":42,"../../form-group":41,"../../modal-loader":47,"../../modal-message":48,"../../yes-no-switch":251,"react":"react"}],152:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatarControls = require('./avatar-controls');

var _avatarControls2 = _interopRequireDefault(_avatarControls);

var _changeUsername = require('./change-username');

var _changeUsername2 = _interopRequireDefault(_changeUsername);

var _deleteAccount = require('./delete-account');

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showAvatarDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_avatarControls2.default));
    }, _this.showRenameDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_changeUsername2.default));
    }, _this.showDeleteDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_deleteAccount2.default));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getAvatarButton',

    /* jshint ignore:end */

    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              type: 'button',
              className: 'btn btn-link',
              onClick: this.showAvatarDialog
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Avatar controls")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getRenameButton',

    /* jshint ignore:end */

    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              type: 'button',
              className: 'btn btn-link',
              onClick: this.showRenameDialog
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'credit_card'
            ),
            gettext("Change username")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getDeleteButton',

    /* jshint ignore:end */

    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              type: 'button',
              className: 'btn btn-link',
              onClick: this.showDeleteDialog
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'clear'
            ),
            gettext("Delete account")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        {
          className: 'dropdown-menu dropdown-menu-right stick-to-bottom',
          role: 'menu'
        },
        this.getAvatarButton(),
        this.getRenameButton(),
        this.getDeleteButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../services/modal":317,"./avatar-controls":149,"./change-username":150,"./delete-account":151,"react":"react","react-redux":"react-redux"}],153:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.CompactNav = CompactNav;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line
// jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _reactRouter.Link,
            {
              to: _this2.props.baseUrl + page.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: page.component
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              page.icon
            ),
            page.name
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

// jshint ignore:start


function CompactNav(props) {
  return _react2.default.createElement(
    'div',
    { className: 'page-tabs hidden-md hidden-lg' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'nav nav-pills', role: 'menu' },
        props.pages.map(function (page) {
          return _react2.default.createElement(
            _li2.default,
            {
              path: props.baseUrl + page.component + '/',
              key: page.component
            },
            _react2.default.createElement(
              _reactRouter.Link,
              {
                to: props.baseUrl + page.component + '/',
                onClick: props.hideNav
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                page.icon
              ),
              page.name
            )
          );
        })
      )
    )
  );
}
// jshint ignore:end

},{"../../index":252,"../li":43,"./follow-button":144,"react":"react","react-router":"react-router"}],154:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _banDetails = require('./ban-details');

var _banDetails2 = _interopRequireDefault(_banDetails);

var _feed = require('./feed');

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

var _follows = require('./follows');

var _follows2 = _interopRequireDefault(_follows);

var _usernameHistory = require('./username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _navs = require('./navs');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _profile = require('../../reducers/profile');

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _profile.hydrate)(data));
    };

    _this.startPolling(props.profile.api_url.root);
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'user-profile',
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      var baseClass = 'page page-user-profile';
      if (false && this.props.profile.rank.css_class) {
        return baseClass + ' page-user-profile-' + this.props.profile.rank.css_class;
      }

      return baseClass;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var baseUrl = _2.default.get('PROFILE').absolute_url;
      var pages = _2.default.get('PROFILE_PAGES');

      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, {
          baseUrl: baseUrl,
          pages: pages,
          profile: this.props.profile,
          toggleNav: this.toggleNav,
          toggleModeration: this.toggleModeration,
          user: this.props.user
        }),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(
                'div',
                { className: 'profile-side-avatar' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '400' })
              ),
              _react2.default.createElement(_navs.SideNav, {
                baseUrl: baseUrl,
                pages: pages,
                profile: this.props.profile
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users,
    'posts': store.posts,
    'profile': store.profile,
    'username-history': store['username-history']
  };
}

var COMPONENTS = {
  'posts': _feed.Posts,
  'threads': _feed.Threads,
  'followers': _followers2.default,
  'follows': _follows2.default,
  'username-history': _usernameHistory2.default,
  'ban-details': _banDetails2.default
};

function paths() {
  var paths = [];

  _2.default.get('PROFILE_PAGES').forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _2.default.get('PROFILE').absolute_url + item.component + '/',
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../..":252,"../../reducers/profile":302,"../../services/polls":320,"../../services/store":323,"../avatar":4,"../with-dropdown":250,"./ban-details":141,"./feed":142,"./followers":145,"./follows":146,"./header":147,"./moderation/nav":152,"./navs":153,"./username-history":155,"react":"react","react-redux":"react-redux"}],155:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require('../quick-search');

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _root = require('../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    };

    if (_index2.default.has('PROFILE_NAME_HISTORY')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_NAME_HISTORY'));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadChanges();
    }
  }, {
    key: 'loadChanges',
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, 'search-username-history').then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);

        return interpolate(message, {
          'changes': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          'changes': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'changes': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (!this.state.more) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'pager-more' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn btn-default btn-outline',
            loading: this.state.isBusy,
            onClick: this.loadMore
          },
          interpolate(gettext("Show older (%(more)s)"), {
            'more': this.state.more
          }, true)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-username-history' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          emptyMessage: this.getEmptyMessage(),
          changes: this.props['username-history'] }),
        this.getMoreButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":252,"../../reducers/username-history":309,"../../services/ajax":311,"../../services/page-title":319,"../../services/snackbar":322,"../../services/store":323,"../button":6,"../quick-search":156,"../username-history/root":234,"react":"react"}],156:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement("input", { type: "text",
          className: "form-control",
          value: this.props.value,
          onChange: this.props.onChange,
          placeholder: this.props.placeholder || gettext("Search...") }),
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "search"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],157:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

var _register = require('./register.js');

var _register2 = _interopRequireDefault(_register);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showRegisterForm = function () {
      if (misago.get('SETTINGS').account_activation === 'closed') {
        _snackbar2.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal2.default.show(_react2.default.createElement(_register2.default, {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({ isLoading: true });

        Promise.all([_captcha2.default.load(), _ajax2.default.get(misago.get('AUTH_CRITERIA_API'))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });

          _modal2.default.show(_react2.default.createElement(_register2.default, {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({ isLoading: false });

          _snackbar2.default.error(gettext("Registration is currently unavailable due to an error."));
        });
      }
    };

    _this.state = {
      isLoading: false,
      isLoaded: false,

      criteria: null
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        {
          className: 'btn ' + this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.showRegisterForm,
          type: 'button'
        },
        gettext("Register"),
        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/ajax":311,"../services/captcha":313,"../services/modal":317,"../services/snackbar":322,"./loader":44,"./register.js":158,"react":"react"}],158:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RegisterComplete = exports.RegisterForm = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _passwordStrength = require('./password-strength');

var _passwordStrength2 = _interopRequireDefault(_passwordStrength);

var _ = require('..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RegisterForm = exports.RegisterForm = function (_Form) {
  _inherits(RegisterForm, _Form);

  function RegisterForm(props) {
    _classCallCheck(this, RegisterForm);

    var _this = _possibleConstructorReturn(this, (RegisterForm.__proto__ || Object.getPrototypeOf(RegisterForm)).call(this, props));

    var _this$props$criteria = _this.props.criteria,
        username = _this$props$criteria.username,
        password = _this$props$criteria.password;


    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === 'MinimumLengthValidator') {
        passwordMinLength = item.min_length;
      }
    });

    _this.state = {
      isLoading: false,

      username: '',
      email: '',
      password: '',
      captcha: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],
        email: [validators.email()],
        password: [validators.passwordMinLength(passwordMinLength)],
        captcha: _captcha2.default.validator()
      },

      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_2.default.get('USERS_API'), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });

        if (rejection.__all__ && rejection.__all__.length > 0) {
          _snackbar2.default.error(rejection.__all__[0]);
        } else {
          _snackbar2.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getLegalFootNote',
    value: function getLegalFootNote() {
      if (!_2.default.get('TERMS_OF_SERVICE_URL')) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'legal-footnote' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        ),
        _react2.default.createElement(
          'a',
          {
            href: _2.default.get('TERMS_OF_SERVICE_URL'),
            target: '_blank'
          },
          gettext("By registering you agree to site's terms and conditions.")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-register', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Register")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Username"), 'for': 'id_username',
                  validation: this.state.errors.username },
                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                  'aria-describedby': 'id_username_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('username'),
                  value: this.state.username })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("E-mail"), 'for': 'id_email',
                  validation: this.state.errors.email },
                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',
                  'aria-describedby': 'id_email_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('email'),
                  value: this.state.email })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Password"), 'for': 'id_password',
                  validation: this.state.errors.password,
                  extra: _react2.default.createElement(_passwordStrength2.default, {
                    password: this.state.password,
                    inputs: [this.state.username, this.state.email]
                  }) },
                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                  'aria-describedby': 'id_password_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('password'),
                  value: this.state.password })
              ),
              _captcha2.default.component({
                form: this
              }),
              this.getLegalFootNote()
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Register account")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterForm;
}(_form2.default);

var RegisterComplete = exports.RegisterComplete = function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _possibleConstructorReturn(this, (RegisterComplete.__proto__ || Object.getPrototypeOf(RegisterComplete)).apply(this, arguments));
  }

  _createClass(RegisterComplete, [{
    key: 'getLead',
    value: function getLead() {
      if (this.props.activation === 'user') {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === 'admin') {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: 'getSubscript',
    value: function getSubscript() {
      if (this.props.activation === 'user') {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === 'admin') {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-message modal-register',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Registration complete")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                interpolate(this.getLead(), { 'username': this.props.username }, true)
              ),
              _react2.default.createElement(
                'p',
                null,
                interpolate(this.getSubscript(), { 'email': this.props.email }, true)
              ),
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  type: 'button'
                },
                gettext("Ok")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterComplete;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.completeRegistration = function (apiResponse) {
      if (apiResponse.activation === 'active') {
        _modal2.default.hide();
        _auth2.default.signIn(apiResponse);
      } else {
        _this3.setState({
          complete: apiResponse
        });
      }
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }

      return _react2.default.createElement(RegisterForm, _extends({
        callback: this.completeRegistration
      }, this.props));
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"..":252,"../services/ajax":311,"../services/auth":312,"../services/captcha":313,"../services/modal":317,"../services/snackbar":322,"../utils/banned-page":325,"../utils/validators":339,"./button":6,"./form":42,"./form-group":41,"./password-strength":70,"react":"react"}],159:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LinkSent = exports.RequestLinkForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var RequestLinkForm = exports.RequestLinkForm = function (_Form) {
  _inherits(RequestLinkForm, _Form);

  function RequestLinkForm(props) {
    _classCallCheck(this, RequestLinkForm);

    var _this = _possibleConstructorReturn(this, (RequestLinkForm.__proto__ || Object.getPrototypeOf(RequestLinkForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {
        _snackbar2.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestLinkForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-primary btn-block',
              type: 'button',
              onClick: this.props.callback
            },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.complete = function (apiResponse) {
      _this3.setState({
        complete: apiResponse
      });
    };

    _this3.reset = function () {
      _this3.setState({
        complete: false
      });
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":252,"../services/ajax":311,"../services/snackbar":322,"../utils/banned-page":325,"../utils/validators":339,"./button":6,"./form":42,"react":"react"}],160:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RequestResetForm = exports.RequestResetForm = function (_Form) {
  _inherits(RequestResetForm, _Form);

  function RequestResetForm(props) {
    _classCallCheck(this, RequestResetForm);

    var _this = _possibleConstructorReturn(this, (RequestResetForm.__proto__ || Object.getPrototypeOf(RequestResetForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestResetForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _possibleConstructorReturn(this, (AccountInactivePage.__proto__ || Object.getPrototypeOf(AccountInactivePage)).apply(this, arguments));
  }

  _createClass(AccountInactivePage, [{
    key: 'getActivateButton',
    value: function getActivateButton() {
      if (this.props.activation === 'inactive_user') {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },
            gettext("Activate your account.")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-info page-forgotten-password-inactive' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                gettext("Your account is inactive.")
              ),
              _react2.default.createElement(
                'p',
                null,
                this.props.message
              ),
              this.getActivateButton()
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return AccountInactivePage;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.complete = function (apiResponse) {
      _this4.setState({
        complete: apiResponse
      });
    };

    _this4.reset = function () {
      _this4.setState({
        complete: false
      });
    };

    _this4.state = {
      complete: false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'showInactivePage',
    value: function showInactivePage(apiResponse) {
      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById('page-mount'));
    }
    /* jshint ignore:end */

  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, {
          callback: this.reset,
          user: this.state.complete
        });
      }

      return _react2.default.createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":252,"../services/ajax":311,"../services/snackbar":322,"../utils/banned-page":325,"../utils/validators":339,"./button":6,"./form":42,"react":"react","react-dom":"react-dom"}],161:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PasswordChangedPage = exports.ResetPasswordForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _signIn = require('./sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  function ResetPasswordForm(props) {
    _classCallCheck(this, ResetPasswordForm);

    var _this = _possibleConstructorReturn(this, (ResetPasswordForm.__proto__ || Object.getPrototypeOf(ResetPasswordForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'password': ''
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter new password."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-reset-password' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'password', className: 'form-control',
                placeholder: gettext("Enter new password"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Change password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ResetPasswordForm;
}(_form2.default);

var PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _possibleConstructorReturn(this, (PasswordChangedPage.__proto__ || Object.getPrototypeOf(PasswordChangedPage)).apply(this, arguments));
  }

  _createClass(PasswordChangedPage, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: 'showSignIn',
    value: function showSignIn() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-success page-forgotten-password-changed' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'check'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getMessage()
              ),
              _react2.default.createElement(
                'p',
                null,
                gettext("You will have to sign in using new password before continuing.")
              ),
              _react2.default.createElement(
                'p',
                null,
                _react2.default.createElement(
                  'button',
                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },
                  gettext("Sign in")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return PasswordChangedPage;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this3, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {
      _auth2.default.softSignOut();

      // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));
    }, _temp), _possibleConstructorReturn(_this3, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":252,"../services/ajax":311,"../services/auth":312,"../services/modal":317,"../services/snackbar":322,"../utils/banned-page":325,"./button":6,"./form":42,"./sign-in.js":170,"react":"react","react-dom":"react-dom"}],162:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _posts = require('../../reducers/posts');

var _search = require('../../reducers/search');

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onQueryChange = function (event) {
      _this.changeValue('query', event.target.value);
    };

    _this.state = {
      isLoading: false,

      query: props.search.query
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.query.trim().length) {
        _snackbar2.default.error(gettext("You have to enter search query."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      _store2.default.dispatch((0, _search.update)({
        isLoading: true
      }));

      return _ajax2.default.get(_2.default.get('SEARCH_API'), {
        q: this.state.query.trim()
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(providers) {
      _store2.default.dispatch((0, _search.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));

      providers.forEach(function (provider) {
        if (provider.id === 'users') {
          _store2.default.dispatch((0, _users.hydrate)(provider.results.results));
        } else if (provider.id === 'threads') {
          _store2.default.dispatch((0, _posts.load)(provider.results));
        }
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);

      _store2.default.dispatch((0, _search.update)({
        isLoading: false
      }));
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'page-header-bg' },
        _react2.default.createElement(
          'div',
          { className: 'page-header page-search-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'div',
                { className: 'row' },
                _react2.default.createElement(
                  'div',
                  { className: 'col-xs-12 col-md-3' },
                  _react2.default.createElement(
                    'h1',
                    null,
                    gettext("Search")
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'col-xs-12 col-md-9' },
                  _react2.default.createElement(
                    'div',
                    { className: 'row xs-margin-top sm-margin-top' },
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-12 col-sm-8 col-md-9' },
                      _react2.default.createElement(
                        'div',
                        { className: 'form-group' },
                        _react2.default.createElement('input', {
                          className: 'form-control',
                          disabled: this.props.search.isLoading || this.state.isLoading,
                          onChange: this.onQueryChange,
                          type: 'text',
                          value: this.state.query
                        })
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-12 col-sm-4 col-md-3' },
                      _react2.default.createElement(
                        'button',
                        {
                          className: 'btn btn-primary btn-block btn-outline',
                          disabled: this.props.search.isLoading || this.state.isLoading
                        },
                        gettext("Search")
                      )
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../..":252,"../../reducers/posts":301,"../../reducers/search":303,"../../reducers/users":310,"../../services/ajax":311,"../../services/snackbar":322,"../../services/store":323,"../form":42,"react":"react"}],163:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;

exports.default = function (providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0, _reactRedux.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
};

var _reactRedux = require('react-redux');

var _threads = require('./threads');

var _threads2 = _interopRequireDefault(_threads);

var _users = require('./users');

var _users2 = _interopRequireDefault(_users);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var components = {
  threads: _threads2.default,
  users: _users2.default
};

function select(store) {
  return {
    'posts': store.posts,
    'search': store.search,
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

},{"./threads":166,"./users":168,"react-redux":"react-redux"}],164:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'page page-search' },
    _react2.default.createElement(_form2.default, {
      provider: props.provider,
      search: props.search
    }),
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-md-3' },
          _react2.default.createElement(_sidenav2.default, { providers: props.search.providers })
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-md-9' },
          props.children,
          _react2.default.createElement(SearchTime, {
            provider: props.provider,
            search: props.search
          })
        )
      )
    )
  );
};

exports.SearchTime = SearchTime;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _sidenav = require('./sidenav');

var _sidenav2 = _interopRequireDefault(_sidenav);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });

  if (time === null) return null;

  var copy = gettext("Search took %(time)s s to complete");

  return _react2.default.createElement(
    'footer',
    { className: 'search-footer' },
    _react2.default.createElement(
      'p',
      null,
      interpolate(copy, { time: time }, true)
    )
  );
}

},{"./form":162,"./sidenav":165,"react":"react"}],165:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'list-group nav-side' },
    props.providers.map(function (provider) {
      return _react2.default.createElement(
        _reactRouter.Link,
        {
          activeClassName: 'active',
          className: 'list-group-item',
          key: provider.id,
          to: provider.url
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          provider.icon
        ),
        provider.name,
        _react2.default.createElement(Badge, { results: provider.results })
      );
    })
  );
};

exports.Badge = Badge;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Badge(props) {
  if (!props.results) return null;

  var count = props.results.count;
  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + 'KK';
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + 'K';
  }

  return _react2.default.createElement(
    'span',
    { className: 'badge' },
    count
  );
} // jshint ignore:start

},{"react":"react","react-router":"react-router"}],166:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    {
      provider: props.route.provider,
      search: props.search
    },
    _react2.default.createElement(
      Blankslate,
      {
        query: props.search.query,
        posts: props.posts
      },
      _react2.default.createElement(_results2.default, _extends({
        provider: props.route.provider,
        query: props.search.query
      }, props.posts))
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _page = require('../page');

var _page2 = _interopRequireDefault(_page);

var _results = require('./results');

var _results2 = _interopRequireDefault(_results);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Blankslate(props) {
  if (props.posts && props.posts.count) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("No threads matching search query have been found.")
    );
  }

  return _react2.default.createElement(
    'p',
    { className: 'lead' },
    gettext("Enter at least two characters to search threads.")
  );
}

},{"../page":164,"./results":167,"react":"react"}],167:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LoadMore = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_postFeed2.default, {
      isReady: true,
      posts: props.results
    }),
    _react2.default.createElement(LoadMore, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _postFeed = require('../../post-feed');

var _postFeed2 = _interopRequireDefault(_postFeed);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _posts = require('../../../reducers/posts');

var _search = require('../../../reducers/search');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var LoadMore = exports.LoadMore = function (_React$Component) {
  _inherits(LoadMore, _React$Component);

  function LoadMore() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, LoadMore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoadMore.__proto__ || Object.getPrototypeOf(LoadMore)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch((0, _posts.update)({
        isBusy: true
      }));

      _ajax2.default.get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== 'threads') return;
          _store2.default.dispatch((0, _posts.append)(provider.results));
          _store2.default.dispatch((0, _search.updateProvider)(provider));
        });

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(LoadMore, [{
    key: 'render',
    value: function render() {
      if (!this.props.more) return null;

      return _react2.default.createElement(
        'div',
        { className: 'pager-more' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn btn-default btn-outline',
            loading: this.props.isBusy,
            onClick: this.onClick
          },
          gettext("Show more")
        )
      );
    }
  }]);

  return LoadMore;
}(_react2.default.Component);

},{"../../../reducers/posts":301,"../../../reducers/search":303,"../../../services/ajax":311,"../../../services/snackbar":322,"../../../services/store":323,"../../button":6,"../../misago-markup":46,"../../post-feed":89,"react":"react"}],168:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    {
      provider: props.route.provider,
      search: props.search
    },
    _react2.default.createElement(
      Blankslate,
      {
        query: props.search.query,
        users: props.users
      },
      _react2.default.createElement(_root2.default, {
        isLoaded: true,
        cols: 2,
        users: props.users
      })
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _page = require('../page');

var _page2 = _interopRequireDefault(_page);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function Blankslate(props) {
  if (props.users.length) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("No users matching search query have been found.")
    );
  }

  return _react2.default.createElement(
    'p',
    { className: 'lead' },
    gettext("Enter at least two characters to search users.")
  );
}

},{"../../users-list/root":235,"../page":164,"react":"react"}],169:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.change = function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "btn-group btn-select-group" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-select dropdown-toggle",
            id: this.props.id || null,
            "data-toggle": "dropdown",
            "aria-haspopup": "true",
            "aria-expanded": "false",
            "aria-describedby": this.props['aria-describedby'] || null,
            disabled: this.props.disabled || false },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.getIcon()
          ),
          this.getLabel()
        ),
        _react2.default.createElement(
          "ul",
          { className: "dropdown-menu" },
          this.props.choices.map(function (item, i) {
            return _react2.default.createElement(
              "li",
              { key: i },
              _react2.default.createElement(
                "button",
                { type: "button", className: "btn-link",
                  onClick: _this3.change(item.value) },
                _react2.default.createElement(
                  "span",
                  { className: "material-icon" },
                  item.icon
                ),
                item.label
              )
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],170:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,
      'showActivation': false,

      'username': '',
      'password': '',

      'validators': {
        'username': [],
        'password': []
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.isValid()) {
        _snackbar2.default.error(gettext("Fill out both fields."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('AUTH_API'), {
        'username': this.state.username,
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      var form = $('#hidden-login-form');

      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(_ajax2.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === 'inactive_admin') {
          _snackbar2.default.info(rejection.detail);
        } else if (rejection.code === 'inactive_user') {
          _snackbar2.default.info(rejection.detail);
          this.setState({
            'showActivation': true
          });
        } else if (rejection.code === 'banned') {
          (0, _bannedPage2.default)(rejection.detail);
          _modal2.default.hide();
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getActivationButton',
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'a',
        {
          className: 'btn btn-success btn-block',
          href: _index2.default.get('REQUEST_ACTIVATION_URL')
        },
        gettext("Activate account")
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        {
          className: 'modal-dialog modal-sm modal-sign-in',
          role: 'document'
        },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                'aria-label': gettext("Close"),
                className: 'close',
                'data-dismiss': 'modal',
                type: 'button'
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Sign in")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', {
                    className: 'form-control input-lg',
                    disabled: this.state.isLoading,
                    id: 'id_username',
                    onChange: this.bindInput('username'),
                    placeholder: gettext("Username or e-mail"),
                    type: 'text',
                    value: this.state.username
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', {
                    className: 'form-control input-lg',
                    disabled: this.state.isLoading,
                    id: 'id_password',
                    onChange: this.bindInput('password'),
                    placeholder: gettext("Password"),
                    type: 'password',
                    value: this.state.password
                  })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getActivationButton(),
              _react2.default.createElement(
                _button2.default,
                {
                  className: 'btn-primary btn-block',
                  loading: this.state.isLoading
                },
                gettext("Sign in")
              ),
              _react2.default.createElement(
                'a',
                {
                  className: 'btn btn-default btn-block',
                  href: _index2.default.get('FORGOTTEN_PASSWORD_URL')
                },
                gettext("Forgot password?")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../index":252,"../services/ajax":311,"../services/modal":317,"../services/snackbar":322,"../utils/banned-page":325,"./button":6,"./form":42,"react":"react"}],171:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
var TYPES_CLASSES = {
  'info': 'alert-info',
  'success': 'alert-success',
  'warning': 'alert-warning',
  'error': 'alert-danger'
};
/* jshint ignore:end */

var Snackbar = exports.Snackbar = function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _possibleConstructorReturn(this, (Snackbar.__proto__ || Object.getPrototypeOf(Snackbar)).apply(this, arguments));
  }

  _createClass(Snackbar, [{
    key: 'getSnackbarClass',
    value: function getSnackbarClass() {
      var snackbarClass = 'alerts-snackbar';
      if (this.props.isVisible) {
        snackbarClass += ' in';
      } else {
        snackbarClass += ' out';
      }
      return snackbarClass;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getSnackbarClass() },
        _react2.default.createElement(
          'p',
          { className: 'alert ' + TYPES_CLASSES[this.props.type] },
          this.props.message
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Snackbar;
}(_react2.default.Component);

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],172:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "page-breadcrumbs" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ol",
        { className: "breadcrumb hidden-xs" },
        props.path.map(function (item) {
          return _react2.default.createElement(Breadcrumb, { key: item.id, node: item });
        })
      ),
      _react2.default.createElement(GoBack, props)
    )
  );
};

exports.Breadcrumb = Breadcrumb;
exports.GoBack = GoBack;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Breadcrumb(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.node.absolute_url },
      props.node.name
    )
  );
}

function GoBack(props) {
  var lastItem = props.path[props.path.length - 1];

  return _react2.default.createElement(
    "a",
    { href: lastItem.absolute_url, className: "go-back-sm visible-xs-block" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_left"
    ),
    lastItem.name
  );
}
/* jshint ignore:end */

},{"react":"react"}],173:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Moderation = Moderation;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _breadcrumbs = require('./breadcrumbs');

var _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);

var _thread = require('../moderation/thread');

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _validators = require('../../posting/utils/validators');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _thread2 = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread2);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onEdit = function () {
      _this.setState({
        isEditing: true
      });
    };

    _this.onCancel = function () {
      _this.setState({
        title: _this.props.thread.title,

        isEditing: false
      });
    };

    _this.state = {
      isEditing: false,
      isLoading: false,

      title: props.thread.title,

      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'title', value: this.state.title }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(thread.update(data));

      this.setState({
        'isEditing': false
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        console.log(rejection);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          thread = _props.thread,
          user = _props.user;

      var showModeration = user.id && (0, _thread.isModerationVisible)(thread);

      if (this.state.isEditing) {
        return _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row xs-margin-top title-edit-form' },
              _react2.default.createElement(
                'form',
                { onSubmit: this.handleSubmit },
                _react2.default.createElement(
                  'div',
                  { className: 'col-sm-6 col-md-6' },
                  _react2.default.createElement('input', {
                    className: 'form-control',
                    type: 'text',
                    value: this.state.title,
                    onChange: this.onChange
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'col-sm-6 col-md-4' },
                  _react2.default.createElement(
                    'div',
                    { className: 'row xs-margin-top-half sm-margin-top-no md-margin-top-no' },
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-6' },
                      _react2.default.createElement(
                        'button',
                        {
                          className: 'btn btn-primary btn-block btn-outline',
                          disabled: this.state.isLoading,
                          title: gettext("Change title")
                        },
                        gettext("Save changes")
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-6' },
                      _react2.default.createElement(
                        'button',
                        {
                          className: 'btn btn-default btn-block btn-outline',
                          disabled: this.state.isLoading,
                          onClick: this.onCancel,
                          title: gettext("Cancel"),
                          type: 'button'
                        },
                        gettext("Cancel")
                      )
                    )
                  )
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      } else if (user.id && thread.acl.can_edit) {
        return _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: showModeration ? "col-sm-9 col-md-8" : "col-sm-10 col-md-10" },
                _react2.default.createElement(
                  'h1',
                  null,
                  thread.title
                )
              ),
              _react2.default.createElement(
                'div',
                { className: showModeration ? "col-sm-3 col-md-4" : "col-sm-3 col-md-2" },
                _react2.default.createElement(
                  'div',
                  { className: 'row xs-margin-top md-margin-top-no' },
                  _react2.default.createElement(
                    'div',
                    { className: 'col-xs-6' },
                    _react2.default.createElement(
                      'button',
                      {
                        className: 'btn btn-default btn-block btn-outline',
                        onClick: this.onEdit,
                        title: gettext("Edit title"),
                        type: 'button'
                      },
                      _react2.default.createElement(
                        'span',
                        { className: 'material-icon' },
                        'edit'
                      ),
                      _react2.default.createElement(
                        'span',
                        { className: 'hidden-sm' },
                        gettext("Edit")
                      )
                    )
                  ),
                  showModeration && _react2.default.createElement(Moderation, this.props)
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      } else if (showModeration) {
        return _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-9 col-md-10' },
                _react2.default.createElement(
                  'h1',
                  null,
                  thread.title
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-sm-3 col-md-2' },
                _react2.default.createElement(
                  'div',
                  { className: 'row xs-margin-top md-margin-top-no' },
                  _react2.default.createElement(Moderation, _extends({
                    isSingle: true
                  }, this.props))
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      }

      return _react2.default.createElement(
        'div',
        { className: 'page-header' },
        _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'h1',
            null,
            thread.title
          )
        ),
        _react2.default.createElement(_stats2.default, { thread: thread })
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function Moderation(props) {
  return _react2.default.createElement(
    'div',
    { className: props.isSingle ? "col-xs-12" : "col-xs-6" },
    _react2.default.createElement(
      'div',
      { className: 'btn-group btn-group-justified' },
      _react2.default.createElement(
        'div',
        { className: 'btn-group' },
        _react2.default.createElement(
          'button',
          {
            'aria-expanded': 'false',
            'aria-haspopup': 'true',
            className: 'btn btn-default btn-outline dropdown-toggle',
            'data-toggle': 'dropdown',
            disabled: props.thread.isBusy,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'settings'
          ),
          _react2.default.createElement(
            'span',
            { className: props.isSingle ? "" : "hidden-sm" },
            gettext("Moderation")
          )
        ),
        _react2.default.createElement(_thread.ModerationControls, {
          posts: props.posts,
          thread: props.thread,
          user: props.user
        })
      )
    )
  );
}

},{"../../../reducers/thread":306,"../../../services/ajax":311,"../../../services/snackbar":322,"../../../services/store":323,"../../form":42,"../../posting/utils/validators":111,"../moderation/thread":181,"./breadcrumbs":172,"./stats":174,"react":"react"}],174:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'header-stats' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'list-inline' },
        _react2.default.createElement(Weight, { thread: props.thread }),
        _react2.default.createElement(Unapproved, { thread: props.thread }),
        _react2.default.createElement(IsHidden, { thread: props.thread }),
        _react2.default.createElement(IsClosed, { thread: props.thread }),
        _react2.default.createElement(Replies, { thread: props.thread }),
        _react2.default.createElement(LastReply, { thread: props.thread })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-globally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned globally")
      )
    );
  } else if (props.thread.weight == 1) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-locally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark_border'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned locally")
      )
    );
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved")
      )
    );
  } else if (props.thread.has_unapproved_posts) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved-posts' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved posts")
      )
    );
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-hidden' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'visibility_off'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Hidden")
      )
    );
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-closed' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'lock_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Closed")
      )
    );
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, { 'replies': props.thread.replies }, true);

  return _react2.default.createElement(
    'li',
    { className: 'thread-replies' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'forum'
    ),
    _react2.default.createElement(
      'span',
      { className: 'icon-legend' },
      legend
    )
  );
}

/* jshint ignore:end */
function LastReply(props) {
  var user = null;
  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml2.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  };

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml2.default)(props.thread.last_post_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.thread.last_post_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date, user: user
  }, true);

  return _react2.default.createElement('li', { className: 'thread-last-reply', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":329,"react":"react"}],175:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_unapproved: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

    var previousState = {
      is_unapproved: selection.is_unapproved
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function protect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unprotect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function hide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: true,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(selection.url, {
        hidden_by: props.user.absolute_url
      })
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

    var previousState = {
      is_hidden: selection.is_hidden,
      hidden_on: selection.hidden_on,
      hidden_by_name: selection.hidden_by_name,
      url: selection.url
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unhide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

    var previousState = {
      is_hidden: selection.is_hidden
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function patch(selection, ops, previousState) {
  _ajax2.default.patch(selection.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(selection, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(selection, previousState));
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax2.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store2.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));

    _ajax2.default.delete(selection.api.index).then(function () {
      return;
    }, function (rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }

      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":300,"../../../../reducers/posts":301,"../../../../services/ajax":311,"../../../../services/snackbar":322,"../../../../services/store":323,"moment":"moment"}],176:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Merge, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve")
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Merge = exports.Merge = function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  function Merge() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Merge.__proto__ || Object.getPrototypeOf(Merge)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      moderation.merge(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Merge, [{
    key: 'render',
    value: function render() {
      if (this.props.selection.length < 2) return null;
      if (!this.props.thread.acl.can_merge_posts) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_merge'
          ),
          gettext("Merge")
        )
      );
    }
  }]);

  return Merge;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component3) {
  _inherits(Move, _React$Component3);

  function Move() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move")
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component4) {
  _inherits(Split, _React$Component4);

  function Split() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this4.props));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_split'
          ),
          gettext("Split")
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  function Protect() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.protect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Protect")
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  function Unprotect() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.unprotect(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Unprotect")
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  function Hide() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.hide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide")
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  function Unhide() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.unhide(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide")
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  function Delete() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.remove(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":317,"./actions":175,"./move":178,"./split":179,"react":"react"}],177:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });

  return _react2.default.createElement(
    'div',
    { className: 'dropup' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle btn-block btn-outline',
        'data-toggle': 'dropdown',
        disabled: !selection.length,
        type: 'button'
      },
      gettext("Posts options")
    ),
    _react2.default.createElement(_dropdown2.default, _extends({ selection: selection }, props))
  );
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  }

  // slow test: show moderation if any of posts has moderation options
  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":176,"react":"react"}],178:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move posts to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move posts")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move posts")
    )
  );
}

},{"../../../../reducers/post":300,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"../../../button":6,"../../../form":42,"../../../form-group":41,"react":"react"}],179:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              'button',
              {
                className: 'btn btn-default',
                'data-dismiss': 'modal',
                disabled: this.state.isLoading,
                type: 'button'
              },
              gettext("Cancel")
            ),
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split posts")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move selected posts at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      ),
      _react2.default.createElement(
        'button',
        {
          className: 'btn btn-default',
          'data-dismiss': 'modal',
          type: 'button'
        },
        gettext("Ok")
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split posts into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":300,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"../../../../utils/validators":339,"../../../button":6,"../../../category-select":14,"../../../form":42,"../../../form-group":41,"../../../modal-loader":47,"../../../select":169,"react":"react"}],180:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      _store2.default.dispatch(thread.busy());

      // by the chance update thread acl too
      ops.push({ op: 'add', path: 'acl', value: true });

      _ajax2.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store2.default.dispatch(thread.update(data));
        _store2.default.dispatch(thread.release());
        _snackbar2.default.success(successMessage);
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Thread has been pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Thread has been pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Thread has been unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Thread has been approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Thread has been opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Thread has been closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Thread has been made visible."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Thread has been made hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    }, _this.merge = function () {
      _modal2.default.show(_react2.default.createElement(_merge2.default, { thread: _this.props.thread }));
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store2.default.dispatch(thread.busy());

      _ajax2.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar2.default.success(gettext("Thread has been deleted."));
        window.location = _this.props.thread.category.absolute_url;
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'getPinGloballyButton',
    value: function getPinGloballyButton() {
      if (this.props.thread.weight === 2) return null;
      if (this.props.thread.acl.can_pin !== 2) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinGlobally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark'
          ),
          gettext("Pin globally")
        )
      );
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.thread.weight === 1) return null;
      if (this.props.thread.acl.can_pin === 0) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinLocally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark_border'
          ),
          gettext("Pin locally")
        )
      );
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.thread.weight === 0) return null;
      if (this.props.thread.acl.can_pin === 0) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unpin,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'panorama_fish_eye'
          ),
          gettext("Unpin")
        )
      );
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (!this.props.thread.acl.can_move) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.move,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move")
        )
      );
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (!this.props.thread.acl.can_merge) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.merge,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_merge'
          ),
          gettext("Merge")
        )
      );
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (!this.props.thread.is_unapproved) return null;
      if (!this.props.thread.acl.can_approve) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.approve,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve")
        )
      );
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (!this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.open,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Open")
        )
      );
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.close,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Close")
        )
      );
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (!this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_hide) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unhide,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide")
        )
      );
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_hide) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.hide,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide")
        )
      );
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.thread.acl.can_hide !== 2) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.delete,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete")
        )
      );
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu dropdown-menu-right stick-to-bottom' },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/thread":306,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"./merge":183,"./move":184,"react":"react"}],181:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isModerationVisible = exports.ModerationControls = undefined;

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _isVisible = require('./is-visible');

var _isVisible2 = _interopRequireDefault(_isVisible);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ModerationControls = _controls2.default;
exports.isModerationVisible = _isVisible2.default;

},{"./controls":180,"./is-visible":182}],182:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (thread) {
  return thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_pin;
};

},{}],183:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _mergePolls = require('../../../merge-polls');

var _mergePolls2 = _interopRequireDefault(_mergePolls);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.handleSuccessUnmounted(success);

      // keep form loading
      _this.setState({
        'isLoading': true
      });
    };

    _this.handleSuccessUnmounted = function (success) {
      _snackbar2.default.success(gettext("Thread has been merged with other one."));
      window.location = success.url;
    };

    _this.handleError = function (rejection) {
      _store2.default.dispatch(thread.release());

      if (rejection.status === 400) {
        if (rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergePolls2.default, {
            api: _this.props.thread.api.merge,
            data: { thread_url: _this.state.url },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.post(this.props.thread.api.merge, {
        thread_url: this.state.url
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to merge with"),
                  help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading || this.props.thread.isBusy,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                gettext("Merge thread")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Merge thread")
    )
  );
}
/* jshint ignore:end */

},{"../../../../reducers/thread":306,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"../../../form":42,"../../../form-group":41,"../../../merge-polls":45,"react":"react"}],184:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCategoryChange = function (event) {
      _this.changeValue('category', event.target.value);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,

      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(_2.default.get('THREAD_EDITOR_API')).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,

          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'category', value: this.state.category }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax2.default.get(this.props.thread.api.posts.index, { page: this.props.posts.page }).then(function (data) {
        _store2.default.dispatch(thread.replace(data));
        _store2.default.dispatch(posts.load(data.post_set));
        _store2.default.dispatch(thread.release());

        _snackbar2.default.success(gettext("Thread has been moved."));
        _modal2.default.hide();
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          'div',
          { className: 'modal-dialog', role: 'document' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-content' },
              _react2.default.createElement(ModalHeader, null),
              _react2.default.createElement(
                'div',
                { className: 'modal-body' },
                _react2.default.createElement(
                  _formGroup2.default,
                  { 'for': 'id_category', label: gettext("New category") },
                  _react2.default.createElement(_categorySelect2.default, {
                    choices: this.state.categories,
                    disabled: this.state.isLoading || this.props.thread.isBusy,
                    id: 'id_category',
                    onChange: this.onCategoryChange,
                    value: this.state.category
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'modal-footer' },
                _react2.default.createElement(
                  'button',
                  {
                    className: 'btn btn-default',
                    'data-dismiss': 'modal',
                    disabled: this.state.isLoading,
                    type: 'button'
                  },
                  gettext("Cancel")
                ),
                _react2.default.createElement(
                  'button',
                  { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                  gettext("Move thread")
                )
              )
            )
          )
        );
      } else if (this.state.isError) {
        return _react2.default.createElement(ModalMessage, { message: this.state.isError });
      } else {
        return _react2.default.createElement(ModalLoading, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move thread")
    )
  );
}

function ModalLoading(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(_modalLoader2.default, null)
    )
  );
}

function ModalMessage(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog modal-message', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(
        'div',
        { className: 'message-icon' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'message-body' },
        _react2.default.createElement(
          'p',
          { className: 'lead' },
          gettext("You can't move this thread at the moment.")
        ),
        _react2.default.createElement(
          'p',
          null,
          props.message
        ),
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            'data-dismiss': 'modal',
            type: 'button'
          },
          gettext("Ok")
        )
      )
    )
  );
}
/* jshint ignore:end */

},{"../../../..":252,"../../../../reducers/posts":301,"../../../../reducers/thread":306,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"../../../category-select":14,"../../../form":42,"../../../form-group":41,"../../../modal-loader":47,"react":"react"}],185:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'nav',
    { className: 'misago-pagination pull-left' },
    _react2.default.createElement(Pager, props),
    _react2.default.createElement(More, { more: props.posts.more })
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Pager(props) {
  return _react2.default.createElement(
    'div',
    { className: 'row row-paginator' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(FirstPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(PreviousPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(NextPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(LastPage, props)
    )
  );
} /* jshint ignore:start */
function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index,
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = '';
    if (props.posts.previous) {
      previousUrl = props.posts.previous + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index + previousUrl,
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = '';
    if (props.posts.next) {
      nextUrl = props.posts.next + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index + nextUrl,
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index + props.posts.last + '/',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, { 'more': props.more }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return _react2.default.createElement(
    'p',
    null,
    message
  );
}

},{"react":"react","react-router":"react-router"}],186:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'button',
    {
      className: props.className || 'btn btn-primary btn-outline',
      onClick: props.onClick,
      type: 'button'
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chat'
    ),
    gettext("Reply")
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],187:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    'participants': store.participants,
    'poll': store.poll,
    'posts': store.posts,
    'thread': store.thread,
    'tick': store.tick.tick,
    'user': store.auth.user
  };
}

function paths() {
  var thread = _index2.default.get('THREAD');
  var basePath = thread.url.index.replace(thread.slug + '-' + thread.pk, ':slug');

  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }, {
    path: basePath + ':page/',
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }];
}

},{"../../index":252,"./route":188,"react-redux":"react-redux"}],188:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _participants = require('../participants');

var _participants2 = _interopRequireDefault(_participants);

var _poll = require('../poll');

var _postsList = require('../posts-list');

var _postsList2 = _interopRequireDefault(_postsList);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _toolbarTop = require('./toolbar-top');

var _toolbarTop2 = _interopRequireDefault(_toolbarTop);

var _toolbarBottom = require('./toolbar-bottom');

var _toolbarBottom2 = _interopRequireDefault(_toolbarBottom);

var _participants3 = require('../../reducers/participants');

var participants = _interopRequireWildcard(_participants3);

var _poll2 = require('../../reducers/poll');

var poll = _interopRequireWildcard(_poll2);

var _posts = require('../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _thread = require('../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.update = function (data) {
      _store2.default.dispatch(thread.replace(data));
      _store2.default.dispatch(posts.load(data.post_set));

      if (data.participants) {
        _store2.default.dispatch(participants.replace(data.participants));
      }

      if (data.poll) {
        _store2.default.dispatch(poll.replace(data.poll));
      }

      _this.setPageTitle();
    }, _this.openReplyForm = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: 'shouldFetchData',
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: 'fetchData',
    value: function fetchData() {
      var _this2 = this;

      _store2.default.dispatch(posts.unload());

      _ajax2.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, 'posts').then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPollingApi',
    value: function startPollingApi() {
      _polls2.default.start({
        poll: 'thread-posts',

        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,

        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: 'stopPollingApi',
    value: function stopPollingApi() {
      _polls2.default.stop('thread-posts');
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      _pageTitle2.default.set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-thread' },
        _react2.default.createElement(
          'div',
          { className: 'page-header-bg' },
          _react2.default.createElement(_header2.default, this.props)
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(_toolbarTop2.default, _extends({
            openReplyForm: this.openReplyForm
          }, this.props)),
          _react2.default.createElement(_poll.Poll, {
            poll: this.props.poll,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_participants2.default, {
            participants: this.props.participants,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_postsList2.default, this.props),
          _react2.default.createElement(_toolbarBottom2.default, _extends({
            openReplyForm: this.openReplyForm
          }, this.props))
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/participants":298,"../../reducers/poll":299,"../../reducers/posts":301,"../../reducers/thread":306,"../../services/ajax":311,"../../services/page-title":319,"../../services/polls":320,"../../services/posting":321,"../../services/snackbar":322,"../../services/store":323,"../participants":68,"../poll":73,"../posts-list":118,"./header":173,"./toolbar-bottom":190,"./toolbar-top":191,"react":"react"}],189:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Email = exports.Enable = exports.Disable = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle btn-block btn-outline',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        getIcon(props.thread.subscription)
      ),
      getLabel(props.thread.subscription)
    ),
    _react2.default.createElement(Dropdown, props)
  );
};

exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _thread = require('../../reducers/thread');

var actions = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function getIcon(subscription) {
  if (subscription === true) {
    return 'star';
  } else if (subscription === false) {
    return 'star_half';
  } else {
    return 'star_border';
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return _react2.default.createElement(
    'ul',
    { className: props.dropdownClassName || "dropdown-menu" },
    _react2.default.createElement(Disable, props),
    _react2.default.createElement(Enable, props),
    _react2.default.createElement(Email, props)
  );
}

var Disable = exports.Disable = function (_React$Component) {
  _inherits(Disable, _React$Component);

  function Disable() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Disable.__proto__ || Object.getPrototypeOf(Disable)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, 'unsubscribe');
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Disable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_border'
          ),
          gettext("Unsubscribe")
        )
      );
    }
  }]);

  return Disable;
}(_react2.default.Component);

var Enable = exports.Enable = function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  function Enable() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Enable.__proto__ || Object.getPrototypeOf(Enable)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, 'notify');
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Enable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_half'
          ),
          gettext("Subscribe")
        )
      );
    }
  }]);

  return Enable;
}(_react2.default.Component);

var Email = exports.Email = function (_React$Component3) {
  _inherits(Email, _React$Component3);

  function Email() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Email.__proto__ || Object.getPrototypeOf(Email)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, 'email');
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Email, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star'
          ),
          gettext("Subscribe with e-mail")
        )
      );
    }
  }]);

  return Email;
}(_react2.default.Component);

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store2.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'subscription', value: value }]).then(function (finalState) {
    _store2.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":306,"../../services/ajax":311,"../../services/snackbar":322,"../../services/store":323,"react":"react"}],190:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'row row-toolbar' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-12 text-center visible-xs-block' },
      _react2.default.createElement(_paginator.More, { more: props.posts.more }),
      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer' })
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-md-7' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-sm-4 col-md-5' },
          _react2.default.createElement(_paginator.Pager, props)
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-sm-8 col-md-7 hidden-xs' },
          _react2.default.createElement(_paginator.More, { more: props.posts.more })
        )
      )
    ),
    _react2.default.createElement(
      Options,
      { visible: !!props.user.id },
      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer hidden-md hidden-lg' }),
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(Spacer, props),
        _react2.default.createElement(Moderation, props),
        _react2.default.createElement(Subscription, props),
        _react2.default.createElement(Reply, {
          thread: props.thread,
          onClick: props.openReplyForm
        })
      )
    )
  );
};

exports.Options = Options;
exports.Moderation = Moderation;
exports.Subscription = Subscription;
exports.Reply = Reply;
exports.Spacer = Spacer;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _paginator = require('./paginator');

var _posts = require('./moderation/posts');

var _posts2 = _interopRequireDefault(_posts);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Options(props) {
  if (!props.visible) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-md-5' },
    props.children
  );
}

function Moderation(props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4 hidden-xs' },
    _react2.default.createElement(_posts2.default, props)
  );
}

function Subscription(props) {
  var xsClass = "col-xs-6";
  if (!props.thread.acl.can_reply) {
    xsClass = 'col-xs-12';
  }

  return _react2.default.createElement(
    'div',
    { className: xsClass + " col-sm-4" },
    _react2.default.createElement(_subscription2.default, _extends({
      btnClassName: 'btn-block',
      className: 'dropup'
    }, props))
  );
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-6 col-sm-4' },
    _react2.default.createElement(_replyButton2.default, {
      className: 'btn btn-primary btn-block btn-outline',
      onClick: props.onClick
    })
  );
}

function Spacer(props) {
  if (props.thread.acl.can_reply) return null;

  return _react2.default.createElement('div', { className: 'hidden-xs hidden-sm col-sm-4' });
}

},{"./moderation/posts":177,"./paginator":185,"./reply-button":186,"./subscription":189,"react":"react"}],191:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AddParticipantCompact = exports.AddParticipant = exports.StartPollCompact = exports.StartPoll = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  var hiddenSpecialOption = !props.thread.acl.can_add_participants && (!props.thread.acl.can_start_poll || props.thread.poll);

  return _react2.default.createElement(
    'div',
    { className: 'row row-toolbar row-toolbar-bottom-margin' },
    _react2.default.createElement(GotoMenu, props),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-9 col-md-5 col-md-offset-2' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(Spacer, { visible: !props.user.id }),
        _react2.default.createElement(Spacer, { visible: hiddenSpecialOption }),
        _react2.default.createElement(SubscriptionMenu, props),
        _react2.default.createElement(StartPoll, props),
        _react2.default.createElement(AddParticipant, props),
        _react2.default.createElement(Reply, props)
      )
    )
  );
};

exports.GotoMenu = GotoMenu;
exports.GotoNew = GotoNew;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.CompactOptions = CompactOptions;
exports.GotoNewCompact = GotoNewCompact;
exports.GotoUnapprovedCompact = GotoUnapprovedCompact;
exports.GotoLastCompact = GotoLastCompact;
exports.Reply = Reply;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Spacer = Spacer;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

var _addParticipant = require('../add-participant');

var _addParticipant2 = _interopRequireDefault(_addParticipant);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function GotoMenu(props) {
  var user = props.user;


  var className = 'col-xs-3 col-sm-3 col-md-5';
  if (user.is_anonymous) {
    className = 'col-xs-12 col-sm-3 col-md-5';
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row hidden-xs hidden-sm' },
      _react2.default.createElement(GotoLast, { thread: props.thread }),
      _react2.default.createElement(GotoNew, { thread: props.thread }),
      _react2.default.createElement(GotoUnapproved, { thread: props.thread })
    ),
    _react2.default.createElement(CompactOptions, props)
  );
}

function GotoNew(props) {
  if (!props.thread.is_new) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4' },
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.new_post,
        className: 'btn btn-default btn-block btn-outline',
        title: gettext('Go to first new post')
      },
      gettext("New")
    )
  );
}

function GotoUnapproved(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4' },
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.unapproved_post,
        className: 'btn btn-default btn-block btn-outline',
        title: gettext('Go to first unapproved post')
      },
      gettext("Unapproved")
    )
  );
}

function GotoLast(props) {
  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4' },
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.last_post,
        className: 'btn btn-default btn-block btn-outline',
        title: gettext('Go to last post')
      },
      gettext("Last")
    )
  );
}

function CompactOptions(props) {
  var user = props.user;

  if (user.is_anonymous) {
    return _react2.default.createElement(
      'div',
      { className: 'visible-xs-block visible-sm-block' },
      _react2.default.createElement(
        'a',
        {
          href: props.thread.url.last_post,
          className: 'btn btn-default btn-block btn-outline'
        },
        gettext("Last post")
      )
    );
  }

  return _react2.default.createElement(
    'div',
    { className: 'dropdown visible-xs-block visible-sm-block' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle btn-block btn-outline',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'expand_more'
      ),
      _react2.default.createElement(
        'span',
        { className: 'btn-text hidden-xs' },
        gettext("Options")
      )
    ),
    _react2.default.createElement(
      'ul',
      { className: 'dropdown-menu' },
      _react2.default.createElement(StartPollCompact, props),
      _react2.default.createElement(AddParticipantCompact, props),
      _react2.default.createElement(GotoNewCompact, props),
      _react2.default.createElement(GotoUnapprovedCompact, props),
      _react2.default.createElement(GotoLastCompact, props)
    )
  );
}

function GotoNewCompact(props) {
  if (!props.thread.is_new) return null;

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.new_post,
        className: 'btn btn-link'
      },
      gettext("Go to first new post")
    )
  );
}

function GotoUnapprovedCompact(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.unapproved_post,
        className: 'btn btn-link'
      },
      gettext("Go to first unapproved post")
    )
  );
}

function GotoLastCompact(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.last_post,
        className: 'btn btn-link'
      },
      gettext("Go to last post")
    )
  );
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4 hidden-xs' },
    _react2.default.createElement(_replyButton2.default, {
      className: 'btn btn-primary btn-block btn-outline',
      onClick: props.openReplyForm
    })
  );
}

function SubscriptionMenu(props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-4' },
    _react2.default.createElement(_subscription2.default, _extends({
      className: 'dropdown',
      dropdownClassName: 'dropdown-menu dropdown-menu-right'
    }, props))
  );
}

var StartPoll = exports.StartPoll = function (_React$Component) {
  _inherits(StartPoll, _React$Component);

  function StartPoll() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, StartPoll);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = StartPoll.__proto__ || Object.getPrototypeOf(StartPoll)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'POLL',
        submit: _this.props.thread.api.poll,

        thread: _this.props.thread,
        poll: null
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(StartPoll, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { className: 'col-sm-4 hidden-xs' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-outline',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'poll'
          ),
          gettext("Add poll")
        )
      );
    }
  }]);

  return StartPoll;
}(_react2.default.Component);

var StartPollCompact = exports.StartPollCompact = function (_StartPoll) {
  _inherits(StartPollCompact, _StartPoll);

  function StartPollCompact() {
    _classCallCheck(this, StartPollCompact);

    return _possibleConstructorReturn(this, (StartPollCompact.__proto__ || Object.getPrototypeOf(StartPollCompact)).apply(this, arguments));
  }

  _createClass(StartPollCompact, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          gettext("Add poll")
        )
      );
    }
  }]);

  return StartPollCompact;
}(StartPoll);

var AddParticipant = exports.AddParticipant = function (_React$Component2) {
  _inherits(AddParticipant, _React$Component2);

  function AddParticipant() {
    var _ref2;

    var _temp2, _this3, _ret2;

    _classCallCheck(this, AddParticipant);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = AddParticipant.__proto__ || Object.getPrototypeOf(AddParticipant)).call.apply(_ref2, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_addParticipant2.default, { thread: _this3.props.thread }));
    }, _temp2), _possibleConstructorReturn(_this3, _ret2);
  }

  _createClass(AddParticipant, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;

      return _react2.default.createElement(
        'div',
        { className: 'col-sm-4 hidden-xs' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-outline',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'person_add'
          ),
          gettext("Add participant")
        )
      );
    }
  }]);

  return AddParticipant;
}(_react2.default.Component);

var AddParticipantCompact = exports.AddParticipantCompact = function (_AddParticipant) {
  _inherits(AddParticipantCompact, _AddParticipant);

  function AddParticipantCompact() {
    _classCallCheck(this, AddParticipantCompact);

    return _possibleConstructorReturn(this, (AddParticipantCompact.__proto__ || Object.getPrototypeOf(AddParticipantCompact)).apply(this, arguments));
  }

  _createClass(AddParticipantCompact, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          gettext("Add participant")
        )
      );
    }
  }]);

  return AddParticipantCompact;
}(AddParticipant);

function Spacer(props) {
  if (!props.visible) return null;

  return _react2.default.createElement('div', { className: 'col-sm-4 hidden-xs' });
}

},{"../../services/modal":317,"../../services/posting":321,"../add-participant":2,"./reply-button":186,"./subscription":189,"react":"react"}],192:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!props.isLoaded) {
    return _react2.default.createElement(_preview2.default, null);
  }

  if (props.threads.length === 0) {
    return _react2.default.createElement(
      _empty2.default,
      {
        diffSize: props.diffSize,
        applyDiff: props.applyDiff
      },
      props.children
    );
  }

  return _react2.default.createElement(_ready2.default, {
    activeCategory: props.category,
    categories: props.categories,
    list: props.list,
    threads: props.threads,

    diffSize: props.diffSize,
    applyDiff: props.applyDiff,

    showOptions: props.showOptions,
    selection: props.selection,

    busyThreads: props.busyThreads
  });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _empty = require('./list/empty');

var _empty2 = _interopRequireDefault(_empty);

var _ready = require('./list/ready');

var _ready2 = _interopRequireDefault(_ready);

var _preview = require('./list/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./list/empty":194,"./list/preview":195,"./list/ready":196,"react":"react"}],193:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var diffSize = props.diffSize,
      applyDiff = props.applyDiff;


  if (diffSize === 0) return null;

  return _react2.default.createElement(
    "li",
    { className: "list-group-item threads-diff-message" },
    _react2.default.createElement(
      "button",
      {
        type: "button",
        className: "btn btn-block btn-default",
        onClick: applyDiff
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "cached"
      ),
      _react2.default.createElement(
        "span",
        { className: "diff-message" },
        getMessage(diffSize)
      )
    )
  );
};

exports.getMessage = getMessage;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function getMessage(diffSize) {
  var message = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", diffSize);

  return interpolate(message, {
    threads: diffSize
  }, true);
}

},{"react":"react"}],194:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize === 0) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(_diffMessage2.default, {
        applyDiff: this.props.applyDiff,
        diffSize: this.props.diffSize
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.children
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./diff-message":193,"react":"react"}],195:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _preview = require('../thread/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          _react2.default.createElement(_preview2.default, null)
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/preview":203,"react":"react"}],196:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'threads-list ui-ready' },
    _react2.default.createElement(
      'ul',
      { className: 'list-group' },
      _react2.default.createElement(_diffMessage2.default, {
        diffSize: props.diffSize,
        applyDiff: props.applyDiff
      }),
      props.threads.map(function (thread) {
        return _react2.default.createElement(_ready2.default, {
          activeCategory: props.activeCategory,
          categories: props.categories,
          list: props.list,
          thread: thread,

          showOptions: props.showOptions,
          isSelected: props.selection.indexOf(thread.id) >= 0,

          isBusy: props.busyThreads.indexOf(thread.id) >= 0,
          key: thread.id
        });
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

var _ready = require('../thread/ready');

var _ready2 = _interopRequireDefault(_ready);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../thread/ready":204,"./diff-message":193,"react":"react"}],197:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      isBusy = _ref.isBusy,
      showOptions = _ref.showOptions,
      isSelected = _ref.isSelected,
      thread = _ref.thread;

  var className = 'col-xs-12 col-sm-12';
  if (showOptions) {
    if (thread.moderation.length) {
      className = 'col-xs-6 col-sm-12';
    } else {
      className = 'col-xs-9 col-sm-12';
    }
  }

  var statusFlags = 0;
  if (thread.is_hidden) statusFlags += 1;
  if (thread.is_closed) statusFlags += 1;
  if (thread.has_poll) statusFlags += 1;

  var allFlagsVisible = showOptions && statusFlags === 3;

  var textClassName = 'detail-text hidden-xs';
  if (allFlagsVisible) {
    textClassName += ' hidden-sm';
  }

  return _react2.default.createElement(
    'div',
    { className: 'row thread-details-bottom' },
    _react2.default.createElement(
      'div',
      { className: className },
      _react2.default.createElement(_category2.default, {
        className: 'item-title thread-detail-category hidden-xs',
        category: category
      }),
      _react2.default.createElement(HiddenLabel, {
        textClassName: textClassName,
        display: thread.is_hidden
      }),
      _react2.default.createElement(ClosedLabel, {
        textClassName: textClassName,
        display: thread.is_closed
      }),
      _react2.default.createElement(PollLabel, {
        textClassName: textClassName,
        display: thread.has_poll
      }),
      _react2.default.createElement(RepliesLabel, {
        forceFullText: !showOptions || statusFlags < 2,
        replies: thread.replies
      }),
      _react2.default.createElement(LastReplyLabel, {
        datetime: thread.last_post_on,
        url: thread.url.last_post
      }),
      _react2.default.createElement(LastPoster, {
        posterName: thread.last_poster_name,
        url: thread.url.last_poster
      })
    ),
    _react2.default.createElement(_options.OptionsXs, {
      disabled: isBusy,
      display: showOptions,
      isSelected: isSelected,
      thread: thread
    })
  );
};

exports.HiddenLabel = HiddenLabel;
exports.ClosedLabel = ClosedLabel;
exports.PollLabel = PollLabel;
exports.RepliesLabel = RepliesLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

var _options = require('../options');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function HiddenLabel(_ref2) {
  var display = _ref2.display,
      textClassName = _ref2.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-hidden' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'visibility_off'
    ),
    _react2.default.createElement(
      'span',
      { className: textClassName },
      gettext("Hidden")
    )
  );
}

function ClosedLabel(_ref3) {
  var display = _ref3.display,
      textClassName = _ref3.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-closed' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'lock_outline'
    ),
    _react2.default.createElement(
      'span',
      { className: textClassName },
      gettext("Closed")
    )
  );
}

function PollLabel(_ref4) {
  var display = _ref4.display,
      textClassName = _ref4.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-poll' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'assessment'
    ),
    _react2.default.createElement(
      'span',
      { className: textClassName },
      gettext("Poll")
    )
  );
}

function RepliesLabel(_ref5) {
  var replies = _ref5.replies,
      forceFullText = _ref5.forceFullText;

  var text = ngettext("%(replies)s reply", "%(replies)s replies", replies);

  var compactClassName = '';
  var fullClassName = '';

  if (forceFullText) {
    compactClassName = 'detail-text hide';
    fullClassName = 'detail-text';
  } else {
    compactClassName = 'detail-text visible-xs-inline-block';
    fullClassName = 'detail-text hidden-xs';
  }

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-replies' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'forum'
    ),
    _react2.default.createElement(
      'span',
      { className: compactClassName },
      replies
    ),
    _react2.default.createElement(
      'span',
      { className: fullClassName },
      interpolate(text, { replies: replies }, true)
    )
  );
}

function LastReplyLabel(_ref6) {
  var datetime = _ref6.datetime,
      url = _ref6.url;

  return _react2.default.createElement(
    'a',
    {
      className: 'visible-sm-inline-block thread-detail-last-reply',
      href: url,
      title: datetime.format('LLL')
    },
    datetime.fromNow(true)
  );
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;

  var className = 'visible-sm-inline-block item-title thread-last-poster';

  if (url) {
    return _react2.default.createElement(
      'a',
      { className: className, href: url },
      posterName
    );
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    posterName
  );
}

},{"../options":202,"./category":198,"react":"react"}],198:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      className = _ref.className;

  if (!category) return null;

  if (category.css_class) {
    className += ' thread-detail-category-' + category.css_class;
  }

  return _react2.default.createElement(
    'a',
    { className: className, href: category.absolute_url },
    category.name
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],199:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TopDetails = exports.BottomDetails = undefined;

var _bottom = require('./bottom');

var _bottom2 = _interopRequireDefault(_bottom);

var _top = require('./top');

var _top2 = _interopRequireDefault(_top);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
exports.BottomDetails = _bottom2.default;
exports.TopDetails = _top2.default;

},{"./bottom":197,"./top":200}],200:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      thread = _ref.thread;

  return _react2.default.createElement(
    'div',
    { className: 'thread-details-top' },
    _react2.default.createElement(NewLabel, {
      isRead: thread.is_read,
      url: thread.url.new_post
    }),
    _react2.default.createElement(PinnedLabel, { weight: thread.weight }),
    _react2.default.createElement(UnapprovedLabel, {
      thread: thread.is_unapproved,
      posts: thread.has_unapproved_posts
    }),
    _react2.default.createElement(_category2.default, {
      className: 'item-title thread-detail-category visible-xs-inline-block',
      category: category
    }),
    _react2.default.createElement(LastReplyLabel, {
      datetime: thread.last_post_on,
      url: thread.url.last_post
    }),
    _react2.default.createElement(LastPoster, {
      posterName: thread.last_poster_name,
      url: thread.url.last_poster
    })
  );
};

exports.NewLabel = NewLabel;
exports.PinnedLabel = PinnedLabel;
exports.UnapprovedLabel = UnapprovedLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NewLabel(_ref2) {
  var isRead = _ref2.isRead,
      url = _ref2.url;

  if (isRead) return null;

  return _react2.default.createElement(
    'a',
    {
      className: 'thread-detail-new',
      href: url
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'comment'
    ),
    _react2.default.createElement(
      'span',
      { className: 'detail-text' },
      gettext("New posts")
    )
  );
} /* jshint ignore:start */
function PinnedLabel(_ref3) {
  var weight = _ref3.weight;

  if (weight === 0) return null;

  var className = 'thread-detail-pinned-globally';
  var icon = 'bookmark';
  var text = gettext("Pinned globally");

  if (weight === 1) {
    className = 'thread-detail-pinned-locally';
    icon = 'bookmark_border';
    text = gettext("Pinned locally");
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      icon
    ),
    _react2.default.createElement(
      'span',
      { className: 'detail-text' },
      text
    )
  );
}

function UnapprovedLabel(_ref4) {
  var posts = _ref4.posts,
      thread = _ref4.thread;

  if (!posts && !thread) return null;

  var className = 'thread-detail-unapproved-posts';
  var icon = 'remove_circle_outline';
  var text = gettext("Unapproved posts");

  if (thread) {
    className = 'thread-detail-unapproved';
    icon = 'remove_circle';
    text = gettext("Unapproved");
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      icon
    ),
    _react2.default.createElement(
      'span',
      { className: 'detail-text' },
      text
    )
  );
}

function LastReplyLabel(_ref5) {
  var datetime = _ref5.datetime,
      url = _ref5.url;

  return _react2.default.createElement(
    'a',
    {
      className: 'visible-xs-inline-block thread-detail-last-reply',
      href: url,
      title: datetime.format('LLL')
    },
    datetime.fromNow(true)
  );
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;


  if (url) {
    return _react2.default.createElement(
      'a',
      {
        className: 'visible-xs-inline-block item-title thread-last-poster',
        href: url
      },
      posterName
    );
  }

  return _react2.default.createElement(
    'span',
    { className: 'visible-xs-inline-block item-title thread-last-poster' },
    posterName
  );
}

},{"./category":198,"react":"react"}],201:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var thread = _ref.thread;

  return _react2.default.createElement(
    'div',
    { className: 'media' },
    _react2.default.createElement(
      'div',
      { className: 'media-left' },
      _react2.default.createElement(
        _userUrl2.default,
        {
          className: 'thread-last-poster-avatar',
          url: thread.url.last_poster
        },
        _react2.default.createElement(_avatar2.default, {
          className: 'media-object',
          size: 40,
          user: thread.last_poster
        })
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'media-body' },
      _react2.default.createElement(
        _userUrl2.default,
        {
          className: 'item-title thread-last-poster',
          url: thread.url.last_poster
        },
        thread.last_poster_name
      ),
      _react2.default.createElement(Timestamp, {
        datetime: thread.last_post_on,
        url: thread.url.last_post
      })
    )
  );
};

exports.Timestamp = Timestamp;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userUrl = require('./user-url');

var _userUrl2 = _interopRequireDefault(_userUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Timestamp(_ref2) {
  var datetime = _ref2.datetime,
      url = _ref2.url;

  return _react2.default.createElement(
    'a',
    {
      className: 'thread-last-reply',
      href: url,
      title: datetime.format('LLL')
    },
    datetime.fromNow(true)
  );
}

},{"../../avatar":4,"./user-url":209,"react":"react"}],202:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Checkbox = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Options = Options;
exports.OptionsXs = OptionsXs;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _compact = require('./subscription/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./subscription/full');

var _full2 = _interopRequireDefault(_full);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function Options(_ref) {
  var display = _ref.display,
      disabled = _ref.disabled,
      isSelected = _ref.isSelected,
      thread = _ref.thread;

  if (!display) return null;

  var className = 'col-sm-2 col-md-2 hidden-xs';
  if (thread.moderation.length) {
    className = 'col-sm-3 col-md-2 hidden-xs';
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row thread-options' },
      _react2.default.createElement(_full2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(_compact2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(Checkbox, {
        thread: thread,
        disabled: disabled,
        isSelected: isSelected
      })
    )
  );
}

function OptionsXs(_ref2) {
  var display = _ref2.display,
      disabled = _ref2.disabled,
      isSelected = _ref2.isSelected,
      thread = _ref2.thread;

  if (!display) return null;

  var className = '';
  if (thread.moderation.length) {
    className += 'col-xs-6';
  } else {
    className += 'col-xs-3';
  }
  className += ' visible-xs-block thread-options-xs';

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row thread-options' },
      _react2.default.createElement(_full2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(_compact2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(Checkbox, {
        thread: thread,
        disabled: disabled,
        isSelected: isSelected
      })
    )
  );
}

var Checkbox = exports.Checkbox = function (_React$Component) {
  _inherits(Checkbox, _React$Component);

  function Checkbox() {
    var _ref3;

    var _temp, _this, _ret;

    _classCallCheck(this, Checkbox);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref3 = Checkbox.__proto__ || Object.getPrototypeOf(Checkbox)).call.apply(_ref3, [this].concat(args))), _this), _this.toggleSelection = function () {
      _store2.default.dispatch(select.item(_this.props.thread.id));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Checkbox, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          disabled = _props.disabled,
          isSelected = _props.isSelected,
          thread = _props.thread;


      if (!thread.moderation.length) return null;

      return _react2.default.createElement(
        'div',
        { className: 'col-xs-6' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-icon btn-block',
            onClick: this.toggleSelection,
            disabled: disabled
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            isSelected ? 'check_box' : 'check_box_outline_blank'
          )
        )
      );
    }
  }]);

  return Checkbox;
}(_react2.default.Component);

},{"../../../reducers/selection":304,"../../../services/store":323,"./subscription/compact":205,"./subscription/full":206,"react":"react"}],203:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item thread-preview' },
        _react2.default.createElement(
          'div',
          { className: 'thread-details-top visible-xs-block' },
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(30, 80) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(30, 80) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(30, 80) + "px" }
            },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'span',
          { className: 'item-title thread-title' },
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(60, 200) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text hidden-xs',
              style: { width: random.int(60, 200) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text hidden-xs',
              style: { width: random.int(60, 200) + "px" }
            },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'thread-details-bottom' },
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 80) + "px" }
              },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 80) + "px" }
              },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 80) + "px" }
              },
              '\xA0'
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":334,"react":"react"}],204:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var activeCategory = props.activeCategory,
      categories = props.categories,
      list = props.list,
      thread = props.thread,
      isBusy = props.isBusy,
      isSelected = props.isSelected,
      showOptions = props.showOptions;


  var category = null;
  if (activeCategory.id !== thread.category) {
    category = categories[thread.category];
  }

  var className = 'thread-main col-xs-12';
  if (showOptions) {
    if (thread.moderation.length) {
      className += ' col-sm-9 col-md-7';
    } else {
      className += ' col-sm-10 col-md-7';
    }
  } else {
    className += ' col-sm-12 col-md-9';
  }

  return _react2.default.createElement(
    'li',
    { className: getClassName(thread.is_read, isBusy, isSelected) },
    _react2.default.createElement(_details.TopDetails, {
      category: category,
      thread: thread
    }),
    _react2.default.createElement(
      'div',
      { className: 'row thread-row' },
      _react2.default.createElement(
        'div',
        { className: className },
        _react2.default.createElement(
          'div',
          { className: 'media' },
          _react2.default.createElement(
            'div',
            { className: 'media-left hidden-xs' },
            _react2.default.createElement(
              _userUrl2.default,
              {
                className: 'thread-starter-avatar',
                url: thread.url.starter
              },
              _react2.default.createElement(_avatar2.default, {
                size: 40,
                user: thread.starter
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'media-body' },
            _react2.default.createElement(
              'a',
              { href: thread.url.index, className: 'item-title thread-title' },
              thread.title
            ),
            _react2.default.createElement(_details.BottomDetails, {
              category: category,
              disabled: isBusy,
              isSelected: isSelected,
              showOptions: showOptions,
              thread: thread
            })
          )
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'col-md-3 hidden-xs hidden-sm thread-last-action' },
        _react2.default.createElement(_lastAction2.default, { thread: thread })
      ),
      _react2.default.createElement(_options.Options, {
        disabled: isBusy,
        display: showOptions,
        isSelected: isSelected,
        thread: thread
      })
    )
  );
};

exports.getClassName = getClassName;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _details = require('./details');

var _lastAction = require('./last-action');

var _lastAction2 = _interopRequireDefault(_lastAction);

var _options = require('./options');

var _userUrl = require('./user-url');

var _userUrl2 = _interopRequireDefault(_userUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getClassName(isRead, isBusy, isSelected) {
  var styles = ['list-group-item'];

  if (isRead) {
    styles.push('thread-read');
  } else {
    styles.push('thread-new');
  }

  if (isBusy) {
    styles.push('thread-busy');
  } else if (isSelected) {
    styles.push('thread-selected');
  }

  return styles.join(' ');
} /* jshint ignore:start */

},{"../../avatar":4,"./details":199,"./last-action":201,"./options":202,"./user-url":209,"react":"react"}],205:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _full = require('./full');

var _full2 = _interopRequireDefault(_full);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _modal3 = require('../../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_SubscriptionFull) {
  _inherits(_class, _SubscriptionFull);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showOptions = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      var moderation = this.props.thread.moderation;


      var className = '';
      if (moderation.length) {
        className += 'col-xs-6';
      } else {
        className += 'col-xs-12';
      }
      className += ' hidden-md hidden-lg';

      return _react2.default.createElement(
        'div',
        { className: className },
        _react2.default.createElement(
          'button',
          {
            type: 'button',
            className: this.getClassName(),
            disabled: this.props.disabled,
            onClick: this.showOptions
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.getIcon()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_full2.default);

exports.default = _class;

},{"../../../../services/modal":317,"./full":206,"./modal":207,"react":"react"}],206:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Label = Label;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return 'star';
      } else if (this.props.thread.subscription === false) {
        return 'star_half';
      }

      return 'star_border';
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle";
      }

      return "btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle";
    }
  }, {
    key: 'render',
    value: function render() {
      var _props$thread = this.props.thread,
          moderation = _props$thread.moderation,
          subscription = _props$thread.subscription;

      var fullwidth = !moderation.length;

      var className = fullwidth ? 'col-xs-12' : 'col-xs-6';
      className += ' hidden-xs hidden-sm';

      return _react2.default.createElement(
        'div',
        { className: className },
        _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: this.getClassName(),
                disabled: this.props.disabled,
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false'
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                this.getIcon()
              ),
              _react2.default.createElement(Label, {
                moderation: moderation,
                subscription: subscription
              })
            ),
            _react2.default.createElement(_options2.default, {
              className: 'dropdown-menu dropdown-menu-right',
              thread: this.props.thread
            })
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Label(_ref) {
  var moderation = _ref.moderation,
      subscription = _ref.subscription;

  if (moderation.length) return null;

  var text = gettext("Disabled");
  if (subscription === true) {
    text = gettext("E-mail");
  } else if (subscription === false) {
    text = gettext("Enabled");
  }

  return _react2.default.createElement(
    'span',
    { className: 'btn-text' },
    text
  );
}

},{"./options":208,"react":"react"}],207:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change subscription")
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'modal-menu', thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":208,"react":"react"}],208:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _threads = require('../../../../reducers/threads');

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var STATE_UPDATES = {
  'unsubscribe': null,
  'notify': false,
  'email': true
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setSubscription = function (newState) {
      _modal2.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax2.default.patch(_this.props.thread.api.index, [{ op: 'replace', path: 'subscription', value: newState }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.unsubscribe = function () {
      _this.setSubscription('unsubscribe');
    };

    _this.notify = function () {
      _this.setSubscription('notify');
    };

    _this.email = function () {
      _this.setSubscription('email');
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.unsubscribe },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_border'
            ),
            gettext("Unsubscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.notify },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_half'
            ),
            gettext("Subscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.email },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star'
            ),
            gettext("Subscribe with e-mail")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/threads":307,"../../../../services/ajax":311,"../../../../services/modal":317,"../../../../services/snackbar":322,"../../../../services/store":323,"../../../button":6,"react":"react"}],209:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var children = _ref.children,
      className = _ref.className,
      url = _ref.url;

  if (url) {
    return _react2.default.createElement(
      'a',
      { className: className, href: url },
      children
    );
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    children
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],210:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.absolute_url + this.props.listPath;
      } else {
        return this.props.category.absolute_url;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          _reactRouter.Link,
          { to: this.getUrl(), className: 'btn btn-link' },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'dropdown category-picker' },
        _react2.default.createElement(
          'button',
          {
            type: 'button',
            className: 'btn btn-default btn-outline dropdown-toggle btn-block',
            'data-toggle': 'dropdown',
            'aria-haspopup': 'true',
            'aria-expanded': 'false'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'label_outline'
          ),
          _react2.default.createElement(
            'span',
            { className: 'hidden-xs' },
            gettext("Category")
          )
        ),
        _react2.default.createElement(
          'ul',
          { className: 'dropdown-menu stick-to-bottom categories-menu' },
          this.props.choices.map(function (id) {
            if (_this3.props.categories[id]) {
              return _react2.default.createElement(Subcategory, {
                category: _this3.props.categories[id],
                listPath: _this3.props.list.path,
                key: id
              });
            } else {
              return null;
            }
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],211:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;
function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],212:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.pageLead) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(
            'div',
            { className: 'page-lead' },
            _react2.default.createElement(
              'p',
              null,
              this.props.pageLead
            )
          )
        );
        /* jshint ignore:end */
      } else if (this.props.route.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.category.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getDisableToolbar',
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: 'getToolbar',
    value: function getToolbar() {
      if (this.props.subcategories.length || this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(_toolbar2.default, { subcategories: this.props.subcategories,
          categories: this.props.route.categories,
          categoriesMap: this.props.route.categoriesMap,
          list: this.props.route.list,

          threads: this.props.threads,
          moderation: this.props.moderation,
          selection: this.props.selection,
          selectAllThreads: this.props.selectAllThreads,
          selectNoneThreads: this.props.selectNoneThreads,

          addThreads: this.props.addThreads,
          freezeThread: this.props.freezeThread,
          deleteThread: this.props.deleteThread,
          updateThread: this.props.updateThread,

          route: this.props.route,
          disabled: this.getDisableToolbar(),
          user: this.props.user });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'container' },
        this.getCategoryDescription(),
        this.getToolbar(),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../page-lead":59,"./toolbar":223,"react":"react"}],213:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ParentCategory = ParentCategory;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _nav = require('./nav');

var _nav2 = _interopRequireDefault(_nav);

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.markAsRead = function () {
      var message = gettext("Are you sure you want to mark those threads as read? This action is not reversible.");
      if (_this.props.route.category.parent) {
        message = gettext("Are you sure you want to mark threads in this category as read? This action is not reversible.");
      }

      var decision = confirm(message);
      if (!decision) return false;

      _this.setState({
        isBusy: true
      });

      _ajax2.default.post(_this.props.route.category.api_url.read).then(function () {
        _store2.default.dispatch((0, _threads.read)(_this.props.route.categoriesMap, _this.props.route.category));

        _this.setState({
          isBusy: false
        });

        _snackbar2.default.success(gettext("Threads have been marked as read."));
      }, function (rejection) {
        _this.setState({
          isBusy: false
        });

        _snackbar2.default.apiError(rejection);
      });
    };

    _this.startThread = function () {
      _posting2.default.open(_this.props.startThread || {
        mode: 'START',

        config: _2.default.get('THREAD_EDITOR_API'),
        submit: _2.default.get('THREADS_API'),

        category: _this.props.route.category.id
      });
    };

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'hasGoBackButton',

    /* jshint ignore:end */

    value: function hasGoBackButton() {
      return !!this.props.route.category.parent;
    }
  }, {
    key: 'getGoBackButton',
    value: function getGoBackButton() {
      if (!this.props.route.category.parent) return null;

      /* jshint ignore:start */
      var parent = this.props.categories[this.props.route.category.parent];

      return _react2.default.createElement(
        'div',
        { className: 'hidden-xs col-sm-2 col-lg-1' },
        _react2.default.createElement(
          _reactRouter.Link,
          {
            className: 'btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline',
            to: parent.absolute_url + this.props.route.list.path
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'keyboard_arrow_left'
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getStartThreadButton',
    value: function getStartThreadButton() {
      if (!this.props.user.id) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'col-xs-6' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn-primary btn-block btn-outline',
            onClick: this.startThread,
            disabled: this.props.disabled
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'chat'
          ),
          gettext("Start thread")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getMarkAsReadButton',
    value: function getMarkAsReadButton() {
      if (!this.props.user.id) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'col-xs-6' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn-default btn-block btn-outline',
            onClick: this.markAsRead,
            loading: this.state.isBusy,
            disabled: this.props.disabled
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'playlist_add_check'
          ),
          gettext("Mark as read")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var headerClassName = 'col-xs-12';
      if (this.hasGoBackButton()) {
        headerClassName += ' col-sm-10 col-lg-11 sm-margin-top-half';
      }

      var isAuthenticated = !!this.props.user.id;

      return _react2.default.createElement(
        'div',
        { className: 'page-header-bg' },
        _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: isAuthenticated ? "col-md-8" : "col-xs-12" },
                _react2.default.createElement(
                  'div',
                  { className: 'row' },
                  this.getGoBackButton(),
                  _react2.default.createElement(
                    'div',
                    { className: headerClassName },
                    _react2.default.createElement(ParentCategory, {
                      categories: this.props.categories,
                      category: this.props.route.category.parent
                    }),
                    _react2.default.createElement(
                      'h1',
                      null,
                      this.props.title
                    )
                  )
                )
              ),
              isAuthenticated && _react2.default.createElement(
                'div',
                { className: 'col-md-4 xs-margin-top' },
                _react2.default.createElement(
                  'div',
                  { className: 'row sm-margin-top' },
                  this.getMarkAsReadButton(),
                  this.getStartThreadButton()
                )
              )
            )
          ),
          _react2.default.createElement(_nav2.default, {
            baseUrl: this.props.route.category.absolute_url,
            list: this.props.route.list,
            lists: this.props.route.lists
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

/* jshint ignore:start */


exports.default = _class;
function ParentCategory(props) {
  var categories = props.categories,
      category = props.category;

  if (!category) return null;

  var parent = categories[category];

  return _react2.default.createElement(
    _reactRouter.Link,
    {
      className: 'go-back-sm visible-xs-block',
      to: parent.absolute_url
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_left'
    ),
    parent.parent ? parent.name : gettext("Threads")
  );
}
/* jshint ignore:end */

},{"../..":252,"../../reducers/threads":307,"../../services/ajax":311,"../../services/posting":321,"../../services/snackbar":322,"../../services/store":323,"../button":6,"../dropdown-toggle":20,"./nav":220,"react":"react","react-router":"react-router"}],214:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.list.type === 'all') {
        if (this.props.emptyMessage) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'list-group-item empty-message' },
            _react2.default.createElement(
              'p',
              { className: 'lead' },
              this.props.emptyMessage
            ),
            _react2.default.createElement(
              'p',
              null,
              gettext("Why not start one yourself?")
            )
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'list-group-item empty-message' },
            _react2.default.createElement(
              'p',
              { className: 'lead' },
              this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")
            ),
            _react2.default.createElement(
              'p',
              null,
              gettext("Why not start one yourself?")
            )
          );
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'list-group-item empty-message' },
          gettext("No threads matching specified criteria were found.")
        );
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],215:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _countdown = require('../../../utils/countdown');

var _countdown2 = _interopRequireDefault(_countdown);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      var errors = [];
      var countdown = new _countdown2.default(function () {
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(successMessage);
          if (onSuccess) {
            onSuccess();
          }
        }
      }, _this.props.threads.length);

      // update thread acl together with its state
      ops.push({ op: 'add', path: 'acl', value: true });

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.patch(thread.api.index, ops).then(function (data) {
          _this.props.updateThread(data);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Selected threads were pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Selected threads were pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Selected threads were unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Selected threads were approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Selected threads were opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Selected threads were closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Selected threads were unhidden."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Selected threads were hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user
      }));
    }, _this.merge = function () {
      var errors = [];
      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            'id': thread.id,
            'title': thread.title,
            'errors': [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar2.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        return;
      } else {
        _modal2.default.show(_react2.default.createElement(_merge2.default, _this.props));
      }
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      var errors = [];
      var countdown = new _countdown2.default(function () {
        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(gettext("Selected threads were deleted."));
        }

        // unfreeze non-deleted threads
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // reduce selection to non-deleted threads
        _store2.default.dispatch(select.all(_this.props.threads.map(function (item) {
          return item.id;
        })));
      }, _this.props.threads.length);

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.delete(thread.api.index).then(function (data) {
          _this.props.freezeThread(thread.id);
          _this.props.deleteThread(thread);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getPinGloballyButton',

    /* jshint ignore:end */

    value: function getPinGloballyButton() {
      if (this.props.moderation.can_pin !== 2) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinGlobally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark'
          ),
          gettext("Pin threads globally")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.moderation.can_pin === 0) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinLocally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark_border'
          ),
          gettext("Pin threads locally")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.moderation.can_pin === 0) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unpin,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'panorama_fish_eye'
          ),
          gettext("Unpin threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (!this.props.moderation.can_move) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.move,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (!this.props.moderation.can_merge) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.merge,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_merge'
          ),
          gettext("Merge threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (!this.props.moderation.can_approve) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.approve,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (!this.props.moderation.can_close) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.open,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Open threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (!this.props.moderation.can_close) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.close,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Close threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (!this.props.moderation.can_hide) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unhide,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (!this.props.moderation.can_hide) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            onClick: this.hide,
            type: 'button',
            className: 'btn btn-link'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.moderation.can_hide != 2) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.delete,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":304,"../../../services/ajax":311,"../../../services/modal":317,"../../../services/snackbar":322,"../../../services/store":323,"../../../utils/countdown":328,"./errors-list":216,"./merge":217,"./move":218,"react":"react"}],216:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ThreadErrors = ThreadErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
function ThreadErrors(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      props.thread.title
    ),
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled list-item-errors" },
      props.errors.map(function (item, i) {
        return _react2.default.createElement(
          "li",
          { key: i },
          item
        );
      })
    )
  );
}
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog",
          role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              { type: "button", className: "close", "data-dismiss": "modal",
                "aria-label": gettext("Close") },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              gettext("Threads moderation")
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              gettext("Errors were encountered when performing moderation action on one or more threads:")
            ),
            _react2.default.createElement(
              "ul",
              { className: "list-unstyled list-errored-items" },
              this.props.errors.map(function (item) {
                return _react2.default.createElement(ThreadErrors, {
                  errors: item.errors,
                  key: item.thread.id,
                  thread: item.thread
                });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],217:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _select = require('../../select');

var _select2 = _interopRequireDefault(_select);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../../reducers/threads');

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _mergePolls = require('../../merge-polls');

var _mergePolls2 = _interopRequireDefault(_mergePolls);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.getFormdata = function () {
      return {
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    };

    _this.handleSuccess = function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
        _this.props.deleteThread(thread);
      });

      // deselect all threads
      _store2.default.dispatch(select.none());

      // append merged thread, filter threads
      _this.props.addThreads([apiResponse]);
      _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

      // hide modal
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      if (rejection.status === 400) {
        if (rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergePolls2.default, {
            api: _index2.default.get('MERGE_THREADS_API'),
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            'errors': Object.assign({}, _this.state.errors, rejection)
          });
          _snackbar2.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    };

    _this.state = {
      isLoading: false,

      title: '',
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this.acl = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });

    _this.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('MERGE_THREADS_API'), this.getFormdata());
    }

    /* jshint ignore:start */

  }, {
    key: 'getWeightChoices',

    /* jshint ignore:end */

    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Thread title"),
              'for': 'id_title',
              validation: this.state.errors.title },
            _react2.default.createElement('input', { id: 'id_title',
              className: 'form-control',
              type: 'text',
              onChange: this.bindInput('title'),
              value: this.state.title })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Category"),
              'for': 'id_category',
              validation: this.state.errors.category },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
              onChange: this.onCategoryChange,
              value: this.state.category,
              choices: this.categoryChoices })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          this.renderWeightField(),
          this.renderHiddenField(),
          this.renderClosedField()
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              disabled: this.state.isLoading,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Merge threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMergeMessage',
    value: function renderCantMergeMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to merge threads to it.")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMergeMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":252,"../../../reducers/selection":304,"../../../reducers/threads":307,"../../../services/ajax":311,"../../../services/modal":317,"../../../services/snackbar":322,"../../../services/store":323,"../../../utils/validators":339,"../../button":6,"../../category-select":14,"../../form":42,"../../form-group":41,"../../merge-polls":45,"../../select":169,"./errors-list":216,"react":"react"}],218:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../../reducers/threads');

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal2.default.hide();

      var onSuccess = function onSuccess() {
        _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

        // deselect threads moved outside of visible scope
        var storeState = _store2.default.getState();
        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });
        _store2.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{ op: 'replace', path: 'category', value: _this.state.category }, { op: 'replace', path: 'flatten-categories', value: null }, { op: 'add', path: 'acl', value: true }], gettext("Selected threads were moved."), onSuccess);
    };

    _this.state = {
      category: null
    };

    var acls = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New category"),
              'for': 'id_new_category' },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_new_category',
              onChange: this.bindInput('category'),
              value: this.state.category,
              choices: this.categoryChoices })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              disabled: this.state.isLoading,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            'button',
            { className: 'btn btn-primary' },
            gettext("Move threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMoveMessage',
    value: function renderCantMoveMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to move threads to it.")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Move threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMoveMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/selection":304,"../../../reducers/threads":307,"../../../services/modal":317,"../../../services/store":323,"../../category-select":14,"../../form":42,"../../form-group":41,"react":"react"}],219:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.selectAll = function () {
      _store2.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    }, _this.selectNone = function () {
      _store2.default.dispatch(select.none());
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-link',
              type: 'button',
              onClick: this.selectAll
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box'
            ),
            gettext("Select all")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-link',
              type: 'button',
              onClick: this.selectNone
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box_outline_blank'
            ),
            gettext("Select none")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":304,"../../../services/store":323,"react":"react"}],220:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var baseUrl = _ref.baseUrl,
      list = _ref.list,
      lists = _ref.lists;

  if (lists.length < 2) return null;

  return _react2.default.createElement(
    'div',
    { className: 'page-tabs' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'nav nav-pills' },
        lists.map(function (item) {
          return _react2.default.createElement(
            _li2.default,
            {
              isControlled: true,
              isActive: item.path === list.path,
              key: baseUrl + item.path
            },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: baseUrl + item.path },
              item.name
            )
          );
        })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../li":43,"react":"react","react-router":"react-router"}],221:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSelect = getSelect;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSelect(options) {
  return function (store) {
    return {
      'options': options,
      'selection': store.selection,
      'threads': store.threads,
      'tick': store.tick.tick,
      'user': store.auth.user
    };
  };
}

function getLists(user) {
  var lists = [{
    type: 'all',
    path: '',
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: 'my',
      path: 'my/',
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: 'new',
      path: 'new/',
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: 'unread',
      path: 'unread/',
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: 'subscribed',
      path: 'subscribed/',
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: 'unapproved',
        path: 'unapproved/',
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _index2.default.get('CATEGORIES').forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;

      routes.push({
        path: category.absolute_url + list.path,
        component: (0, _reactRedux.connect)(getSelect(mode))(_route2.default),

        categories: _index2.default.get('CATEGORIES'),
        categoriesMap: categoriesMap,
        category: category,

        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../../index":252,"./route":222,"react-redux":"react-redux"}],222:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _compare = require('./compare');

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _utils = require('./utils');

var _threadsList = require('../threads-list');

var _threadsList2 = _interopRequireDefault(_threadsList);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _sets = require('../../utils/sets');

var sets = _interopRequireWildcard(_sets);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.page + 1);
    };

    _this.pollResponse = function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    };

    _this.addThreads = function (threads) {
      _store2.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    };

    _this.applyDiff = function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

        diff: {
          results: []
        }
      }));
    };

    _this.freezeThread = function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    };

    _this.updateThread = function (thread) {
      _store2.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    };

    _this.deleteThread = function (thread) {
      _store2.default.dispatch((0, _threads.deleteThread)(thread));
    };

    _this.state = {
      isMounted: true,

      isLoaded: false,
      isBusy: false,

      diff: {
        results: []
      },

      moderation: [],
      busyThreads: [],

      dropdown: false,
      subcategories: [],

      count: 0,
      more: 0,

      page: 1,
      pages: 1
    };

    var category = _this.getCategory();

    if (_index2.default.has('THREADS')) {
      _this.initWithPreloadedData(category, _index2.default.get('THREADS'));
    } else {
      _this.initWithoutPreloadedData(category);
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'getCategory',
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),

        subcategories: data.subcategories,

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      });

      this.startPolling(category);
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: 'loadThreads',
    value: function loadThreads(category) {
      var _this2 = this;

      var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

      _ajax2.default.get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        page: page || 1
      }, 'threads').then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (page === 1) {
          _store2.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

          subcategories: data.subcategories,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPolling',
    value: function startPolling(category) {
      _polls2.default.start({
        poll: 'threads',
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setPageTitle();

      if (_index2.default.has('THREADS')) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store2.default.dispatch((0, _threads.hydrate)(_index2.default.pop('THREADS').results));

        this.setState({
          isLoaded: true
        });
      }

      _store2.default.dispatch(select.none());
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.state.isMounted = false;
      _polls2.default.stop('threads');
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }

      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      if (this.props.route.category.level || !_index2.default.get('THREADS_ON_INDEX')) {
        _pageTitle2.default.set((0, _utils.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        _pageTitle2.default.set(this.props.options.title);
      } else {
        if (_index2.default.get('SETTINGS').forum_index_title) {
          document.title = _index2.default.get('SETTINGS').forum_index_title;
        } else {
          document.title = _index2.default.get('SETTINGS').forum_name;
        }
      }
    }
  }, {
    key: 'getSorting',
    value: function getSorting() {
      if (this.props.route.category.level) {
        return _compare.compareWeight;
      } else {
        return _compare.compareGlobalWeight;
      }
    }

    /* jshint ignore:start */

    // AJAX

    // Thread state utils

  }, {
    key: 'getMoreButton',

    /* jshint ignore:end */

    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn btn-default btn-outline',
              loading: this.state.isBusy || this.state.busyThreads.length,
              onClick: this.loadMore
            },
            gettext("Show more")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'page page-threads';
      className += ' page-threads-' + this.props.route.list.type;
      if (this.props.route.category.css_class) {
        className += ' page-' + this.props.route.category.css_class;
      }
      return className;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, {
          categories: this.props.route.categoriesMap,
          disabled: !this.state.isLoaded,
          startThread: this.props.options.startThread,
          threads: this.props.threads,
          title: this.getTitle(),
          toggleNav: this.toggleNav,
          route: this.props.route,
          user: this.props.user
        }),
        _react2.default.createElement(
          _container2.default,
          {
            route: this.props.route,
            subcategories: this.state.subcategories,
            user: this.props.user,

            pageLead: this.props.options.pageLead,

            threads: this.props.threads,
            threadsCount: this.state.count,

            moderation: this.state.moderation,
            selection: this.props.selection,

            busyThreads: this.state.busyThreads,
            addThreads: this.addThreads,
            freezeThread: this.freezeThread,
            deleteThread: this.deleteThread,
            updateThread: this.updateThread,

            isLoaded: this.state.isLoaded,
            isBusy: this.state.isBusy
          },
          _react2.default.createElement(
            _threadsList2.default,
            {
              category: this.props.route.category,
              categories: this.props.route.categoriesMap,
              list: this.props.route.list,
              selection: this.props.selection,
              threads: this.props.threads,

              diffSize: this.state.diff.results.length,
              applyDiff: this.applyDiff,

              showOptions: !!this.props.user.id,

              isLoaded: this.state.isLoaded,
              busyThreads: this.state.busyThreads
            },
            _react2.default.createElement(_listEmpty2.default, {
              category: this.props.route.category,
              emptyMessage: this.props.options.emptyMessage,
              list: this.props.route.list
            })
          ),
          this.getMoreButton()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;

},{"../../index":252,"../../reducers/selection":304,"../../reducers/threads":307,"../../services/ajax":311,"../../services/page-title":319,"../../services/polls":320,"../../services/snackbar":322,"../../services/store":323,"../../utils/sets":337,"../button":6,"../threads-list":192,"../with-dropdown":250,"./compare":211,"./container":212,"./header":213,"./list-empty":214,"./utils":224,"react":"react"}],223:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categoryPicker = require('./category-picker');

var _categoryPicker2 = _interopRequireDefault(_categoryPicker);

var _controls = require('./moderation/controls');

var _controls2 = _interopRequireDefault(_controls);

var _selection = require('./moderation/selection');

var _selection2 = _interopRequireDefault(_selection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryPicker',
    value: function getCategoryPicker() {
      if (!this.props.subcategories.length) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(_categoryPicker2.default, {
        categories: this.props.categoriesMap,
        choices: this.props.subcategories,
        list: this.props.list
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'showModerationOptions',
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: 'getSelectedThreads',
    value: function getSelectedThreads() {
      var _this2 = this;

      return this.props.threads.filter(function (thread) {
        return _this2.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (!this.showModerationOptions()) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'col-xs-6 col-sm-3 col-md-2' },
        _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group dropdown' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: 'btn btn-default btn-outline dropdown-toggle',
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false',
                disabled: this.props.disabled || !this.props.selection.length
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'settings'
              ),
              gettext("Options")
            ),
            _react2.default.createElement(_controls2.default, {
              addThreads: this.props.addThreads,
              categories: this.props.categories,
              categoriesMap: this.props.categoriesMap,
              className: 'dropdown-menu dropdown-menu-right stick-to-bottom',
              deleteThread: this.props.deleteThread,
              freezeThread: this.props.freezeThread,
              moderation: this.props.moderation,
              route: this.props.route,
              threads: this.getSelectedThreads(),
              updateThread: this.props.updateThread,
              user: this.props.user
            })
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getSelectionButton',
    value: function getSelectionButton() {
      if (!this.showModerationOptions()) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'col-xs-3 col-sm-2 col-md-1' },
        _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group dropdown' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: 'btn btn-default btn-outline btn-icon dropdown-toggle',
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false',
                disabled: this.props.disabled
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'select_all'
              )
            ),
            _react2.default.createElement(_selection2.default, {
              className: 'dropdown-menu dropdown-menu-right stick-to-bottom',
              threads: this.props.threads
            })
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'row row-toolbar row-toolbar-bottom-margin' },
        _react2.default.createElement(
          'div',
          { className: 'col-xs-3 col-sm-3 col-md-2 dropdown' },
          this.getCategoryPicker()
        ),
        _react2.default.createElement('div', { className: 'hidden-xs col-sm-4 col-md-7' }),
        this.getModerationButton(),
        this.getSelectionButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-picker":210,"./moderation/controls":215,"./moderation/selection":219,"react":"react"}],224:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (_index2.default.get('SETTINGS').forum_index_title) {
      return _index2.default.get('SETTINGS').forum_index_title;
    } else {
      return _index2.default.get('SETTINGS').forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });

  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,

    can_approve: 0,
    can_close: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0
  };

  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin;
  });

  return moderation;
}

},{"../../index":252}],225:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _registerButton = require('../register-button');

var _registerButton2 = _interopRequireDefault(_registerButton);

var _signIn = require('../sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var GuestMenu = exports.GuestMenu = function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _possibleConstructorReturn(this, (GuestMenu.__proto__ || Object.getPrototypeOf(GuestMenu)).apply(this, arguments));
  }

  _createClass(GuestMenu, [{
    key: 'showSignInModal',
    value: function showSignInModal() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        {
          className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu'
        },
        _react2.default.createElement(
          'li',
          { className: 'guest-preview' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("You are browsing as guest.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext('Sign in or register to start and participate in discussions.')
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default btn-block',
                  onClick: this.showSignInModal,
                  type: 'button'
                },
                gettext("Sign in")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                _registerButton2.default,
                { className: 'btn-success btn-block' },
                gettext("Register")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestMenu;
}(_react2.default.Component);

var GuestNav = exports.GuestNav = function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _possibleConstructorReturn(this, (GuestNav.__proto__ || Object.getPrototypeOf(GuestNav)).apply(this, arguments));
  }

  _createClass(GuestNav, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'nav nav-guest' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn navbar-btn btn-default',
            onClick: this.showSignInModal,
            type: 'button'
          },
          gettext("Sign in")
        ),
        _react2.default.createElement(
          _registerButton2.default,
          { className: 'navbar-btn btn-success btn-outline' },
          gettext("Register")
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestNav;
}(GuestMenu);

var CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _possibleConstructorReturn(this, (CompactGuestNav.__proto__ || Object.getPrototypeOf(CompactGuestNav)).apply(this, arguments));
  }

  _createClass(CompactGuestNav, [{
    key: 'showGuestMenu',
    value: function showGuestMenu() {
      _mobileNavbarDropdown2.default.show(GuestMenu);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showGuestMenu },
        _react2.default.createElement(_avatar2.default, { size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactGuestNav;
}(_react2.default.Component);

},{"../../services/mobile-navbar-dropdown":316,"../../services/modal":317,"../avatar":4,"../register-button":157,"../sign-in.js":170,"react":"react"}],226:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserMenu = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _guestNav = require('./guest-nav');

var _userNav = require('./user-nav');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.GuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _possibleConstructorReturn(this, (CompactUserMenu.__proto__ || Object.getPrototypeOf(CompactUserMenu)).apply(this, arguments));
  }

  _createClass(CompactUserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.CompactGuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return CompactUserMenu;
}(_react2.default.Component);

function select(state) {
  return state.auth;
}

},{"./guest-nav":225,"./user-nav":227,"react":"react"}],227:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserNav = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PrivateThreadsBadge = PrivateThreadsBadge;
exports.UserNav = UserNav;
exports.UserPrivateThreadsLink = UserPrivateThreadsLink;
exports.selectUserMenu = selectUserMenu;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _root = require('../change-avatar/root');

var _root2 = _interopRequireDefault(_root);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'logout',
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));
      if (decision) {
        $('#hidden-logout-form').submit();
      }
    }
  }, {
    key: 'changeAvatar',
    value: function changeAvatar() {
      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var user = this.props.user;


      return _react2.default.createElement(
        'ul',
        {
          className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu'
        },
        _react2.default.createElement(
          'li',
          { className: 'dropdown-header' },
          _react2.default.createElement(
            'strong',
            null,
            user.username
          ),
          _react2.default.createElement(
            'ul',
            { className: 'list-unstyled list-inline user-stats' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'message'
              ),
              user.posts
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'forum'
              ),
              user.threads
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'favorite'
              ),
              user.followers
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'favorite_outline'
              ),
              user.following
            )
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: user.absolute_url },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'account_circle'
            ),
            gettext("See your profile")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _2.default.get('USERCP_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'done_all'
            ),
            gettext("Change options")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              className: 'btn-link',
              onClick: this.changeAvatar,
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Change avatar")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _2.default.get('PRIVATE_THREADS_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'message'
            ),
            gettext("Private threads"),
            _react2.default.createElement(PrivateThreadsBadge, { user: user })
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-block',
              onClick: this.logout,
              type: 'button'
            },
            gettext("Log out")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

function PrivateThreadsBadge(_ref) {
  var user = _ref.user;

  if (!user.unread_private_threads) return null;

  /* jshint ignore:start */
  return _react2.default.createElement(
    'span',
    { className: 'badge' },
    user.unread_private_threads
  );
  /* jshint ignore:end */
}

/* jshint ignore:start */
function UserNav(_ref2) {
  var user = _ref2.user;

  return _react2.default.createElement(
    'ul',
    { className: 'ul nav navbar-nav nav-user' },
    _react2.default.createElement(UserPrivateThreadsLink, { user: user }),
    _react2.default.createElement(
      'li',
      { className: 'dropdown' },
      _react2.default.createElement(
        'a',
        {
          'aria-haspopup': 'true',
          'aria-expanded': 'false',
          className: 'dropdown-toggle',
          'data-toggle': 'dropdown',
          href: user.absolute_url,
          role: 'button'
        },
        _react2.default.createElement(_avatar2.default, { user: user, size: '64' })
      ),
      _react2.default.createElement(UserMenu, { user: user })
    )
  );
}
/* jshint ignore:end */

function UserPrivateThreadsLink(props) {
  if (!props.user.unread_private_threads) return null;

  /* jshint ignore:start */
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        className: 'navbar-notification',
        href: _2.default.get('PRIVATE_THREADS_URL'),
        title: gettext("You have unread private threads.") },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'message'
      ),
      _react2.default.createElement(
        'span',
        { className: 'badge' },
        props.user.unread_private_threads
      )
    )
  );
  /* jshint ignore:end */
}

function selectUserMenu(state) {
  return { user: state.auth.user };
}

var CompactUserNav = exports.CompactUserNav = function (_React$Component2) {
  _inherits(CompactUserNav, _React$Component2);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _possibleConstructorReturn(this, (CompactUserNav.__proto__ || Object.getPrototypeOf(CompactUserNav)).apply(this, arguments));
  }

  _createClass(CompactUserNav, [{
    key: 'showUserMenu',
    value: function showUserMenu() {
      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showUserMenu },
        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '50' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactUserNav;
}(_react2.default.Component);

},{"../..":252,"../../services/mobile-navbar-dropdown":316,"../../services/modal":317,"../avatar":4,"../change-avatar/root":18,"react":"react","react-redux":"react-redux"}],228:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StatusLabel = exports.StatusIcon = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClass',
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.getClass() },
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var StatusIcon = exports.StatusIcon = function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _possibleConstructorReturn(this, (StatusIcon.__proto__ || Object.getPrototypeOf(StatusIcon)).apply(this, arguments));
  }

  _createClass(StatusIcon, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return 'remove_circle_outline';
      } else if (this.props.status.is_hidden) {
        return 'help_outline';
      } else if (this.props.status.is_online_hidden) {
        return 'label';
      } else if (this.props.status.is_offline_hidden) {
        return 'label_outline';
      } else if (this.props.status.is_online) {
        return 'lens';
      } else if (this.props.status.is_offline) {
        return 'panorama_fish_eye';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'material-icon status-icon' },
        this.getIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusIcon;
}(_react2.default.Component);

var StatusLabel = exports.StatusLabel = function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _possibleConstructorReturn(this, (StatusLabel.__proto__ || Object.getPrototypeOf(StatusLabel)).apply(this, arguments));
  }

  _createClass(StatusLabel, [{
    key: 'getHelp',
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.props.className || "status-label",
          title: this.getHelp() },
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusLabel;
}(_react2.default.Component);

function getStatusClassName(status) {
  var className = '';
  if (status.is_banned) {
    className = 'banned';
  } else if (status.is_hidden) {
    className = 'offline';
  } else if (status.is_online_hidden) {
    className = 'online';
  } else if (status.is_offline_hidden) {
    className = 'offline';
  } else if (status.is_online) {
    className = 'online';
  } else if (status.is_offline) {
    className = 'offline';
  }

  return 'user-status user-' + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format('LL, LT')
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],229:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          _react2.default.createElement(
            'span',
            { className: 'user-avatar' },
            _react2.default.createElement(_avatar2.default, { size: '100' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(80, 140) + "px" } },
            '\xA0'
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":334,"../avatar":4,"react":"react"}],230:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'renderUserAvatar',
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { user: this.props.change.changed_by, size: '100' })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { size: '100' })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'renderUsername',
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'item-title' },
          this.props.change.changed_by.username
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'item-title' },
          this.props.change.changed_by_username
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item', key: this.props.change.id },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          this.renderUserAvatar()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          this.renderUsername()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'old-username' },
            this.props.change.old_username
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'new-username' },
            this.props.change.new_username
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'abbr',
            { title: this.props.change.changed_on.format('LLL') },
            this.props.change.changed_on.fromNow()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":4,"react":"react"}],231:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],232:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changePreview = require('./change-preview');

var _changePreview2 = _interopRequireDefault(_changePreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_changePreview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change-preview":229,"react":"react"}],233:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _change = require('./change');

var _change2 = _interopRequireDefault(_change);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.changes.map(function (change) {
            return _react2.default.createElement(_change2.default, { change: change, key: change.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change":230,"react":"react"}],234:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { changes: this.props.changes });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { emptyMessage: this.props.emptyMessage });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-empty":231,"./list-preview":232,"./list-ready":233,"react":"react"}],235:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _userCard = require('./user-card');

var _userCard2 = _interopRequireDefault(_userCard);

var _userPreview = require('./user-preview');

var _userPreview2 = _interopRequireDefault(_userPreview);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.isLoaded;
    }
  }, {
    key: 'getPager',
    value: function getPager() {
      if (this.props.pages < 2) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(Pager, this.props);
      /* jshint ignore:end */
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.className) {
        return "users-cards-list " + this.props.className + " ui-ready";
      } else {
        return "users-cards-list ui-ready";
      }
    }
  }, {
    key: 'getColClassName',
    value: function getColClassName() {
      return "col-md-" + 12 / this.props.cols;
    }
  }, {
    key: 'getBody',
    value: function getBody() {
      var _this2 = this;

      if (this.props.isLoaded) {
        /* jshint ignore:start */
        return (0, _batch2.default)(this.props.users, this.props.cols).map(function (row, r) {
          return _react2.default.createElement(
            'div',
            { className: 'row', key: r },
            row.map(function (user) {
              return _react2.default.createElement(
                'div',
                { className: _this2.getColClassName(), key: user.id },
                _react2.default.createElement(_userCard2.default, {
                  showStatus: _this2.props.showStatus,
                  showRank: _this2.props.showRank,
                  user: user
                })
              );
            })
          );
        });
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        var row = [];
        for (var i = 0; i < this.props.cols; i++) {
          if (i === 0) {
            row.push(this.getColClassName());
          } else {
            row.push(this.getColClassName() + ' hidden-xs hidden-sm');
          }
        }

        return _react2.default.createElement(
          'div',
          { className: 'row' },
          row.map(function (className, i) {
            return _react2.default.createElement(
              'div',
              { className: className, key: i },
              _react2.default.createElement(_userPreview2.default, { showStatus: _this2.props.showStatus })
            );
          })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'users-cards-list ui-ready' },
        this.getBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/batch":326,"./user-card":236,"./user-preview":237,"react":"react"}],236:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        if (this.props.user.status) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            _userStatus2.default,
            { user: this.props.user, status: this.props.user.status },
            _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
              status: this.props.user.status }),
            _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
              status: this.props.user.status,
              className: 'status-label' })
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'user-status' },
            _react2.default.createElement(
              'span',
              { className: 'status-icon ui-preview-text' },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'status-label ui-preview-text',
                style: { width: random.int(30, 50) + "px" } },
              '\xA0'
            )
          );
          /* jshint ignore:end */
        }
      } else {
        return null;
      }
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (this.props.showRank) {
        if (this.props.user.rank.is_tab) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'a',
            { href: this.props.user.rank.absolute_url,
              className: 'item-title rank-name' },
            this.props.user.rank.name
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'item-title rank-name' },
            this.props.user.rank.name
          );
          /* jshint ignore:end */
        }
      } else {
        return null;
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.user.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-title' },
          this.props.user.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUserJoinedOn',
    value: function getUserJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'span',
        { className: 'user-joined-on', title: title },
        age
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getPostsCount',
    value: function getPostsCount() {
      var message = ngettext("%(posts)s post", "%(posts)s posts", this.props.user.posts);

      return interpolate(message, {
        'posts': this.props.user.posts
      }, true);
    }
  }, {
    key: 'getThreadsCount',
    value: function getThreadsCount() {
      var message = ngettext("%(threads)s thread", "%(threads)s threads", this.props.user.threads);

      return interpolate(message, {
        'threads': this.props.user.threads
      }, true);
    }
  }, {
    key: 'getFollowersCount',
    value: function getFollowersCount() {
      var message = ngettext("%(followers)s follower", "%(followers)s followers", this.props.user.followers);

      return interpolate(message, {
        'followers': this.props.user.followers
      }, true);
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.user.rank.css_class) {
        return 'user-card user-card-' + this.props.user.rank.css_class + ' ui-ready';
      } else {
        return 'user-card ui-ready';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url },
                  _react2.default.createElement(_avatar2.default, { user: this.props.user, size: 60, size2x: 100 })
                )
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url, className: 'item-title' },
                  this.props.user.username
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                this.getRankName(),
                this.getUserTitle(),
                this.getUserJoinedOn()
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  this.getPostsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  this.getThreadsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  this.getFollowersCount()
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":334,"../avatar":4,"../user-status":228,"react":"react"}],237:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-status' },
          _react2.default.createElement(
            'span',
            { className: 'status-icon ui-preview-text' },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'status-label ui-preview-text',
              style: { width: random.int(30, 50) + "px" } },
            '\xA0'
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'user-card ui-preview' },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(_avatar2.default, { size: '400', className: 'bg-image' }),
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(_avatar2.default, { size: '400' })
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'span',
                  { className: 'item-title' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(60, 150) + "px" } },
                    '\xA0'
                  )
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                _react2.default.createElement(
                  'span',
                  { className: 'user-joined-on' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(30, 50) + "px" } },
                    '\xA0'
                  )
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":334,"../avatar":4,"react":"react"}],238:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), { 'days': this.props.trackedPeriod }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],239:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_avatar2.default, { size: '50' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'span',
              { className: 'item-title' },
              _react2.default.createElement(
                'span',
                {
                  className: 'ui-preview-text',
                  style: { width: random.int(30, 80) + "px" }
                },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            _react2.default.createElement(
              'span',
              { className: 'user-status' },
              _react2.default.createElement(
                'span',
                { className: 'status-icon ui-preview-text' },
                '\xA0'
              ),
              _react2.default.createElement(
                'span',
                {
                  className: 'status-label ui-preview-text hidden-xs hidden-sm',
                  style: { width: random.int(30, 50) + "px" }
                },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-name' },
              _react2.default.createElement(
                'span',
                {
                  className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" }
                },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'user-title hidden-xs hidden-sm' },
              _react2.default.createElement(
                'span',
                {
                  className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" }
                },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-compact-stats visible-xs-block' },
            _react2.default.createElement(
              'span',
              { className: 'rank-position' },
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(20, 30) + "px" }
                  },
                  '\xA0'
                )
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Rank")
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-posts-counted' },
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(20, 30) + "px" }
                  },
                  '\xA0'
                )
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Ranked posts")
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":334,"../../avatar":4,"react":"react"}],240:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.user.status) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.user, status: this.props.user.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
            status: this.props.user.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
            status: this.props.user.status,
            className: 'status-label hidden-xs hidden-sm' })
        );
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'user-status' },
        _react2.default.createElement(
          'span',
          { className: 'status-icon ui-preview-text' },
          '\xA0'
        ),
        _react2.default.createElement(
          'span',
          { className: 'status-label ui-preview-text hidden-xs hidden-sm',
            style: { width: random.int(30, 50) + "px" } },
          '\xA0'
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'rank-name item-title' },
          this.props.rank.name
        );
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      var rankUrl = _index2.default.get('USERS_LIST_URL') + this.props.rank.slug + '/';
      return _react2.default.createElement(
        _reactRouter.Link,
        { to: rankUrl, className: 'rank-name item-title' },
        this.props.rank.name
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (!this.props.user.title) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'user-title hidden-xs hidden-sm' },
        this.props.user.title
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: 50, size2x: 64 })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'a',
              { href: this.props.user.absolute_url, className: 'item-title' },
              this.props.user.username
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            this.getUserStatus(),
            this.getRankName(),
            this.getUserTitle()
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-compact-stats visible-xs-block' },
            _react2.default.createElement(
              'span',
              { className: 'rank-position' },
              _react2.default.createElement(
                'strong',
                null,
                '#',
                this.props.counter
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Rank")
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-posts-counted' },
              _react2.default.createElement(
                'strong',
                null,
                this.props.user.meta.score
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Ranked posts")
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            '#',
            this.props.counter
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.meta.score
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.posts
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":252,"../../../utils/random":334,"../../avatar":4,"../../user-status":228,"react":"react","react-router":"react-router"}],241:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItemPreview = require('./list-item-preview');

var _listItemPreview2 = _interopRequireDefault(_listItemPreview);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead ui-preview' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(50, 220) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-preview' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              [0, 1, 2].map(function (i) {
                return _react2.default.createElement(_listItemPreview2.default, { hiddenOnMobile: i > 0, key: i });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":334,"./list-item-preview":239,"react":"react"}],242:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItem = require('./list-item');

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getLeadMessage',
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s most active poster from last %(days)s days.", "%(posters)s most active posters from last %(days)s days.", this.props.count);

      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getLeadMessage()
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-ready' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              this.props.users.map(function (user, i) {
                return _react2.default.createElement(_listItem2.default, { user: user,
                  rank: user.rank,
                  counter: i + 1,
                  key: user.id });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-item":240,"react":"react"}],243:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      });
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling() {
      _polls2.default.start({
        poll: 'active-posters',
        url: _index2.default.get('USERS_API'),
        data: {
          list: 'active'
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('active-posters');
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { trackedPeriod: this.state.trackedPeriod });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":252,"../../../reducers/users":310,"../../../services/page-title":319,"../../../services/polls":320,"../../../services/store":323,"./list-empty":238,"./list-preview":241,"./list-ready":242,"react":"react"}],244:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var baseUrl = _ref.baseUrl,
      lists = _ref.lists;

  return _react2.default.createElement(
    'ul',
    { className: 'nav nav-pills' },
    lists.map(function (list) {
      var url = listUrl(baseUrl, list);
      return _react2.default.createElement(
        _li2.default,
        { path: url, key: url },
        _react2.default.createElement(
          _reactRouter.Link,
          { to: url },
          list.name
        )
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;
  if (list.component === 'rank') {
    url += list.slug;
  } else {
    url += list.component;
  }
  return url + '/';
}; // jshint ignore:start

},{"../../index":252,"../li":43,"react":"react","react-router":"react-router"}],245:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_root2.default, { isLoaded: false, cols: 3, showStatus: true })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list/root":235,"react":"react"}],246:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_root2.default, {
      cols: 3,
      isLoaded: true,
      showStatus: true,
      users: props.users
    }),
    _react2.default.createElement(_pager2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pager = require('./pager');

var _pager2 = _interopRequireDefault(_pager);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../users-list/root":235,"./pager":247,"react":"react"}],247:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.pages === 1) return null;

  return _react2.default.createElement(
    'div',
    { className: 'row row-toolbar' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-12 text-center visible-xs-block' },
      _react2.default.createElement(More, { more: props.more }),
      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer' })
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-md-7' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-sm-4 col-md-5' },
          _react2.default.createElement(Pager, props)
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-sm-8 col-md-7 hidden-xs' },
          _react2.default.createElement(More, { more: props.more })
        )
      )
    )
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _resetScroll = require('../../../utils/reset-scroll');

var _resetScroll2 = _interopRequireDefault(_resetScroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Pager(props) {
  return _react2.default.createElement(
    'div',
    { className: 'row row-paginator' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(FirstPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(PreviousPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(NextPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(LastPage, props)
    )
  );
}

function FirstPage(props) {
  if (props.isLoaded && props.first) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl,
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  }
}

function PreviousPage(props) {
  if (props.isLoaded && props.page > 1) {
    var previousUrl = '';
    if (props.previous) {
      previousUrl = props.previous + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl + previousUrl,
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  }
}

function NextPage(props) {
  if (props.isLoaded && props.more) {
    var nextUrl = '';
    if (props.next) {
      nextUrl = props.next + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl + nextUrl,
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  }
}

function LastPage(props) {
  if (props.isLoaded && props.last) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl + props.last + '/',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = ngettext("There is %(more)s more member with this role.", "There are %(more)s more members with this role.", props.more);
    message = interpolate(message, { 'more': props.more }, true);
  } else {
    message = gettext("There are no more members with this role.");
  }

  return _react2.default.createElement(
    'p',
    null,
    message
  );
}

},{"../../../utils/reset-scroll":335,"react":"react","react-router":"react-router"}],248:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _listLoading = require('./list-loading');

var _listLoading2 = _interopRequireDefault(_listLoading);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;
      _this.setState(data);
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(page) {
      _polls2.default.start({
        poll: 'rank-users',
        url: _index2.default.get('USERS_API'),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('rank-users');
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle2.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls2.default.stop('rank-users');
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return 'rank-users-list rank-users-' + this.props.route.rank.css_class;
      } else {
        return 'rank-users-list';
      }
    }
  }, {
    key: 'getRankDescription',
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'rank-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.rank.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getComponent',
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          var baseUrl = _index2.default.get('USERS_LIST_URL') + this.props.route.rank.slug + '/';
          return _react2.default.createElement(_list2.default, _extends({ baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("There are no users with this rank at the moment.")
          );
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listLoading2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getRankDescription(),
          this.getComponent()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":252,"../../../reducers/users":310,"../../../services/page-title":319,"../../../services/polls":320,"../../../services/store":323,"../../page-lead":59,"./list":246,"./list-loading":245,"react":"react"}],249:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _nav = require('./nav');

var _nav2 = _interopRequireDefault(_nav);

var _root = require('./active-posters/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./rank/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-users-lists' },
        _react2.default.createElement(
          'div',
          { className: 'page-header-bg' },
          _react2.default.createElement(
            'div',
            { className: 'page-header' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'h1',
                null,
                gettext("Users")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'page-tabs' },
              _react2.default.createElement(
                'div',
                { className: 'container' },
                _react2.default.createElement(_nav2.default, {
                  lists: _index2.default.get('USERS_LISTS'),
                  baseUrl: _index2.default.get('USERS_LIST_URL')
                })
              )
            )
          )
        ),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

function paths() {
  var paths = [];

  _index2.default.get('USERS_LISTS').forEach(function (item) {
    if (item.component === 'rank') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/:page/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
    } else if (item.component === 'active-posters') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.component + '/',
        component: (0, _reactRedux.connect)(select)(_root2.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../../index":252,"../dropdown-toggle":20,"../with-dropdown":250,"./active-posters/root":243,"./nav":244,"./rank/root":248,"react":"react","react-redux":"react-redux"}],250:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleNav = function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    };

    _this.hideNav = function () {
      _this.setState({
        dropdown: false
      });
    };

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getCompactNavClassName',

    /* jshint ignore:end */

    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return 'compact-nav open';
      } else {
        return 'compact-nav';
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],251:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggle = function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || 'check_box';
      } else {
        return this.props.iconOff || 'check_box_outline_blank';
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        {
          type: "button",
          onClick: this.toggle,
          className: this.getClassName(),
          id: this.props.id || null,
          "aria-describedby": this.props['aria-describedby'] || null,
          disabled: this.props.disabled || false
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          this.getIcon()
        ),
        _react2.default.createElement(
          "span",
          { className: "btn-text" },
          this.getLabel()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],252:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Misago = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _orderedList = require('./utils/ordered-list');

var _orderedList2 = _interopRequireDefault(_orderedList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Misago = exports.Misago = function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: 'addInitializer',
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,

        item: initializer.initializer,

        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: 'init',
    value: function init(context) {
      var _this = this;

      this._context = context;

      var initOrder = new _orderedList2.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors

  }, {
    key: 'has',
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: 'get',
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: 'pop',
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}();

// create  singleton


var misago = new Misago();

// expose it globally
global.misago = misago;

// and export it for tests and stuff
exports.default = misago;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":333}],253:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));
}

_index2.default.addInitializer({
  name: 'ajax',
  initializer: initializer
});

},{"../index":252,"../services/ajax":311}],254:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../reducers/auth');

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get('isAuthenticated')) {
    window.setInterval(function () {
      _ajax2.default.get(context.get('AUTH_API')).then(function (data) {
        _store2.default.dispatch((0, _auth.patch)(data));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}

_index2.default.addInitializer({
  name: 'auth-sync',
  initializer: initializer,
  after: 'auth'
});

},{"../index":252,"../reducers/auth":297,"../services/ajax":311,"../services/snackbar":322,"../services/store":323}],255:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);
}

_index2.default.addInitializer({
  name: 'auth',
  initializer: initializer,
  after: 'store'
});

},{"../index":252,"../services/auth":312,"../services/local-storage":315,"../services/modal":317,"../services/store":323}],256:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'captcha',
  initializer: initializer
});

},{"../index":252,"../services/ajax":311,"../services/captcha":313,"../services/include":314,"../services/snackbar":322}],257:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _authMessage = require('../../components/auth-message');

var _authMessage2 = _interopRequireDefault(_authMessage);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');
}

_index2.default.addInitializer({
  name: 'component:auth-message',
  initializer: initializer,
  after: 'store'
});

},{"../../components/auth-message":3,"../../index":252,"../../utils/mount-component":332,"react-redux":"react-redux"}],258:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _bannedPage = require('../../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('BAN_MESSAGE')) {
    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);
  }
}

_index2.default.addInitializer({
  name: 'component:banmed-page',
  initializer: initializer,
  after: 'store'
});

},{"../../index":252,"../../utils/banned-page":325}],259:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/categories/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('categories-mount')) {
    (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root2.default), 'categories-mount');
  }
}

_index2.default.addInitializer({
  name: 'component:categories',
  initializer: initializer,
  after: 'store'
});

},{"../../components/categories/root":11,"../../index":252,"../../utils/mount-component":332,"react-redux":"react-redux"}],260:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/options/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USER_OPTIONS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERCP_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:options',
  initializer: initializer,
  after: 'store'
});

},{"../../components/options/root":55,"../../index":252,"../../utils/routed-component":336}],261:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/profile/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('PROFILE') && context.has('PROFILE_PAGES')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('PROFILE').absolute_url,
      component: (0, _reactRedux.connect)(_root.select)(_root2.default),
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:profile',
  initializer: initializer,
  after: 'reducer:profile-hydrate'
});

},{"../../components/profile/root":154,"../../index":252,"../../utils/routed-component":336,"react-redux":"react-redux"}],262:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestActivationLink = require('../../components/request-activation-link');

var _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-activation-link-mount')) {
    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-activation-link',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-activation-link":159,"../../index":252,"../../utils/mount-component":332}],263:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestPasswordReset = require('../../components/request-password-reset');

var _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-password-reset-mount')) {
    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-password-reset',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-password-reset":160,"../../index":252,"../../utils/mount-component":332}],264:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _resetPasswordForm = require('../../components/reset-password-form');

var _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('reset-password-form-mount')) {
    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);
  }
}

_2.default.addInitializer({
  name: 'component:reset-password-form',
  initializer: initializer,
  after: 'store'
});

},{"../..":252,"../../components/reset-password-form":161,"../../utils/mount-component":332}],265:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _search = require('../../components/search');

var _search2 = _interopRequireDefault(_search);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get('CURRENT_LINK') === 'misago:search') {
    (0, _routedComponent2.default)({
      paths: (0, _search2.default)(_2.default.get('SEARCH_PROVIDERS'))
    });
  }
}

_2.default.addInitializer({
  name: 'component:search',
  initializer: initializer,
  after: 'store'
});

},{"../..":252,"../../components/search":163,"../../utils/routed-component":336}],266:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../components/snackbar');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');
}

_index2.default.addInitializer({
  name: 'component:snackbar',
  initializer: initializer,
  after: 'snackbar'
});

},{"../../components/snackbar":171,"../../index":252,"../../utils/mount-component":332,"react-redux":"react-redux"}],267:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/thread/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('THREAD') && context.has('POSTS')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:thread',
  initializer: initializer,
  after: 'store'
});

},{"../../components/thread/root":187,"../../index":252,"../../utils/routed-component":336}],268:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;
exports.getListOptions = getListOptions;

var _root = require('../../components/threads/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PRIVATE_THREADS_LIST = 'misago:private-threads';

function initializer(context) {
  if (context.has('THREADS') && context.has('CATEGORIES')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)(context.get('user'), getListOptions(context))
    });
  }
}

function getListOptions(context) {
  var currentLink = context.get('CURRENT_LINK');
  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get('PRIVATE_THREADS_API'),
      startThread: {
        mode: 'START_PRIVATE',
        submit: _index2.default.get('PRIVATE_THREADS_API')
      },
      title: gettext("Private threads"),
      pageLead: gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),
      emptyMessage: gettext("You aren't participating in any private threads.")
    };
  }

  return {
    'api': context.get('THREADS_API')
  };
}

_index2.default.addInitializer({
  name: 'component:threads',
  initializer: initializer,
  after: 'store'
});

},{"../../components/threads/root":221,"../../index":252,"../../utils/routed-component":336}],269:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _root = require('../../components/user-menu/root');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');
}

_index2.default.addInitializer({
  name: 'component:user-menu',
  initializer: initializer,
  after: 'store'
});

},{"../../components/user-menu/root":226,"../../index":252,"../../utils/mount-component":332,"react-redux":"react-redux"}],270:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/users/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USERS_LISTS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERS_LIST_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:users',
  initializer: initializer,
  after: 'store'
});

},{"../../components/users/root":249,"../../index":252,"../../utils/routed-component":336}],271:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include2.default.init(context.get('STATIC_URL'));
}

_index2.default.addInitializer({
  name: 'include',
  initializer: initializer
});

},{"../index":252,"../services/include":314}],272:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage2.default.init('misago_');
}

_index2.default.addInitializer({
  name: 'local-storage',
  initializer: initializer
});

},{"../index":252,"../services/local-storage":315}],273:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('mobile-navbar-dropdown-mount');
  if (element) {
    _mobileNavbarDropdown2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'dropdown',
  initializer: initializer,
  before: 'store'
});

},{"../index":252,"../services/mobile-navbar-dropdown":316}],274:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('modal-mount');
  if (element) {
    _modal2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'modal',
  initializer: initializer,
  before: 'store'
});

},{"../index":252,"../services/modal":317}],275:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment2.default.locale($('html').attr('lang'));
}

_index2.default.addInitializer({
  name: 'moment',
  initializer: initializer
});

},{"../index":252,"moment":"moment"}],276:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle2.default.init(context.get('SETTINGS').forum_index_title, context.get('SETTINGS').forum_name);
}

_index2.default.addInitializer({
  name: 'page-title',
  initializer: initializer
});

},{"../index":252,"../services/page-title":319}],277:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _polls = require('../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls2.default.init(_ajax2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'polls',
  initializer: initializer
});

},{"../index":252,"../services/ajax":311,"../services/polls":320,"../services/snackbar":322}],278:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting2.default.init(_ajax2.default, _snackbar2.default, document.getElementById('posting-placeholder'));
}

_index2.default.addInitializer({
  name: 'posting',
  initializer: initializer
});

},{"../index":252,"../services/ajax":311,"../services/posting":321,"../services/snackbar":322}],279:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../../reducers/auth');

var _auth2 = _interopRequireDefault(_auth);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store2.default.addReducer('auth', _auth2.default, Object.assign({
    isAuthenticated: context.get('isAuthenticated'),
    isAnonymous: !context.get('isAuthenticated'),

    user: context.get('user')
  }, _auth.initialState));
}

_index2.default.addInitializer({
  name: 'reducer:auth',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/auth":297,"../../services/store":323}],280:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _participants = require('../../reducers/participants');

var _participants2 = _interopRequireDefault(_participants);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = _index2.default.get('THREAD').participants;
  }

  _store2.default.addReducer('participants', _participants2.default, initialState || []);
}

_index2.default.addInitializer({
  name: 'reducer:participants',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/participants":298,"../../services/store":323}],281:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _poll = require('../../reducers/poll');

var _poll2 = _interopRequireDefault(_poll);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD') && _index2.default.get('THREAD').poll) {
    initialState = (0, _poll.hydrate)(_index2.default.get('THREAD').poll);
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('poll', _poll2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:poll',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/poll":299,"../../services/store":323}],282:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _posts = require('../../reducers/posts');

var _posts2 = _interopRequireDefault(_posts);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('POSTS')) {
    initialState = (0, _posts.hydrate)(_index2.default.get('POSTS'));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store2.default.addReducer('posts', _posts2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:posts',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/posts":301,"../../services/store":323}],283:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_index2.default.has('PROFILE')) {
    _store2.default.dispatch((0, _profile.hydrate)(_index2.default.get('PROFILE')));
  }
}

_index2.default.addInitializer({
  name: 'reducer:profile-hydrate',
  initializer: initializer,
  after: 'store'
});

},{"../../index":252,"../../reducers/profile":302,"../../services/store":323}],284:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _profile2 = _interopRequireDefault(_profile);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('profile', _profile2.default, {});
}

_index2.default.addInitializer({
  name: 'reducer:profile',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/profile":302,"../../services/store":323}],285:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _search = require('../../reducers/search');

var _search2 = _interopRequireDefault(_search);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('search', _search2.default, Object.assign({}, _search.initialState, {
    providers: _2.default.get('SEARCH_PROVIDERS') || []
  }));
}

_2.default.addInitializer({
  name: 'reducer:search',
  initializer: initializer,
  before: 'store'
});

},{"../..":252,"../../reducers/search":303,"../../services/store":323}],286:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var _selection2 = _interopRequireDefault(_selection);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('selection', _selection2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:selection',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/selection":304,"../../services/store":323}],287:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../reducers/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:snackbar',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/snackbar":305,"../../services/store":323}],288:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _thread = require('../../reducers/thread');

var _thread2 = _interopRequireDefault(_thread);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = (0, _thread.hydrate)(_index2.default.get('THREAD'));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('thread', _thread2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:thread',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/thread":306,"../../services/store":323}],289:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../reducers/threads');

var _threads2 = _interopRequireDefault(_threads);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('threads', _threads2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:threads',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/threads":307,"../../services/store":323}],290:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../../reducers/tick');

var _tick2 = _interopRequireDefault(_tick);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:tick',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/tick":308,"../../services/store":323}],291:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('username-history', _usernameHistory2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:username-history',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/username-history":309,"../../services/store":323}],292:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _users2 = _interopRequireDefault(_users);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('users', _users2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:users',
  initializer: initializer,
  before: 'store'
});

},{"../../index":252,"../../reducers/users":310,"../../services/store":323}],293:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar2.default.init(_store2.default);
}

_index2.default.addInitializer({
  name: 'snackbar',
  initializer: initializer,
  after: 'store'
});

},{"../index":252,"../services/snackbar":322,"../services/store":323}],294:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.init();
}

_index2.default.addInitializer({
  name: 'store',
  initializer: initializer,
  before: '_end'
});

},{"../index":252,"../services/store":323}],295:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../reducers/tick');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store2.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_index2.default.addInitializer({
  name: 'tick-start',
  initializer: initializer,
  after: 'store'
});

},{"../index":252,"../reducers/tick":308,"../services/store":323}],296:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn2.default.init(_include2.default);
}

_index2.default.addInitializer({
  name: 'zxcvbn',
  initializer: initializer
});

},{"../index":252,"../services/include":314,"../services/zxcvbn":324}],297:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = undefined;
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;

var _users = require('./users');

var initialState = exports.initialState = {
  signedIn: false,
  signedOut: false
};

var PATCH_USER = exports.PATCH_USER = 'PATCH_USER';
var SIGN_IN = exports.SIGN_IN = 'SIGN_IN';
var SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          'avatars': action.avatars
        });
        return _newState;
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;

    default:
      return state;
  }
}

},{"./users":310}],298:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.default = participants;
var REPLACE_PARTICIPANTS = exports.REPLACE_PARTICIPANTS = 'REPLACE_PARTICIPANTS';

function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;

    default:
      return state;
  }
}

},{}],299:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.remove = remove;
exports.default = poll;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_POLL = exports.BUSY_POLL = 'BUSY_POLL';
var RELEASE_POLL = exports.RELEASE_POLL = 'RELEASE_POLL';
var REMOVE_POLL = exports.REMOVE_POLL = 'REMOVE_POLL';
var REPLACE_POLL = exports.REPLACE_POLL = 'REPLACE_POLL';
var UPDATE_POLL = exports.UPDATE_POLL = 'UPDATE_POLL';

function hydrate(json) {
  var hasSelectedChoices = false;
  for (var i in json.choices) {
    var choice = json.choices[i];
    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }

  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),

    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? (0, _moment2.default)(json.posted_on).add(json.length, 'days') : null,

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_POLL
  };
}

function release() {
  return {
    type: RELEASE_POLL
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}

function remove() {
  return {
    type: REMOVE_POLL
  };
}

function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_POLL:
      return Object.assign({}, state, { isBusy: false });

    case REMOVE_POLL:
      return {
        isBusy: false
      };

    case REPLACE_POLL:
      return action.state;

    case UPDATE_POLL:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],300:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_POST = undefined;
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = exports.PATCH_POST = 'PATCH_POST';

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),
    updated_on: (0, _moment2.default)(json.updated_on),
    hidden_on: (0, _moment2.default)(json.hidden_on),

    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,

    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment2.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;

    default:
      return state;
  }
}

},{"./users":310,"moment":"moment"}],301:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = undefined;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.append = append;
exports.unload = unload;
exports.update = update;
exports.default = posts;

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_POSTS = exports.APPEND_POSTS = 'APPEND_POSTS';
var SELECT_POST = exports.SELECT_POST = 'SELECT_POST';
var DESELECT_POST = exports.DESELECT_POST = 'DESELECT_POST';
var DESELECT_POSTS = exports.DESELECT_POSTS = 'DESELECT_POSTS';
var LOAD_POSTS = exports.LOAD_POSTS = 'LOAD_POSTS';
var UNLOAD_POSTS = exports.UNLOAD_POSTS = 'UNLOAD_POSTS';
var UPDATE_POSTS = exports.UPDATE_POSTS = 'UPDATE_POSTS';

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  var _ret = function () {
    switch (action.type) {
      case SELECT_POST:
        var selectedPosts = state.results.map(function (post) {
          if (post.id == action.post.id) {
            return Object.assign({}, post, {
              isSelected: true
            });
          } else {
            return post;
          }
        });

        return {
          v: Object.assign({}, state, {
            results: selectedPosts
          })
        };

      case DESELECT_POST:
        var deseletedPosts = state.results.map(function (post) {
          if (post.id == action.post.id) {
            return Object.assign({}, post, {
              isSelected: false
            });
          } else {
            return post;
          }
        });

        return {
          v: Object.assign({}, state, {
            results: deseletedPosts
          })
        };

      case DESELECT_POSTS:
        var deseletedAllPosts = state.results.map(function (post) {
          return Object.assign({}, post, {
            isSelected: false
          });
        });

        return {
          v: Object.assign({}, state, {
            results: deseletedAllPosts
          })
        };

      case APPEND_POSTS:
        var results = state.results.slice();
        var resultsIds = state.results.map(function (post) {
          return post.id;
        });

        action.state.results.map(function (post) {
          if (resultsIds.indexOf(post.id) === -1) {
            results.push(post);
          }
        });

        return {
          v: Object.assign({}, action.state, {
            results: results
          })
        };

      case LOAD_POSTS:
        return {
          v: action.state
        };

      case UNLOAD_POSTS:
        return {
          v: Object.assign({}, state, {
            isLoaded: false
          })
        };

      case UPDATE_POSTS:
        return {
          v: Object.assign({}, state, action.update)
        };

      case _post.PATCH_POST:
        var reducedPosts = state.results.map(function (post) {
          return (0, _post2.default)(post, action);
        });

        return {
          v: Object.assign({}, state, {
            results: reducedPosts
          })
        };

      default:
        return {
          v: state
        };
    }
  }();

  if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
}

},{"./post":300}],302:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = undefined;
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = exports.HYDRATE_PROFILE = 'HYDRATE_PROFILE';
var PATCH_PROFILE = exports.PATCH_PROFILE = 'PATCH_PROFILE';

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment2.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;

    default:
      return state;
  }
}

},{"./users":310,"moment":"moment"}],303:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.update = update;
exports.updateProvider = updateProvider;
exports.default = participants;
var REPLACE_SEARCH = exports.REPLACE_SEARCH = 'REPLACE_SEARCH';
var UPDATE_SEARCH = exports.UPDATE_SEARCH = 'UPDATE_SEARCH';
var UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH_PROVIDER = 'UPDATE_SEARCH_PROVIDER';

var initialState = exports.initialState = {
  isLoading: false,
  query: '',
  providers: []
};

function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}

function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}

function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;

    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);

    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });

    default:
      return state;
  }
}

},{}],304:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = undefined;
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;

var _sets = require('../utils/sets');

var SELECT_ALL = exports.SELECT_ALL = 'SELECT_ALL';
var SELECT_NONE = exports.SELECT_NONE = 'SELECT_NONE';
var SELECT_ITEM = exports.SELECT_ITEM = 'SELECT_ITEM';

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":337}],305:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
var initialState = exports.initialState = {
  type: 'info',
  message: '',
  isVisible: false
};

var SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';
var HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],306:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.updateAcl = updateAcl;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _poll = require('./poll');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = exports.BUSY_THREAD = 'BUSY_THREAD';
var RELEASE_THREAD = exports.RELEASE_THREAD = 'RELEASE_THREAD';
var REPLACE_THREAD = exports.REPLACE_THREAD = 'REPLACE_THREAD';
var UPDATE_THREAD = exports.UPDATE_THREAD = 'UPDATE_THREAD';
var UPDATE_THREAD_ACL = exports.UPDATE_THREAD_ACL = 'UPDATE_THREAD_ACL';

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment2.default)(json.started_on),
    last_post_on: (0, _moment2.default)(json.last_post_on),

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_THREAD:
      return Object.assign({}, state, { isBusy: false });

    case _poll.REMOVE_POLL:
      return Object.assign({}, state, { poll: null });

    case _poll.REPLACE_POLL:
      return Object.assign({}, state, { poll: action.state });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, { acl: acl });

    default:
      return state;
  }
}

},{"./poll":299,"moment":"moment"}],307:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.READ_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = undefined;
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.read = read;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = exports.APPEND_THREADS = 'APPEND_THREADS';
var DELETE_THREAD = exports.DELETE_THREAD = 'DELETE_THREAD';
var FILTER_THREADS = exports.FILTER_THREADS = 'FILTER_THREADS';
var HYDRATE_THREADS = exports.HYDRATE_THREADS = 'HYDRATE_THREADS';
var PATCH_THREAD = exports.PATCH_THREAD = 'PATCH_THREAD';
var READ_THREADS = exports.READ_THREADS = 'READ_THREADS';
var SORT_THREADS = exports.SORT_THREADS = 'SORT_THREADS';

var MODERATION_PERMISSIONS = exports.MODERATION_PERMISSIONS = ['can_announce', 'can_approve', 'can_close', 'can_hide', 'can_move', 'can_merge', 'can_pin', 'can_review'];

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function read(categoriesMap, category) {
  return {
    type: READ_THREADS,
    categoriesMap: categoriesMap,
    category: category
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment2.default)(thread.started_on),
    last_post_on: (0, _moment2.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique2.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;

    case READ_THREADS:
      return state.map(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          return Object.assign({}, item, {
            is_read: true
          });
        } else {
          return item;
        }
      });

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":327,"moment":"moment"}],308:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
var initialState = exports.initialState = {
  tick: 0
};

var TICK = exports.TICK = 'TICK';

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],309:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = undefined;
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = exports.ADD_NAME_CHANGE = 'ADD_NAME_CHANGE';
var APPEND_HISTORY = exports.APPEND_HISTORY = 'APPEND_HISTORY';
var HYDRATE_HISTORY = exports.HYDRATE_HISTORY = 'HYDRATE_HISTORY';

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment2.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000), // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment2.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":327,"./users":310,"moment":"moment"}],310:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = undefined;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = exports.APPEND_USERS = 'APPEND_USERS';
var HYDRATE_USERS = exports.HYDRATE_USERS = 'HYDRATE_USERS';
var UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';
var UPDATE_USERNAME = exports.UPDATE_USERNAME = 'UPDATE_USERNAME';

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment2.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment2.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment2.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateUser));

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":327,"moment":"moment"}],311:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ajax = exports.Ajax = function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: 'init',
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: 'getCsrfToken',
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + '\=([^;]*)');
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split('=')[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: 'request',
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            'X-CSRFToken': self.getCsrfToken()
          },

          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: 'json',

          success: function success(data) {
            resolve(data);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }, {
    key: 'get',
    value: function get(url, params, lock) {
      var _this = this;

      if (params) {
        url += '?' + $.param(params);
      }

      if (lock) {
        var _ret = function () {
          var self = _this;

          // update url in existing lock?
          if (_this._locks[lock]) {
            _this._locks[lock].url = url;
          }

          // immediately dereference promise handlers without doing anything
          // we are already waiting for existing response to resolve
          if (_this._locks[lock] && _this._locks[lock].waiter) {
            return {
              v: {
                then: function then() {
                  return;
                }
              }
            };

            // return promise that will begin when original one resolves
          } else if (_this._locks[lock] && _this._locks[lock].wait) {
            _this._locks[lock].waiter = true;

            return {
              v: new Promise(function (resolve, reject) {
                var wait = function wait(url) {
                  // keep waiting on promise
                  if (self._locks[lock].wait) {
                    window.setTimeout(function () {
                      wait(url);
                    }, 300);

                    // poll for new url
                  } else if (self._locks[lock].url !== url) {
                    wait(self._locks[lock].url);

                    // ajax backend for response
                  } else {
                    self._locks[lock].waiter = false;
                    self.request('GET', self._locks[lock].url).then(function (data) {
                      if (self._locks[lock].url === url) {
                        resolve(data);
                      } else {
                        self._locks[lock].waiter = true;
                        wait(self._locks[lock].url);
                      }
                    }, function (rejection) {
                      if (self._locks[lock].url === url) {
                        reject(rejection);
                      } else {
                        self._locks[lock].waiter = true;
                        wait(self._locks[lock].url);
                      }
                    });
                  }
                };

                window.setTimeout(function () {
                  wait(url);
                }, 300);
              })
            };

            // setup new lock without waiter
          } else {
            _this._locks[lock] = {
              url: url,
              wait: true,
              waiter: false
            };

            return {
              v: new Promise(function (resolve, reject) {
                self.request('GET', url).then(function (data) {
                  self._locks[lock].wait = false;
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  }
                }, function (rejection) {
                  self._locks[lock].wait = false;
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  }
                });
              })
            };
          }
        }();

        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
      } else {
        return this.request('GET', url);
      }
    }
  }, {
    key: 'post',
    value: function post(url, data) {
      return this.request('POST', url, data);
    }
  }, {
    key: 'patch',
    value: function patch(url, data) {
      return this.request('PATCH', url, data);
    }
  }, {
    key: 'put',
    value: function put(url, data) {
      return this.request('PUT', url, data);
    }
  }, {
    key: 'delete',
    value: function _delete(url) {
      return this.request('DELETE', url);
    }
  }, {
    key: 'upload',
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: 'POST',
          headers: {
            'X-CSRFToken': self.getCsrfToken()
          },

          data: data,
          contentType: false,
          processData: false,

          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },

          success: function success(response) {
            resolve(response);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = gettext("Upload was rejected by server as too large.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.default = new Ajax();

},{}],312:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Auth = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _auth = require('../reducers/auth');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Auth = exports.Auth = function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: 'init',
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: 'syncSession',
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set('auth', {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set('auth', {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: 'watchState',
    value: function watchState() {
      var _this = this;

      this._local.watch('auth', function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else {
          _this._store.dispatch((0, _auth.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: 'signIn',
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));
      this._local.set('auth', {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: 'signOut',
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: 'softSignOut',
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.default = new Auth();

},{"../reducers/auth":297}],313:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formGroup = require('../components/form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var BaseCaptcha = exports.BaseCaptcha = function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

var NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _possibleConstructorReturn(this, (NoCaptcha.__proto__ || Object.getPrototypeOf(NoCaptcha)).apply(this, arguments));
  }

  _createClass(NoCaptcha, [{
    key: 'load',
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return null;
    }
  }, {
    key: 'component',
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

var QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _possibleConstructorReturn(this, (QACaptcha.__proto__ || Object.getPrototypeOf(QACaptcha)).apply(this, arguments));
  }

  _createClass(QACaptcha, [{
    key: 'load',
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get('CAPTCHA_API')).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));
          reject();
        });
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          label: this.question,
          'for': 'id_captcha',
          labelClass: kwargs.labelClass || "",
          controlClass: kwargs.controlClass || "",
          validation: kwargs.form.state.errors.captcha,
          helpText: this.helpText || null
        },
        _react2.default.createElement('input', {
          'aria-describedby': 'id_captcha_status',
          className: 'form-control',
          disabled: kwargs.form.state.isLoading,
          id: 'id_captcha',
          onChange: kwargs.form.bindInput('captcha'),
          type: 'text',
          value: kwargs.form.state.captcha
        })
      );
    }
    /* jshint ignore:end */

  }]);

  return QACaptcha;
}(BaseCaptcha);

var ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _possibleConstructorReturn(this, (ReCaptchaComponent.__proto__ || Object.getPrototypeOf(ReCaptchaComponent)).apply(this, arguments));
  }

  _createClass(ReCaptchaComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this4 = this;

      grecaptcha.render('recaptcha', {
        'sitekey': this.props.siteKey,
        'callback': function callback(response) {
          // fire fakey event to binding
          _this4.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('div', { id: 'recaptcha' });
      /* jshint ignore:end */
    }
  }]);

  return ReCaptchaComponent;
}(_react2.default.Component);

var ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _possibleConstructorReturn(this, (ReCaptcha.__proto__ || Object.getPrototypeOf(ReCaptcha)).apply(this, arguments));
  }

  _createClass(ReCaptcha, [{
    key: 'load',
    value: function load() {
      this._include.include('https://www.google.com/recaptcha/api.js', true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          label: gettext("Please solve the quick test"),
          'for': 'id_captcha',
          labelClass: kwargs.labelClass || "",
          controlClass: kwargs.controlClass || "",
          validation: kwargs.form.state.errors.captcha,
          helpText: gettext("This test helps us prevent automated spam registrations on our site.")
        },
        _react2.default.createElement(ReCaptchaComponent, {
          binding: kwargs.form.bindInput('captcha'),
          siteKey: this._context.get('SETTINGS').recaptcha_site_key
        })
      );
    }
    /* jshint ignore:end */

  }]);

  return ReCaptcha;
}(BaseCaptcha);

var Captcha = exports.Captcha = function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      switch (context.get('SETTINGS').captcha_type) {
        case 'no':
          this._captcha = new NoCaptcha();
          break;

        case 'qa':
          this._captcha = new QACaptcha();
          break;

        case 're':
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy

  }, {
    key: 'load',
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: 'validator',
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: 'component',
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.default = new Captcha();

},{"../components/form-group":41,"react":"react"}],314:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Include = exports.Include = function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: 'init',
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: 'include',
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: '_include',
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : '') + script,
        cache: true,
        dataType: 'script'
      });
    }
  }]);

  return Include;
}();

exports.default = new Include();

},{}],315:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var storage = window.localStorage;

var LocalStorage = exports.LocalStorage = function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: 'init',
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];

      window.addEventListener('storage', function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: 'set',
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: 'get',
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: 'watch',
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.default = new LocalStorage();

},{}],316:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MobileNavbarDropdown = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: 'init',
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: 'show',
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent2.default)(component, this._element.id);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'showConnected',
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent2.default)(component, this._element.id, true);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'hide',
    value: function hide() {
      $(this._element).removeClass('open');
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.default = new MobileNavbarDropdown();

},{"../utils/mount-component":332}],317:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Modal = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modal = exports.Modal = function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: 'init',
    value: function init(element) {
      var _this = this;

      this._element = element;

      this._modal = $(element).modal({ show: false });

      this._modal.on('hidden.bs.modal', function () {
        _reactDom2.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: 'show',
    value: function show(component) {
      (0, _mountComponent2.default)(component, this._element.id);
      this._modal.modal('show');
    }
  }, {
    key: 'hide',
    value: function hide() {
      this._modal.modal('hide');
    }
  }]);

  return Modal;
}();

exports.default = new Modal();

},{"../utils/mount-component":332,"react-dom":"react-dom"}],318:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.parseYoutubeUrl = parseYoutubeUrl;
exports.cleanUrl = cleanUrl;
exports.getVideoIdFromUrl = getVideoIdFromUrl;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ytRegExp = new RegExp('^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*');

var OneBox = exports.OneBox = function () {
  function OneBox() {
    var _this = this;

    _classCallCheck(this, OneBox);

    this.render = function (domnode) {
      if (!domnode) return;
      _this.highlightCode(domnode);
      _this.embedYoutubePlayers(domnode);
    };

    this._youtube = {};
  }

  // jshint ignore:start


  _createClass(OneBox, [{
    key: 'highlightCode',

    // jshint ignore:end

    value: function highlightCode(domnode) {
      var codeblocks = domnode.querySelectorAll('pre>code');
      for (var i = 0; i < codeblocks.length; i++) {
        var code = codeblocks[i];
        hljs.highlightBlock(code);
      }
    }
  }, {
    key: 'embedYoutubePlayers',
    value: function embedYoutubePlayers(domnode) {
      var anchors = domnode.querySelectorAll('p>a');
      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;

        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }

        var youtubeMovie = this._youtube[a.href];
        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: 'swapYoutubePlayer',
    value: function swapYoutubePlayer(element, youtube) {
      var url = 'https://www.youtube.com/embed/';
      url += youtube.video;
      url += '?rel=0';
      if (youtube.start) {
        url += '&start=' + youtube.start;
      }

      var player = $('<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>');
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);

  return OneBox;
}();

exports.default = new OneBox();
function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);

  if (!video) return null;

  var start = 0;
  if (cleanedUrl.indexOf('?') > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf('?') + 1);
    var timebit = query.split('&').filter(function (i) {
      return i.substr(0, 2) === 't=';
    })[0];

    if (timebit) {
      var bits = timebit.substr(2).split('m');
      if (bits[0].substr(-1) === 's') {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;
        if (!!bits[1] && bits[1].substr(-1) === 's') {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }

  return {
    start: start,
    video: video
  };
}

function cleanUrl(url) {
  var clean = url;

  if (url.substr(0, 8) === 'https://') {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === 'http://') {
    clean = clean.substr(7);
  }

  if (clean.substr(0, 4) === 'www.') {
    clean = clean.substr(4);
  }

  return clean;
}

function getVideoIdFromUrl(url) {
  if (url.indexOf('youtu') === -1) return null;

  var video = url.match(ytRegExp);
  if (video) {
    return video[1];
  }
  return null;
}

},{}],319:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PageTitle = exports.PageTitle = function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: 'init',
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: 'set',
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === 'string') {
        title = { title: title };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext('page: %(page)s'), {
          page: title.page
        }, true);

        finalTitle += ' (' + pageLabel + ')';
      }

      if (title.parent) {
        finalTitle += ' | ' + title.parent;
      }

      document.title = finalTitle + ' | ' + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.default = new PageTitle();

},{}],320:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Polls = exports.Polls = function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;

      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);

            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.default = new Polls();

},{}],321:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Posting = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _poll = require('../components/poll');

var _posting = require('../components/posting');

var _posting2 = _interopRequireDefault(_posting);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Posting = exports.Posting = function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    this.close = function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._placeholder.removeClass('slide-in');

        window.setTimeout(function () {
          _reactDom2.default.unmountComponentAtNode(document.getElementById('posting-mount'));
          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    };
  }

  _createClass(Posting, [{
    key: 'init',
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);

      this._mode = null;

      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: 'open',
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;
        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");
        if (this._mode == 'POLL') {
          message = gettext("You are already working on a poll. Do you want to discard it?");
        }

        var changeForm = confirm(message);
        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;
          this._realOpen(props);
        }
      } else if (this._mode == 'REPLY' && props.mode == 'REPLY') {
        this._realOpen(props);
      }
    }

    // jshint ignore:start

  }, {
    key: '_realOpen',

    // jshint ignore:end
    value: function _realOpen(props) {
      if (props.mode == 'POLL') {
        (0, _mountComponent2.default)(_react2.default.createElement(_poll.PollForm, props), 'posting-mount');
      } else {
        (0, _mountComponent2.default)(_react2.default.createElement(_posting2.default, props), 'posting-mount');
      }

      this._placeholder.addClass('slide-in');

      $('html, body').animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.default = new Posting();

},{"../components/poll":73,"../components/posting":101,"../utils/mount-component":332,"react":"react","react-dom":"react-dom"}],322:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _snackbar = require('../reducers/snackbar');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = exports.Snackbar = function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: 'init',
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: 'alert',
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));
        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    }

    // shorthands for message types

  }, {
    key: 'info',
    value: function info(message) {
      this.alert(message, 'info');
    }
  }, {
    key: 'success',
    value: function success(message) {
      this.alert(message, 'success');
    }
  }, {
    key: 'warning',
    value: function warning(message) {
      this.alert(message, 'warning');
    }
  }, {
    key: 'error',
    value: function error(message) {
      this.alert(message, 'error');
    }

    // shorthand for api errors

  }, {
    key: 'apiError',
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.default = new Snackbar();

},{"../reducers/snackbar":305}],323:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StoreWrapper = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _redux = require('redux');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StoreWrapper = exports.StoreWrapper = function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: 'addReducer',
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: 'init',
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: 'getStore',
    value: function getStore() {
      return this._store;
    }

    // Store API

  }, {
    key: 'getState',
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: 'dispatch',
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.default = new StoreWrapper();

},{"redux":"redux"}],324:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global zxcvbn */
var Zxcvbn = exports.Zxcvbn = function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }

      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include('misago/js/zxcvbn.js');
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;

      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

          tries += 1;
          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.default = new Zxcvbn();

},{}],325:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (ban, changeState) {
  _reactDom2.default.render(
  /* jshint ignore:start */
  _react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,
      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })
  ),
  /* jshint ignore:end */
  document.getElementById('page-mount'));

  if (typeof changeState === 'undefined' || changeState) {
    var forumName = _index2.default.get('SETTINGS').forum_name;
    document.title = gettext("You are banned") + ' | ' + forumName;
    window.history.pushState({}, "", _index2.default.get('BANNED_URL'));
  }
};

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _bannedPage = require('../components/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:line

/* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
var select = function select(state) {
  return state.tick;
}; // jshint ignore:line
// jshint ignore:line


var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);
/* jshint ignore:end */

},{"../components/banned-page":5,"../index":252,"../services/store":323,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],326:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var rows = [];
  var row = [];

  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
};

},{}],327:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
};

},{}],328:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _class = function () {
  function _class(callback, count) {
    _classCallCheck(this, _class);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_class, [{
    key: "count",
    value: function count() {
      this._count -= 1;
      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _class;
}();

exports.default = _class;

},{}],329:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
};

var map = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#039;'
};

},{}],330:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + ' GB';
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + ' MB';
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + ' KB';
  } else {
    return roundSize(bytes) + ' B';
  }
};

exports.roundSize = roundSize;
function roundSize(value) {
  return value.toFixed(1);
}

},{}],331:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (str) {
  return URL_PATTERN.test($.trim(str));
};

var URL_PATTERN = new RegExp('^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$', 'i');

},{}],332:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

  var rootElement = document.getElementById(rootElementId);

  /* jshint ignore:start */
  var finalComponent = Component.props ? Component : _react2.default.createElement(Component, null);
  /* jshint ignore:end */

  if (rootElement) {
    if (connected) {
      _reactDom2.default.render(
      /* jshint ignore:start */
      _react2.default.createElement(
        _reactRedux.Provider,
        { store: _store2.default.getStore() },
        finalComponent
      ),
      /* jshint ignore:end */
      rootElement);
    } else {
      /* jshint ignore:start */
      _reactDom2.default.render(finalComponent, rootElement);
      /* jshint ignore:end */
    }
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../services/store":323,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],333:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var OrderedList = function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,

        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === 'undefined') {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

exports.default = OrderedList;

},{}],334:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;
function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],335:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  window.scrollTo(0, 0);
};

},{}],336:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(_reactRouter.Router, { routes: routes, history: _reactRouter.browserHistory })
  ), rootElement);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _reactRouter = require('react-router');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById('page-mount'); // jshint ignore:start

},{"../services/store":323,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],337:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],338:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();

  if (subString.length <= 0) return 0;

  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
};

},{}],339:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp('^[0-9a-z]+$', 'i');

function required() {
  return function (value) {
    if ($.trim(value).length === 0) {
      return gettext("This field is required.");
    }
  };
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };
  return minLength(lengthMin, message);
}

function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };
  return maxLength(lengthMax, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", lengthMin);
  };
  return minLength(lengthMin, message);
}

},{}]},{},[252,253,254,255,256,271,272,273,274,275,276,277,278,293,294,295,296,257,258,259,260,261,262,263,264,265,266,267,268,269,270,279,280,281,282,283,284,285,286,287,288,289,290,291,292])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tcG9uZW50cy9BdmF0YXIuanMiLCJzcmMvY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnQuanMiLCJzcmMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9hdmF0YXIuanMiLCJzcmMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnktc3ViY2F0ZWdvcmllcy5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2xhc3QtYWN0aXZpdHkuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL3JlYWQtaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL3N1YmNhdGVnb3J5LXN1YmNhdGVnb3JpZXMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3AuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnkuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9jb2RlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvZW1waGFzaXMuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9oci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2ltYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvbGluay5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL3F1b3RlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvc3RyaWtldHJvdWdoLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvc3Ryb25nLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvY29tcGxldGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9lcnJvci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvdXBsb2FkLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2xpc3QuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvdXBsb2FkLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9tYXJrdXAtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci90ZXh0VXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9mb3JtLWdyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2xpLmpzIiwic3JjL2NvbXBvbmVudHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbWVyZ2UtcG9sbHMuanMiLCJzcmMvY29tcG9uZW50cy9taXNhZ28tbWFya3VwLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9hZGluZy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9ja2VkLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2ZvcnVtLW9wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLWVtYWlsLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1wYXNzd29yZC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvcGFnZS1sZWFkLmpzIiwic3JjL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9jYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9tYWtlLW93bmVyLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvcmVtb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3Qvcm93LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL3V0aWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2Zvcm0vY2hvaWNlcy1jb250cm9sLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9mb3JtL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvaW5mby5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcG9sbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9jaGFydC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvaGVscC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvdm90aW5nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3Rpbmcvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9kaWZmLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvZm9vdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9ib2R5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvYW5vbnltb3VzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9yZWdpc3RlcmVkLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL3VzZXItdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtbGlrZXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL2VkaXQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9yZXBseS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3Rpbmcvc3RhcnQtcHJpdmF0ZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3Rpbmcvc3RhcnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2F0dGFjaG1lbnRzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9jb250YWluZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdXNlcm5hbWVzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy92YWxpZGF0b3JzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2luZm8uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L21lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L3VucmVhZC1sYWJlbC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYXR0YWNobWVudHMvYXR0YWNobWVudC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9hdHRhY2htZW50cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9ib2R5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9zcGxpdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9mbGFncy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9mb290ZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9hbm9ueW1vdXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL2hhcy12aXNpYmxlLXRpdGxlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvcmVnaXN0ZXJlZC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvdXNlci1wb3N0Y291bnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS91c2VyLXRpdGxlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3Qvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC93YXlwb2ludC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvYmFuLWRldGFpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZlZWQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZlZWQvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd2Vycy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93cy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tZXNzYWdlLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2RlbGV0ZS1hY2NvdW50LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL25hdi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbmF2cy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9jb21wb25lbnRzL3F1aWNrLXNlYXJjaC5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsuanMiLCJzcmMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3BhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvc2lkZW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC90aHJlYWRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3RocmVhZHMvcmVzdWx0cy5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC91c2Vycy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL3NpZ24taW4uanMiLCJzcmMvY29tcG9uZW50cy9zbmFja2Jhci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvYnJlYWRjcnVtYnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9zdGF0cy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2lzLXZpc2libGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbWVyZ2UuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9wYWdpbmF0b3IuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcmVwbHktYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvc3Vic2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItdG9wLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NhdGVnb3J5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL3RvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvbGFzdC1hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3VzZXItdXJsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jYXRlZ29yeS1waWNrZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbnRhaW5lci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vc2VsZWN0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9uYXYuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS9ndWVzdC1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS91c2VyLW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3VzZXItY2FyZC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzLWxpc3QvdXNlci1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbS1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QtbG9hZGluZy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvcGFnZXIuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3llcy1uby1zd2l0Y2guanMiLCJzcmMvaW5kZXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2FqYXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2F1dGgtc3luYy5qcyIsInNyYy9pbml0aWFsaXplcnMvYXV0aC5qcyIsInNyYy9pbml0aWFsaXplcnMvY2FwdGNoYS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvYmFubmVkLXBhZ2UuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvY2F0ZWdvcmllcy5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9vcHRpb25zLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3Byb2ZpbGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldC5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3NlYXJjaC5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9zbmFja2Jhci5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy90aHJlYWQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy91c2VyLW1lbnUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2luY2x1ZGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2xvY2FsLXN0b3JhZ2UuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL21vYmlsZS1uYXZiYXItZHJvcGRvd24uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL21vZGFsLmpzIiwic3JjL2luaXRpYWxpemVycy9tb21lbnQtbG9jYWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9wYWdlLXRpdGxlLmpzIiwic3JjL2luaXRpYWxpemVycy9wb2xscy5qcyIsInNyYy9pbml0aWFsaXplcnMvcG9zdGluZy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvYXV0aC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcGFydGljaXBhbnRzLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wb2xsLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcHJvZmlsZS1oeWRyYXRlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9zdG9yZS5qcyIsInNyYy9pbml0aWFsaXplcnMvdGljay1zdGFydC5qcyIsInNyYy9pbml0aWFsaXplcnMvenhjdmJuLmpzIiwic3JjL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvcmVkdWNlcnMvcGFydGljaXBhbnRzLmpzIiwic3JjL3JlZHVjZXJzL3BvbGwuanMiLCJzcmMvcmVkdWNlcnMvcG9zdC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL3JlZHVjZXJzL3NlYXJjaC5qcyIsInNyYy9yZWR1Y2Vycy9zZWxlY3Rpb24uanMiLCJzcmMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvcmVkdWNlcnMvdGhyZWFkLmpzIiwic3JjL3JlZHVjZXJzL3RocmVhZHMuanMiLCJzcmMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5LmpzIiwic3JjL3JlZHVjZXJzL3VzZXJzLmpzIiwic3JjL3NlcnZpY2VzL2FqYXguanMiLCJzcmMvc2VydmljZXMvYXV0aC5qcyIsInNyYy9zZXJ2aWNlcy9jYXB0Y2hhLmpzIiwic3JjL3NlcnZpY2VzL2luY2x1ZGUuanMiLCJzcmMvc2VydmljZXMvbG9jYWwtc3RvcmFnZS5qcyIsInNyYy9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL3NlcnZpY2VzL21vZGFsLmpzIiwic3JjL3NlcnZpY2VzL29uZS1ib3guanMiLCJzcmMvc2VydmljZXMvcGFnZS10aXRsZS5qcyIsInNyYy9zZXJ2aWNlcy9wb2xscy5qcyIsInNyYy9zZXJ2aWNlcy9wb3N0aW5nLmpzIiwic3JjL3NlcnZpY2VzL3NuYWNrYmFyLmpzIiwic3JjL3NlcnZpY2VzL3N0b3JlLmpzIiwic3JjL3NlcnZpY2VzL3p4Y3Zibi5qcyIsInNyYy91dGlscy9iYW5uZWQtcGFnZS5qcyIsInNyYy91dGlscy9iYXRjaC5qcyIsInNyYy91dGlscy9jb25jYXQtdW5pcXVlLmpzIiwic3JjL3V0aWxzL2NvdW50ZG93bi5qcyIsInNyYy91dGlscy9lc2NhcGUtaHRtbC5qcyIsInNyYy91dGlscy9maWxlLXNpemUuanMiLCJzcmMvdXRpbHMvaXMtdXJsLmpzIiwic3JjL3V0aWxzL21vdW50LWNvbXBvbmVudC5qcyIsInNyYy91dGlscy9vcmRlcmVkLWxpc3QuanMiLCJzcmMvdXRpbHMvcmFuZG9tLmpzIiwic3JjL3V0aWxzL3Jlc2V0LXNjcm9sbC5qcyIsInNyYy91dGlscy9yb3V0ZWQtY29tcG9uZW50LmpzIiwic3JjL3V0aWxzL3NldHMuanMiLCJzcmMvdXRpbHMvc3RyaW5nLWNvdW50LmpzIiwic3JjL3V0aWxzL3ZhbGlkYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7a0JDSWUsVUFBUyxLQUFULEVBQWdCO0FBQzdCLE1BQU0sT0FBTyxNQUFNLElBQU4sSUFBYyxHQUEzQjtBQUNBLE1BQU0sU0FBUyxNQUFNLE1BQU4sSUFBZ0IsSUFBL0I7O0FBRUEsU0FDRTtBQUNFLGVBQVcsTUFBTSxTQUFOLElBQW1CLGFBRGhDO0FBRUUsU0FBSyxPQUFPLE1BQU0sSUFBYixFQUFtQixJQUFuQixDQUZQO0FBR0UsWUFBUSxPQUFPLE1BQU0sSUFBYixFQUFtQixNQUFuQixDQUhWO0FBSUUsV0FBTyxRQUFRLGFBQVIsQ0FKVDtBQUtFLFdBQU8sSUFMVDtBQU1FLFlBQVE7QUFOVixJQURGO0FBVUQsQzs7UUFFZSxNLEdBQUEsTTtRQVVBLG9CLEdBQUEsb0I7O0FBN0JoQjs7Ozs7Ozs7OztBQW1CTyxTQUFTLE1BQVQsQ0FBZ0IsSUFBaEIsRUFBc0IsSUFBdEIsRUFBNEI7QUFDakMsTUFBSSxRQUFRLEtBQUssRUFBakIsRUFBcUI7QUFDbkI7QUFDQSxXQUFPLHFCQUFxQixLQUFLLE9BQTFCLEVBQW1DLElBQW5DLEVBQXlDLEdBQWhEO0FBQ0QsR0FIRCxNQUdPO0FBQ0w7QUFDQSxXQUFPLFdBQU8sR0FBUCxDQUFXLGtCQUFYLENBQVA7QUFDRDtBQUNGLEMsQ0E1QkQ7QUE4Qk8sU0FBUyxvQkFBVCxDQUE4QixPQUE5QixFQUF1QyxJQUF2QyxFQUE2QztBQUNsRCxNQUFJLFNBQVMsUUFBUSxDQUFSLENBQWI7QUFDQSxVQUFRLE9BQVIsQ0FBZ0IsVUFBQyxFQUFELEVBQVE7QUFDdEIsUUFBSSxHQUFHLElBQUgsSUFB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VUFBVSxTQUFWLE9BQVUsQ0FBUyxTQUFULEVBQW9CO0FBQ2hDLFdBQU8sU0FDTCxpRUFESyxFQUVMLGtFQUZLLEVBR0wsU0FISyxDQUFQO0FBSUQsR0FMRDtBQU1BLFNBQU8sVUFBVSxTQUFWLEVBQXFCLE9BQXJCLENBQVA7QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBzaXplID0gcHJvcHMuc2l6ZSB8fCAxMDA7XG4gIGNvbnN0IHNpemUyeCA9IHByb3BzLnNpemUyeCB8fCBzaXplO1xuXG4gIHJldHVybiAoXG4gICAgPGltZ1xuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ3VzZXItYXZhdGFyJ31cbiAgICAgIHNyYz17Z2V0U3JjKHByb3BzLnVzZXIsIHNpemUpfVxuICAgICAgc3JjU2V0PXtnZXRTcmMocHJvcHMudXNlciwgc2l6ZTJ4KX1cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVXNlciBhdmF0YXJcIil9XG4gICAgICB3aWR0aD17c2l6ZX1cbiAgICAgIGhlaWdodD17c2l6ZX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3JjKHVzZXIsIHNpemUpIHtcbiAgaWYgKHVzZXIgJiYgdXNlci5pZCkge1xuICAgIC8vIGp1c3QgYXZhdGFyIGhhc2gsIHNpemUgYW5kIHVzZXIgaWRcbiAgICByZXR1cm4gcmVzb2x2ZUF2YXRhckZvclNpemUodXNlci5hdmF0YXJzLCBzaXplKS51cmw7XG4gIH0gZWxzZSB7XG4gICAgLy8ganVzdCBhcHBlbmQgYXZhdGFyIHNpemUgdG8gZmlsZSB0byBwcm9kdWNlIG5vLWF2YXRhciBwbGFjZWhvbGRlclxuICAgIHJldHVybiBtaXNhZ28uZ2V0KCdCTEFOS19BVkFUQVJfVVJMJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBdmF0YXJGb3JTaXplKGF2YXRhcnMsIHNpemUpIHtcbiAgbGV0IGF2YXRhciA9IGF2YXRhcnNbMF07XG4gIGF2YXRhcnMuZm9yRWFjaCgoYXYpID0+IHtcbiAgICBpZiAoYXYuc2l6ZSA+PSBzaXplKSB7XG4gICAgICBhdmF0YXIgPSBhdjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYXZhdGFyO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRm9ybSBmcm9tICcuL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJztcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzJztcbmltcG9ydCB7IHVwZGF0ZUFjbCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1c2VybmFtZTogJydcbiAgICB9O1xuICB9XG5cbiAgb25Vc2VybmFtZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3VzZXJuYW1lJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXNlcm5hbWUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHVzZXIgbmFtZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ2FkZCcsIHBhdGg6ICdwYXJ0aWNpcGFudHMnLCB2YWx1ZTogdGhpcy5zdGF0ZS51c2VybmFtZX0sXG4gICAgICB7b3A6ICdhZGQnLCBwYXRoOiAnYWNsJywgdmFsdWU6IDF9XG4gICAgXSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBY2woZGF0YSkpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJOZXcgcGFydGljaXBhbnQgaGFzIGJlZW4gYWRkZWQgdG8gdGhyZWFkLlwiKSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwIGZvcj1cImlkX3VzZXJuYW1lXCIgbGFiZWw9e2dldHRleHQoXCJVc2VyIHRvIGFkZFwiKX0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVzZXJuYW1lQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwYXJ0aWNpcGFudFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQWRkIHBhcnRpY2lwYW50XCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlZnJlc2goKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICB9XG5cbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zaWduZWRJbikge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiWW91IGhhdmUgc2lnbmVkIGluIGFzICUodXNlcm5hbWUpcy4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYmVmb3JlIGNvbnRpbnVpbmcuXCIpLFxuICAgICAgICB7dXNlcm5hbWU6IHRoaXMucHJvcHMuc2lnbmVkSW4udXNlcm5hbWV9LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2lnbmVkT3V0KSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMsIHlvdSBoYXZlIGJlZW4gc2lnbmVkIG91dC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYmVmb3JlIGNvbnRpbnVpbmcuXCIpLFxuICAgICAgICB7dXNlcm5hbWU6IHRoaXMucHJvcHMudXNlci51c2VybmFtZX0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IGNsYXNzTmFtZSA9ICdhdXRoLW1lc3NhZ2UnO1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluIHx8IHRoaXMucHJvcHMuc2lnbmVkT3V0KSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBzaG93JztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldE1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlZnJlc2h9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVsb2FkIHBhZ2VcIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgeycgJyArIGdldHRleHQoXCJvciBwcmVzcyBGNSBrZXkuXCIpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLmF1dGgudXNlcixcbiAgICBzaWduZWRJbjogc3RhdGUuYXV0aC5zaWduZWRJbixcbiAgICBzaWduZWRPdXQ6IHN0YXRlLmF1dGguc2lnbmVkT3V0XG4gIH07XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3Qgc2l6ZSA9IHByb3BzLnNpemUgfHwgMTAwO1xuICBjb25zdCBzaXplMnggPSBwcm9wcy5zaXplMnggfHwgc2l6ZTtcblxuICByZXR1cm4gKFxuICAgIDxpbWdcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8ICd1c2VyLWF2YXRhcid9XG4gICAgICBzcmM9e2dldFNyYyhwcm9wcy51c2VyLCBzaXplKX1cbiAgICAgIHNyY1NldD17Z2V0U3JjKHByb3BzLnVzZXIsIHNpemUyeCl9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlVzZXIgYXZhdGFyXCIpfVxuICAgICAgd2lkdGg9e3NpemV9XG4gICAgICBoZWlnaHQ9e3NpemV9XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNyYyh1c2VyLCBzaXplKSB7XG4gIGlmICh1c2VyICYmIHVzZXIuaWQpIHtcbiAgICAvLyBqdXN0IGF2YXRhciBoYXNoLCBzaXplIGFuZCB1c2VyIGlkXG4gICAgcmV0dXJuIHJlc29sdmVBdmF0YXJGb3JTaXplKHVzZXIuYXZhdGFycywgc2l6ZSkudXJsO1xuICB9IGVsc2Uge1xuICAgIC8vIGp1c3QgYXBwZW5kIGF2YXRhciBzaXplIHRvIGZpbGUgdG8gcHJvZHVjZSBuby1hdmF0YXIgcGxhY2Vob2xkZXJcbiAgICByZXR1cm4gbWlzYWdvLmdldCgnQkxBTktfQVZBVEFSX1VSTCcpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXZhdGFyRm9yU2l6ZShhdmF0YXJzLCBzaXplKSB7XG4gIGxldCBhdmF0YXIgPSBhdmF0YXJzWzBdO1xuICBhdmF0YXJzLmZvckVhY2goKGF2KSA9PiB7XG4gICAgaWYgKGF2LnNpemUgPj0gc2l6ZSkge1xuICAgICAgYXZhdGFyID0gYXY7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGF2YXRhcjtcbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFJlYXNvbk1lc3NhZ2UoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnByb3BzLm1lc3NhZ2UuaHRtbCkge1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGVhZFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLm1lc3NhZ2UuaHRtbFxuICAgICAgICB9fSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5tZXNzYWdlLnBsYWlufTwvcD47XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzLmlzQWZ0ZXIobW9tZW50KCkpKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgb24gJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMucHJvcHMuZXhwaXJlcy5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyAlKGV4cGlyZXNfb24pcy5cIiksIHtcbiAgICAgICAgICAgICdleHBpcmVzX29uJzogdGhpcy5wcm9wcy5leHBpcmVzLmZyb21Ob3coKVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHJldHVybiA8YWJiciB0aXRsZT17dGl0bGV9PlxuICAgICAgICAgIHttZXNzYWdlfVxuICAgICAgICA8L2FiYnI+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGJhbiBoYXMgZXhwaXJlZC5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaXMgcGVybWFuZW50LlwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1lcnJvciBwYWdlLWVycm9yLWJhbm5lZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXBhbmVsXCI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmhpZ2hsaWdodF9vZmY8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldFJlYXNvbk1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtZm9vdG5vdGVcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAnYnRuICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICBsZXQgZGlzYWJsZWQgPSB0aGlzLnByb3BzLmRpc2FibGVkO1xuXG4gICAgaWYgKHRoaXMucHJvcHMubG9hZGluZykge1xuICAgICAgY2xhc3NOYW1lICs9ICcgYnRuLWxvYWRpbmcnO1xuICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9e3RoaXMucHJvcHMub25DbGljayA/ICdidXR0b24nIDogJ3N1Ym1pdCd9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICB7dGhpcy5wcm9wcy5sb2FkaW5nID8gPExvYWRlciAvPiA6IG51bGx9XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuXG5CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IFwiYnRuLWRlZmF1bHRcIixcblxuICB0eXBlOiBcInN1Ym1pdFwiLFxuXG4gIGxvYWRpbmc6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG5cbiAgb25DbGljazogbnVsbFxufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGFzdEFjdGl2aXR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvbGFzdC1hY3Rpdml0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWRJY29uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvcmVhZC1pY29uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9zdGF0cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN1YmNhdGVnb3J5U3ViY2F0ZWdvcmllcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3N1YmNhdGVnb3J5LXN1YmNhdGVnb3JpZXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFN1YmNhdGVnb3J5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gY2F0ZWdvcnktc3ViY2F0ZWdvcnkgc3ViY2F0ZWdvcnktJyArIHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSBjYXRlZ29yeS1zdWJjYXRlZ29yeSc7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInN1YmNhdGVnb3J5LWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5jYXRlZ29yeS5kZXNjcmlwdGlvbi5odG1sXG4gICAgICAgICAgICAgICAgICB9fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFN1YmNhdGVnb3JpZXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8U3ViY2F0ZWdvcnlTdWJjYXRlZ29yaWVzIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcnkuc3ViY2F0ZWdvcmllc30gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGUtcm93XCI+XG4gICAgICAgIDxoND5cbiAgICAgICAgICA8UmVhZEljb24gY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2g0PlxuICAgICAgICA8U3RhdHMgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPExhc3RBY3Rpdml0eSBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cblxuICAgICAge3RoaXMuZ2V0RGVzY3JpcHRpb24oKX1cbiAgICAgIHt0aGlzLmdldFN1YmNhdGVnb3JpZXMoKX1cblxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBjYXRlZ29yeS1zdWJjYXRlZ29yaWVzXCI+XG4gICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxTdWJjYXRlZ29yeSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+O1xuICAgICAgfSl9XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2F0ZWdvcnlTdWJjYXRlZ29yaWVzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnktc3ViY2F0ZWdvcmllcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExhc3RBY3Rpdml0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL2xhc3QtYWN0aXZpdHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFkSWNvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3JlYWQtaWNvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN0YXRzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3RhdHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gJ3BhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtY2F0ZWdvcnkgcGFuZWwtY2F0ZWdvcnktJyArIHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3BhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtY2F0ZWdvcnknO1xuICAgIH1cbiAgfVxuXG4gIGdldEhlYWRpbmdDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAncGFuZWwtaGVhZGluZyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncGFuZWwtaGVhZGluZyBoZWFkaW5nLWFsb25lJztcbiAgICB9XG4gIH1cblxuICBnZXRDYXRlZ29yeURlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGNhdGVnb3J5LWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5jYXRlZ29yeS5kZXNjcmlwdGlvbi5odG1sXG4gICAgICAgICAgICAgICAgICB9fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFN1YmNhdGVnb3JpZXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Q2F0ZWdvcnlTdWJjYXRlZ29yaWVzIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcnkuc3ViY2F0ZWdvcmllc30gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGlkPXsncGFuZWwtY2F0ZWdvcnktJyArIHRoaXMucHJvcHMuY2F0ZWdvcnkuaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldEhlYWRpbmdDbGFzc05hbWUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZy1pbmJsb2NrXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nLXRvcC1yb3dcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPlxuICAgICAgICAgICAgICA8UmVhZEljb24gY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxTdGF0cyBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8TGFzdEFjdGl2aXR5IGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7dGhpcy5nZXRDYXRlZ29yeURlc2NyaXB0aW9uKCl9XG4gICAgICB7dGhpcy5nZXRTdWJjYXRlZ29yaWVzKCl9XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBMQVNUX1BPU1RFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9hPic7XG5jb25zdCBMQVNUX1BPU1RFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFRIUkVBRF9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGUgdGhyZWFkLXRpdGxlXCI+JSh0aHJlYWQpczwvYT4nO1xuY29uc3QgTEFTVF9QT1NUX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwibGFzdC10aXRsZVwiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hPic7XG5cbmV4cG9ydCBjbGFzcyBMYXN0UG9zdE1lc3NhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRMYXN0UG9zdGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdGVyX3VybCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUE9TVEVSX1VSTCwge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rlcl91cmwpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfU1BBTiwge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldExhc3RUaHJlYWQoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFRIUkVBRF9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfdGhyZWFkX3VybCksXG4gICAgICB0aHJlYWQ6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldExhc3RSZXBseURhdGUoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUE9TVF9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdF91cmwpLFxuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdF9vbi5mcm9tTm93KCkpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJjYXRlZ29yeS1sYXN0LXBvc3RcIlxuICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IGludGVycG9sYXRlKFxuICAgICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwiTGFzdCBwb3N0IGluICUodGhyZWFkKXMgYnkgJSh1c2VyKXMgJShkYXRlKXNcIikpLCB7XG4gICAgICAgIHRocmVhZDogdGhpcy5nZXRMYXN0VGhyZWFkKCksXG4gICAgICAgIGRhdGU6IHRoaXMuZ2V0TGFzdFJlcGx5RGF0ZSgpLFxuICAgICAgICB1c2VyOiB0aGlzLmdldExhc3RQb3N0ZXIoKVxuICAgICAgfSwgdHJ1ZSl9fSAvPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbXB0eU1lc3NhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJjYXRlZ29yeS10aHJlYWQtbWVzc2FnZVwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBlcnJvcl9vdXRsaW5lXG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaXMgZW1wdHkuXCIpfVxuICAgIDwvcD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJpdmF0ZU1lc3NhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJjYXRlZ29yeS10aHJlYWQtbWVzc2FnZVwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBpcyBwcml2YXRlLiBZb3UgY2FuIHNlZSBvbmx5IHlvdXIgb3duIHRocmVhZHMgd2l0aGluIGl0LlwiKX1cbiAgICA8L3A+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3RlZE1lc3NhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJjYXRlZ29yeS10aHJlYWQtbWVzc2FnZVwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBoaWdobGlnaHRfb2ZmXG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaXMgcHJvdGVjdGVkLiBZb3UgY2FuJ3QgYnJvd3NlIGl0J3MgY29udGVudHMuXCIpfVxuICAgIDwvcD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5hY2wuY2FuX2Jyb3dzZSkge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmNhdGVnb3J5LmFjbC5jYW5fc2VlX2FsbF90aHJlYWRzKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxQcml2YXRlTWVzc2FnZSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZSkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8TGFzdFBvc3RNZXNzYWdlIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxFbXB0eU1lc3NhZ2UgLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8UHJvdGVjdGVkTWVzc2FnZSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgcmV0dXJuICdyZWFkLXN0YXR1cyBpdGVtLXJlYWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3JlYWQtc3RhdHVzIGl0ZW0tbmV3JztcbiAgICB9XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19jbG9zZWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBubyBuZXcgcG9zdHMuIChjbG9zZWQpXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBuZXcgcG9zdHMuIChjbG9zZWQpXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbm8gbmV3IHBvc3RzLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbmV3IHBvc3RzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgICByZXR1cm4gJ2xvY2tfb3V0bGluZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ2xvY2snO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICAgIHJldHVybiAnY2hhdF9idWJibGVfb3V0bGluZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ2NoYXRfYnViYmxlJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5cbmxldCBoeWRyYXRlID0gZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNhdGVnb3J5LCB7XG4gICAgbGFzdF9wb3N0X29uOiBjYXRlZ29yeS5sYXN0X3Bvc3Rfb24gPyBtb21lbnQoY2F0ZWdvcnkubGFzdF9wb3N0X29uKSA6IG51bGwsXG4gICAgc3ViY2F0ZWdvcmllczogY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoaHlkcmF0ZSlcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3JpZXM6IG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVMnKS5tYXAoaHlkcmF0ZSlcbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcobWlzYWdvLmdldCgnQ0FURUdPUklFU19BUEknKSk7XG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ2NhdGVnb3JpZXMnLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDE4MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjYXRlZ29yaWVzOiBkYXRhLm1hcChoeWRyYXRlKVxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcmllcy1saXN0XCI+XG4gICAgICB7dGhpcy5zdGF0ZS5jYXRlZ29yaWVzLm1hcChmdW5jdGlvbihjYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gPENhdGVnb3J5IGNhdGVnb3J5PXtjYXRlZ29yeX0ga2V5PXtjYXRlZ29yeS5pZH0gLz47XG4gICAgICB9KX1cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gIH07XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRUaHJlYWRzQ291bnQoKSB7XG4gICAgbGV0IHN0cmluZyA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHRocmVhZHMpcyB0aHJlYWRcIixcbiAgICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkc1wiLFxuICAgICAgdGhpcy5wcm9wcy5jYXRlZ29yeS50aHJlYWRzKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShzdHJpbmcsIHtcbiAgICAgICd0aHJlYWRzJzogdGhpcy5wcm9wcy5jYXRlZ29yeS50aHJlYWRzXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRQb3N0c0NvdW50KCkge1xuICAgIGxldCBzdHJpbmcgPSBuZ2V0dGV4dChcbiAgICAgIFwiJShwb3N0cylzIHBvc3RcIixcbiAgICAgIFwiJShwb3N0cylzIHBvc3RzXCIsXG4gICAgICB0aGlzLnByb3BzLmNhdGVnb3J5LnBvc3RzKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShzdHJpbmcsIHtcbiAgICAgICdwb3N0cyc6IHRoaXMucHJvcHMuY2F0ZWdvcnkucG9zdHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZSBjYXRlZ29yeS1zdGF0c1wiPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRocmVhZHNcIj5cbiAgICAgICAge3RoaXMuZ2V0VGhyZWFkc0NvdW50KCl9XG4gICAgICA8L2xpPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LXBvc3RzXCI+XG4gICAgICAgIHt0aGlzLmdldFBvc3RzQ291bnQoKX1cbiAgICAgIDwvbGk+XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU3ViY2F0ZWdvcnlTdWJjYXRlZ29yaWVzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3ViY2F0ZWdvcnktc3ViY2F0ZWdvcmllcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgU3ViY2F0ZWdvcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gJ3N1YmNhdGVnb3J5IHN1YmNhdGVnb3J5LScgKyB0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdzdWJjYXRlZ29yeSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpPlxuICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmx9XG4gICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5uYW1lfVxuICAgICAgPC9hPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgc3ViY2F0ZWdvcmllcy1saXN0XCI+XG4gICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxTdWJjYXRlZ29yeSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+O1xuICAgICAgfSl9XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHNlbGVjdFxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ2Zvcm0tY29udHJvbCd9XG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICBpZD17cHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgIG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX1cbiAgICAgIHZhbHVlPXtwcm9wcy52YWx1ZX1cbiAgICA+XG4gICAgICB7cHJvcHMuY2hvaWNlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICBkaXNhYmxlZD17aXRlbS5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgICAgICAgIGtleT17aXRlbS52YWx1ZX1cbiAgICAgICAgICAgIHZhbHVlPXtpdGVtLnZhbHVlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsnLSAtICcucmVwZWF0KGl0ZW0ubGV2ZWwpICsgaXRlbS5sYWJlbH1cbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvc2VsZWN0PlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGRldmljZVJhdGlvOiAxLFxuICAgIH07XG4gIH1cblxuICBnZXRBdmF0YXJTaXplKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3RtcC5zaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLnNpemU7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW1hZ2VQYXRoKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YVVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy51cmw7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgbGV0IGNyb3BpdCA9ICQoJy5jcm9wLWZvcm0nKTtcbiAgICBsZXQgY3JvcHBlcldpZHRoID0gdGhpcy5nZXRBdmF0YXJTaXplKCk7XG5cbiAgICBjb25zdCBpbml0aWFsV2lkdGggPSBjcm9waXQud2lkdGgoKTtcbiAgICB3aGlsZSAoaW5pdGlhbFdpZHRoIDwgY3JvcHBlcldpZHRoKSB7XG4gICAgICBjcm9wcGVyV2lkdGggPSBjcm9wcGVyV2lkdGggLyAyO1xuICAgIH1cblxuICAgIGNvbnN0IGRldmljZVJhdGlvID0gdGhpcy5nZXRBdmF0YXJTaXplKCkgLyBjcm9wcGVyV2lkdGg7XG5cbiAgICBjcm9waXQud2lkdGgoY3JvcHBlcldpZHRoKTtcblxuICAgIGNyb3BpdC5jcm9waXQoe1xuICAgICAgd2lkdGg6IGNyb3BwZXJXaWR0aCxcbiAgICAgIGhlaWdodDogY3JvcHBlcldpZHRoLFxuICAgICAgZXhwb3J0Wm9vbTogZGV2aWNlUmF0aW8sXG4gICAgICBpbWFnZVN0YXRlOiB7XG4gICAgICAgIHNyYzogdGhpcy5nZXRJbWFnZVBhdGgoKVxuICAgICAgfSxcbiAgICAgIG9uSW1hZ2VMb2FkZWQ6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICAgICAgLy8gY2VudGVyIHVwbG9hZGVkIGltYWdlXG4gICAgICAgICAgbGV0IHpvb21MZXZlbCA9IGNyb3BpdC5jcm9waXQoJ3pvb20nKTtcbiAgICAgICAgICBsZXQgaW1hZ2VTaXplID0gY3JvcGl0LmNyb3BpdCgnaW1hZ2VTaXplJyk7XG5cbiAgICAgICAgICAvLyBpcyBpdCB3aWRlciB0aGFuIHRhbGxlcj9cbiAgICAgICAgICBpZiAoaW1hZ2VTaXplLndpZHRoID4gaW1hZ2VTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXllZFdpZHRoID0gKGltYWdlU2l6ZS53aWR0aCAqIHpvb21MZXZlbCk7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0WCA9IChkaXNwbGF5ZWRXaWR0aCAtIHRoaXMuZ2V0QXZhdGFyU2l6ZSgpKSAvIC0yO1xuXG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgIHg6IG9mZnNldFgsXG4gICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VTaXplLndpZHRoIDwgaW1hZ2VTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXllZEhlaWdodCA9IChpbWFnZVNpemUuaGVpZ2h0ICogem9vbUxldmVsKTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRZID0gKGRpc3BsYXllZEhlaWdodCAtIHRoaXMuZ2V0QXZhdGFyU2l6ZSgpKSAvIC0yO1xuXG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgIHk6IG9mZnNldFlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1c2UgcHJlc2VydmVkIGNyb3BcbiAgICAgICAgICBsZXQgY3JvcCA9IHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy5jcm9wO1xuXG4gICAgICAgICAgaWYgKGNyb3ApIHtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ3pvb20nLCBjcm9wLnpvb20pO1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdCgnb2Zmc2V0Jywge1xuICAgICAgICAgICAgICB4OiBjcm9wLngsXG4gICAgICAgICAgICAgIHk6IGNyb3AueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKCcuY3JvcC1mb3JtJykuY3JvcGl0KCdkaXNhYmxlJyk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNyb3BBdmF0YXIgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgbGV0IGF2YXRhclR5cGUgPSB0aGlzLnByb3BzLnVwbG9hZCA/ICdjcm9wX3RtcCcgOiAnY3JvcF9zcmMnO1xuICAgIGxldCBjcm9waXQgPSAkKCcuY3JvcC1mb3JtJyk7XG5cbiAgICBjb25zdCBkZXZpY2VSYXRpbyA9IGNyb3BpdC5jcm9waXQoJ2V4cG9ydFpvb20nKTtcbiAgICBjb25zdCBjcm9waXRPZmZzZXQgPSBjcm9waXQuY3JvcGl0KCdvZmZzZXQnKTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIHtcbiAgICAgIGF2YXRhcjogYXZhdGFyVHlwZSxcbiAgICAgIGNyb3A6IHtcbiAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgeDogY3JvcGl0T2Zmc2V0LnggKiBkZXZpY2VSYXRpbyxcbiAgICAgICAgICB5OiBjcm9waXRPZmZzZXQueSAqIGRldmljZVJhdGlvLFxuICAgICAgICB9LFxuICAgICAgICB6b29tOiBjcm9waXQuY3JvcGl0KCd6b29tJykgKiBkZXZpY2VSYXRpbyxcbiAgICAgIH1cbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUoZGF0YSk7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGRhdGEuZGV0YWlsKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWNyb3BcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyb3AtZm9ybVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcm9waXQtcHJldmlld1wiPjwvZGl2PlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNyb3BpdC1pbWFnZS16b29tLWlucHV0XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jcm9wQXZhdGFyfVxuICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMudXBsb2FkID8gZ2V0dGV4dChcIlNldCBhdmF0YXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIkNyb3AgaW1hZ2VcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvQXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYmF0Y2ggZnJvbSAnbWlzYWdvL3V0aWxzL2JhdGNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBHYWxsZXJ5SXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2VsZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuc2VsZWN0KHRoaXMucHJvcHMuaWQpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3Rpb24gPT09IHRoaXMucHJvcHMuaWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiAnYnRuIGJ0bi1hdmF0YXIgYnRuLWRpc2FibGVkIGF2YXRhci1zZWxlY3RlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyIGF2YXRhci1zZWxlY3RlZCc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyIGJ0bi1kaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnYnRuIGJ0bi1hdmF0YXInO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0fVxuICAgICAgPlxuICAgICAgICA8aW1nIHNyYz17dGhpcy5wcm9wcy51cmx9IC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdhbGxlcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhcnMtZ2FsbGVyeVwiPlxuICAgICAgPGgzPnt0aGlzLnByb3BzLm5hbWV9PC9oMz5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJzLWdhbGxlcnktaW1hZ2VzXCI+XG4gICAgICAgIHtiYXRjaCh0aGlzLnByb3BzLmltYWdlcywgNCwgbnVsbCkubWFwKChyb3csIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyb3dcIiBrZXk9e2l9PlxuICAgICAgICAgICAge3Jvdy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIiBrZXk9e2l9PlxuICAgICAgICAgICAgICAgIHtpdGVtID8gPEdhbGxlcnlJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q9e3RoaXMucHJvcHMuc2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uaXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT1cImJsYW5rLWF2YXRhclwiIC8+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ3NlbGVjdGlvbic6IG51bGwsXG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzZWxlY3QgPSAoaW1hZ2UpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNlbGVjdGlvbjogaW1hZ2VcbiAgICB9KTtcbiAgfTtcblxuICBzYXZlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIHtcbiAgICAgIGF2YXRhcjogJ2dhbGxlcmllcycsXG4gICAgICBpbWFnZTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKTtcbiAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShyZXNwb25zZSk7XG4gICAgICB0aGlzLnByb3BzLnNob3dJbmRleCgpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItZ2FsbGVyeVwiPlxuXG4gICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMuZ2FsbGVyaWVzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8R2FsbGVyeSBuYW1lPXtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlcz17aXRlbS5pbWFnZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5zdGF0ZS5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0PXt0aGlzLnNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpfSAvPjtcbiAgICAgICAgfSl9XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuc2F2ZX1cbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWxlY3Rpb24gPyBnZXR0ZXh0KFwiU2F2ZSBjaG9pY2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIlNlbGVjdCBhdmF0YXJcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjYWxsQXBpKGF2YXRhclR5cGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuYXZhdGFyLCB7XG4gICAgICBhdmF0YXI6IGF2YXRhclR5cGVcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbCk7XG4gICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUocmVzcG9uc2UpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNldEdyYXZhdGFyID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaSgnZ3JhdmF0YXInKTtcbiAgfTtcblxuICBzZXRHZW5lcmF0ZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKCdnZW5lcmF0ZWQnKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRHcmF2YXRhckJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmdyYXZhdGFyKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnNldEdyYXZhdGFyfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdyYXZhdGFyXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiRG93bmxvYWQgbXkgR3JhdmF0YXJcIil9XG4gICAgICA8L0J1dHRvbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDcm9wQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9zcmMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0Nyb3B9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItY3JvcFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlJlLWNyb3AgdXBsb2FkZWQgaW1hZ2VcIil9XG4gICAgICA8L0J1dHRvbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVcGxvYWRCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd1VwbG9hZH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci11cGxvYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJVcGxvYWQgbmV3IGltYWdlXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0R2FsbGVyeUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmdhbGxlcmllcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93R2FsbGVyeX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nYWxsZXJ5XCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiUGljayBhdmF0YXIgZnJvbSBnYWxsZXJ5XCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXZhdGFyUHJldmlldygpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IHVzZXJQZXZpZXcgPSB7XG4gICAgICBpZDogdGhpcy5wcm9wcy51c2VyLmlkLFxuICAgICAgYXZhdGFyczogdGhpcy5wcm9wcy5vcHRpb25zLmF2YXRhcnNcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXcgcHJldmlldy1sb2FkaW5nXCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dXNlclBldmlld30gc2l6ZT1cIjIwMFwiIC8+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhci1wcmV2aWV3XCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dXNlclBldmlld30gc2l6ZT1cIjIwMFwiIC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItaW5kZXhcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj5cblxuICAgICAgICAgIHt0aGlzLmdldEF2YXRhclByZXZpZXcoKX1cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuXG4gICAgICAgICAge3RoaXMuZ2V0R3JhdmF0YXJCdXR0b24oKX1cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5zZXRHZW5lcmF0ZWR9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nZW5lcmF0ZVwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJHZW5lcmF0ZSBteSBpbmRpdmlkdWFsIGF2YXRhclwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIHt0aGlzLmdldENyb3BCdXR0b24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRVcGxvYWRCdXR0b24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRHYWxsZXJ5QnV0dG9uKCl9XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFySW5kZXggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhckNyb3AgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyVXBsb2FkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyR2FsbGVyeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXIgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIENoYW5nZUF2YXRhckVycm9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RXJyb3JSZWFzb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucmVhc29uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMucHJvcHMucmVhc29ufX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgICB7dGhpcy5nZXRFcnJvclJlYXNvbigpfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuYXZhdGFyKS50aGVuKChvcHRpb25zKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckluZGV4LFxuICAgICAgICAnb3B0aW9ucyc6IG9wdGlvbnMsXG4gICAgICAgICdlcnJvcic6IG51bGxcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dFcnJvciA9IChlcnJvcikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZXJyb3JcbiAgICB9KTtcbiAgfTtcblxuICBzaG93SW5kZXggPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFySW5kZXhcbiAgICB9KTtcbiAgfTtcblxuICBzaG93VXBsb2FkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhclVwbG9hZFxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dDcm9wID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckNyb3BcbiAgICB9KTtcbiAgfTtcblxuICBzaG93R2FsbGVyeSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJHYWxsZXJ5XG4gICAgfSk7XG4gIH07XG5cbiAgY29tcGxldGVGbG93ID0gKG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBdmF0YXIodGhpcy5wcm9wcy51c2VyLCBvcHRpb25zLmF2YXRhcnMpKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckluZGV4LFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxDaGFuZ2VBdmF0YXJFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yLmRldGFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb249e3RoaXMuc3RhdGUuZXJyb3IucmVhc29ufSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDx0aGlzLnN0YXRlLmNvbXBvbmVudCBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU9e3RoaXMuY29tcGxldGVGbG93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcj17dGhpcy5zaG93RXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZGV4PXt0aGlzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q3JvcD17dGhpcy5zaG93Q3JvcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VXBsb2FkPXt0aGlzLnNob3dVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0dhbGxlcnk9e3RoaXMuc2hvd0dhbGxlcnl9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgaWYgKHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtY2hhbmdlLWF2YXRhclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtY2hhbmdlLWF2YXRhclwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB5b3VyIGF2YXRhclwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGhpcy5nZXRCb2R5KCl9XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICAndXNlcic6IHN0YXRlLmF1dGgudXNlclxuICB9O1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXJDcm9wIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvY3JvcCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgZmlsZVNpemUgZnJvbSAnbWlzYWdvL3V0aWxzL2ZpbGUtc2l6ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaW1hZ2U6IG51bGwsXG4gICAgICBwcmV2aWV3OiBudWxsLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICB1cGxvYWRlZDogbnVsbCxcbiAgICAgIGRhdGFVcmw6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIHZhbGlkYXRlRmlsZShpbWFnZSkge1xuICAgIGlmIChpbWFnZS5zaXplID4gdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5saW1pdCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJTZWxlY3RlZCBmaWxlIGlzIHRvbyBiaWcuICglKGZpbGVzaXplKXMpXCIpLCB7XG4gICAgICAgICdmaWxlc2l6ZSc6IGZpbGVTaXplKGltYWdlLnNpemUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICBsZXQgaW52YWxpZFR5cGVNc2cgPSBnZXR0ZXh0KFwiU2VsZWN0ZWQgZmlsZSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmFsbG93ZWRfbWltZV90eXBlcy5pbmRleE9mKGltYWdlLnR5cGUpID09PSAtMSkge1xuICAgICAgcmV0dXJuIGludmFsaWRUeXBlTXNnO1xuICAgIH1cblxuICAgIGxldCBleHRlbnNpb25Gb3VuZCA9IGZhbHNlO1xuICAgIGxldCBsb3dlcmVkRmlsZW5hbWUgPSBpbWFnZS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5hbGxvd2VkX2V4dGVuc2lvbnMubWFwKGZ1bmN0aW9uKGV4dGVuc2lvbikge1xuICAgICAgaWYgKGxvd2VyZWRGaWxlbmFtZS5zdWJzdHIoZXh0ZW5zaW9uLmxlbmd0aCAqIC0xKSA9PT0gZXh0ZW5zaW9uKSB7XG4gICAgICAgIGV4dGVuc2lvbkZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghZXh0ZW5zaW9uRm91bmQpIHtcbiAgICAgIHJldHVybiBpbnZhbGlkVHlwZU1zZztcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHBpY2tGaWxlID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdmF0YXItaGlkZGVuLXVwbG9hZCcpLmNsaWNrKCk7XG4gIH07XG5cbiAgdXBsb2FkRmlsZSA9ICgpID0+IHtcbiAgICBsZXQgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXZhdGFyLWhpZGRlbi11cGxvYWQnKS5maWxlc1swXTtcbiAgICBpZiAoIWltYWdlKSByZXR1cm47XG5cbiAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdGhpcy52YWxpZGF0ZUZpbGUoaW1hZ2UpO1xuICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRpb25FcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbWFnZSxcbiAgICAgIHByZXZpZXc6IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2UpLFxuICAgICAgcHJvZ3Jlc3M6IDBcbiAgICB9KTtcblxuICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZGF0YS5hcHBlbmQoJ2F2YXRhcicsICd1cGxvYWQnKTtcbiAgICBkYXRhLmFwcGVuZCgnaW1hZ2UnLCBpbWFnZSk7XG5cbiAgICBhamF4LnVwbG9hZCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIGRhdGEsIChwcm9ncmVzcykgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHByb2dyZXNzXG4gICAgICB9KTtcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3B0aW9uczogZGF0YSxcbiAgICAgICAgdXBsb2FkZWQ6IGRhdGEuZGV0YWlsLFxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLmluZm8oZ2V0dGV4dChcIllvdXIgaW1hZ2UgaGFzIGJlZW4gdXBsb2FkZWQgYW5kIHlvdSBtYXkgbm93IGNyb3AgaXQuXCIpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwIHx8IHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMykge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBpbWFnZTogbnVsbCxcbiAgICAgICAgICBwcm9ncmVzczogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKG9wdGlvbnMpIHtcbiAgICBsZXQgZXh0ZW5zaW9ucyA9IG9wdGlvbnMuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIHJldHVybiBleHRlbnNpb24uc3Vic3RyKDEpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKGZpbGVzKXMgZmlsZXMgc21hbGxlciB0aGFuICUobGltaXQpc1wiKSwge1xuICAgICAgICAnZmlsZXMnOiBleHRlbnNpb25zLmpvaW4oJywgJyksXG4gICAgICAgICdsaW1pdCc6IGZpbGVTaXplKG9wdGlvbnMubGltaXQpXG4gICAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFVwbG9hZEJ1dHRvbigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcGljay1maWxlXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpY2tGaWxlfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBpbnB1dFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGZpbGVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzc0xhYmVsKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJShwcm9ncmVzcylzICUgY29tcGxldGVcIiksIHtcbiAgICAgICAgJ3Byb2dyZXNzJzogdGhpcy5zdGF0ZS5wcm9ncmVzc1xuICAgICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzcygpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBsb2FkLXByb2dyZXNzXCI+XG4gICAgICAgICAgPGltZyBzcmM9e3RoaXMuc3RhdGUucHJldmlld30gLz5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgICAgcm9sZT1cInByb2dyZXNzYmFyXCJcbiAgICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz1cInt0aGlzLnN0YXRlLnByb2dyZXNzfVwiXG4gICAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHRoaXMuc3RhdGUucHJvZ3Jlc3MgKyAnJSd9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+e3RoaXMuZ2V0VXBsb2FkUHJvZ3Jlc3NMYWJlbCgpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlclVwbG9hZCgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICBpZD1cImF2YXRhci1oaWRkZW4tdXBsb2FkXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4tZmlsZS11cGxvYWRcIlxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwbG9hZEZpbGV9XG4gICAgICAgIC8+XG4gICAgICAgIHt0aGlzLnN0YXRlLmltYWdlID8gdGhpcy5nZXRVcGxvYWRQcm9ncmVzcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5nZXRVcGxvYWRCdXR0b24oKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17ISF0aGlzLnN0YXRlLmltYWdlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyQ3JvcCgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxBdmF0YXJDcm9wXG4gICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICB1cGxvYWQ9e3RoaXMuc3RhdGUudXBsb2FkZWR9XG4gICAgICAgIGRhdGFVcmw9e3RoaXMuc3RhdGUucHJldmlld31cbiAgICAgICAgb25Db21wbGV0ZT17dGhpcy5wcm9wcy5vbkNvbXBsZXRlfVxuICAgICAgICBzaG93RXJyb3I9e3RoaXMucHJvcHMuc2hvd0Vycm9yfVxuICAgICAgICBzaG93SW5kZXg9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLnVwbG9hZGVkKSByZXR1cm4gdGhpcy5yZW5kZXJDcm9wKCk7XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJVcGxvYWQoKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZHJvcGRvd24pIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tYWxpZ25lZCBidG4taWNvbiBidG4tZHJvcGRvd24tdG9nZ2xlIG9wZW4gaGlkZGVuLW1kIGhpZGRlbi1sZ1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgYnRuLWljb24gYnRuLWRyb3Bkb3duLXRvZ2dsZSBoaWRkZW4tbWQgaGlkZGVuLWxnXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZHJvcGRvd24gPyAndHJ1ZScgOiAnZmFsc2UnfT5cbiAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgbWVudVxuICAgICAgPC9pPlxuICAgIDwvYnV0dG9uPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVwbGFjZVNlbGVjdGlvbih0aGlzLnByb3BzLmV4ZWNBY3Rpb24pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9eydidG4gYnRuLWljb24gJyArIHRoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcbmltcG9ydCBpc1VybCBmcm9tICdtaXNhZ28vdXRpbHMvaXMtdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRDb2RlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgY29kZVwiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZ1bmN0aW9uc1xuICAgICAgPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Q29kZShzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgY29uc3Qgc3ludGF4ID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbmFtZSBvZiBzeW50YXggb2YgeW91ciBjb2RlIChvcHRpb25hbClcIikgKyAnOicpKTtcbiAgcmVwbGFjZShcIlxcblxcbmBgYFwiICsgc3ludGF4ICsgJ1xcbicgKyBzZWxlY3Rpb24gKyBcIlxcbmBgYFxcblxcblwiKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2FjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17bWFrZUVtcGhhc2lzfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJFbXBoYXNlIHNlbGVjdGlvblwiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZvcm1hdF9pdGFsaWNcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFbXBoYXNpcyhzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCcqJyArIHNlbGVjdGlvbiArICcqJyk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2FjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17aW5zZXJ0SHJ9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIkluc2VydCBob3Jpem9udGFsIHJ1bGVyXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgcmVtb3ZlXG4gICAgICA8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRIcihzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgcmVwbGFjZSgnXFxuXFxuLSAtIC0gLSAtXFxuXFxuJyk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydEltYWdlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgaW1hZ2VcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBpbnNlcnRfcGhvdG9cbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEltYWdlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayB0byBpbWFnZVwiKSArICc6JywgdXJsKSk7XG4gIGxhYmVsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgaW1hZ2UgbGFiZWwgKG9wdGlvbmFsKVwiKSArICc6JywgbGFiZWwpKTtcblxuICBpZiAodXJsLmxlbmd0aCkge1xuICAgIGlmIChsYWJlbC5sZW5ndGggPiAwKSB7XG4gICAgICByZXBsYWNlKCchWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKCchKCcgKyB1cmwgKyAnKScpO1xuICAgIH1cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcbmltcG9ydCBpc1VybCBmcm9tICdtaXNhZ28vdXRpbHMvaXMtdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRMaW5rfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgbGlua1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGluc2VydF9saW5rXG4gICAgICA8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRMaW5rKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayBhZGRyZXNzXCIpICsgJzonLCB1cmwpKTtcbiAgbGFiZWwgPSAkLnRyaW0ocHJvbXB0KGdldHRleHQoXCJFbnRlciBsaW5rIGxhYmVsIChvcHRpb25hbClcIikgKyAnOicsIGxhYmVsKSk7XG5cbiAgaWYgKHVybC5sZW5ndGgpIHtcbiAgICBpZiAobGFiZWwubGVuZ3RoID4gMCkge1xuICAgICAgcmVwbGFjZSgnWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKHVybCk7XG4gICAgfVxuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydFF1b3RlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgcXVvdGVcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3JtYXRfcXVvdGVcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFF1b3RlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdGl0bGUgPSAkLnRyaW0ocHJvbXB0KGdldHRleHQoXCJFbnRlciBxdW90ZSBhdXRvciwgcHJlZml4IHVzZXJuYW1lcyB3aXRoIEBcIikgKyAnOicsIHRpdGxlKSk7XG5cbiAgaWYgKHRpdGxlKSB7XG4gICAgcmVwbGFjZSgnXFxuXFxuW3F1b3RlPVwiJyArIHRpdGxlICsgJ1wiXVxcbicgKyBzZWxlY3Rpb24gKyAnXFxuWy9xdW90ZV1cXG5cXG4nKTtcbiAgfSBlbHNlIHtcbiAgICByZXBsYWNlKCdcXG5cXG5bcXVvdGVdXFxuJyArIHNlbGVjdGlvbiArICdcXG5bL3F1b3RlXVxcblxcbicpO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e21ha2VTdHJpa2V0cm91Z2h9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlN0cmlrZXRyb3VnaCBzZWxlY3Rpb25cIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3JtYXRfc3RyaWtldGhyb3VnaFxuICAgICAgPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN0cmlrZXRyb3VnaChzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCd+ficgKyBzZWxlY3Rpb24gKyAnfn4nKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXttYWtlU3Ryb25nfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJCb2xkZXIgc2VsZWN0aW9uXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZm9ybWF0X2JvbGRcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTdHJvbmcoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgcmVwbGFjZSgnKionICsgc2VsZWN0aW9uICsgJyoqJyk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tICdtaXNhZ28vdXRpbHMvZmlsZS1zaXplJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkluc2VydCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJlcGxhY2VTZWxlY3Rpb24odGhpcy5pbnNlcnRBdHRhY2htZW50KTtcbiAgfTtcblxuICBpbnNlcnRBdHRhY2htZW50ID0gKHNlbGVjdGlvbiwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnByb3BzLml0ZW07XG5cbiAgICBpZiAoaXRlbS5pc19pbWFnZSkge1xuICAgICAgaWYgKGl0ZW0udXJsLnRodW1iKSB7XG4gICAgICAgIHJlcGxhY2UoJ1shWycgKyBpdGVtLmZpbGVuYW1lICsgJ10oJyArIGl0ZW0udXJsLnRodW1iICsgJyldKCcgKyBpdGVtLnVybC5pbmRleCArICcpJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXBsYWNlKCdbIVsnICsgaXRlbS5maWxlbmFtZSArICddKCcgKyBpdGVtLnVybC5pbmRleCArICcpXSgnICsgaXRlbS51cmwuaW5kZXggKyAnKScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKCdbJyArIGl0ZW0uZmlsZW5hbWUgKyAnXSgnICsgaXRlbS51cmwuaW5kZXggKyAnKScpO1xuICAgIH1cbiAgfTtcblxuICBvblJlbW92ZSA9ICgpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUl0ZW0oe1xuICAgICAgaXNSZW1vdmVkOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgb25VbmRvID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlSXRlbSh7XG4gICAgICBpc1JlbW92ZWQ6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgdXBkYXRlSXRlbSA9IChuZXdTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRBdHRhY2htZW50cyA9IHRoaXMucHJvcHMuYXR0YWNobWVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5pZCA9PT0gdGhpcy5wcm9wcy5pdGVtLmlkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCBuZXdTdGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodXBkYXRlZEF0dGFjaG1lbnRzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1jb21wbGV0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC05XCI+XG4gICAgICAgICAgICA8UHJldmlldyB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICA8RmlsZW5hbWUgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxEZXRhaWxzIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTMgeHMtbWFyZ2luLXRvcC1oYWxmXCI+XG4gICAgICAgICAgICA8QWN0aW9uc1xuICAgICAgICAgICAgICBvbkluc2VydD17dGhpcy5vbkluc2VydH1cbiAgICAgICAgICAgICAgb25SZW1vdmU9e3RoaXMub25SZW1vdmV9XG4gICAgICAgICAgICAgIG9uVW5kbz17dGhpcy5vblVuZG99XG4gICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aWV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlzX2ltYWdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxJbWFnZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEljb24gey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEltYWdlKHByb3BzKSB7XG4gIGNvbnN0IHRodW1ibmFpbFVybCA9IHByb3BzLml0ZW0udXJsLnRodW1iIHx8IHByb3BzLml0ZW0udXJsLmluZGV4O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1pbWFnZVwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyAnP3NodmE9MSd9XG4gICAgICAgIHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiBcInVybCgnXCIgKyB0aHVtYm5haWxVcmwgKyBcIj9zaHZhPTEnKVwifX1cbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSWNvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtaWNvblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBpbnNlcnRfZHJpdmVfZmlsZVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlsZW5hbWUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8aDQ+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyAnP3NodmE9MSd9XG4gICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICA+XG4gICAgICAgIHtwcm9wcy5pdGVtLmZpbGVuYW1lfVxuICAgICAgPC9hPlxuICAgIDwvaDQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZXRhaWxzKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLml0ZW0udXJsLnVwbG9hZGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cmwudXBsb2FkZXIpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlZF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVkX29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIiUoZmlsZXR5cGUpcywgJShzaXplKXMsIHVwbG9hZGVkIGJ5ICUodXBsb2FkZXIpcyAlKHVwbG9hZGVkX29uKXMuXCIpKSwge1xuICAgIGZpbGV0eXBlOiBwcm9wcy5pdGVtLmZpbGV0eXBlLFxuICAgIHNpemU6IGZvcm1hdEZpbGVzaXplKHByb3BzLml0ZW0uc2l6ZSksXG4gICAgdXBsb2FkZXI6IHVzZXIsXG4gICAgdXBsb2FkZWRfb246IGRhdGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY3Rpb25zKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1hY3Rpb25zXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8SW5zZXJ0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxVbmRvIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5zZXJ0KHByb3BzKSB7XG4gIGlmICghIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkluc2VydH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiSW5zZXJ0XCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmUocHJvcHMpIHtcbiAgaWYgKCEhcHJvcHMuaXRlbS5pc1JlbW92ZWQgJiYgcHJvcHMuaXRlbS5hY2wuY2FuX2RlbGV0ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25SZW1vdmV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5kbyhwcm9wcykge1xuICBpZiAoIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25VbmRvfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJVbmRvIHJlbW92YWxcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBTVFJPTkcgPSAnPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZEF0dGFjaG1lbnRzID0gdGhpcy5wcm9wcy5hdHRhY2htZW50cy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmtleSAhPT0gdGhpcy5wcm9wcy5pdGVtLmtleTtcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoZmlsdGVyZWRBdHRhY2htZW50cyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaW50ZXJwb2xhdGUoU1RST05HLCB7XG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuaXRlbS5maWxlbmFtZSlcbiAgICB9LCB0cnVlKTtcblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkVycm9yIHVwbG9hZGluZyAlKGZpbGVuYW1lKXNcIiksIHtcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ1xuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB3YXJuaW5nXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiB0aXRsZSArICc6J319IC8+XG4gICAgICAgICAgPHA+e3RoaXMucHJvcHMuaXRlbS5lcnJvcn08L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkRpc21pc3NcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59OyIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXR0YWNobWVudENvbXBsZXRlIGZyb20gJy4vY29tcGxldGUnO1xuaW1wb3J0IEF0dGFjaG1lbnRFcnJvciBmcm9tICcuL2Vycm9yJztcbmltcG9ydCBBdHRhY2htZW50VXBsb2FkIGZyb20gJy4vdXBsb2FkJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBdHRhY2htZW50Q29tcGxldGUgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH1cblxuICBpZiAocHJvcHMuaXRlbS5lcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8QXR0YWNobWVudEVycm9yIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QXR0YWNobWVudFVwbG9hZCB7Li4ucHJvcHN9IC8+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IFNUUk9ORyA9ICc8c3Ryb25nPiUobmFtZSlzPC9zdHJvbmc+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgZmlsZW5hbWUgPSBpbnRlcnBvbGF0ZShTVFJPTkcsIHtcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0uZmlsZW5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiVXBsb2FkaW5nICUoZmlsZW5hbWUpcy4uLiAlKHByb2dyZXNzKXNcIiksIHtcbiAgICBmaWxlbmFtZSxcbiAgICBwcm9ncmVzczogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ1xuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC11cGxvYWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1wcm9ncmVzc1wiXG4gICAgICAgICAgc3R5bGU9e3t3aWR0aDogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ319XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwXG4gICAgICAgIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXVwbG9hZC1tZXNzYWdlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgICAgLz5cbiAgICA8L2xpPlxuICApO1xufTsiLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0JztcbmltcG9ydCBVcGxvYWRlciBmcm9tICcuL3VwbG9hZGVyJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFtaXNhZ28uZ2V0KCd1c2VyJykuYWNsLm1heF9hdHRhY2htZW50X3NpemUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudHNcIj5cbiAgICAgIDxMaXN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVcGxvYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdHRhY2htZW50IGZyb20gJy4vYXR0YWNobWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgZWRpdG9yLWF0dGFjaG1lbnRzLWxpc3RcIj5cbiAgICAgIHtwcm9wcy5hdHRhY2htZW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8QXR0YWNobWVudCBpdGVtPXtpdGVtfSBrZXk9e2l0ZW0uaWQgfHwgaXRlbS5rZXl9IHsuLi5wcm9wc30gLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gICk7XG59O1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0b3ItdXBsb2FkLWZpZWxkJykuY2xpY2soKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCFtaXNhZ28uZ2V0KCd1c2VyJykuYWNsLm1heF9hdHRhY2htZW50X3NpemUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17J2J0biBidG4taWNvbiAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KCdVcGxvYWQgZmlsZScpfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGZpbGVfdXBsb2FkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cbn07XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB1cGxvYWQgPSB7XG4gICAgICBpZDogbnVsbCxcbiAgICAgIGtleTogZ2V0UmFuZG9tS2V5KCksXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZmlsZW5hbWU6IGZpbGUubmFtZVxuICAgIH07XG5cbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoW3VwbG9hZF0uY29uY2F0KHRoaXMucHJvcHMuYXR0YWNobWVudHMpKTtcblxuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgndXBsb2FkJywgZmlsZSk7XG5cbiAgICBhamF4LnVwbG9hZChtaXNhZ28uZ2V0KCdBVFRBQ0hNRU5UU19BUEknKSwgZGF0YSwgKHByb2dyZXNzKSA9PiB7XG4gICAgICB1cGxvYWQucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBkYXRhLnVwbG9hZGVkX29uID0gbW9tZW50KGRhdGEudXBsb2FkZWRfb24pO1xuICAgICAgT2JqZWN0LmFzc2lnbih1cGxvYWQsIGRhdGEpO1xuICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDAgfHwgcmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzKSB7XG4gICAgICAgIHVwbG9hZC5lcnJvciA9IHJlamVjdGlvbi5kZXRhaWw7XG4gICAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgaWQ9XCJlZGl0b3ItdXBsb2FkLWZpZWxkXCJcbiAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUtleSgpIHtcbiAgcmV0dXJuICd1cGxkLScgKyBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvZGUgZnJvbSAnLi9hY3Rpb25zL2NvZGUnO1xuaW1wb3J0IEVtcGhhc2lzIGZyb20gJy4vYWN0aW9ucy9lbXBoYXNpcyc7XG5pbXBvcnQgSHIgZnJvbSAnLi9hY3Rpb25zL2hyJztcbmltcG9ydCBJbWFnZSBmcm9tICcuL2FjdGlvbnMvaW1hZ2UnO1xuaW1wb3J0IExpbmsgZnJvbSAnLi9hY3Rpb25zL2xpbmsnO1xuaW1wb3J0IFN0cmlrZXRyb3VnaCBmcm9tICcuL2FjdGlvbnMvc3RyaWtldHJvdWdoJztcbmltcG9ydCBTdHJvbmcgZnJvbSAnLi9hY3Rpb25zL3N0cm9uZyc7XG5pbXBvcnQgUXVvdGUgZnJvbSAnLi9hY3Rpb25zL3F1b3RlJztcbmltcG9ydCBBdHRhY2htZW50c0VkaXRvciBmcm9tICcuL2F0dGFjaG1lbnRzJztcbmltcG9ydCBVcGxvYWQgZnJvbSAnLi9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uLyc7XG5pbXBvcnQgTWFya3VwUHJldmlldyBmcm9tICcuL21hcmt1cC1wcmV2aWV3JztcbmltcG9ydCAqIGFzIHRleHRVdGlscyBmcm9tICcuL3RleHRVdGlscyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUHJldmlld0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIG9uUHJldmlld0NsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUHJldmlld0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdQQVJTRV9NQVJLVVBfQVBJJyksIHtwb3N0OiB0aGlzLnByb3BzLnZhbHVlfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgPE1hcmt1cFByZXZpZXcgbWFya3VwPXtkYXRhLnBhcnNlZH0gLz5cbiAgICAgICk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1ByZXZpZXdMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1ByZXZpZXdMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVwbGFjZVNlbGVjdGlvbiA9IChvcGVyYXRpb24pID0+IHtcbiAgICBvcGVyYXRpb24odGV4dFV0aWxzLmdldFNlbGVjdGlvblRleHQoKSwgdGhpcy5fcmVwbGFjZVNlbGVjdGlvbik7XG4gIH07XG5cbiAgX3JlcGxhY2VTZWxlY3Rpb24gPSAobmV3VmFsdWUpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHRhcmdldDoge1xuICAgICAgICB2YWx1ZTogdGV4dFV0aWxzLnJlcGxhY2UobmV3VmFsdWUpXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1ib3JkZXJcIj5cbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgIGlkPVwiZWRpdG9yLXRleHRhcmVhXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICByb3dzPVwiOVwiXG4gICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbnMtbGlzdCBwdWxsLWxlZnRcIj5cbiAgICAgICAgICAgIDxTdHJvbmdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEVtcGhhc2lzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxTdHJpa2V0cm91Z2hcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEhyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8UXVvdGVcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPENvZGVcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFVwbG9hZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uUHJldmlld0NsaWNrfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJQcmV2aWV3XCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5zdWJtaXRMYWJlbCB8fCBnZXR0ZXh0KFwiUG9zdFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DYW5jZWx9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4IHZpc2libGUteHMtYmxvY2tcIiAvPlxuICAgICAgICAgIDxQcm90ZWN0XG4gICAgICAgICAgICBjYW5Qcm90ZWN0PXt0aGlzLnByb3BzLmNhblByb3RlY3R9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgb25Qcm90ZWN0PXt0aGlzLnByb3BzLm9uUHJvdGVjdH1cbiAgICAgICAgICAgIG9uVW5wcm90ZWN0PXt0aGlzLnByb3BzLm9uVW5wcm90ZWN0fVxuICAgICAgICAgICAgcHJvdGVjdD17dGhpcy5wcm9wcy5wcm90ZWN0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QXR0YWNobWVudHNFZGl0b3JcbiAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5wcm9wcy5hdHRhY2htZW50c31cbiAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdChwcm9wcykge1xuICBpZiAoIXByb3BzLmNhblByb3RlY3QpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGxhYmVsID0gcHJvcHMucHJvdGVjdCA/IGdldHRleHQoJ1Byb3RlY3RlZCcpIDogZ2V0dGV4dCgnUHJvdGVjdCcpO1xuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pY29uIGJ0bi1kZWZhdWx0IGJ0bi1wcm90ZWN0IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLnByb3RlY3QgPyBwcm9wcy5vblVucHJvdGVjdCA6IHByb3BzLm9uUHJvdGVjdH1cbiAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge3Byb3BzLnByb3RlY3QgPyAnbG9jaycgOiAnbG9ja19vdXRsaW5lJ31cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0IGhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgICAge2xhYmVsfVxuICAgICAgPC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNaXNhZ29NYXJrdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJQcmV2aWV3IG1lc3NhZ2VcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtYXJrdXAtcHJldmlld1wiPlxuICAgICAgICAgIDxNaXNhZ29NYXJrdXAgbWFya3VwPXtwcm9wcy5tYXJrdXB9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiZXhwb3J0IGNvbnN0IHRleHRhcmVhSWQgPSAnZWRpdG9yLXRleHRhcmVhJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRhcmVhKCkge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGV4dGFyZWFJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRhcmVhSWQpLnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICByZXR1cm4ge1xuICAgIHN0YXJ0LFxuICAgIGVuZFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKCkge1xuICBjb25zdCBjdHJsID0gZ2V0VGV4dGFyZWEoKTtcbiAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgIGN0cmwuZm9jdXMoKTtcbiAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgIGNvbnN0IGxlbmd0aCA9IHJhbmdlLnRleHQubGVuZ3RoO1xuICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLWN0cmwudmFsdWUubGVuZ3RoKTtcbiAgICByZXR1cm4gZ2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UudGV4dC5sZW5ndGggLSBsZW5ndGgsIHJhbmdlLnRleHQubGVuZ3RoKTtcbiAgfSBlbHNlIGlmIChjdHJsLnNlbGVjdGlvblN0YXJ0IHx8IGN0cmwuc2VsZWN0aW9uU3RhcnQgPT0gJzAnKSB7XG4gICAgcmV0dXJuIGdldFNlbGVjdGlvblJhbmdlKGN0cmwuc2VsZWN0aW9uU3RhcnQsIGN0cmwuc2VsZWN0aW9uRW5kKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uVGV4dCgpIHtcbiAgY29uc3QgcmFuZ2UgPSBnZXRTZWxlY3Rpb24oKTtcbiAgcmV0dXJuICQudHJpbShnZXRWYWx1ZSgpLnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdGlvbihzZWxlY3Rpb25SYW5nZSkge1xuICBjb25zdCBjdHJsID0gZ2V0VGV4dGFyZWEoKTtcbiAgaWYgKGN0cmwuc2V0U2VsZWN0aW9uUmFuZ2UpIHtcbiAgICBjdHJsLmZvY3VzKCk7XG4gICAgY3RybC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25SYW5nZS5zdGFydCwgc2VsZWN0aW9uUmFuZ2UuZW5kKTtcbiAgfSBlbHNlIGlmIChjdHJsLmNyZWF0ZVRleHRSYW5nZSkge1xuICAgIGNvbnN0IHJhbmdlID0gY3RybC5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIHNlbGVjdGlvblJhbmdlLnN0YXJ0KTtcbiAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBzZWxlY3Rpb25SYW5nZS5lbmQpO1xuICAgIHJhbmdlLnNlbGVjdCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVwbGFjZShteVJhbmdlLCByZXBsYWNlbWVudCkge1xuICBjb25zdCBjdHJsID0gZ2V0VGV4dGFyZWEoKTtcbiAgY29uc3QgdGV4dCA9IGN0cmwudmFsdWU7XG4gIGNvbnN0IHN0YXJ0VGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIG15UmFuZ2Uuc3RhcnQpO1xuICBjdHJsLnZhbHVlID0gdGV4dC5zdWJzdHJpbmcoMCwgbXlSYW5nZS5zdGFydCkgKyByZXBsYWNlbWVudCArIHRleHQuc3Vic3RyaW5nKG15UmFuZ2UuZW5kKTtcbiAgc2V0U2VsZWN0aW9uKGdldFNlbGVjdGlvblJhbmdlKHN0YXJ0VGV4dC5sZW5ndGggKyByZXBsYWNlbWVudC5sZW5ndGgsIHN0YXJ0VGV4dC5sZW5ndGggKyByZXBsYWNlbWVudC5sZW5ndGgpKTtcbiAgcmV0dXJuIGN0cmwudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKHJlcGxhY2VtZW50KSB7XG4gIHJldHVybiBfcmVwbGFjZShnZXRTZWxlY3Rpb24oKSwgcmVwbGFjZW1lbnQpO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBpc1ZhbGlkYXRlZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucHJvcHMudmFsaWRhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gJ2Zvcm0tZ3JvdXAnO1xuICAgIGlmICh0aGlzLmlzVmFsaWRhdGVkKCkpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnIGhhcy1mZWVkYmFjayc7XG4gICAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0aW9uID09PSBudWxsKSB7XG4gICAgICAgIGNsYXNzTmFtZSArPSAnIGhhcy1zdWNjZXNzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsYXNzTmFtZSArPSAnIGhhcy1lcnJvcic7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbGFzc05hbWU7XG4gIH1cblxuICBnZXRGZWVkYmFjaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIGVycm9yc1wiPlxuICAgICAgICB7dGhpcy5wcm9wcy52YWxpZGF0aW9uLm1hcCgoZXJyb3IsIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPHAga2V5PXt0aGlzLnByb3BzLmZvciArICdGZWVkYmFja0l0ZW0nICsgaX0+e2Vycm9yfTwvcD47XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gaWQ9e3RoaXMucHJvcHMuZm9yICsgJ19zdGF0dXMnfSBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24gPyBnZXR0ZXh0KCcoZXJyb3IpJykgOiBnZXR0ZXh0KCcoc3VjY2VzcyknKX1cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj57dGhpcy5wcm9wcy5oZWxwVGV4dH08L3A+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT17J2NvbnRyb2wtbGFiZWwgJyArICh0aGlzLnByb3BzLmxhYmVsQ2xhc3MgfHwgJycpfVxuICAgICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuZm9yIHx8ICcnfT5cbiAgICAgICAge3RoaXMucHJvcHMubGFiZWwgKyAnOid9XG4gICAgICA8L2xhYmVsPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY29udHJvbENsYXNzIHx8ICcnfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIHt0aGlzLmdldEZlZWRiYWNrRGVzY3JpcHRpb24oKX1cbiAgICAgICAge3RoaXMuZ2V0RmVlZGJhY2soKX1cbiAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAge3RoaXMucHJvcHMuZXh0cmEgfHwgbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxubGV0IHZhbGlkYXRlUmVxdWlyZWQgPSByZXF1aXJlZCgpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHZhbGlkYXRlKCkge1xuICAgIGxldCBlcnJvcnMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc3RhdGUudmFsaWRhdG9ycykge1xuICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdG9ycyA9IHtcbiAgICAgIHJlcXVpcmVkOiB0aGlzLnN0YXRlLnZhbGlkYXRvcnMucmVxdWlyZWQgfHwgdGhpcy5zdGF0ZS52YWxpZGF0b3JzLFxuICAgICAgb3B0aW9uYWw6IHRoaXMuc3RhdGUudmFsaWRhdG9ycy5vcHRpb25hbCB8fCB7fVxuICAgIH07XG5cbiAgICBsZXQgdmFsaWRhdGVkRmllbGRzID0gW107XG5cbiAgICAvLyBhZGQgcmVxdWlyZWQgZmllbGRzIHRvIHZhbGlkYXRpb25cbiAgICBmb3IgKGxldCBuYW1lIGluIHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgIGlmICh2YWxpZGF0b3JzLnJlcXVpcmVkLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZFtuYW1lXSkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgb3B0aW9uYWwgZmllbGRzIHRvIHZhbGlkYXRpb25cbiAgICBmb3IgKGxldCBuYW1lIGluIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgIGlmICh2YWxpZGF0b3JzLm9wdGlvbmFsLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgICAgdmFsaWRhdG9ycy5vcHRpb25hbFtuYW1lXSkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBmaWVsZHMgdmFsdWVzXG4gICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0ZWRGaWVsZHMpIHtcbiAgICAgIGxldCBuYW1lID0gdmFsaWRhdGVkRmllbGRzW2ldO1xuICAgICAgbGV0IGZpZWxkRXJyb3JzID0gdGhpcy52YWxpZGF0ZUZpZWxkKG5hbWUsIHRoaXMuc3RhdGVbbmFtZV0pO1xuXG4gICAgICBpZiAoZmllbGRFcnJvcnMgPT09IG51bGwpIHtcbiAgICAgICAgZXJyb3JzW25hbWVdID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoZmllbGRFcnJvcnMpIHtcbiAgICAgICAgZXJyb3JzW25hbWVdID0gZmllbGRFcnJvcnM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxuXG4gIGlzVmFsaWQoKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBmb3IgKGxldCBmaWVsZCBpbiBlcnJvcnMpIHtcbiAgICAgIGlmIChlcnJvcnMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgIGlmIChlcnJvcnNbZmllbGRdICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YWxpZGF0ZUZpZWxkKG5hbWUsIHZhbHVlKSB7XG4gICAgbGV0IGVycm9ycyA9IFtdO1xuICAgIGlmICghdGhpcy5zdGF0ZS52YWxpZGF0b3JzKSB7XG4gICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH1cblxuICAgIGxldCB2YWxpZGF0b3JzID0ge1xuICAgICAgcmVxdWlyZWQ6ICh0aGlzLnN0YXRlLnZhbGlkYXRvcnMucmVxdWlyZWQgfHwgdGhpcy5zdGF0ZS52YWxpZGF0b3JzKVtuYW1lXSxcbiAgICAgIG9wdGlvbmFsOiAodGhpcy5zdGF0ZS52YWxpZGF0b3JzLm9wdGlvbmFsIHx8IHt9KVtuYW1lXVxuICAgIH07XG5cbiAgICBsZXQgcmVxdWlyZWRFcnJvciA9IHZhbGlkYXRlUmVxdWlyZWQodmFsdWUpIHx8IGZhbHNlO1xuXG4gICAgaWYgKHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgIGlmIChyZXF1aXJlZEVycm9yKSB7XG4gICAgICAgIGVycm9ycyA9IFtyZXF1aXJlZEVycm9yXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0b3JzLnJlcXVpcmVkW2ldKHZhbHVlKTtcbiAgICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0aW9uRXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA/IGVycm9ycyA6IG51bGw7XG4gICAgfSBlbHNlIGlmIChyZXF1aXJlZEVycm9yID09PSBmYWxzZSAmJiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRvcnMub3B0aW9uYWxbaV0odmFsdWUpO1xuICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA/IGVycm9ycyA6IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlOyAvLyBmYWxzZSA9PT0gZmllbGQgd2Fzbid0IHZhbGlkYXRlZFxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBiaW5kSW5wdXQgPSAobmFtZSkgPT4ge1xuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlVmFsdWUobmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgY2hhbmdlVmFsdWUgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBsZXQgbmV3U3RhdGUgPSB7XG4gICAgICBbbmFtZV06IHZhbHVlXG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1FcnJvcnMgPSB0aGlzLnN0YXRlLmVycm9ycyB8fCB7fTtcbiAgICBmb3JtRXJyb3JzW25hbWVdID0gdGhpcy52YWxpZGF0ZUZpZWxkKG5hbWUsIG5ld1N0YXRlW25hbWVdKTtcbiAgICBuZXdTdGF0ZS5lcnJvcnMgPSBmb3JtRXJyb3JzO1xuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gIH07XG5cbiAgY2xlYW4oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgIC8vIHdlIGRvbid0IHJlbG9hZCBwYWdlIG9uIHN1Ym1pc3Npb25zXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNsZWFuKCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogdHJ1ZX0pO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLnNlbmQoKTtcblxuICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNMb2FkaW5nOiBmYWxzZX0pO1xuICAgICAgICAgIHRoaXMuaGFuZGxlU3VjY2VzcyhzdWNjZXNzKTtcbiAgICAgICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlamVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNMb2FkaW5nOiBmYWxzZX0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzQWN0aXZlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzQ29udHJvbGxlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaXNBY3RpdmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YodGhpcy5wcm9wcy5wYXRoKSA9PT0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuICh0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJykgKyAnICcrICh0aGlzLnByb3BzLmFjdGl2ZUNsYXNzTmFtZSB8fCAnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgIDwvbGk+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJsb2FkZXJcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlci1zcGlubmluZy13aGVlbFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnLi9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnLi9mb3JtLWdyb3VwJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBwb2xsOiAwLFxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmU/IFRoaXMgd2lsbCBkZWxldGUgb3RoZXIgcG9sbHMuXCIpKTtcbiAgICByZXR1cm4gY29uZmlybWF0aW9uXG4gIH1cblxuICBzZW5kKCkge1xuICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLmRhdGEsIHtcbiAgICAgIHBvbGw6IHRoaXMuc3RhdGUucG9sbFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgZGF0YSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gKHN1Y2Nlc3MpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uU3VjY2VzcyhzdWNjZXNzKTtcbiAgICBtb2RhbC5oaWRlKCk7XG4gIH07XG5cbiAgaGFuZGxlRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkVycm9yKHJlamVjdGlvbik7XG4gIH07XG5cbiAgb25Qb2xsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9sbCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSBwb2xsc1wiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPHA+e2dldHRleHQoXCJTZWxlY3QgcG9sbCB0byB1c2UgaW4gbWVyZ2VkIHRocmVhZC4gT3RoZXIgcG9sbHMgd2lsbCBiZSBkZWxldGVkLlwiKX08L3A+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGxcIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfcG9sbFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9wb2xsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9sbENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvbGx9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMucG9sbHMubWFwKChwb2xsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17cG9sbFswXX0ga2V5PXtwb2xsWzBdfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwb2xsWzFdfVxuICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgcG9sbHNcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG9uZWJveCBmcm9tICdtaXNhZ28vc2VydmljZXMvb25lLWJveCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBvbmVib3gucmVuZGVyKHRoaXMuZG9jdW1lbnROb2RlKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIG9uZWJveC5yZW5kZXIodGhpcy5kb2N1bWVudE5vZGUpO1xuICB9XG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgcmV0dXJuIG5leHRQcm9wcy5tYXJrdXAgIT09IHRoaXMucHJvcHMubWFya3VwO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YXJ0aWNsZVxuICAgICAgICBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMucHJvcHMubWFya3VwfX1cbiAgICAgICAgcmVmPXsobm9kZSkgPT4geyB0aGlzLmRvY3VtZW50Tm9kZSA9IG5vZGU7IH19XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1sb2FkZXJcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUGFuZWxNZXNzYWdlIHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmhlbHBUZXh0fVxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmljb24gfHwgJ2luZm9fb3V0bGluZSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFuZWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8UGFuZWxMb2FkZXIgLz5cbiAgPC9kaXY+XG4gICk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMubmV4dF9vbikge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJZb3Ugd2lsbCBiZSBhYmxlIHRvIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUobmV4dF9jaGFuZ2Upcy5cIiksXG4gICAgICAgICAgeyduZXh0X2NoYW5nZSc6IHRoaXMucHJvcHMub3B0aW9ucy5uZXh0X29uLmZyb21Ob3coKX0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBoYXZlIHVzZWQgdXAgYXZhaWxhYmxlIG5hbWUgY2hhbmdlcy5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxQYW5lbE1lc3NhZ2VcbiAgICAgICAgICBoZWxwVGV4dD17dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJZb3UgY2FuJ3QgY2hhbmdlIHlvdXIgdXNlcm5hbWUgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VybmFtZTogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgocHJvcHMub3B0aW9ucy5sZW5ndGhfbWluKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWF4TGVuZ3RoKHByb3BzLm9wdGlvbnMubGVuZ3RoX21heClcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBsZXQgcGhyYXNlcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPiAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBjYW4gY2hhbmdlIHlvdXIgdXNlcm5hbWUgJShjaGFuZ2VzX2xlZnQpcyBtb3JlIHRpbWUuXCIsXG4gICAgICAgIFwiWW91IGNhbiBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKGNoYW5nZXNfbGVmdClzIG1vcmUgdGltZXMuXCIsXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnQpO1xuXG4gICAgICBwaHJhc2VzLnB1c2goaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnY2hhbmdlc19sZWZ0JzogdGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdFxuICAgICAgfSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmUgPiAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlVzZWQgY2hhbmdlcyByZWRlZW0gYWZ0ZXIgJShuYW1lX2NoYW5nZXNfZXhwaXJlKXMgZGF5LlwiLFxuICAgICAgICBcIlVzZWQgY2hhbmdlcyByZWRlZW0gYWZ0ZXIgJShuYW1lX2NoYW5nZXNfZXhwaXJlKXMgZGF5cy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlKTtcblxuICAgICAgcGhyYXNlcy5wdXNoKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ25hbWVfY2hhbmdlc19leHBpcmUnOiB0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmVcbiAgICAgIH0sIHRydWUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGhyYXNlcy5sZW5ndGggPyBwaHJhc2VzLmpvaW4oJyAnKSA6IG51bGw7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGlmIChlcnJvcnMudXNlcm5hbWUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy51c2VybmFtZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBpZiAodGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCkgPT09IHRoaXMucHJvcHMudXNlci51c2VybmFtZSkge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiWW91ciBuZXcgdXNlcm5hbWUgaXMgc2FtZSBhcyBjdXJyZW50IG9uZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwudXNlcm5hbWUsIHtcbiAgICAgICd1c2VybmFtZSc6IHRoaXMuc3RhdGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ3VzZXJuYW1lJzogJydcbiAgICB9KTtcblxuICAgIHRoaXMucHJvcHMuY29tcGxldGUoc3VjY2Vzcy51c2VybmFtZSwgc3VjY2Vzcy5zbHVnLCBzdWNjZXNzLm9wdGlvbnMpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IHVzZXJuYW1lXCIpfSBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17dGhpcy5nZXRIZWxwVGV4dCgpfT5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiaWRfdXNlcm5hbWVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3VzZXJuYW1lJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZvcm1Mb2FkaW5nIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9hZGluZyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm1Mb2NrZWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2NrZWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBVc2VybmFtZUhpc3RvcnkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlLCBhZGROYW1lQ2hhbmdlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHVwZGF0ZVVzZXJuYW1lIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgb3B0aW9uczogbnVsbFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSk7XG5cbiAgICBQcm9taXNlLmFsbChbXG4gICAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC51c2VybmFtZSksXG4gICAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdVU0VSTkFNRV9DSEFOR0VTX0FQSScpLCB7dXNlcjogdGhpcy5wcm9wcy51c2VyLmlkfSlcbiAgICBdKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGFbMV0ucmVzdWx0cykpO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBjaGFuZ2VzX2xlZnQ6IGRhdGFbMF0uY2hhbmdlc19sZWZ0LFxuICAgICAgICAgIGxlbmd0aF9taW46IGRhdGFbMF0ubGVuZ3RoX21pbixcbiAgICAgICAgICBsZW5ndGhfbWF4OiBkYXRhWzBdLmxlbmd0aF9tYXgsXG4gICAgICAgICAgbmV4dF9vbjogZGF0YVswXS5uZXh0X29uID8gbW9tZW50KGRhdGFbMF0ubmV4dF9vbikgOiBudWxsLFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgb25Db21wbGV0ZSA9ICh1c2VybmFtZSwgc2x1Zywgb3B0aW9ucykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBhZGROYW1lQ2hhbmdlKHsgdXNlcm5hbWUsIHNsdWcgfSwgdGhpcy5wcm9wcy51c2VyLCB0aGlzLnByb3BzLnVzZXIpKTtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVVzZXJuYW1lKHRoaXMucHJvcHMudXNlciwgdXNlcm5hbWUsIHNsdWcpKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdXNlcm5hbWUgaGFzIGJlZW4gY2hhbmdlZCBzdWNjZXNzZnVsbHkuXCIpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDaGFuZ2VGb3JtKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Mb2FkaW5nIC8+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5vcHRpb25zLmNoYW5nZXNfbGVmdCA9PT0gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Mb2NrZWQgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfSAvPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybVxuICAgICAgICBjb21wbGV0ZT17dGhpcy5vbkNvbXBsZXRlfVxuICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgIC8+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIHt0aGlzLmdldENoYW5nZUZvcm0oKX1cbiAgICAgIDxVc2VybmFtZUhpc3RvcnkgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXM9e3RoaXMucHJvcHNbJ3VzZXJuYW1lLWhpc3RvcnknXX0gLz5cbiAgICA8L2Rpdj5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvYXV0aCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnaXNfaGlkaW5nX3ByZXNlbmNlJzogcHJvcHMudXNlci5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICAnbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8nOiBwcm9wcy51c2VyLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgJ3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMnOiBwcm9wcy51c2VyLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICAnc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcyc6IHByb3BzLnVzZXIuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcyxcblxuICAgICAgJ2Vycm9ycyc6IHt9XG4gICAgfTtcblxuICAgIHRoaXMucHJpdmF0ZVRocmVhZEludml0ZXNDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdoZWxwX291dGxpbmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiRXZlcnlib2R5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdkb25lX2FsbCcsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJVc2VycyBJIGZvbGxvd1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnaGlnaGxpZ2h0X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb2JvZHlcIilcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgdGhpcy5zdWJzY3JpYmVUb0Nob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3N0YXJfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdzdGFyX2hhbGYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90aWZ5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdzdGFyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdGlmeSB3aXRoIGUtbWFpbFwiKVxuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwub3B0aW9ucywge1xuICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiB0aGlzLnN0YXRlLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOiB0aGlzLnN0YXRlLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogdGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgIH0pKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIGZvcnVtIG9wdGlvbnMgaGF2ZSBiZWVuIGNoYW5nZWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJQbGVhc2UgcmVsb2FkIHBhZ2UgYW5kIHRyeSBhZ2Fpbi5cIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkZvcnVtIG9wdGlvbnNcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZm9ydW0gb3B0aW9uc1wiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJQcml2YWN5IHNldHRpbmdzXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2VcIil9XG4gICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJJZiB5b3UgaGlkZSB5b3VyIHByZXNlbmNlLCBvbmx5IG1lbWJlcnMgd2l0aCBwZXJtaXNzaW9uIHRvIHNlZSBoaWRkZW4gdXNlcnMgd2lsbCBzZWUgd2hlbiB5b3UgYXJlIG9ubGluZS5cIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkaW5nX3ByZXNlbmNlXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWNvbk9uPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cInZpc2liaWxpdHlcIlxuICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2UgZnJvbSBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiU2hvdyBteSBwcmVzZW5jZSB0byBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfaGlkaW5nX3ByZXNlbmNlJyl9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWQgaW52aXRhdGlvbnNcIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2xpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvJyl9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b31cbiAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMucHJpdmF0ZVRocmVhZEludml0ZXNDaG9pY2VzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9maWVsZHNldD5cblxuICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiQXV0b21hdGljIHN1YnNjcmlwdGlvbnNcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkcyBJIHN0YXJ0XCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcycpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc31cbiAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3Vic2NyaWJlVG9DaG9pY2VzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZHMgSSByZXBseSB0b1wiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3N1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHMnKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN1YnNjcmliZVRvQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuXG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBMaSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9saSc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBTaWRlTmF2KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICB7cHJvcHMub3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgIGtleT17b3B0aW9uLmNvbXBvbmVudH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIHtvcHRpb24uaWNvbn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtvcHRpb24ubmFtZX1cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBhY3ROYXYocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbVwifSByb2xlPVwibWVudVwiPlxuICAgICAge3Byb3BzLm9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlcbiAgICAgICAgICAgIHBhdGg9e3Byb3BzLmJhc2VVcmwgKyBvcHRpb24uY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAga2V5PXtvcHRpb24uY29tcG9uZW50fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZU5hdn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgICB7b3B0aW9uLmljb259XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge29wdGlvbi5uYW1lfVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDwvTGk+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IFNpZGVOYXYsIENvbXBhY3ROYXYgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL25hdnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VGb3J1bU9wdGlvbnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9mb3J1bS1vcHRpb25zJztcbmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9yb290JztcbmltcG9ydCBDaGFuZ2VTaWduSW5DcmVkZW50aWFscyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvcm9vdCc7XG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24nO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW9wdGlvbnNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgICAgICAgPGgxPntnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKX08L2gxPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIHZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxDb21wYWN0TmF2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCJcbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKX1cbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e21pc2Fnby5nZXQoJ1VTRVJfT1BUSU9OUycpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuXG4gICAgICAgICAgICAgIDxTaWRlTmF2XG4gICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e21pc2Fnby5nZXQoJ1VTRVJfT1BUSU9OUycpfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj5cblxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgICd0aWNrJzogc3RvcmUudGljay50aWNrLFxuICAgICd1c2VyJzogc3RvcmUuYXV0aC51c2VyLFxuICAgICd1c2VybmFtZS1oaXN0b3J5Jzogc3RvcmVbJ3VzZXJuYW1lLWhpc3RvcnknXVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ2ZvcnVtLW9wdGlvbnMvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZUZvcnVtT3B0aW9ucylcbiAgICB9LFxuICAgIHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKSArICdjaGFuZ2UtdXNlcm5hbWUvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVVzZXJuYW1lKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ3NpZ24taW4tY3JlZGVudGlhbHMvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVNpZ25JbkNyZWRlbnRpYWxzKVxuICAgIH1cbiAgXTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuZXdfZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIG5ld19lbWFpbDogW1xuICAgICAgICAgIHZhbGlkYXRvcnMuZW1haWwoKVxuICAgICAgICBdLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUubmV3X2VtYWlsLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGhcbiAgICBdO1xuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBhbGwgZmllbGRzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5uZXdfZW1haWwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5uZXdfZW1haWxbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmNoYW5nZV9lbWFpbCwge1xuICAgICAgbmV3X2VtYWlsOiB0aGlzLnN0YXRlLm5ld19lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmV3X2VtYWlsOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJ1xuICAgIH0pO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5uZXdfZW1haWwpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLm5ld19lbWFpbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucGFzc3dvcmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZS1tYWlsIGFkZHJlc3NcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBlLW1haWxcIil9IGZvcj1cImlkX25ld19lbWFpbFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF9uZXdfZW1haWxcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ25ld19lbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5ld19lbWFpbH0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxociAvPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIllvdXIgY3VycmVudCBwYXNzd29yZFwiKX0gZm9yPVwiaWRfcGFzc3dvcmRcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuXG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIGUtbWFpbFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV3X3Bhc3N3b3JkOiAnJyxcbiAgICAgIHJlcGVhdF9wYXNzd29yZDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X3Bhc3N3b3JkOiBbXSxcbiAgICAgICAgcmVwZWF0X3Bhc3N3b3JkOiBbXSxcbiAgICAgICAgcGFzc3dvcmQ6IFtdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgbGV0IGxlbmd0aHMgPSBbXG4gICAgICB0aGlzLnN0YXRlLm5ld19wYXNzd29yZC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmQudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aFxuICAgIF07XG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLm5ld19wYXNzd29yZCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLm5ld19wYXNzd29yZFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLnRyaW0oKSAhPT0gdGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmQudHJpbSgpKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiTmV3IHBhc3N3b3JkcyBhcmUgZGlmZmVyZW50LlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuY2hhbmdlX3Bhc3N3b3JkLCB7XG4gICAgICBuZXdfcGFzc3dvcmQ6IHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5ld19wYXNzd29yZDogJycsXG4gICAgICByZXBlYXRfcGFzc3dvcmQ6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgfSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5ld19wYXNzd29yZCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ubmV3X3Bhc3N3b3JkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBwYXNzd29yZFwiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9uZXdfcGFzc3dvcmRcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX25ld19wYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnbmV3X3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmV3X3Bhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlJlcGVhdCBwYXNzd29yZFwiKX0gZm9yPVwiaWRfcmVwZWF0X3Bhc3N3b3JkXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJpZF9yZXBlYXRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3JlcGVhdF9wYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZH0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxociAvPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIllvdXIgY3VycmVudCBwYXNzd29yZFwiKX0gZm9yPVwiaWRfcGFzc3dvcmRcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuXG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYW5nZUVtYWlsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtZW1haWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VQYXNzd29yZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLXBhc3N3b3JkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJDaGFuZ2UgZW1haWwgb3IgcGFzc3dvcmRcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPENoYW5nZUVtYWlsIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICAgIDxDaGFuZ2VQYXNzd29yZCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG5cbiAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtbGluZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgd2FybmluZ1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ0ZPUkdPVFRFTl9QQVNTV09SRF9VUkwnKX0+XG4gICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgZm9yZ290dGVuIHBhc3N3b3JkXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3RyaW5nQ291bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3N0cmluZy1jb3VudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNvcHkgJiYgdGhpcy5wcm9wcy5jb3B5Lmxlbmd0aCkge1xuICAgICAgaWYgKHN0cmluZ0NvdW50KHRoaXMucHJvcHMuY29weSwgJzxwJykgPT09IDEgJiYgdGhpcy5wcm9wcy5jb3B5LmluZGV4T2YoJzxicicpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gJ3BhZ2UtbGVhZCBsZWFkJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJ3BhZ2UtbGVhZCc7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY29weSAmJiB0aGlzLnByb3BzLmNvcHkubGVuZ3RoKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5jb3B5XG4gICAgICB9fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1ib2R5LWxvYWRpbmdcIj5cbiAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwibG9hZGVyIGxvYWRlci1zcGFjZWRcIiAvPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmhlbHBUZXh0fVxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1tZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uIHx8ICdpbmZvX291dGxpbmUnfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzJztcbmltcG9ydCB7IHVwZGF0ZUFjbCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGxlYXZlKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAge29wOiAncmVtb3ZlJywgcGF0aDogJ3BhcnRpY2lwYW50cycsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZH1cbiAgXSkudGhlbigoKSA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91IGhhdmUgbGVmdCB0aGlzIHRocmVhZC5cIikpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IG1pc2Fnby5nZXQoJ1BSSVZBVEVfVEhSRUFEU19VUkwnKTtcbiAgICB9LCAzICogMTAwMCk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSh0aHJlYWQsIHBhcnRpY2lwYW50KSB7XG4gIGFqYXgucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgIHtvcDogJ3JlbW92ZScsIHBhdGg6ICdwYXJ0aWNpcGFudHMnLCB2YWx1ZTogcGFydGljaXBhbnQuaWR9LFxuICAgIHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogMX1cbiAgXSkudGhlbigoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUFjbChkYXRhKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiJSh1c2VyKXMgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoaXMgdGhyZWFkLlwiKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIHVzZXI6IHBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSkpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VPd25lcih0aHJlYWQsIHBhcnRpY2lwYW50KSB7XG4gIGFqYXgucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnb3duZXInLCB2YWx1ZTogcGFydGljaXBhbnQuaWR9LFxuICAgIHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogMX1cbiAgXSkudGhlbigoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUFjbChkYXRhKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiJSh1c2VyKXMgaGFzIGJlZW4gbWFkZSBuZXcgdGhyZWFkIG93bmVyLlwiKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIHVzZXI6IHBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSkpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgfSk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNYWtlT3duZXIgZnJvbSAnLi9tYWtlLW93bmVyJztcbmltcG9ydCBSZW1vdmUgZnJvbSAnLi9yZW1vdmUnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBwYXJ0aWNpcGFudCA9IHByb3BzLnBhcnRpY2lwYW50O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTMgcGFydGljaXBhbnQtY2FyZFwiPlxuICAgICAgPGEgY2xhc3NOYW1lPVwiYXZhdGFyLWxpbmtcIiBocmVmPXtwYXJ0aWNpcGFudC51cmx9PlxuICAgICAgICA8QXZhdGFyIHVzZXI9e3BhcnRpY2lwYW50fSBzaXplPVwiNTBcIiAvPlxuICAgICAgPC9hPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudC1wcm9maWxlXCI+XG4gICAgICAgIDxhIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIiBocmVmPXtwYXJ0aWNpcGFudC51cmx9PlxuICAgICAgICAgIHtwYXJ0aWNpcGFudC51c2VybmFtZX1cbiAgICAgICAgPC9hPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWlubGluZVwiPlxuICAgICAgICAgIDxPd25lckJhZGdlIHsuLi5wYXJ0aWNpcGFudH0gLz5cbiAgICAgICAgICA8TWFrZU93bmVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8UmVtb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gT3duZXJCYWRnZShwcm9wcykge1xuICBpZiAoIXByb3BzLmlzX293bmVyKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudC1vd25lclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBncmFkZVxuICAgICAgPC9zcGFuPlxuICAgICAge2dldHRleHQoXCJPd25lclwiKX1cbiAgICA8L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUm93IGZyb20gJy4vcm93JztcbmltcG9ydCBiYXRjaCBmcm9tICdtaXNhZ28vdXRpbHMvYmF0Y2gnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydGljaXBhbnRzLWNhcmRzXCI+XG4gICAgICB7YmF0Y2gocHJvcHMucGFydGljaXBhbnRzLCA0KS5tYXAoKHJvdykgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSByb3cubWFwKChpKSA9PiBpLmlkKS5qb2luKCdfJyk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJvd1xuICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICBwYXJ0aWNpcGFudHM9e3Jvd31cbiAgICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgdXNlcj17cHJvcHMudXNlcn1cbiAgICAgICAgICAgIHVzZXJJc093bmVyPXtwcm9wcy51c2VySXNPd25lcn1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNoYW5nZU93bmVyIH0gZnJvbSAnLi9hY3Rpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuaXNVc2VyID0gcHJvcHMucGFydGljaXBhbnQuaWQgPT09IHByb3BzLnVzZXIuaWQ7XG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBjb25maXJtZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5pc1VzZXIpIHtcbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB0YWtlIG92ZXIgdGhpcyB0aHJlYWQ/XCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2hhbmdlIHRocmVhZCBvd25lciB0byAlKHVzZXIpcz9cIik7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgdXNlcjogdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIGlmICghY29uZmlybWVkKSByZXR1cm47XG5cbiAgICBjaGFuZ2VPd25lcih0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhcnRpY2lwYW50LmlzX293bmVyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2hhbmdlX293bmVyKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gY2xhc3NOYW1lPVwiYnRuLWxpbmsgYnRuLXNtXCI+XG4gICAgICAgICAge2dldHRleHQoXCJNYWtlIG93bmVyXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW1vdmUsIGxlYXZlIH0gZnJvbSAnLi9hY3Rpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuaXNVc2VyID0gcHJvcHMucGFydGljaXBhbnQuaWQgPT09IHByb3BzLnVzZXIuaWQ7XG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBjb25maXJtZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5pc1VzZXIpIHtcbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSB0aGlzIHRocmVhZD9cIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgJSh1c2VyKXMgZnJvbSB0aGlzIHRocmVhZD9cIik7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgdXNlcjogdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIGlmICghY29uZmlybWVkKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5pc1VzZXIpIHtcbiAgICAgIGxlYXZlKHRoaXMucHJvcHMudGhyZWFkLCB0aGlzLnByb3BzLnBhcnRpY2lwYW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKHRoaXMucHJvcHMudGhyZWFkLCB0aGlzLnByb3BzLnBhcnRpY2lwYW50KTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzTW9kZXJhdG9yID0gdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fbW9kZXJhdGVfcHJpdmF0ZV90aHJlYWRzO1xuXG4gICAgaWYgKCEodGhpcy5wcm9wcy51c2VySXNPd25lciB8fCB0aGlzLmlzVXNlciB8fCBpc01vZGVyYXRvcikpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGluayBidG4tc21cIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICB7dGhpcy5pc1VzZXIgPyBnZXR0ZXh0KFwiTGVhdmUgdGhyZWFkXCIpIDogZ2V0dGV4dChcIlJlbW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi9jYXJkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAge3Byb3BzLnBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENhcmRcbiAgICAgICAgICAgIGtleT17cGFydGljaXBhbnQuaWR9XG4gICAgICAgICAgICBwYXJ0aWNpcGFudD17cGFydGljaXBhbnR9XG4gICAgICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgICAgIHVzZXI9e3Byb3BzLnVzZXJ9XG4gICAgICAgICAgICB1c2VySXNPd25lcj17cHJvcHMudXNlcklzT3duZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZHNMaXN0IGZyb20gJy4vY2FyZHMtbGlzdCc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wYXJ0aWNpcGFudHMubGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wYXJ0aWNpcGFudHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8Q2FyZHNMaXN0XG4gICAgICAgICAgdXNlcklzT3duZXI9e2dldFVzZXJJc093bmVyKHByb3BzLnVzZXIsIHByb3BzLnBhcnRpY2lwYW50cyl9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgICA8cD57dXRpbHMuZ2V0UGFydGljaXBhbnRzQ29weShwcm9wcy5wYXJ0aWNpcGFudHMpfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlcklzT3duZXIodXNlciwgcGFydGljaXBhbnRzKSB7XG4gIHJldHVybiBwYXJ0aWNpcGFudHNbMF0uaWQgPT09IHVzZXIuaWRcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRzQ29weShwYXJ0aWNpcGFudHMpIHtcbiAgY29uc3QgY291bnQgPSBwYXJ0aWNpcGFudHMubGVuZ3RoO1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCJUaGlzIHRocmVhZCBoYXMgJSh1c2VycylzIHBhcnRpY2lwYW50LlwiLFxuICAgIFwiVGhpcyB0aHJlYWQgaGFzICUodXNlcnMpcyBwYXJ0aWNpcGFudHMuXCIsXG4gICAgY291bnQpO1xuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgdXNlcnM6IGNvdW50XG4gIH0sIHRydWUpO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgenhjdmJuIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy96eGN2Ym4nO1xuXG5leHBvcnQgY29uc3QgU1RZTEVTID0gW1xuICAncHJvZ3Jlc3MtYmFyLWRhbmdlcicsXG4gICdwcm9ncmVzcy1iYXItd2FybmluZycsXG4gICdwcm9ncmVzcy1iYXItd2FybmluZycsXG4gICdwcm9ncmVzcy1iYXItcHJpbWFyeScsXG4gICdwcm9ncmVzcy1iYXItc3VjY2Vzcydcbl07XG5cbmV4cG9ydCBjb25zdCBMQUJFTFMgPSBbXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHZlcnkgd2Vhay5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHdlYWsuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyBhdmVyYWdlLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgc3Ryb25nLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgdmVyeSBzdHJvbmcuXCIpXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5fc2NvcmUgPSAwO1xuICAgIHRoaXMuX3Bhc3N3b3JkID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dHMgPSBbXTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHp4Y3Zibi5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGVkOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0U2NvcmUocGFzc3dvcmQsIGlucHV0cykge1xuICAgIGxldCBjYWNoZVN0YWxlID0gZmFsc2U7XG5cbiAgICBpZiAocGFzc3dvcmQudHJpbSgpICE9PSB0aGlzLl9wYXNzd29yZCkge1xuICAgICAgY2FjaGVTdGFsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGlucHV0cy5sZW5ndGggIT09IHRoaXMuX2lucHV0cy5sZW5ndGgpIHtcbiAgICAgIGNhY2hlU3RhbGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dHMubWFwKCh2YWx1ZSwgaSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUudHJpbSgpICE9PSB0aGlzLl9pbnB1dHNbaV0pIHtcbiAgICAgICAgICBjYWNoZVN0YWxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNhY2hlU3RhbGUpIHtcbiAgICAgIHRoaXMuX3Njb3JlID0genhjdmJuLnNjb3JlUGFzc3dvcmQocGFzc3dvcmQsIGlucHV0cyk7XG4gICAgICB0aGlzLl9wYXNzd29yZCA9IHBhc3N3b3JkLnRyaW0oKTtcbiAgICAgIHRoaXMuX2lucHV0cyA9IGlucHV0cy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9zY29yZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubG9hZGVkKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgc2NvcmUgPSB0aGlzLmdldFNjb3JlKHRoaXMucHJvcHMucGFzc3dvcmQsIHRoaXMucHJvcHMuaW5wdXRzKTtcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgcGFzc3dvcmQtc3RyZW5ndGhcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wicHJvZ3Jlc3MtYmFyIFwiICsgU1RZTEVTW3Njb3JlXX1cbiAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiAoMjAgKyAoMjAgKiBzY29yZSkpICsgJyUnfX1cbiAgICAgICAgICAgICByb2xlPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgICBhcmlhLXZhbHVlbm93PXtzY29yZX1cbiAgICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgICAgICB7TEFCRUxTW3Njb3JlXX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtYWxsXCI+XG4gICAgICAgIHtMQUJFTFNbc2NvcmVdfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkFkZCA9ICgpID0+IHtcbiAgICBsZXQgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5zbGljZSgpO1xuICAgIGNob2ljZXMucHVzaCh7XG4gICAgICBoYXNoOiBnZW5lcmF0ZVJhbmRvbUhhc2goKSxcbiAgICAgIGxhYmVsOiAnJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5zZXRDaG9pY2VzKGNob2ljZXMpO1xuICB9O1xuXG4gIG9uQ2hhbmdlID0gKGhhc2gsIGxhYmVsKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgaWYgKGNob2ljZS5oYXNoID09PSBoYXNoKSB7XG4gICAgICAgIGNob2ljZS5sYWJlbCA9IGxhYmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hvaWNlXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5zZXRDaG9pY2VzKGNob2ljZXMpO1xuICB9O1xuXG4gIG9uRGVsZXRlID0gKGhhc2gpID0+IHtcbiAgICBjb25zdCBjaG9pY2VzID0gdGhpcy5wcm9wcy5jaG9pY2VzLmZpbHRlcigoY2hvaWNlKSA9PiB7XG4gICAgICByZXR1cm4gY2hvaWNlLmhhc2ggIT09IGhhc2g7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5zZXRDaG9pY2VzKGNob2ljZXMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb2xsLWNob2ljZXMtY29udHJvbFwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxQb2xsQ2hvaWNlXG4gICAgICAgICAgICAgICAgY2FuRGVsZXRlPXt0aGlzLnByb3BzLmNob2ljZXMubGVuZ3RoID4gMn1cbiAgICAgICAgICAgICAgICBjaG9pY2U9e2Nob2ljZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBrZXk9e2Nob2ljZS5oYXNofVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uRGVsZXRlPXt0aGlzLm9uRGVsZXRlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25BZGR9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBjaG9pY2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2xsQ2hvaWNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMuY2hvaWNlLmhhc2gsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25EZWxldGUgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVsZXRlSXRlbSA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjaG9pY2U/XCIpKTtcbiAgICBpZiAoZGVsZXRlSXRlbSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkRlbGV0ZSh0aGlzLnByb3BzLmNob2ljZS5oYXNoKTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5wcm9wcy5jYW5EZWxldGUgfHwgdGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRGVsZXRlfVxuICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiRGVsZXRlIHRoaXMgY2hvaWNlXCIpfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2xvc2VcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiY2hvaWNlIGxhYmVsXCIpfVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5jaG9pY2UubGFiZWx9XG4gICAgICAgIC8+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSGFzaCgpIHtcbiAgbGV0IHJhbmRvbUhhc2ggPSAnJztcbiAgd2hpbGUgKHJhbmRvbUhhc2gubGVuZ3RoICE9IDEyKSB7XG4gICAgcmFuZG9tSGFzaCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1teYS16QS1aMC05XSsvZywgJycpLnN1YnN0cigxLCAxMik7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbUhhc2g7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaG9pY2VzQ29udHJvbCBmcm9tICcuL2Nob2ljZXMtY29udHJvbCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7XG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaCc7XG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb2xsJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3QgcG9sbCA9IHByb3BzLnBvbGwgfHwge1xuICAgICAgcXVlc3Rpb246ICcnLFxuICAgICAgY2hvaWNlczogW1xuICAgICAgICB7XG4gICAgICAgICAgaGFzaDogJ2Nob2ljZS0xMDAwMCcsXG4gICAgICAgICAgbGFiZWw6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBoYXNoOiAnY2hvaWNlLTIwMDAwJyxcbiAgICAgICAgICBsYWJlbDogJydcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGxlbmd0aDogMCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogMSxcbiAgICAgIGFsbG93X3Jldm90ZXM6IDAsXG4gICAgICBpc19wdWJsaWM6IDBcbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0VkaXQ6ICEhcG9sbC5xdWVzdGlvbixcblxuICAgICAgcXVlc3Rpb246IHBvbGwucXVlc3Rpb24sXG4gICAgICBjaG9pY2VzOiBwb2xsLmNob2ljZXMsXG4gICAgICBsZW5ndGg6IHBvbGwubGVuZ3RoLFxuICAgICAgYWxsb3dlZF9jaG9pY2VzOiBwb2xsLmFsbG93ZWRfY2hvaWNlcyxcbiAgICAgIGFsbG93X3Jldm90ZXM6IHBvbGwuYWxsb3dfcmV2b3RlcyxcbiAgICAgIGlzX3B1YmxpYzogcG9sbC5pc19wdWJsaWMsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcXVlc3Rpb246IFtdLFxuICAgICAgICBjaG9pY2VzOiBbXSxcbiAgICAgICAgbGVuZ3RoOiBbXSxcbiAgICAgICAgYWxsb3dlZF9jaG9pY2VzOiBbXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBzZXRDaG9pY2VzID0gKGNob2ljZXMpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBPYmplY3QuYXNzaWduKHt9LCBlcnJvcnMsIHtjaG9pY2VzOiBudWxsfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNob2ljZXMsXG4gICAgICBlcnJvcnNcbiAgICB9KTtcbiAgfTtcblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCBwb2xsP1wiKSk7XG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZW5kKCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBxdWVzdGlvbjogdGhpcy5zdGF0ZS5xdWVzdGlvbixcbiAgICAgIGNob2ljZXM6IHRoaXMuc3RhdGUuY2hvaWNlcyxcbiAgICAgIGxlbmd0aDogdGhpcy5zdGF0ZS5sZW5ndGgsXG4gICAgICBhbGxvd2VkX2Nob2ljZXM6IHRoaXMuc3RhdGUuYWxsb3dlZF9jaG9pY2VzLFxuICAgICAgYWxsb3dfcmV2b3RlczogdGhpcy5zdGF0ZS5hbGxvd19yZXZvdGVzLFxuICAgICAgaXNfcHVibGljOiB0aGlzLnN0YXRlLmlzX3B1YmxpY1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXQpIHtcbiAgICAgIHJldHVybiBhamF4LnB1dCh0aGlzLnByb3BzLnBvbGwuYXBpLmluZGV4LCBkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9sbCwgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEpKTtcblxuICAgIGlmICh0aGlzLnN0YXRlLmlzRWRpdCkge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9sbCBoYXMgYmVlbiBlZGl0ZWQuXCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9sbCBoYXMgYmVlbiBwb3N0ZWQuXCIpKTtcbiAgICB9XG5cbiAgICBwb3N0aW5nLmNsb3NlKCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMpIHtcbiAgICAgICAgcmVqZWN0aW9uLmFsbG93ZWRfY2hvaWNlcyA9IHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHJlamVjdGlvbilcbiAgICAgIH0pO1xuXG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuXG4gICAgICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIlF1ZXN0aW9uIGFuZCBjaG9pY2VzXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUG9sbCBxdWVzdGlvblwiKX1cbiAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfcXVlc3Rpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMucXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfcXVlc3Rpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3F1ZXN0aW9uJyl9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aD1cIjI1NVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkF2YWlsYWJsZSBjaG9pY2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Q2hvaWNlc0NvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIHNldENob2ljZXM9e3RoaXMuc2V0Q2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cblxuICAgICAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJWb3RpbmdcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJQb2xsIGxlbmd0aFwiKX1cbiAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJFbnRlciBudW1iZXIgb2YgZGF5cyBmb3Igd2hpY2ggdm90aW5nIGluIHRoaXMgcG9sbCBzaG91bGQgYmUgcG9zc2libGUgb3IgemVybyB0byBydW4gdGhpcyBwb2xsIGluZGVmaW5pdGVseS5cIil9XG4gICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2xlbmd0aFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9sZW5ndGhcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnbGVuZ3RoJyl9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQWxsb3dlZCBjaG9pY2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hbGxvd2VkX2Nob2ljZXNcIlxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5hbGxvd2VkX2Nob2ljZXN9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfYWxsb3dlZF9jaG9pY2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2FsbG93ZWRfY2hvaWNlcycpfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFsbG93ZWRfY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQWxsb3cgdm90ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hbGxvd19yZXZvdGVzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9hbGxvd19yZXZvdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgaWNvbk9uPVwiY2hlY2tcIlxuICAgICAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkFsbG93IHBhcnRpY2lwYW50cyB0byBjaGFuZ2UgdGhlaXIgdm90ZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIkRvbid0IGFsbG93IHBhcnRpY2lwYW50cyB0byBjaGFuZ2UgdGhlaXIgdm90ZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2FsbG93X3Jldm90ZXMnKX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hbGxvd19yZXZvdGVzfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgICAgIDxQb2xsUHVibGljU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgIGJpbmRJbnB1dD17dGhpcy5iaW5kSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgaXNFZGl0PXt0aGlzLnN0YXRlLmlzRWRpdH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfcHVibGljfVxuICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0VkaXQgPyBnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpIDogZ2V0dGV4dChcIlBvc3QgcG9sbFwiKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgICAgIHsnICd9XG5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxQdWJsaWNTd2l0Y2gocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzRWRpdCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybUdyb3VwXG4gICAgICBsYWJlbD17Z2V0dGV4dChcIk1ha2Ugdm90aW5nIHB1YmxpY1wiKX1cbiAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiTWFraW5nIHZvdGluZyBwdWJsaWMgd2lsbCBhbGxvdyBldmVyeW9uZSB0byBhY2Nlc3MgZGV0YWlsZWQgbGlzdCBvZiB2b3Rlcywgc2hvd2luZyB3aGljaCB1c2VycyB2b3RlZCBmb3Igd2hpY2ggY2hvaWNlcyBhbmQgYXQgd2hpY2ggdGltZXMuIFRoaXMgb3B0aW9uIGNhbid0IGJlIGNoYW5nZWQgYWZ0ZXIgcG9sbCdzIGNyZWF0aW9uLiBNb2RlcmF0b3JzIG1heSBzZWUgdm90aW5nIGRldGFpbHMgZm9yIGFsbCBwb2xscy5cIil9XG4gICAgICBmb3I9XCJpZF9pc19wdWJsaWNcIlxuICAgID5cbiAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICBpZD1cImlkX2lzX3B1YmxpY1wiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgaWNvbk9uPVwidmlzaWJpbGl0eVwiXG4gICAgICAgIGljb25PZmY9XCJ2aXNpYmlsaXR5X29mZlwiXG4gICAgICAgIGxhYmVsT249e2dldHRleHQoXCJWb3RlcyBhcmUgcHVibGljXCIpfVxuICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIlZvdGVzIGFyZSBoaWRkZW5cIil9XG4gICAgICAgIG9uQ2hhbmdlPXtwcm9wcy5iaW5kSW5wdXQoJ2lzX3B1YmxpYycpfVxuICAgICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgICAvPlxuICAgIDwvRm9ybUdyb3VwPlxuICApO1xufSIsImltcG9ydCBQb2xsIGZyb20gJy4vcG9sbCc7XG5pbXBvcnQgUG9sbEZvcm0gZnJvbSAnLi9mb3JtJztcblxuZXhwb3J0IHsgUG9sbCB9O1xuZXhwb3J0IHsgUG9sbEZvcm0gfTsiLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWlubGluZSBwb2xsLWRldGFpbHNcIj5cbiAgICAgIDxQb2xsQ3JlYXRpb24gcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgIDxQb2xsTGVuZ3RoIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICA8UG9sbFZvdGVzIHZvdGVzPXtwcm9wcy5wb2xsLnZvdGVzfSAvPlxuICAgICAgPFBvbGxJc1B1YmxpYyBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsQ3JlYXRpb24ocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIlBvc3RlZCBieSAlKHBvc3RlcilzICUocG9zdGVkX29uKXMuXCIpKSwge1xuICAgIHBvc3RlcjogZ2V0UG9zdGVyKHByb3BzLnBvbGwpLFxuICAgIHBvc3RlZF9vbjogZ2V0UG9zdGVkT24ocHJvcHMucG9sbClcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cInBvbGwtaW5mby1jcmVhdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3Rlcihwb2xsKSB7XG4gIGlmIChwb2xsLnVybC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoVVNFUl9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwb2xsLnVybC5wb3N0ZXIpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwb2xsLnBvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgIHVzZXI6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZXJfbmFtZSlcbiAgfSwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0ZWRPbihwb2xsKSB7XG4gIHJldHVybiBpbnRlcnBvbGF0ZShEQVRFX0FCQlIsIHtcbiAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwb2xsLnBvc3RlZF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwb2xsLnBvc3RlZF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbExlbmd0aChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvbGwubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiVm90aW5nIGVuZHMgJShlbmRzX29uKXMuXCIpKSwge1xuICAgIGVuZHNfb246IGdldEVuZHNPbihwcm9wcy5wb2xsKVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaVxuICAgICAgY2xhc3NOYW1lPVwicG9sbC1pbmZvLWVuZHMtb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmRzT24ocG9sbCkge1xuICByZXR1cm4gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocG9sbC5lbmRzT24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocG9sbC5lbmRzT24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxWb3Rlcyhwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHZvdGVzKXMgdm90ZVwiLCBcIiUodm90ZXMpcyB2b3Rlc1wiLCBwcm9wcy52b3Rlcyk7XG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICd2b3Rlcyc6IHByb3BzLnZvdGVzXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaW5mby12b3Rlc1wiPntsYWJlbH08L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbElzUHVibGljKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9sbC5pc19wdWJsaWMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaW5mby1wdWJsaWNcIj57Z2V0dGV4dChcIlZvdGVzIGFyZSBwdWJsaWMuXCIpfTwvbGk+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZXN1bHRzIGZyb20gJy4vcmVzdWx0cyc7XG5pbXBvcnQgVm90aW5nIGZyb20gJy4vdm90aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGxldCBzaG93UmVzdWx0cyA9IHRydWU7XG4gICAgaWYgKHByb3BzLnVzZXIuaWQgJiYgIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzKSB7XG4gICAgICBzaG93UmVzdWx0cyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93UmVzdWx0c1xuICAgIH07XG4gIH1cblxuICBzaG93UmVzdWx0cyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dSZXN1bHRzOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd1ZvdGluZyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dSZXN1bHRzOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLnBvbGwpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaXNQb2xsT3ZlciA9IGdldElzUG9sbE92ZXIodGhpcy5wcm9wcy5wb2xsKTtcblxuICAgIGlmICghaXNQb2xsT3ZlciAmJiB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl92b3RlICYmICF0aGlzLnN0YXRlLnNob3dSZXN1bHRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Vm90aW5nIHNob3dSZXN1bHRzPXt0aGlzLnNob3dSZXN1bHRzfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZXN1bHRzXG4gICAgICAgICAgaXNQb2xsT3Zlcj17aXNQb2xsT3Zlcn1cbiAgICAgICAgICBzaG93Vm90aW5nPXt0aGlzLnNob3dWb3Rpbmd9XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXNQb2xsT3Zlcihwb2xsKSB7XG4gIGlmIChwb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBtb21lbnQoKS5pc0FmdGVyKHBvbGwuZW5kc09uKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBwb2xsLWNob2ljZXMtYmFyc1wiPlxuICAgICAge3Byb3BzLnBvbGwuY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxQb2xsQ2hvaWNlXG4gICAgICAgICAgICBjaG9pY2U9e2Nob2ljZX1cbiAgICAgICAgICAgIGtleT17Y2hvaWNlLmhhc2h9XG4gICAgICAgICAgICBwb2xsPXtwcm9wcy5wb2xsfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENob2ljZShwcm9wcykge1xuICBsZXQgcHJvYyA9IDA7XG4gIGlmIChwcm9wcy5jaG9pY2Uudm90ZXMgJiYgcHJvcHMucG9sbC52b3Rlcykge1xuICAgIHByb2MgPSBNYXRoLmNlaWwocHJvcHMuY2hvaWNlLnZvdGVzICogMTAwIC8gcHJvcHMucG9sbC52b3Rlcyk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtY2hhcnRcIj5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhci1sYWJlbFwiPlxuICAgICAgICAgIDxzdHJvbmc+e3Byb3BzLmNob2ljZS5sYWJlbH08L3N0cm9uZz5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPENob2ljZVZvdGVzXG4gICAgICAgICAgcHJvYz17cHJvY31cbiAgICAgICAgICB2b3Rlcz17cHJvcHMuY2hvaWNlLnZvdGVzfVxuICAgICAgICAvPlxuICAgICAgICA8VXNlckNob2ljZSBzZWxlY3RlZD17cHJvcHMuY2hvaWNlLnNlbGVjdGVkfSAvPlxuICAgICAgPC91bD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgcm9sZT1cInByb2dyZXNzYmFyXCJcbiAgICAgICAgICBhcmlhLXZhbHVlbm93PXtwcm9jfVxuICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICBhcmlhLXZhbHVlbWF4PVwiMTAwXCJcbiAgICAgICAgICBzdHlsZT17e3dpZHRoOiBwcm9jICsgJyUnfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgIHtnZXRWb3Rlc0xhYmVsKHByb3BzLnZvdGVzLCBwcm9wcy5wcm9jKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZVZvdGVzKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhcnQtdm90ZXNcIj5cbiAgICAgIHtnZXRWb3Rlc0xhYmVsKHByb3BzLnZvdGVzLCBwcm9wcy5wcm9jKX1cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm90ZXNMYWJlbCh2b3RlcywgcHJvYykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHZvdGVzKXMgdm90ZSwgJShwcm9jKXMlIG9mIHRvdGFsLlwiLFxuICAgIFwiJSh2b3RlcylzIHZvdGVzLCAlKHByb2MpcyUgb2YgdG90YWwuXCIsIHZvdGVzKTtcblxuICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICd2b3Rlcyc6IHZvdGVzLFxuICAgICdwcm9jJzogcHJvY1xuICB9LCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJDaG9pY2UocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zZWxlY3RlZCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1jaGFydC1zZWxlY3RlZFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGVja19jaXJjbGVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiWW91ciBjaG9pY2UuXCIpfVxuICAgIDwvbGk+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcbmltcG9ydCBPcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgUG9sbEluZm8gZnJvbSAnLi4vaW5mbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvbGxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8aDI+e3Byb3BzLnBvbGwucXVlc3Rpb259PC9oMj5cbiAgICAgICAgPFBvbGxJbmZvIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICAgIDxDaGFydCBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgIGlzUG9sbE92ZXI9e3Byb3BzLmlzUG9sbE92ZXJ9XG4gICAgICAgICAgcG9sbD17cHJvcHMucG9sbH1cbiAgICAgICAgICBzaG93Vm90aW5nPXtwcm9wcy5zaG93Vm90aW5nfVxuICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZGF0YTogW11cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wb2xsLmFwaS52b3RlcykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgaHlkcmF0ZWREYXRhID0gZGF0YS5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgICAgdm90ZXJzOiBjaG9pY2Uudm90ZXJzLm1hcCgodm90ZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB2b3Rlciwge1xuICAgICAgICAgICAgICB2b3RlZF9vbjogbW9tZW50KHZvdGVyLnZvdGVkX29uKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZGF0YTogaHlkcmF0ZWREYXRhXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17J21vZGFsLWRpYWxvZycgKyAodGhpcy5zdGF0ZS5lcnJvciA/ICcgbW9kYWwtbWVzc2FnZScgOiAnIG1vZGFsLXNtJyl9XG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlBvbGwgdm90ZXNcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxNb2RhbEJvZHlcbiAgICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZGF0YX1cbiAgICAgICAgICAgIGVycm9yPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgICAgaXNMb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAvPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxCb2R5KHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExvYWRlciAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMuZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1lc3NhZ2VcbiAgICAgICAgaWNvbj0nZXJyb3Jfb3V0bGluZSdcbiAgICAgICAgbWVzc2FnZT17cHJvcHMuZXJyb3J9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxDaG9pY2VzTGlzdFxuICAgICAgZGF0YT17cHJvcHMuZGF0YX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlc0xpc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtcG9sbC12b3Rlc1wiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgdm90ZXMtZGV0YWlsc1wiPlxuICAgICAgICB7cHJvcHMuZGF0YS5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q2hvaWNlRGV0YWlsc1xuICAgICAgICAgICAgICBrZXk9e2Nob2ljZS5oYXNofVxuICAgICAgICAgICAgICB7Li4uY2hvaWNlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VEZXRhaWxzKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGg0Pntwcm9wcy5sYWJlbH08L2g0PlxuICAgICAgPFZvdGVzQ291bnQgdm90ZXM9e3Byb3BzLnZvdGVzfSAvPlxuICAgICAgPFZvdGVzTGlzdCB2b3RlcnM9e3Byb3BzLnZvdGVyc30gLz5cbiAgICAgIDxoci8+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVzQ291bnQocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh2b3RlcylzIHVzZXIgaGFzIHZvdGVkIGZvciB0aGlzIGNob2ljZS5cIixcbiAgICBcIiUodm90ZXMpcyB1c2VycyBoYXZlIHZvdGVkIGZvciB0aGlzIGNob2ljZS5cIixcbiAgICBwcm9wcy52b3Rlcyk7XG5cbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgJ3ZvdGVzJzogcHJvcHMudm90ZXNcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cD57bGFiZWx9PC9wPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXNMaXN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMudm90ZXJzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAge3Byb3BzLnZvdGVycy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Vm90ZXJcbiAgICAgICAgICAgIGtleT17dXNlci51c2VybmFtZX1cbiAgICAgICAgICAgIHsuLi51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgICAgaHJlZj17cHJvcHMudXJsfVxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICAgIHsnICd9XG4gICAgICAgIDxWb3RlRGF0ZSB2b3RlZF9vbj17cHJvcHMudm90ZWRfb259IC8+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxzdHJvbmc+e3Byb3BzLnVzZXJuYW1lfTwvc3Ryb25nPlxuICAgICAgeycgJ31cbiAgICAgIDxWb3RlRGF0ZSB2b3RlZF9vbj17cHJvcHMudm90ZWRfb259IC8+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVEYXRlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGFiYnJcbiAgICAgIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIlxuICAgICAgdGl0bGU9e3Byb3BzLnZvdGVkX29uLmZvcm1hdCgnTExMJyl9XG4gICAgPlxuICAgICAge3Byb3BzLnZvdGVkX29uLmZyb21Ob3coKX1cbiAgICA8L2FiYnI+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNb2RhbCBmcm9tICcuL21vZGFsJztcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3BvbGwnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7IGlzUG9sbE92ZXIsIHBvbGwsIHNob3dWb3RpbmcsIHRocmVhZCB9ID0gcHJvcHM7XG5cbiAgaWYgKCFpc1Zpc2libGUoaXNQb2xsT3ZlciwgcG9sbC5hY2wsIHBvbGwpKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBjb250cm9scyA9IFtdO1xuXG4gIGNvbnN0IGNhblZvdGUgPSBwb2xsLmFjbC5jYW5fdm90ZTtcbiAgY29uc3QgY2FuQ2hhbmdlVm90ZSA9ICFwb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwb2xsLmFsbG93X3Jldm90ZXM7XG5cbiAgaWYgKGNhblZvdGUgJiYgY2FuQ2hhbmdlVm90ZSkgY29udHJvbHMucHVzaCgwKTtcbiAgaWYgKHBvbGwuaXNfcHVibGljIHx8IHBvbGwuYWNsLmNhbl9zZWVfdm90ZXMpIGNvbnRyb2xzLnB1c2goMSk7XG4gIGlmIChwb2xsLmFjbC5jYW5fZWRpdCkgY29udHJvbHMucHVzaCgyKTtcbiAgaWYgKHBvbGwuYWNsLmNhbl9kZWxldGUpIGNvbnRyb2xzLnB1c2goMyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBwb2xsLW9wdGlvbnNcIj5cbiAgICAgIDxDaGFuZ2VWb3RlXG4gICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgaXNQb2xsT3Zlcj17aXNQb2xsT3Zlcn1cbiAgICAgICAgcG9sbD17cG9sbH1cbiAgICAgICAgc2hvd1ZvdGluZz17c2hvd1ZvdGluZ31cbiAgICAgIC8+XG4gICAgICA8U2VlVm90ZXNcbiAgICAgICAgY29udHJvbHM9e2NvbnRyb2xzfVxuICAgICAgICBwb2xsPXtwb2xsfVxuICAgICAgLz5cbiAgICAgIDxFZGl0XG4gICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgcG9sbD17cG9sbH1cbiAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAvPlxuICAgICAgPERlbGV0ZVxuICAgICAgICBjb250cm9scz17Y29udHJvbHN9XG4gICAgICAgIHBvbGw9e3BvbGx9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGlzUG9sbE92ZXIsIGFjbCwgcG9sbCkge1xuICByZXR1cm4gKFxuICAgIHBvbGwuaXNfcHVibGljIHx8XG4gICAgYWNsLmNhbl9kZWxldGUgfHxcbiAgICBhY2wuY2FuX2VkaXQgfHxcbiAgICBhY2wuY2FuX3NlZV92b3RlcyB8fFxuICAgIChhY2wuY2FuX3ZvdGUgJiYgIWlzUG9sbE92ZXIgJiYgKCFwb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwb2xsLmFsbG93X3Jldm90ZXMpKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGNvbnRyb2xzLCBjb250cm9sKSB7XG4gIGxldCBjbGFzc05hbWUgPSAnY29sLXhzLTYnO1xuXG4gIGlmIChjb250cm9scy5sZW5ndGggPT09IDEpIHtcbiAgICBjbGFzc05hbWUgPSAnY29sLXhzLTEyJztcbiAgfVxuXG4gIGlmIChjb250cm9scy5sZW5ndGggPT09IDMgJiYgY29udHJvbHNbMF0gPT09IGNvbnRyb2wpIHtcbiAgICBjbGFzc05hbWUgPSAnY29sLXhzLTEyJztcbiAgfVxuXG4gIHJldHVybiBjbGFzc05hbWUgKyAnIGNvbC1zbS0zIGNvbC1tZC0yJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZVZvdGUocHJvcHMpIHtcbiAgY29uc3QgY2FuVm90ZSA9IHByb3BzLnBvbGwuYWNsLmNhbl92b3RlO1xuICBjb25zdCBjYW5DaGFuZ2VWb3RlID0gIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHByb3BzLnBvbGwuYWxsb3dfcmV2b3RlcztcblxuICBpZiAoIShjYW5Wb3RlICYmIGNhbkNoYW5nZVZvdGUpKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUocHJvcHMuY29udHJvbHMsIDApfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLnNob3dWb3Rpbmd9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVm90ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgU2VlVm90ZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW9kYWwgcG9sbD17dGhpcy5wcm9wcy5wb2xsfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNlZVZvdGVzID0gdGhpcy5wcm9wcy5wb2xsLmlzX3B1YmxpYyB8fCB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9zZWVfdm90ZXM7XG4gICAgaWYgKCFzZWVWb3RlcykgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmNvbnRyb2xzLCAxKX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJTZWUgdm90ZXNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCxcblxuICAgICAgdGhyZWFkOiB0aGlzLnByb3BzLnRocmVhZCxcbiAgICAgIHBvbGw6IHRoaXMucHJvcHMucG9sbCxcblxuICAgICAgbW9kZTogJ1BPTEwnXG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZWRpdCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmNvbnRyb2xzLCAyKX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVsZXRlUG9sbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBwb2xsPyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZS5cIikpO1xuICAgIGlmICghZGVsZXRlUG9sbCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5idXN5KCkpO1xuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCkudGhlbihcbiAgICAgIHRoaXMuaGFuZGxlU3VjY2VzcywgdGhpcy5oYW5kbGVFcnJvcik7XG4gIH07XG5cbiAgaGFuZGxlU3VjY2VzcyA9IChuZXdUaHJlYWRBY2wpID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwiUG9sbCBoYXMgYmVlbiBkZWxldGVkXCIpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVtb3ZlKCkpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGVBY2wobmV3VGhyZWFkQWNsKSk7XG4gIH07XG5cbiAgaGFuZGxlRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlbGVhc2UoKSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuY29udHJvbHMsIDMpfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb2xsLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1oZWxwXCI+XG4gICAgICA8UG9sbENob2ljZXNMZWZ0IGNob2ljZXNMZWZ0PXtwcm9wcy5jaG9pY2VzTGVmdH0gLz5cbiAgICAgIDxQb2xsQWxsb3dSZXZvdGUgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENob2ljZXNMZWZ0KHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIllvdSBjYW4gc2VsZWN0ICUoY2hvaWNlcylzIGNob2ljZS5cIixcbiAgICBcIllvdSBjYW4gc2VsZWN0ICUoY2hvaWNlcylzIGNob2ljZXMuXCIsXG4gICAgcHJvcHMuY2hvaWNlc0xlZnQpO1xuXG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICdjaG9pY2VzJzogcHJvcHMuY2hvaWNlc0xlZnRcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1oZWxwLWNob2ljZXMtbGVmdFwiPntsYWJlbH08L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbEFsbG93UmV2b3RlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb2xsLmFsbG93X3Jldm90ZXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1hbGxvdy1yZXZvdGVzXCI+e2dldHRleHQoXCJZb3UgY2FuIGNoYW5nZSB5b3VyIHZvdGUgbGF0ZXIuXCIpfTwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1uby1yZXZvdGVzXCI+e2dldHRleHQoXCJWb3RlcyBhcmUgZmluYWwuXCIpfTwvbGk+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaG9pY2VzSGVscCBmcm9tICcuL2hlbHAnO1xuaW1wb3J0IENob2ljZXNTZWxlY3QgZnJvbSAnLi9zZWxlY3QnO1xuaW1wb3J0IHsgZ2V0Q2hvaWNlc0xlZnQsIGdldENob2ljZUZyb21IYXNoIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgUG9sbEluZm8gZnJvbSAnLi4vaW5mbyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3BvbGwnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgY2hvaWNlczogcHJvcHMucG9sbC5jaG9pY2VzLFxuICAgICAgY2hvaWNlc0xlZnQ6IGdldENob2ljZXNMZWZ0KHByb3BzLnBvbGwsIHByb3BzLnBvbGwuY2hvaWNlcylcbiAgICB9O1xuICB9XG5cbiAgdG9nZ2xlQ2hvaWNlID0gKGhhc2gpID0+IHtcbiAgICBjb25zdCBjaG9pY2UgPSBnZXRDaG9pY2VGcm9tSGFzaCh0aGlzLnN0YXRlLmNob2ljZXMsIGhhc2gpO1xuXG4gICAgbGV0IGNob2ljZXMgPSBudWxsXG4gICAgaWYgKCFjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIGNob2ljZXMgPSB0aGlzLnNlbGVjdENob2ljZShjaG9pY2UsIGhhc2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaG9pY2VzID0gdGhpcy5kZXNlbGVjdENob2ljZShjaG9pY2UsIGhhc2gpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hvaWNlcyxcbiAgICAgIGNob2ljZXNMZWZ0OiBnZXRDaG9pY2VzTGVmdCh0aGlzLnByb3BzLnBvbGwsIGNob2ljZXMpXG4gICAgfSk7XG4gIH07XG5cbiAgc2VsZWN0Q2hvaWNlID0gKGNob2ljZSwgaGFzaCkgPT4ge1xuICAgIGNvbnN0IGNob2ljZXNMZWZ0ID0gZ2V0Q2hvaWNlc0xlZnQodGhpcy5wcm9wcy5wb2xsLCB0aGlzLnN0YXRlLmNob2ljZXMpO1xuXG4gICAgaWYgKCFjaG9pY2VzTGVmdCkge1xuICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuY2hvaWNlcy5zbGljZSgpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnN0YXRlLmNob2ljZXNbaV07XG4gICAgICAgIGlmIChpdGVtLnNlbGVjdGVkICYmIGl0ZW0uaGFzaCAhPSBoYXNoKSB7XG4gICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNob2ljZSwge1xuICAgICAgICBzZWxlY3RlZDogY2hvaWNlLmhhc2ggPT0gaGFzaCA/IHRydWUgOiBjaG9pY2Uuc2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGRlc2VsZWN0Q2hvaWNlID0gKGNob2ljZSwgaGFzaCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjaG9pY2UsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGNob2ljZS5oYXNoID09IGhhc2ggPyBmYWxzZSA6IGNob2ljZS5zZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2hvaWNlc0xlZnQgPT09IHRoaXMucHJvcHMucG9sbC5hbGxvd2VkX2Nob2ljZXMpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgbmVlZCB0byBzZWxlY3QgYXQgbGVhc3Qgb25lIGNob2ljZVwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIGxldCBkYXRhID0gW107XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuY2hvaWNlcy5zbGljZSgpKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5zdGF0ZS5jaG9pY2VzW2ldO1xuICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQpIHtcbiAgICAgICAgZGF0YS5wdXNoKGl0ZW0uaGFzaClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucG9sbC5hcGkudm90ZXMsIGRhdGEpO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEpKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHZvdGUgaGFzIGJlZW4gc2F2ZWQuXCIpKTtcblxuICAgIHRoaXMucHJvcHMuc2hvd1Jlc3VsdHMoKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvbGxcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxoMj57dGhpcy5wcm9wcy5wb2xsLnF1ZXN0aW9ufTwvaDI+XG4gICAgICAgICAgICA8UG9sbEluZm8gcG9sbD17dGhpcy5wcm9wcy5wb2xsfSAvPlxuICAgICAgICAgICAgPENob2ljZXNTZWxlY3RcbiAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jaG9pY2VzfVxuICAgICAgICAgICAgICB0b2dnbGVDaG9pY2U9e3RoaXMudG9nZ2xlQ2hvaWNlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxDaG9pY2VzSGVscFxuICAgICAgICAgICAgICBjaG9pY2VzTGVmdD17dGhpcy5zdGF0ZS5jaG9pY2VzTGVmdH1cbiAgICAgICAgICAgICAgcG9sbD17dGhpcy5wcm9wcy5wb2xsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNiBjb2wtc20tNCBjb2wtbWQtMlwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIHlvdXIgdm90ZVwiKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTYgY29sLXNtLTQgY29sLW1kLTJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dSZXN1bHRzfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTZWUgcmVzdWx0c1wiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgcG9sbC1zZWxlY3QtY2hvaWNlc1wiPlxuICAgICAge3Byb3BzLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2hvaWNlU2VsZWN0XG4gICAgICAgICAgICBjaG9pY2U9e2Nob2ljZX1cbiAgICAgICAgICAgIGtleT17Y2hvaWNlLmhhc2h9XG4gICAgICAgICAgICB0b2dnbGVDaG9pY2U9e3Byb3BzLnRvZ2dsZUNob2ljZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIENob2ljZVNlbGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVDaG9pY2UodGhpcy5wcm9wcy5jaG9pY2UuaGFzaCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1zZWxlY3QtY2hvaWNlXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkID8gJ2J0biBidG4tc2VsZWN0ZWQnIDogJ2J0bid9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkID8gJ2NoZWNrX2NpcmNsZScgOiAnY2hlY2snfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlLmxhYmVsfVxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VGcm9tSGFzaChjaG9pY2VzLCBoYXNoKSB7XG4gIGZvciAoY29uc3QgaSBpbiBjaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0gY2hvaWNlc1tpXTtcbiAgICBpZiAoY2hvaWNlLmhhc2ggPT09IGhhc2gpIHtcbiAgICAgIHJldHVybiBjaG9pY2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VzTGVmdChwb2xsLCBjaG9pY2VzKSB7XG4gIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgZm9yIChjb25zdCBpIGluIGNob2ljZXMpIHtcbiAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW2ldO1xuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIHNlbGVjdGlvbi5wdXNoKGNob2ljZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBvbGwuYWxsb3dlZF9jaG9pY2VzIC0gc2VsZWN0aW9uLmxlbmd0aDtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBwb3N0LWNoYW5nZWxvZy1kaWZmXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICB7cHJvcHMuZGlmZi5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPERpZmZJdGVtIGl0ZW09e2l0ZW19IGtleT17aX0gLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEaWZmSXRlbShwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbVswXSA9PT0gJz8nKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2dldEl0ZW1DbGFzc05hbWUocHJvcHMuaXRlbSl9PlxuICAgICAge2NsZWFuSXRlbShwcm9wcy5pdGVtKX1cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbUNsYXNzTmFtZShpdGVtKSB7XG4gIGxldCBjbGFzc05hbWUgPSAnZGlmZi1pdGVtJztcbiAgaWYgKGl0ZW1bMF0gPT09ICctJykge1xuICAgIGNsYXNzTmFtZSArPSAnIGRpZmYtaXRlbS1zdWInO1xuICB9IGVsc2UgaWYgKGl0ZW1bMF0gPT09ICcrJykge1xuICAgIGNsYXNzTmFtZSArPSAnIGRpZmYtaXRlbS1hZGQnO1xuICB9XG4gIHJldHVybiBjbGFzc05hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkl0ZW0oaXRlbSkge1xuICByZXR1cm4gaXRlbS5zdWJzdHIoMik7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmV2ZXJ0RWRpdCh0aGlzLnByb3BzLmVkaXQuaWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5jYW5SZXZlcnQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIlJldmVydCBwb3N0IHRvIHN0YXRlIGZyb20gYmVmb3JlIHRoaXMgZWRpdC5cIil9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJldmVydFwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH19IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEaWZmIGZyb20gJy4vZGlmZic7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyJztcbmltcG9ydCBUb29sYmFyIGZyb20gJy4vdG9vbGJhcic7XG5pbXBvcnQgeyBoeWRyYXRlRWRpdCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgY2FuUmV2ZXJ0OiBwcm9wcy5wb3N0LmFjbC5jYW5fZWRpdCxcblxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBlZGl0OiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZ29Ub0VkaXQoKTtcbiAgfVxuXG4gIGdvVG9FZGl0ID0gKGVkaXQ9bnVsbCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICBsZXQgdXJsID0gdGhpcy5wcm9wcy5wb3N0LmFwaS5lZGl0cztcbiAgICBpZiAoZWRpdCAhPT0gbnVsbCkge1xuICAgICAgdXJsICs9ICc/ZWRpdD0nICsgZWRpdDtcbiAgICB9XG5cbiAgICBhamF4LmdldCh1cmwpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuICAgICAgICBlZGl0OiBoeWRyYXRlRWRpdChkYXRhKVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZXZlcnRFZGl0ID0gKGVkaXQpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2l0aCB0byByZXZlcnQgdGhpcyBwb3N0IHRvIHRoZSBzdGF0ZSBmcm9tIGJlZm9yZSB0aGlzIGVkaXQ/XCIpKTtcbiAgICBpZiAoIWNvbmZpcm1hdGlvbikgcmV0dXJuO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIGNvbnN0IHVybCA9IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdHMgKyAnP2VkaXQ9JyArIGVkaXQ7XG4gICAgYWpheC5wb3N0KHVybCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgaHlkcmF0ZWRQb3N0ID0gcG9zdC5oeWRyYXRlKGRhdGEpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChkYXRhLCBoeWRyYXRlZFBvc3QpKTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9zdCBoYXMgYmVlbiByZXZlcnRlZCB0byBwcmV2aW91cyBzdGF0ZS5cIikpO1xuICAgICAgbW9kYWwuaGlkZSgpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgICAgIDxNZXNzYWdlXG4gICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2c+XG4gICAgICAgICAgPFRvb2xiYXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICBnb1RvRWRpdD17dGhpcy5nb1RvRWRpdH1cbiAgICAgICAgICAgIHJldmVydEVkaXQ9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxEaWZmIGRpZmY9e3RoaXMuc3RhdGUuZWRpdC5kaWZmfSAvPlxuICAgICAgICAgIDxGb290ZXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICByZXZlcnRFZGl0PXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZz5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbERpYWxvZyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwibW9kYWwtZGlhbG9nXCJ9XG4gICAgICByb2xlPVwiZG9jdW1lbnRcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJQb3N0IGVkaXRzIGhpc3RvcnlcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ29MYXN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQoKTtcbiAgfTtcblxuICBnb0ZvcndhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCh0aGlzLnByb3BzLmVkaXQubmV4dCk7XG4gIH07XG5cbiAgZ29CYWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQodGhpcy5wcm9wcy5lZGl0LnByZXZpb3VzKTtcbiAgfTtcblxuICByZXZlcnRFZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmV2ZXJ0RWRpdCh0aGlzLnByb3BzLmVkaXQuaWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLXRvb2xiYXIgcG9zdC1jaGFuZ2Vsb2ctdG9vbGJhclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICAgICAgPEdvQmFja0J0blxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBlZGl0PXt0aGlzLnByb3BzLmVkaXR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvQmFja31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgICAgIDxHb0ZvcndhcmRCdG5cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgZWRpdD17dGhpcy5wcm9wcy5lZGl0fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb0ZvcndhcmR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgICAgICA8R29MYXN0QnRuXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ29MYXN0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTUgeHMtbWFyZ2luLXRvcC1oYWxmIHBvc3QtY2hhbmdlLWxhYmVsXCI+XG4gICAgICAgICAgICA8TGFiZWwgZWRpdD17dGhpcy5wcm9wcy5lZGl0fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxSZXZlcnRCdG5cbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5wcm9wcy5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvQmFja0J0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tc21cIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0LnByZXZpb3VzfVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIHByZXZpb3VzIGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGNoZXZyb25fbGVmdFxuICAgICAgPC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0ZvcndhcmRCdG4ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLXNtXCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCAhcHJvcHMuZWRpdC5uZXh0fVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIHByZXZpb3VzIGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGNoZXZyb25fcmlnaHRcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR29MYXN0QnRuKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1zbVwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgIXByb3BzLmVkaXQubmV4dH1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlNlZSBwcmV2aW91cyBjaGFuZ2VcIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBsYXN0X3BhZ2VcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmV2ZXJ0QnRuKHByb3BzKSB7XG4gIGlmICghcHJvcHMuY2FuUmV2ZXJ0KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgaGlkZGVuLXhzXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiUmV2ZXJ0IHBvc3QgdG8gc3RhdGUgZnJvbSBiZWZvcmUgdGhpcyBlZGl0LlwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZXZlcnRcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMuZWRpdC51cmwuZWRpdG9yKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC51cmwuZWRpdG9yKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0b3JfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdG9yX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiQnkgJShlZGl0ZWRfYnkpcyAlKGVkaXRlZF9vbilzLlwiKSksIHtcbiAgICBlZGl0ZWRfYnk6IHVzZXIsXG4gICAgZWRpdGVkX29uOiBkYXRlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVFZGl0KGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBlZGl0ZWRfb246IG1vbWVudChqc29uLmVkaXRlZF9vbilcbiAgfSk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQb3N0IGZyb20gJy4vcG9zdCc7XG5pbXBvcnQgUHJldmlldyBmcm9tICcuL3ByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzUmVhZHksIHBvc3RzLCBwb3N0ZXIgfSkge1xuICBpZiAoIWlzUmVhZHkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFByZXZpZXcgLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCBwb3N0LWZlZWQgdWktcmVhZHlcIj5cbiAgICAgIHtwb3N0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UG9zdFxuICAgICAgICAgICAga2V5PXtwb3N0LmlkfVxuICAgICAgICAgICAgcG9zdD17cG9zdH1cbiAgICAgICAgICAgIHBvc3Rlcj17cG9zdGVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXAnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuY29udGVudCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QuY29udGVudH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWQocHJvcHMpIHtcbiByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1pbnZhbGlkXCI+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e2dldHRleHQoXCJUaGlzIHBvc3QncyBjb250ZW50cyBjYW5ub3QgYmUgZGlzcGxheWVkLlwiKX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+e2dldHRleHQoXCJUaGlzIGVycm9yIGlzIGNhdXNlZCBieSBpbnZhbGlkIHBvc3QgY29udGVudCBtYW5pcHVsYXRpb24uXCIpfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICBjb25zdCB7IGNhdGVnb3J5LCB0aHJlYWQgfSA9IHBvc3Q7XG5cbiAgY29uc3QgdG9vbHRpcCA9IGludGVycG9sYXRlKGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSwge1xuICAgICdwb3N0ZWRfb24nOiBwb3N0LnBvc3RlZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWhlYWRpbmdcIj5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17dGhyZWFkLnVybH1cbiAgICAgID5cbiAgICAgICAge3RocmVhZC50aXRsZX1cbiAgICAgIDwvYT5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0LWNhdGVnb3J5XCJcbiAgICAgICAgaHJlZj17Y2F0ZWdvcnkuYWJzb2x1dGVfdXJsfVxuICAgICAgPlxuICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICAgIDwvYT5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Bvc3QudXJsLmluZGV4fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uXCJcbiAgICAgICAgdGl0bGU9e3Rvb2x0aXB9XG4gICAgICA+XG4gICAgICAgIHtwb3N0LnBvc3RlZF9vbi5mcm9tTm93KCl9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCb2R5IGZyb20gJy4vYm9keSc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vaGVhZGVyJztcbmltcG9ydCBQb3N0U2lkZSBmcm9tICcuL3Bvc3Qtc2lkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9eydwb3N0LScgKyBwb3N0LmlkfSBjbGFzc05hbWU9XCJwb3N0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICA8UG9zdFNpZGVcbiAgICAgICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgICAgICBwb3N0ZXI9e3Bvc3RlciB8fCBwb3N0LnBvc3Rlcn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxIZWFkZXIgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgICA8Qm9keSBwb3N0PXtwb3N0fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJztcbmltcG9ydCBHb1RvQnV0dG9uIGZyb20gJy4vYnV0dG9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc2lkZSBwb3N0LXNpZGUtYW5vbnltb3VzXCI+XG4gICAgICA8R29Ub0J1dHRvbiBwb3N0PXtwb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiXG4gICAgICAgICAgICAgIHNpemU9ezUwfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAge3Bvc3QucG9zdGVyX25hbWV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZW1vdmVkIHVzZXJcIil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBwdWxsLXJpZ2h0XCJcbiAgICAgIGhyZWY9e3Bvc3QudXJsLmluZGV4fVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0LWxlZnQgaGlkZGVuLXhzXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiU2VlIHBvc3RcIil9XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGNoZXZyb25fcmlnaHRcbiAgICAgIDwvc3Bhbj5cbiAgICA8L2E+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBbm9ueW1vdXMgZnJvbSAnLi9hbm9ueW1vdXMnO1xuaW1wb3J0IFJlZ2lzdGVyZWQgZnJvbSAnLi9yZWdpc3RlcmVkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCBwb3N0ZXIgfSkge1xuICBpZiAocG9zdGVyLmlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWdpc3RlcmVkXG4gICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgIHBvc3Rlcj17cG9zdGVyfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QW5vbnltb3VzIHBvc3Q9e3Bvc3R9IC8+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJztcbmltcG9ydCBHb1RvQnV0dG9uIGZyb20gJy4vYnV0dG9uJztcbmltcG9ydCBVc2VyVGl0bGUgZnJvbSAnLi91c2VyLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCBwb3N0ZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zaWRlIHBvc3Qtc2lkZS1yZWdpc3RlcmVkXCI+XG4gICAgICA8R29Ub0J1dHRvbiBwb3N0PXtwb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8YSBocmVmPXtwb3N0ZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiXG4gICAgICAgICAgICAgIHNpemU9ezUwfVxuICAgICAgICAgICAgICB1c2VyPXtwb3N0ZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgICAgICAgIGhyZWY9e3Bvc3Rlci5hYnNvbHV0ZV91cmx9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtwb3N0ZXIudXNlcm5hbWV9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFVzZXJUaXRsZVxuICAgICAgICAgICAgdGl0bGU9e3Bvc3Rlci50aXRsZX1cbiAgICAgICAgICAgIHJhbms9e3Bvc3Rlci5yYW5rfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyB0aXRsZSwgcmFuayB9KSB7XG4gIGxldCB1c2VyVGl0bGUgPSB0aXRsZSB8fCByYW5rLnRpdGxlIHx8IHJhbmsubmFtZTtcblxuICBsZXQgY2xhc3NOYW1lID0gJ3VzZXItdGl0bGUnO1xuICBpZiAocmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gJyB1c2VyLXRpdGxlLScgKyByYW5rLmNzc19jbGFzcztcbiAgfVxuXG4gIGlmIChyYW5rLmlzX3RhYikge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17cmFuay5hYnNvbHV0ZV91cmx9PlxuICAgICAgICB7dXNlclRpdGxlfVxuICAgICAgPC9hPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHt1c2VyVGl0bGV9XG4gICAgPC9zcGFuPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHBvc3QtZmVlZCB1aS1wcmV2aWV3XCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXNpZGUgcG9zdC1zaWRlLWFub255bW91c1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9ezUwfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIHVzZXItdGl0bGUtYW5vbnltb3VzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCI+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICA8L3VsPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGxpa2VzOiBbXVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnBvc3QuYXBpLmxpa2VzKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgbGlrZXM6IGRhdGEubWFwKGh5ZHJhdGVMaWtlKVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgPE1lc3NhZ2VcbiAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmxpa2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxNb2RhbERpYWxvZ1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtc21cIlxuICAgICAgICAgICAgbGlrZXM9e3RoaXMuc3RhdGUubGlrZXN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExpa2VzTGlzdFxuICAgICAgICAgICAgICBsaWtlcz17dGhpcy5zdGF0ZS5saWtlc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZVxuICAgICAgICAgICAgbWVzc2FnZT17Z2V0dGV4dChcIk5vIHVzZXJzIGhhdmUgbGlrZWQgdGhpcyBwb3N0LlwiKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLXNtXCI+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUxpa2UoZGF0YSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuICAgIGxpa2VkX29uOiBtb21lbnQoZGF0YS5saWtlZF9vbilcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbERpYWxvZyh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIGxpa2VzIH0pIHtcbiAgbGV0IHRpdGxlID0gZ2V0dGV4dChcIlBvc3QgTGlrZXNcIik7XG4gIGlmIChsaWtlcykge1xuICAgIGNvbnN0IGxpa2VzQ291bnQgPSBsaWtlcy5sZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKGxpa2VzKXMgbGlrZVwiLFxuICAgICAgXCIlKGxpa2VzKXMgbGlrZXNcIixcbiAgICAgIGxpa2VzQ291bnQpO1xuXG4gICAgdGl0bGUgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IGxpa2VzOiBsaWtlc0NvdW50IH0sIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e1wibW9kYWwtZGlhbG9nIFwiICsgKGNsYXNzTmFtZSB8fCAnJyl9XG4gICAgICByb2xlPVwiZG9jdW1lbnRcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e3RpdGxlfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlrZXNMaXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLXBvc3QtbGlrZXJzXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibWVkaWEtbGlzdFwiPlxuICAgICAgICB7cHJvcHMubGlrZXMubWFwKChsaWtlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxMaWtlRGV0YWlsc1xuICAgICAgICAgICAgICBrZXk9e2xpa2UuaWR9XG4gICAgICAgICAgICAgIHsuLi5saWtlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlRGV0YWlscyhwcm9wcykge1xuICBpZiAocHJvcHMudXJsKSB7XG4gICAgY29uc3QgdXNlciA9IHtcbiAgICAgIGlkOiBwcm9wcy5saWtlcl9pZCxcbiAgICAgIGF2YXRhcnM6IHByb3BzLmF2YXRhcnNcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIlxuICAgICAgICAgICAgaHJlZj17cHJvcHMudXJsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgICAgICBocmVmPXtwcm9wcy51cmx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICB7JyAnfVxuICAgICAgICAgIDxMaWtlRGF0ZSBsaWtlZE9uPXtwcm9wcy5saWtlZF9vbn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiNTBcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICA8c3Ryb25nPntwcm9wcy51c2VybmFtZX08L3N0cm9uZz5cbiAgICAgICAgeycgJ31cbiAgICAgICAgPExpa2VEYXRlIGxpa2VkT249e3Byb3BzLmxpa2VkX29ufSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VEYXRlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIlxuICAgICAgdGl0bGU9e3Byb3BzLmxpa2VkT24uZm9ybWF0KCdMTEwnKX1cbiAgICA+XG4gICAgICB7cHJvcHMubGlrZWRPbi5mcm9tTm93KCl9XG4gICAgPC9zcGFuPlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRWRpdG9yIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2VkaXRvcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi91dGlscy9jb250YWluZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICcuL3V0aWxzL2xvYWRlcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL3V0aWxzL21lc3NhZ2UnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSAnLi91dGlscy9hdHRhY2htZW50cyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycyB9IGZyb20gJy4vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgcG9zdDogJycsXG4gICAgICBhdHRhY2htZW50czogW10sXG4gICAgICBwcm90ZWN0OiBmYWxzZSxcblxuICAgICAgY2FuUHJvdGVjdDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuaHlkcmF0ZShkYXRhLmF0dGFjaG1lbnRzKSxcbiAgICAgIHByb3RlY3Q6IGRhdGEuaXNfcHJvdGVjdGVkLFxuXG4gICAgICBjYW5Qcm90ZWN0OiBkYXRhLmNhbl9wcm90ZWN0XG4gICAgfSk7XG4gIH07XG5cbiAgbG9hZEVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgY2hhbmdlcz9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25Qcm90ZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvdGVjdDogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIG9uVW5wcm90ZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvdGVjdDogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICBvblBvc3RDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwb3N0JywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gKGF0dGFjaG1lbnRzKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucHV0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cyksXG4gICAgICBwcm90ZWN0OiB0aGlzLnN0YXRlLnByb3RlY3RcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlJlcGx5IGhhcyBiZWVuIGVkaXRlZC5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4O1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uY2F0ZWdvcnkgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW11cbiAgICAgICk7XG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cblxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgY2FuUHJvdGVjdD17dGhpcy5zdGF0ZS5jYW5Qcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uUHJvdGVjdD17dGhpcy5vblByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBvblVucHJvdGVjdD17dGhpcy5vblVucHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIHByb3RlY3Q9e3RoaXMuc3RhdGUucHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiRWRpdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdGFydCBmcm9tICcuL3N0YXJ0JztcbmltcG9ydCBTdGFydFByaXZhdGUgZnJvbSAnLi9zdGFydC1wcml2YXRlJztcbmltcG9ydCBSZXBseSBmcm9tICcuL3JlcGx5JztcbmltcG9ydCBFZGl0IGZyb20gJy4vZWRpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5tb2RlID09PSAnU1RBUlQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTdGFydCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnU1RBUlRfUFJJVkFURScpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFN0YXJ0UHJpdmF0ZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnUkVQTFknKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnRURJVCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gJy4vdXRpbHMvYXR0YWNobWVudHMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnLCB0aGlzLnByb3BzLmNvbnRleHQgfHwgbnVsbCkudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcik7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnByb3BzLmNvbnRleHQ7XG4gICAgY29uc3QgbmV3Q29udGV4dCA9IG5leHRQcm9wcy5jb250ZXh0O1xuXG4gICAgaWYgKGNvbnRleHQgJiYgbmV3Q29udGV4dCAmJiBjb250ZXh0LnJlcGx5ID09PSBuZXdDb250ZXh0LnJlcGx5KSByZXR1cm47XG5cbiAgICBhamF4LmdldChuZXh0UHJvcHMuY29uZmlnLCBuZXh0UHJvcHMuY29udGV4dCB8fCBudWxsKS50aGVuKHRoaXMuYXBwZW5kRGF0YSwgc25hY2tiYXIuYXBpRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QgPyAoJ1txdW90ZT1cIkAnICsgIGRhdGEucG9zdGVyICsgJ1wiXVxcbicgKyBkYXRhLnBvc3QgKyAnXFxuWy9xdW90ZV0nKSA6ICcnXG4gICAgfSk7XG4gIH07XG5cbiAgbG9hZEVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSk7XG4gIH07XG5cbiAgYXBwZW5kRGF0YSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgbmV3UG9zdCA9IGRhdGEucG9zdCA/ICgnW3F1b3RlPVwiQCcgKyAgZGF0YS5wb3N0ZXIgKyAnXCJdXFxuJyArIGRhdGEucG9zdCArICdcXG5bL3F1b3RlXVxcblxcbicpIDogJyc7XG5cbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAocHJldlN0YXRlLnBvc3QubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBvc3Q6IHByZXZTdGF0ZS5wb3N0ICsgJ1xcblxcbicgKyBuZXdQb3N0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc3Q6IG5ld1Bvc3RcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgeW91ciByZXBseT9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciByZXBseSBoYXMgYmVlbiBwb3N0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW11cbiAgICAgICk7XG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cblxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBFZGl0b3IgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL3V0aWxzL2NvbnRhaW5lcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL3V0aWxzL21lc3NhZ2UnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSAnLi91dGlscy9hdHRhY2htZW50cyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgY2xlYW5Vc2VybmFtZXMgZnJvbSAnLi91dGlscy91c2VybmFtZXMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMsIGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gJy4vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBjb25zdCB0byA9IChwcm9wcy50byB8fCBbXSkubWFwKCh1c2VyKSA9PiB1c2VyLnVzZXJuYW1lKS5qb2luKCcsICcpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRvOiB0byxcbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBnZXRUaXRsZVZhbGlkYXRvcnMoKSxcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCBwcml2YXRlIHRocmVhZD9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25Ub0NoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3RvJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvblRpdGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndGl0bGUnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uUG9zdENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3Bvc3QnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSAoYXR0YWNobWVudHMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF0dGFjaG1lbnRzXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCFjbGVhblVzZXJuYW1lcyh0aGlzLnN0YXRlLnRvKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhdCBsZWFzdCBvbmUgcmVjaXBpZW50LlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy50aXRsZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnRpdGxlWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgdG86IGNsZWFuVXNlcm5hbWVzKHRoaXMuc3RhdGUudG8pLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cyksXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHRocmVhZCBoYXMgYmVlbiBwb3N0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnRvIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udGl0bGUgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5wb3N0IHx8IFtdXG4gICAgICApO1xuXG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnNbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1mb3JtXCIgd2l0aEZpcnN0Um93PXt0cnVlfT5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmaXJzdC1yb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Ub0NoYW5nZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIkNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHVzZXIgbmFtZXMsIGVnLjogRGFubnksIExpc2FcIil9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRvfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmaXJzdC1yb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25UaXRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuXG4gICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBPcHRpb25zIGZyb20gJy4vdXRpbHMvb3B0aW9ucyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tICcuL3V0aWxzL2F0dGFjaG1lbnRzJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGdldFBvc3RWYWxpZGF0b3JzLCBnZXRUaXRsZVZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHNob3dPcHRpb25zOiBmYWxzZSxcbiAgICAgIGNhdGVnb3J5T3B0aW9uczogbnVsbCxcblxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY2F0ZWdvcnk6IHByb3BzLmNhdGVnb3J5IHx8IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgICAgY2xvc2U6IGZhbHNlLFxuICAgICAgaGlkZTogZmFsc2UsXG4gICAgICBwaW46IDAsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpLFxuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLmNvbmZpZykudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcik7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxvYWRTdWNjZXNzID0gKGRhdGEpID0+IHtcbiAgICBsZXQgY2F0ZWdvcnkgPSBudWxsO1xuICAgIGxldCBzaG93T3B0aW9ucyA9IGZhbHNlO1xuICAgIGxldCBjYXRlZ29yeU9wdGlvbnMgPSBudWxsO1xuXG4gICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgLy8gcGljayBmaXJzdCBjYXRlZ29yeSB0aGF0IGFsbG93cyBwb3N0aW5nIGFuZCBpZiBpdCBtYXksIG92ZXJyaWRlIGl0IHdpdGggaW5pdGlhbCBvbmVcbiAgICAgIGlmIChpdGVtLnBvc3QgIT09IGZhbHNlICYmICghY2F0ZWdvcnkgfHwgaXRlbS5pZCA9PSB0aGlzLnN0YXRlLmNhdGVnb3J5KSkge1xuICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWQ7XG4gICAgICAgIGNhdGVnb3J5T3B0aW9ucyA9IGl0ZW0ucG9zdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0ucG9zdCAmJiAoaXRlbS5wb3N0LmNsb3NlIHx8IGl0ZW0ucG9zdC5oaWRlIHx8IGl0ZW0ucG9zdC5waW4pKSB7XG4gICAgICAgIHNob3dPcHRpb25zID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgc2hvd09wdGlvbnMsXG5cbiAgICAgIGNhdGVnb3JpZXMsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIGNhdGVnb3J5T3B0aW9uc1xuICAgIH0pO1xuICB9O1xuXG4gIGxvYWRFcnJvciA9IChyZWplY3Rpb24pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pO1xuICB9O1xuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIHRocmVhZD9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25UaXRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3RpdGxlJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnN0YXRlLmNhdGVnb3JpZXMuZmluZCgoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC52YWx1ZSA9PSBpdGVtLnZhbHVlO1xuICAgIH0pO1xuXG4gICAgLy8gaWYgc2VsZWN0ZWQgcGluIGlzIGdyZWF0ZXIgdGhhbiBhbGxvd2VkLCByZWR1Y2UgaXRcbiAgICBsZXQgcGluID0gdGhpcy5zdGF0ZS5waW47XG4gICAgaWYgKGNhdGVnb3J5LnBvc3QucGluICYmIGNhdGVnb3J5LnBvc3QucGluIDwgcGluKSB7XG4gICAgICBwaW4gPSBjYXRlZ29yeS5wb3N0LnBpbjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5pZCxcbiAgICAgIGNhdGVnb3J5T3B0aW9uczogY2F0ZWdvcnkucG9zdCxcblxuICAgICAgcGluXG4gICAgfSk7XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcblxuICBvbkNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2Nsb3NlJywgdHJ1ZSk7XG4gIH07XG5cbiAgb25PcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2Nsb3NlJywgZmFsc2UpO1xuICB9O1xuXG4gIG9uUGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncGluJywgMik7XG4gIH07XG5cbiAgb25QaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3BpbicsIDEpO1xuICB9O1xuXG4gIG9uVW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncGluJywgMCk7XG4gIH07XG5cbiAgb25IaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2hpZGUnLCB0cnVlKTtcbiAgfTtcblxuICBvblVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdoaWRlJywgZmFsc2UpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cyksXG4gICAgICBjbG9zZTogdGhpcy5zdGF0ZS5jbG9zZSxcbiAgICAgIGhpZGU6IHRoaXMuc3RhdGUuaGlkZSxcbiAgICAgIHBpbjogdGhpcy5zdGF0ZS5waW5cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdGhyZWFkIGhhcyBiZWVuIHBvc3RlZC5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uY2F0ZWdvcnkgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW11cbiAgICAgICk7XG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgY29sdW1ucyA9IDA7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2F0ZWdvcnlPcHRpb25zLmNsb3NlKSBjb2x1bW5zICs9IDE7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2F0ZWdvcnlPcHRpb25zLmhpZGUpIGNvbHVtbnMgKz0gMTtcbiAgICBpZiAodGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnMucGluKSBjb2x1bW5zICs9IDE7XG5cbiAgICBsZXQgdGl0bGVTdHlsZSA9IG51bGw7XG5cbiAgICBpZiAoY29sdW1ucyA9PT0gMSkge1xuICAgICAgdGl0bGVTdHlsZSA9ICdjb2wtc20tNic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlU3R5bGUgPSAnY29sLXNtLTgnO1xuICAgIH1cblxuICAgIGlmIChjb2x1bW5zID09PSAzKSB7XG4gICAgICB0aXRsZVN0eWxlICs9ICcgY29sLW1kLTYnXG4gICAgfSBlbHNlIGlmIChjb2x1bW5zKSB7XG4gICAgICB0aXRsZVN0eWxlICs9ICcgY29sLW1kLTcnXG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlU3R5bGUgKz0gJyBjb2wtbWQtOSdcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIiB3aXRoRmlyc3RSb3c9e3RydWV9PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGZpcnN0LXJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RpdGxlU3R5bGV9PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtMyB4cy1tYXJnaW4tdG9wJz5cbiAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgICAgICBjbG9zZT17dGhpcy5zdGF0ZS5jbG9zZX1cbiAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBoaWRlPXt0aGlzLnN0YXRlLmhpZGV9XG4gICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMub25DbG9zZX1cbiAgICAgICAgICAgICAgb25IaWRlPXt0aGlzLm9uSGlkZX1cbiAgICAgICAgICAgICAgb25PcGVuPXt0aGlzLm9uT3Blbn1cbiAgICAgICAgICAgICAgb25QaW5HbG9iYWxseT17dGhpcy5vblBpbkdsb2JhbGx5fVxuICAgICAgICAgICAgICBvblBpbkxvY2FsbHk9e3RoaXMub25QaW5Mb2NhbGx5fVxuICAgICAgICAgICAgICBvblVuaGlkZT17dGhpcy5vblVuaGlkZX1cbiAgICAgICAgICAgICAgb25VbnBpbj17dGhpcy5vblVucGlufVxuICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9uc31cbiAgICAgICAgICAgICAgcGluPXt0aGlzLnN0YXRlLnBpbn1cbiAgICAgICAgICAgICAgc2hvd09wdGlvbnM9e3RoaXMuc3RhdGUuc2hvd09wdGlvbnN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuXG4gICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW4oYXR0YWNobWVudHMpIHtcbiAgY29uc3QgY29tcGxldGVkQXR0YWNobWVudHMgPSBhdHRhY2htZW50cy5maWx0ZXIoKGF0dGFjaG1lbnQpID0+IHtcbiAgICByZXR1cm4gYXR0YWNobWVudC5pZCAmJiAhYXR0YWNobWVudC5pc1JlbW92ZWQ7XG4gIH0pO1xuXG4gIHJldHVybiBjb21wbGV0ZWRBdHRhY2htZW50cy5tYXAoKGEpID0+IHsgcmV0dXJuIGEuaWQ7IH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShhdHRhY2htZW50cykge1xuICByZXR1cm4gYXR0YWNobWVudHMubWFwKChhdHRhY2htZW50KSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGF0dGFjaG1lbnQsIHtcbiAgICAgIHVwbG9hZGVkX29uOiBtb21lbnQoYXR0YWNobWVudC51cGxvYWRlZF9vbilcbiAgICB9KTtcbiAgfSk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1sb2FkZXJcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGVycm9yX291dGxpbmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgb25DbGljaz17cG9zdGluZy5jbG9zZX0+XG4gICAgICAgICAge2dldHRleHQoXCJEaXNtaXNzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvQ29udGFpbmVyPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2hvd09wdGlvbnMpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHsgY29sdW1ucyB9ID0gcHJvcHM7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICdjb2wteHMtMTIgeHMtbWFyZ2luLXRvcCc7XG5cbiAgaWYgKGNvbHVtbnMgPT09IDEpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBjb2wtc20tMic7XG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9ICcgc20tbWFyZ2luLXRvcCc7XG4gIH1cblxuICBpZiAoY29sdW1ucyA9PT0gMykge1xuICAgIGNsYXNzTmFtZSArPSAnIGNvbC1tZC0zJztcbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gJyBjb2wtbWQtMic7XG4gIH1cbiAgY2xhc3NOYW1lICs9ICcgcG9zdGluZy1vcHRpb25zJztcblxuICBjb25zdCBjb2x1bW5DbGFzc05hbWUgPSAnY29sLXhzLScgKyAoMTIgLyBjb2x1bW5zKTtcblxuICBsZXQgdGV4dENsYXNzTmFtZSA9ICdidG4tdGV4dCdcbiAgaWYgKGNvbHVtbnMgPT09IDMpIHtcbiAgICAgIHRleHRDbGFzc05hbWUgKz0gJyB2aXNpYmxlLXNtLWlubGluZS1ibG9jayc7XG4gIH0gZWxzZSBpZiAoY29sdW1ucyA9PT0gMikge1xuICAgICAgdGV4dENsYXNzTmFtZSArPSAnIGhpZGRlbi1tZCBoaWRkZW4tbGcnO1xuICB9IGVsc2Uge1xuICAgICAgdGV4dENsYXNzTmFtZSArPSAnIGhpZGRlbi1zbSc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPFBpbk9wdGlvbnNcbiAgICAgICAgICBjbGFzc05hbWU9e2NvbHVtbkNsYXNzTmFtZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25QaW5HbG9iYWxseT17cHJvcHMub25QaW5HbG9iYWxseX1cbiAgICAgICAgICBvblBpbkxvY2FsbHk9e3Byb3BzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICBvblVucGluPXtwcm9wcy5vblVucGlufVxuICAgICAgICAgIHBpbj17cHJvcHMucGlufVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMucGlufVxuICAgICAgICAgIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9XG4gICAgICAgIC8+XG4gICAgICAgIDxIaWRlT3B0aW9uc1xuICAgICAgICAgIGNsYXNzTmFtZT17Y29sdW1uQ2xhc3NOYW1lfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBoaWRlPXtwcm9wcy5oaWRlfVxuICAgICAgICAgIG9uSGlkZT17cHJvcHMub25IaWRlfVxuICAgICAgICAgIG9uVW5oaWRlPXtwcm9wcy5vblVuaGlkZX1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLmhpZGV9XG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgLz5cbiAgICAgICAgPENsb3NlT3B0aW9uc1xuICAgICAgICAgIGNsYXNzTmFtZT17Y29sdW1uQ2xhc3NOYW1lfVxuICAgICAgICAgIGNsb3NlPXtwcm9wcy5jbG9zZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbG9zZT17cHJvcHMub25DbG9zZX1cbiAgICAgICAgICBvbk9wZW49e3Byb3BzLm9uT3Blbn1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLmNsb3NlfVxuICAgICAgICAgIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENsb3NlT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3cpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGxhYmVsID0gcHJvcHMuY2xvc2UgPyBnZXR0ZXh0KCdDbG9zZWQnKSA6IGdldHRleHQoJ09wZW4nKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5jbG9zZSA/IHByb3BzLm9uT3BlbiA6IHByb3BzLm9uQ2xvc2V9XG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMuY2xvc2UgPyAnbG9jaycgOiAnbG9ja19vdXRsaW5lJ31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLnRleHRDbGFzc05hbWV9PlxuICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRlT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3cpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGxhYmVsID0gcHJvcHMuaGlkZSA/IGdldHRleHQoJ0hpZGRlbicpIDogZ2V0dGV4dCgnTm90IGhpZGRlbicpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmhpZGUgPyBwcm9wcy5vblVuaGlkZSA6IHByb3BzLm9uSGlkZX1cbiAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtwcm9wcy5oaWRlID8gJ3Zpc2liaWxpdHlfb2ZmJyA6ICd2aXNpYmlsaXR5J31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLnRleHRDbGFzc05hbWV9PlxuICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQaW5PcHRpb25zKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2hvdykgcmV0dXJuIG51bGw7XG5cbiAgbGV0IGljb24gPSBudWxsO1xuICBsZXQgb25DbGljayA9IG51bGw7XG4gIGxldCBsYWJlbCA9IG51bGw7XG5cbiAgc3dpdGNoIChwcm9wcy5waW4pIHtcbiAgICBjYXNlIDA6XG4gICAgICBpY29uID0gJ3JhZGlvX2J1dHRvbl91bmNoZWNrZWQnO1xuICAgICAgb25DbGljayA9IHByb3BzLm9uUGluTG9jYWxseTtcbiAgICAgIGxhYmVsID0gZ2V0dGV4dChcIlVucGlubmVkXCIpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDE6XG4gICAgICBpY29uID0gJ2Jvb2ttYXJrX291dGxpbmUnO1xuICAgICAgb25DbGljayA9IHByb3BzLm9uUGluR2xvYmFsbHk7XG4gICAgICBsYWJlbCA9IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKTtcblxuICAgICAgaWYgKHByb3BzLnNob3cgPT0gMikge1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5HbG9iYWxseTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblVucGluO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgMjpcbiAgICAgIGljb24gPSAnYm9va21hcmsnO1xuICAgICAgb25DbGljayA9IHByb3BzLm9uVW5waW47XG4gICAgICBsYWJlbCA9IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIik7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7aWNvbn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLnRleHRDbGFzc05hbWV9PlxuICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXNlcm5hbWVzKSB7XG4gIGNvbnN0IG5vcm1hbGlzZWROYW1lcyA9IHVzZXJuYW1lcy5zcGxpdCgnLCcpLm1hcCgoaSkgPT4gaS50cmltKCkudG9Mb3dlckNhc2UoKSk7XG4gIGNvbnN0IHJlbW92ZWRCbGFua3MgPSBub3JtYWxpc2VkTmFtZXMuZmlsdGVyKChpKSA9PiBpLmxlbmd0aCA+IDApO1xuICBjb25zdCByZW1vdmVkRHVwbGljYXRlcyA9IHJlbW92ZWRCbGFua3MuZmlsdGVyKChuYW1lLCBwb3MpID0+IHtcbiAgICAgIHJldHVybiByZW1vdmVkQmxhbmtzLmluZGV4T2YobmFtZSkgPT0gcG9zO1xuICB9KTtcblxuICByZXR1cm4gcmVtb3ZlZER1cGxpY2F0ZXM7XG59IiwiaW1wb3J0IHsgbWF4TGVuZ3RoLCBtaW5MZW5ndGggfSBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZVZhbGlkYXRvcnMoKSB7XG4gIHJldHVybiBbXG4gICAgZ2V0VGl0bGVMZW5ndGhNaW4oKSxcbiAgICBnZXRUaXRsZUxlbmd0aE1heCgpXG4gIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0VmFsaWRhdG9ycygpIHtcbiAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykucG9zdF9sZW5ndGhfbWF4KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHZhbGlkYXRlUG9zdExlbmd0aE1pbigpLFxuICAgICAgdmFsaWRhdGVQb3N0TGVuZ3RoTWF4KClcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXG4gICAgICB2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKVxuICAgIF07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlTGVuZ3RoTWluKCkge1xuICByZXR1cm4gbWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykudGhyZWFkX3RpdGxlX2xlbmd0aF9taW4sIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRocmVhZCB0aXRsZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgXCJUaHJlYWQgdGl0bGUgc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlTGVuZ3RoTWF4KCkge1xuICByZXR1cm4gbWF4TGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykudGhyZWFkX3RpdGxlX2xlbmd0aF9tYXgsIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRocmVhZCB0aXRsZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiVGhyZWFkIHRpdGxlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIGxpbWl0VmFsdWUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgfSwgdHJ1ZSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQb3N0TGVuZ3RoTWluKCkge1xuICByZXR1cm4gbWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykucG9zdF9sZW5ndGhfbWluLCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIGxpbWl0VmFsdWUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgfSwgdHJ1ZSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQb3N0TGVuZ3RoTWF4KCkge1xuICByZXR1cm4gbWF4TGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykucG9zdF9sZW5ndGhfbWF4IHx8IDEwMDAwMDAsIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlBvc3RlZCBtZXNzYWdlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QuYWNsKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZXZlbnQtY29udHJvbHNcIj5cbiAgICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShhY2wpIHtcbiAgcmV0dXJuIGFjbC5jYW5faGlkZTtcbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc19oaWRkZW46IHRydWUsXG4gICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHRoaXMucHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLnBvc3QudXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogdGhpcy5wcm9wcy51c2VyLmFic29sdXRlX3VybFxuICAgICAgfSlcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcCA9IHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IHRydWV9O1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4LCBbb3BdKS50aGVuKChwYXRjaCkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHBhdGNoKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcCA9IHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IGZhbHNlfTtcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCwgW29wXSkudGhlbigocGF0Y2gpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc19oaWRkZW46IHRydWVcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlY2lzaW9uID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGRlbGV0ZSB0aGlzIGV2ZW50PyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIikpO1xuICAgIGlmIChkZWNpc2lvbikge1xuICAgICAgdGhpcy5kZWxldGUoKVxuICAgIH1cbiAgfTtcblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgpLnRoZW4oKCkgPT4ge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiRXZlbnQgaGFzIGJlZW4gZGVsZXRlZC5cIikpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBJQ09OID0ge1xuICBjaGFuZ2VkX3RpdGxlOiAnZWRpdCcsXG5cbiAgcGlubmVkX2dsb2JhbGx5OiAnYm9va21hcmsnLFxuICBwaW5uZWRfbG9jYWxseTogJ2Jvb2ttYXJrX2JvcmRlcicsXG4gIHVucGlubmVkOiAncGFub3JhbWFfZmlzaF9leWUnLFxuXG4gIG1vdmVkOiAnYXJyb3dfZm9yd2FyZCcsXG4gIG1lcmdlZDogJ2NhbGxfbWVyZ2UnLFxuXG4gIGFwcHJvdmVkOiAnZG9uZScsXG5cbiAgb3BlbmVkOiAnbG9ja19vcGVuJyxcbiAgY2xvc2VkOiAnbG9ja19vdXRsaW5lJyxcblxuICB1bmhpZDogJ3Zpc2liaWxpdHknLFxuICBoaWQ6ICd2aXNpYmlsaXR5X29mZicsXG5cbiAgY2hhbmdlZF9vd25lcjogJ2dyYWRlJyxcbiAgdG9va292ZXI6ICdncmFkZScsXG5cbiAgYWRkZWRfcGFydGljaXBhbnQ6ICdwZXJzb25fYWRkJyxcblxuICBvd25lcl9sZWZ0OiAncGVyc29uX291dGxpbmUnLFxuICBwYXJ0aWNpcGFudF9sZWZ0OiAncGVyc29uX291dGxpbmUnLFxuICByZW1vdmVkX3BhcnRpY2lwYW50OiAncmVtb3ZlX2NpcmNsZV9vdXRsaW5lJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXZhdGFyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHtJQ09OW3Byb3BzLnBvc3QuZXZlbnRfdHlwZV19XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJY29uIGZyb20gJy4vaWNvbic7XG5pbXBvcnQgSW5mbyBmcm9tICcuL2luZm8nO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCBVbnJlYWRMYWJlbCBmcm9tICcuL3VucmVhZC1sYWJlbCc7XG5pbXBvcnQgV2F5cG9pbnQgZnJvbSAnLi4vd2F5cG9pbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gJ2V2ZW50JztcbiAgaWYgKHByb3BzLnBvc3QuaXNEZWxldGVkKSB7XG4gICAgY2xhc3NOYW1lID0gJ2hpZGUnO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ2V2ZW50IHBvc3QtaGlkZGVuJztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGlkPXsncG9zdC0nICsgcHJvcHMucG9zdC5pZH0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPFVucmVhZExhYmVsIHBvc3Q9e3Byb3BzLnBvc3R9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxJY29uIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICAgICAgPE1lc3NhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxJbmZvIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9XYXlwb2ludD5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnLi9jb250cm9scyc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgREFURV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYT4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lIGV2ZW50LWluZm9cIj5cbiAgICAgIDxIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8SXAgey4uLnByb3BzfSAvPlxuICAgICAgPENvbnRyb2xzIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgIGxldCB1c2VyID0gbnVsbDtcbiAgICBpZiAocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSB7XG4gICAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9VUkwsIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSlcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9TUEFOLCB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSlcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShEQVRFX0FCQlIsIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZvcm1hdCgnTExMJykpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZnJvbU5vdygpKVxuICAgIH0sIHRydWUpO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIkhpZGRlbiBieSAlKGV2ZW50X2J5KXMgJShldmVudF9vbilzLlwiKSksIHtcbiAgICAgIGV2ZW50X2J5OiB1c2VyLFxuICAgICAgZXZlbnRfb246IGRhdGVcbiAgICB9LCB0cnVlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGlcbiAgICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtaGlkZGVuLW1lc3NhZ2VcIlxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19XG4gICAgICAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3Rlcihwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyLmFic29sdXRlX3VybCksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKERBVEVfVVJMLCB7XG4gICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmluZGV4KSxcbiAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3RlZF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJCeSAlKGV2ZW50X2J5KXMgJShldmVudF9vbilzLlwiKSksIHtcbiAgICBldmVudF9ieTogdXNlcixcbiAgICBldmVudF9vbjogZGF0ZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJldmVudC1wb3N0ZXJzXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSXAocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVzZXIuYWNsLmNhbl9zZWVfdXNlcnNfaXBzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJldmVudC1pcFwiPlxuICAgICAgICA8YWJiciB0aXRsZT17cHJvcHMucG9zdC5wb3N0ZXJfaXB9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSVAgcmVjb3JkZWRcIil9XG4gICAgICAgIDwvYWJicj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBNRVNTQUdFID0ge1xuICBwaW5uZWRfZ2xvYmFsbHk6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGdsb2JhbGx5LlwiKSxcbiAgcGlubmVkX2xvY2FsbHk6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGxvY2FsbHkuXCIpLFxuICB1bnBpbm5lZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiB1bnBpbm5lZC5cIiksXG5cbiAgYXBwcm92ZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gYXBwcm92ZWQuXCIpLFxuXG4gIG9wZW5lZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBvcGVuZWQuXCIpLFxuICBjbG9zZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gY2xvc2VkLlwiKSxcblxuICB1bmhpZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiByZXZlYWxlZC5cIiksXG4gIGhpZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIGhpZGRlbi5cIiksXG5cbiAgdG9va292ZXI6IGdldHRleHQoXCJUb29rIHRocmVhZCBvdmVyLlwiKSxcblxuICBvd25lcl9sZWZ0OiBnZXR0ZXh0KFwiT3duZXIgaGFzIGxlZnQgdGhyZWFkLiBUaGlzIHRocmVhZCBpcyBub3cgY2xvc2VkLlwiKSxcbiAgcGFydGljaXBhbnRfbGVmdDogZ2V0dGV4dChcIlBhcnRpY2lwYW50IGhhcyBsZWZ0IHRocmVhZC5cIiksXG59XG5cbmNvbnN0IElURU1fTElOSyA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUobmFtZSlzPC9hPidcbmNvbnN0IElURU1fU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKG5hbWUpczwvc3Bhbj4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoTUVTU0FHRVtwcm9wcy5wb3N0LmV2ZW50X3R5cGVdKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIj5cbiAgICAgICAge01FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXX1cbiAgICAgIDwvcD5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ2NoYW5nZWRfdGl0bGUnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDaGFuZ2VkVGl0bGUgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAnbW92ZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb3ZlZCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdtZXJnZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNZXJnZWQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAnY2hhbmdlZF9vd25lcicpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENoYW5nZWRPd25lciB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdhZGRlZF9wYXJ0aWNpcGFudCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFkZGVkUGFydGljaXBhbnQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAncmVtb3ZlZF9wYXJ0aWNpcGFudCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlbW92ZWRQYXJ0aWNpcGFudCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhbmdlZFRpdGxlKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIlRocmVhZCB0aXRsZSBoYXMgYmVlbiBjaGFuZ2VkIGZyb20gJShvbGRfdGl0bGUpcy5cIikpO1xuICBjb25zdCBvbGRUaXRsZSA9IGludGVycG9sYXRlKElURU1fU1BBTiwge1xuICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0Lm9sZF90aXRsZSlcbiAgfSwgdHJ1ZSk7XG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICBvbGRfdGl0bGU6IG9sZFRpdGxlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vdmVkKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtb3ZlZCBmcm9tICUoZnJvbV9jYXRlZ29yeSlzLlwiKSk7XG4gIGNvbnN0IGZyb21DYXRlZ29yeSA9IGludGVycG9sYXRlKElURU1fTElOSywge1xuICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQuZnJvbV9jYXRlZ29yeS51cmwpLFxuICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LmZyb21fY2F0ZWdvcnkubmFtZSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIGZyb21fY2F0ZWdvcnk6IGZyb21DYXRlZ29yeVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZXJnZWQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiVGhlICUobWVyZ2VkX3RocmVhZClzIHRocmVhZCBoYXMgYmVlbiBtZXJnZWQgaW50byB0aGlzIHRocmVhZC5cIikpO1xuICBjb25zdCBtZXJnZWRUaHJlYWQgPSBpbnRlcnBvbGF0ZShJVEVNX1NQQU4sIHtcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5tZXJnZWRfdGhyZWFkKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUobXNnc3RyaW5nLCB7XG4gICAgbWVyZ2VkX3RocmVhZDogbWVyZ2VkVGhyZWFkXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZWRPd25lcihwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJDaGFuZ2VkIHRocmVhZCBvd25lciB0byAlKHVzZXIpcy5cIikpO1xuICBjb25zdCBuZXdPd25lciA9IGludGVycG9sYXRlKElURU1fTElOSywge1xuICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXNlcm5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICB1c2VyOiBuZXdPd25lclxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBZGRlZFBhcnRpY2lwYW50KHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIkFkZGVkICUodXNlcilzIHRvIHRocmVhZC5cIikpO1xuICBjb25zdCBuZXdPd25lciA9IGludGVycG9sYXRlKElURU1fTElOSywge1xuICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXNlcm5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICB1c2VyOiBuZXdPd25lclxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVkUGFydGljaXBhbnQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiUmVtb3ZlZCAlKHVzZXIpcyBmcm9tIHRocmVhZC5cIikpO1xuICBjb25zdCBuZXdPd25lciA9IGludGVycG9sYXRlKElURU1fTElOSywge1xuICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXNlcm5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICB1c2VyOiBuZXdPd25lclxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0IH0pIHtcbiAgaWYgKHBvc3QuaXNfcmVhZCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImV2ZW50LWxhYmVsXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC11bnJlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJOZXcgZXZlbnRcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50JztcbmltcG9ydCBQb3N0IGZyb20gJy4vcG9zdCc7XG5pbXBvcnQgUG9zdFByZXZpZXcgZnJvbSAnLi9wb3N0L3ByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgICAge3Byb3BzLnBvc3RzLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxMaXN0SXRlbSBrZXk9e3Bvc3QuaWR9IHBvc3Q9e3Bvc3R9IHsuLi5wcm9wc30gLz47XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICA8UG9zdFByZXZpZXcgLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlzdEl0ZW0ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfZXZlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEV2ZW50IHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UG9zdCB7Li4ucHJvcHN9IC8+XG4gICk7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tICdtaXNhZ28vdXRpbHMvZmlsZS1zaXplJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtNlwiPlxuICAgICAgPEF0dGFjaG1lbnRQcmV2aWV3IHsuLi5wcm9wc30gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50XCI+XG4gICAgICAgIDxhIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJhdHRhY2htZW50LW5hbWUgaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHtwcm9wcy5hdHRhY2htZW50LmZpbGVuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICAgIDxBdHRhY2htZW50RGV0YWlscyB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRQcmV2aWV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy5hdHRhY2htZW50LmlzX2ltYWdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50LXByZXZpZXdcIj5cbiAgICAgICAgPEF0dGFjaG1lbnRUaHVtYm5haWwgey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtcHJldmlld1wiPlxuICAgICAgICA8QXR0YWNobWVudEljb24gey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YSBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH0gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgaW5zZXJ0X2RyaXZlX2ZpbGVcbiAgICA8L2E+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50VGh1bWJuYWlsKHByb3BzKSB7XG4gIGNvbnN0IHVybCA9IHByb3BzLmF0dGFjaG1lbnQudXJsLnRodW1iIHx8IHByb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4O1xuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJwb3N0LXRodW1ibmFpbFwiXG4gICAgICBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH1cbiAgICAgIHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiAndXJsKFwiJyArIGVzY2FwZUh0bWwodXJsKSArICdcIiknfX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudERldGFpbHMocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMuYXR0YWNobWVudC51cmwudXBsb2FkZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVybC51cGxvYWRlciksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShEQVRFX0FCQlIsIHtcbiAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVkX29uLmZvcm1hdCgnTExMJykpLFxuICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiJShmaWxldHlwZSlzLCAlKHNpemUpcywgdXBsb2FkZWQgYnkgJSh1cGxvYWRlcilzICUodXBsb2FkZWRfb24pcy5cIikpLCB7XG4gICAgZmlsZXR5cGU6IHByb3BzLmF0dGFjaG1lbnQuZmlsZXR5cGUsXG4gICAgc2l6ZTogZm9ybWF0RmlsZXNpemUocHJvcHMuYXR0YWNobWVudC5zaXplKSxcbiAgICB1cGxvYWRlcjogdXNlcixcbiAgICB1cGxvYWRlZF9vbjogZGF0ZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtZGVzY3JpcHRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgIC8+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBiYXRjaCBmcm9tICdtaXNhZ28vdXRpbHMvYmF0Y2gnO1xuaW1wb3J0IEF0dGFjaG1lbnQgZnJvbSAnLi9hdHRhY2htZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFpc1Zpc2libGUocHJvcHMucG9zdCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnRzXCI+XG4gICAgICB7YmF0Y2gocHJvcHMucG9zdC5hdHRhY2htZW50cywgMikubWFwKChyb3cpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gcm93Lm1hcCgoYSkgPT4ge3JldHVybiBhID8gYS5pZCA6IDA7fSkuam9pbignXycpO1xuICAgICAgICByZXR1cm4gPFJvdyBrZXk9e2tleX0gcm93PXtyb3d9IC8+O1xuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gKCFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikgJiYgcG9zdC5hdHRhY2htZW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJvdyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICB7cHJvcHMucm93Lm1hcCgoYXR0YWNobWVudCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxBdHRhY2htZW50XG4gICAgICAgICAgICBhdHRhY2htZW50PXthdHRhY2htZW50fVxuICAgICAgICAgICAga2V5PXthdHRhY2htZW50ID8gYXR0YWNobWVudC5pZCA6IDB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgV2F5cG9pbnQgZnJvbSAnLi4vd2F5cG9pbnQnO1xuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IEhJRERFTl9CWV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuY29uc3QgSElEREVOX0JZX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IEhJRERFTl9PTiA9ICc8YWJiciBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIDxIaWRkZW4gey4uLnByb3BzfSAvPjtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmNvbnRlbnQpIHtcbiAgICByZXR1cm4gPERlZmF1bHQgey4uLnByb3BzfSAvPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPEludmFsaWQgey4uLnByb3BzfSAvPjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdChwcm9wcykge1xuIHJldHVybiAoXG4gICAgPFdheXBvaW50IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QuY29udGVudH0gLz5cbiAgICA8L1dheXBvaW50PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLnBvc3QuaGlkZGVuX2J5KSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKEhJRERFTl9CWV9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShISURERU5fQllfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKEhJRERFTl9PTiwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZvcm1hdCgnTExMJykpLFxuICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIkhpZGRlbiBieSAlKGhpZGRlbl9ieSlzICUoaGlkZGVuX29uKXMuXCIpKSwge1xuICAgIGhpZGRlbl9ieTogdXNlcixcbiAgICBoaWRkZW5fb246IGRhdGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1oaWRkZW5cIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyBoaWRkZW4uIFlvdSBjYW5ub3Qgc2VlIGl0cyBjb250ZW50cy5cIil9PC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgICA8L1dheXBvaW50PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZChwcm9wcykge1xuIHJldHVybiAoXG4gICAgPFdheXBvaW50IGNsYXNzTmFtZT1cInBvc3QtYm9keSBwb3N0LWJvZHktaW52YWxpZFwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPntnZXR0ZXh0KFwiVGhpcyBwb3N0J3MgY29udGVudHMgY2Fubm90IGJlIGRpc3BsYXllZC5cIil9PC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPntnZXR0ZXh0KFwiVGhpcyBlcnJvciBpcyBjYXVzZWQgYnkgaW52YWxpZCBwb3N0IGNvbnRlbnQgbWFuaXB1bGF0aW9uLlwiKX08L3A+XG4gICAgPC9XYXlwb2ludD5cbiAgKTtcbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHByb3ZlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX3VuYXBwcm92ZWQ6IGZhbHNlXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtdW5hcHByb3ZlZCcsICd2YWx1ZSc6IGZhbHNlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfdW5hcHByb3ZlZDogcHJvcHMucG9zdC5pc191bmFwcHJvdmVkXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90ZWN0KHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX3Byb3RlY3RlZDogdHJ1ZVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXByb3RlY3RlZCcsICd2YWx1ZSc6IHRydWV9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19wcm90ZWN0ZWQ6IHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnByb3RlY3QocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXByb3RlY3RlZCcsICd2YWx1ZSc6IGZhbHNlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfcHJvdGVjdGVkOiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZFxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19oaWRkZW46IHRydWUsXG4gICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICB1cmw6IE9iamVjdC5hc3NpZ24ocHJvcHMucG9zdC51cmwsIHtcbiAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci5hYnNvbHV0ZV91cmxcbiAgICB9KVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IHRydWV9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19oaWRkZW46IHByb3BzLnBvc3QuaXNfaGlkZGVuLFxuICAgIGhpZGRlbl9vbjogcHJvcHMucG9zdC5oaWRkZW5fb24sXG4gICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUsXG4gICAgdXJsOiBwcm9wcy5wb3N0LnVybFxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5oaWRlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2hpZGRlbjogcHJvcHMucG9zdC5pc19oaWRkZW5cbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpa2UocHJvcHMpIHtcbiAgY29uc3QgbGFzdExpa2VzID0gcHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdO1xuICBjb25zdCBjb25jYXRlZExpa2VzID0gW3Byb3BzLnVzZXJdLmNvbmNhdChsYXN0TGlrZXMpO1xuICBjb25zdCBmaW5hbExpa2VzID0gY29uY2F0ZWRMaWtlcy5sZW5ndGggPiAzID8gY29uY2F0ZWRMaWtlcy5zbGljZSgwLCAtMSkgOiBjb25jYXRlZExpa2VzO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX2xpa2VkOiB0cnVlLFxuICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzICsgMSxcbiAgICBsYXN0X2xpa2VzOiBmaW5hbExpa2VzXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtbGlrZWQnLCAndmFsdWUnOiB0cnVlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfbGlrZWQ6IHByb3BzLnBvc3QuaXNfbGlrZWQsXG4gICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMsXG4gICAgbGFzdF9saWtlczogcHJvcHMucG9zdC5sYXN0X2xpa2VzXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxpa2UocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfbGlrZWQ6IGZhbHNlLFxuICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzIC0gMSxcbiAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXMuZmlsdGVyKCh1c2VyKSA9PiB7XG4gICAgICByZXR1cm4gIXVzZXIuaWQgfHwgdXNlci5pZCAhPT0gcHJvcHMudXNlci5pZDtcbiAgICB9KVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWxpa2VkJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19saWtlZDogcHJvcHMucG9zdC5pc19saWtlZCxcbiAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyxcbiAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXNcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpIHtcbiAgYWpheC5wYXRjaChwcm9wcy5wb3N0LmFwaS5pbmRleCwgb3BzKS50aGVuKChuZXdTdGF0ZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwgbmV3U3RhdGUpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwgcHJldmlvdXNTdGF0ZSkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShwcm9wcykge1xuICBsZXQgY29uZmlybWVkID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHBvc3Q/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNEZWxldGVkOiB0cnVlXG4gIH0pKTtcblxuICBhamF4LmRlbGV0ZShwcm9wcy5wb3N0LmFwaS5pbmRleCkudGhlbigoKSA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9zdCBoYXMgYmVlbiBkZWxldGVkLlwiKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICB9KSk7XG4gIH0pO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCAqIGFzIG1vZGVyYXRpb24gZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCBNb3ZlTW9kYWwgZnJvbSAnLi9tb3ZlJztcbmltcG9ydCBQb3N0Q2hhbmdlbG9nIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nJztcbmltcG9ydCBTcGxpdE1vZGFsIGZyb20gJy4vc3BsaXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCI+XG4gICAgICA8UGVybWFsaW5rIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgUGVybWFsaW5rIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgcGVybWFVcmwgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nO1xuICAgIHBlcm1hVXJsICs9IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgIHBlcm1hVXJsICs9IHRoaXMucHJvcHMucG9zdC51cmwuaW5kZXg7XG5cbiAgICBwcm9tcHQoZ2V0dGV4dChcIlBlcm1hbWVudCBsaW5rIHRvIHRoaXMgcG9zdDpcIiksIHBlcm1hVXJsKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbGlua1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBlcm1hbWVudCBsaW5rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zdEVkaXRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPFBvc3RDaGFuZ2Vsb2cgcG9zdD17dGhpcy5wcm9wcy5wb3N0fSAvPlxuICAgIClcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNIaWRkZW4gPSB0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuICYmICF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuO1xuICAgIGNvbnN0IGlzVW5lZGl0ZWQgPSB0aGlzLnByb3BzLnBvc3QuZWRpdHMgPT09IDA7XG4gICAgaWYgKGlzSGlkZGVuIHx8IGlzVW5lZGl0ZWQpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZS5cIixcbiAgICAgIFwiVGhpcyBwb3N0IHdhcyBlZGl0ZWQgJShlZGl0cylzIHRpbWVzLlwiLFxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgKTtcblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgJ2VkaXRzJzogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBlZGl0XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlcyBoaXN0b3J5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmFwcHJvdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fYXBwcm92ZSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBkb25lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbW92ZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwbGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPFNwbGl0TW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNhbGxfc3BsaXRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTcGxpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0KSByZXR1cm4gbnVsbDtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBsb2NrX291dGxpbmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5wcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0KSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vcGVuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlIHByb3RlY3Rpb25cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmhpZGUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5faGlkZSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgdmlzaWJpbGl0eV9vZmZcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVuaGlkZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl91bmhpZGUpIHJldHVybiBudWxsO1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB2aXNpYmlsaXR5XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnJlbW92ZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9kZWxldGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEcm9wZG93biBmcm9tICcuL2Ryb3Bkb3duJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgZHJvcGRvd25cIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBleHBhbmRfbW9yZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tb3ZlLCB7XG4gICAgICB0aHJlYWRfdXJsOiB0aGlzLnN0YXRlLnVybCxcbiAgICAgIHBvc3RzOiBbdGhpcy5wcm9wcy5wb3N0LmlkXVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3Qgd2FzIG1vdmVkIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uVXJsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndXJsJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1vdmUgcG9zdCB0b1wiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgcG9zdFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHBvc3RcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxQb3N0aW5nQ29uZmlnIHsuLi5wcm9wc30gRm9ybT17TW9kZXJhdGlvbkZvcm19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0aW5nQ29uZmlnIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3JpZXM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfQVBJJykpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICB2YWx1ZTogaXRlbS5pZCxcbiAgICAgICAgICBwb3N0OiBpdGVtLnBvc3RcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBjYXRlZ29yaWVzXG4gICAgICB9KVxuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0Vycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8RXJyb3IgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RlcmF0aW9uRm9ybSB7Li4udGhpcy5wcm9wc30gY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vZGVyYXRpb25Gb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogcHJvcHMuY2F0ZWdvcmllcyxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkKClcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eV9vZmYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogZmFsc2UsXG4gICAgICAgICdpY29uJzogJ2xvY2tfb3V0bGluZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogdHJ1ZSxcbiAgICAgICAgJ2ljb24nOiAnbG9jaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuYWNsID0ge307XG4gICAgdGhpcy5wcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkucG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjbFtjYXRlZ29yeS5pZF0gPSB7XG4gICAgICAgICAgY2FuX3Bpbl90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LnBpbixcbiAgICAgICAgICBjYW5fY2xvc2VfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5jbG9zZSxcbiAgICAgICAgICBjYW5faGlkZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmhpZGUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHRoaXMudmFsaWRhdGUoKVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5zcGxpdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZCxcbiAgICAgIHBvc3RzOiBbdGhpcy5wcm9wcy5wb3N0LmlkXVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0IHdhcyBzcGxpdCBpbnRvIG5ldyB0aHJlYWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAnZXJyb3JzJzogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgIH0pO1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXYpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gZXYudGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2hpZGRlbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gIH07XG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdyZW1vdmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90IHBpbm5lZFwiKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrX2JvcmRlcicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKSxcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PSAyKSB7XG4gICAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdib29rbWFyaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIiksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlcztcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHdlaWdodFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3dlaWdodCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX0gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVySGlkZGVuRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19oaWRkZW4nKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19jbG9zZWQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9PlxuICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd0aXRsZScpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9PlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICAgICAge3RoaXMucmVuZGVyV2VpZ2h0RmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L01vZGFsPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICA8L01vZGFsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRXJyb3IocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aGlzIHBvc3QgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvTW9kYWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlNwbGl0IHBvc3QgaW50byBuZXcgdGhyZWFkXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gRmxhZ0hpZGRlbihwcm9wcykge1xuICBpZiAoIShpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc19oaWRkZW4pKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy1oaWRkZW5cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgIDxwPntnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIGhpZGRlbi4gT25seSB1c2VycyB3aXRoIHBlcm1pc3Npb24gbWF5IHNlZSBpdHMgY29udGVudHMuXCIpfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdVbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmICghKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy11bmFwcHJvdmVkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgPHA+e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgdW5hcHByb3ZlZC4gT25seSB1c2VycyB3aXRoIHBlcm1pc3Npb24gdG8gYXBwcm92ZSBwb3N0cyBhbmQgaXRzIGF1dGhvciBtYXkgc2VlIGl0cyBjb250ZW50cy5cIil9PC9wPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRmxhZ1Byb3RlY3RlZChwcm9wcykge1xuICBpZiAoIShpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy1wcm90ZWN0ZWQgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgIDxwPntnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIHByb3RlY3RlZC4gT25seSBtb2RlcmF0b3JzIG1heSBjaGFuZ2UgaXQuXCIpfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAhcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW47XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnLi9jb250cm9scy9hY3Rpb25zJztcbmltcG9ydCBMaWtlc01vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3QtbGlrZXMnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghaXNWaXNpYmxlKHByb3BzLnBvc3QpKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1mb290ZXJcIj5cbiAgICAgIDxMaWtlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxMaWtlc1xuICAgICAgICBsYXN0TGlrZXM9e3Byb3BzLnBvc3QubGFzdF9saWtlc31cbiAgICAgICAgbGlrZXM9e3Byb3BzLnBvc3QubGlrZXN9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgICA8TGlrZXNDb21wYWN0XG4gICAgICAgIGxpa2VzPXtwcm9wcy5wb3N0Lmxpa2VzfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICAgPFJlcGx5IHsuLi5wcm9wc30gLz5cbiAgICAgIDxFZGl0IHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSAmJiAoXG4gICAgcG9zdC5hY2wuY2FuX3JlcGx5IHx8XG4gICAgcG9zdC5hY2wuY2FuX2VkaXQgfHxcbiAgICAocG9zdC5hY2wuY2FuX3NlZV9saWtlcyAmJiAocG9zdC5sYXN0X2xpa2VzIHx8IFtdKS5sZW5ndGgpIHx8XG4gICAgcG9zdC5hY2wuY2FuX2xpa2VcbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIExpa2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfbGlrZWQpIHtcbiAgICAgIGFjdGlvbnMudW5saWtlKHRoaXMucHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3Rpb25zLmxpa2UodGhpcy5wcm9wcyk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2xpa2UpIHJldHVybiBudWxsO1xuXG4gICAgbGV0IGNsYXNzTmFtZSA9ICdidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdCc7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19saWtlZCkge1xuICAgICAgY2xhc3NOYW1lID0gJ2J0biBidG4tc3VjY2VzcyBidG4tc20gcHVsbC1sZWZ0JztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9zdC5pc0J1c3l9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLnBvc3QuaXNfbGlrZWQgPyBnZXR0ZXh0KFwiTGlrZWRcIikgOiBnZXR0ZXh0KFwiTGlrZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpa2VzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPExpa2VzTW9kYWxcbiAgICAgICAgcG9zdD17dGhpcy5wcm9wcy5wb3N0fVxuICAgICAgLz5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBoYXNMaWtlcyA9ICh0aGlzLnByb3BzLnBvc3QubGFzdF9saWtlcyB8fCBbXSkubGVuZ3RoID4gMDtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyB8fCAhaGFzTGlrZXMpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyA9PT0gMikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc20gcHVsbC1sZWZ0IGhpZGRlbi14c1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldExpa2VzTWVzc2FnZSh0aGlzLnByb3BzLmxpa2VzLCB0aGlzLnByb3BzLmxhc3RMaWtlcyl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwicHVsbC1sZWZ0IGhpZGRlbi14c1wiPlxuICAgICAgICB7Z2V0TGlrZXNNZXNzYWdlKHRoaXMucHJvcHMubGlrZXMsIHRoaXMucHJvcHMubGFzdExpa2VzKX1cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWtlc0NvbXBhY3QgZXh0ZW5kcyBMaWtlcyB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBoYXNMaWtlcyA9ICh0aGlzLnByb3BzLnBvc3QubGFzdF9saWtlcyB8fCBbXSkubGVuZ3RoID4gMDtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyB8fCAhaGFzTGlrZXMpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyA9PT0gMikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc20gbGlrZXMtY29tcGFjdCBwdWxsLWxlZnQgdmlzaWJsZS14cy1ibG9ja1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgZmF2b3JpdGVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge3RoaXMucHJvcHMubGlrZXN9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwibGlrZXMtY29tcGFjdCBwdWxsLWxlZnQgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgZmF2b3JpdGVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7dGhpcy5wcm9wcy5saWtlc31cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWtlc01lc3NhZ2UobGlrZXMsIHVzZXJzKSB7XG4gIGNvbnN0IHVzZXJuYW1lcyA9IHVzZXJzLnNsaWNlKDAsIDMpLm1hcCgodSkgPT4gdS51c2VybmFtZSk7XG5cbiAgaWYgKHVzZXJuYW1lcy5sZW5ndGggPT0gMSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VyKXMgbGlrZXMgdGhpcy5cIiksIHtcbiAgICAgIHVzZXI6IHVzZXJuYW1lc1swXVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgaGlkZGVuTGlrZXMgPSBsaWtlcyAtIHVzZXJuYW1lcy5sZW5ndGg7XG5cbiAgY29uc3Qgb3RoZXJVc2VycyA9IHVzZXJuYW1lcy5zbGljZSgwLCAtMSkuam9pbignLCAnKTtcbiAgY29uc3QgbGFzdFVzZXIgPSB1c2VybmFtZXMuc2xpY2UoLTEpWzBdO1xuXG4gIGNvbnN0IHVzZXJuYW1lc0xpc3QgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VycylzIGFuZCAlKGxhc3RfdXNlcilzXCIpLCB7XG4gICAgdXNlcnM6IG90aGVyVXNlcnMsXG4gICAgbGFzdF91c2VyOiBsYXN0VXNlclxuICB9LCB0cnVlKTtcblxuICBpZiAoaGlkZGVuTGlrZXMgPT09IDApIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcnMpcyBsaWtlIHRoaXMuXCIpLCB7XG4gICAgICB1c2VyczogdXNlcm5hbWVzTGlzdFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh1c2VycylzIGFuZCAlKGxpa2VzKXMgb3RoZXIgdXNlciBsaWtlIHRoaXMuXCIsXG4gICAgXCIlKHVzZXJzKXMgYW5kICUobGlrZXMpcyBvdGhlciB1c2VycyBsaWtlIHRoaXMuXCIsXG4gICAgaGlkZGVuTGlrZXMpO1xuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgdXNlcnM6IHVzZXJuYW1lcy5qb2luKCcsICcpLFxuICAgIGxpa2VzOiBoaWRkZW5MaWtlc1xuICB9LCB0cnVlKTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlcGx5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1JFUExZJyxcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG5cbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcmVwbHk6IHRoaXMucHJvcHMucG9zdC5pZFxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcmVwbHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVwbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ0VESVQnLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9lZGl0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkVkaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi9zZWxlY3QnO1xuaW1wb3J0IHtTdGF0dXNJY29uLCBnZXRTdGF0dXNDbGFzc05hbWUsIGdldFN0YXR1c0Rlc2NyaXB0aW9ufSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1cyc7XG5pbXBvcnQgUG9zdENoYW5nZWxvZyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZyc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgPFVucmVhZExhYmVsIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnJlYWRDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZWRPbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVkT25Db21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RFZGl0c0NvbXBhY3RzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0ZWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8U2VsZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbnJlYWRMYWJlbChwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZCBoaWRkZW4teHNcIj5cbiAgICAgIHtnZXR0ZXh0KFwiTmV3IHBvc3RcIil9XG4gICAgPC9zcGFuPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5yZWFkQ29tcGFjdChwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZCB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiPlxuICAgICAge2dldHRleHQoXCJOZXdcIil9XG4gICAgPC9zcGFuPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVkT24ocHJvcHMpIHtcbiAgY29uc3QgdG9vbHRpcCA9IGludGVycG9sYXRlKGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSwge1xuICAgICdwb3N0ZWRfb24nOiBwcm9wcy5wb3N0LnBvc3RlZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGhyZWY9e3Byb3BzLnBvc3QudXJsLmluZGV4fVxuICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIHBvc3RlZC1vbiBoaWRkZW4teHNcIlxuICAgICAgdGl0bGU9e3Rvb2x0aXB9XG4gICAgPlxuICAgICAge3Byb3BzLnBvc3QucG9zdGVkX29uLmZyb21Ob3coKX1cbiAgICA8L2E+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbkNvbXBhY3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgaHJlZj17cHJvcHMucG9zdC51cmwuaW5kZXh9XG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICA+XG4gICAgICB7cHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdyh0cnVlKX1cbiAgICA8L2E+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0RWRpdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8UG9zdENoYW5nZWxvZyBwb3N0PXt0aGlzLnByb3BzLnBvc3R9IC8+XG4gICAgKVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0hpZGRlbiA9IHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW47XG4gICAgY29uc3QgaXNVbmVkaXRlZCA9IHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMDtcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB0b29sdGlwID0gbmdldHRleHQoXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lLlwiLFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZXMuXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApO1xuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZSh0b29sdGlwLCB7XG4gICAgICAnZWRpdHMnOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICB9LCB0cnVlKTtcblxuICAgIGNvbnN0IGxhYmVsID0gbmdldHRleHQoXG4gICAgICBcImVkaXRlZCAlKGVkaXRzKXMgdGltZVwiLFxuICAgICAgXCJlZGl0ZWQgJShlZGl0cylzIHRpbWVzXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zZWUtZWRpdHMgaGlkZGVuLXhzXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7aW50ZXJwb2xhdGUobGFiZWwsIHtcbiAgICAgICAgICAnZWRpdHMnOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RFZGl0c0NvbXBhY3RzIGV4dGVuZHMgUG9zdEVkaXRzIHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzSGlkZGVuID0gdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbjtcbiAgICBjb25zdCBpc1VuZWRpdGVkID0gdGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAwO1xuICAgIGlmIChpc0hpZGRlbiB8fCBpc1VuZWRpdGVkKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGxhYmVsID0gbmdldHRleHQoXG4gICAgICBcIiUoZWRpdHMpcyBlZGl0XCIsXG4gICAgICBcIiUoZWRpdHMpcyBlZGl0c1wiLFxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc2VlLWVkaXRzIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKGxhYmVsLCB7XG4gICAgICAgICAgJ2VkaXRzJzogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgICAgIH0sIHRydWUpfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0ZWRMYWJlbChwcm9wcykge1xuICBjb25zdCBwb3N0QXV0aG9yID0gcHJvcHMucG9zdC5wb3N0ZXIgJiYgcHJvcHMucG9zdC5wb3N0ZXIuaWQgPT09IHByb3BzLnVzZXIuaWQ7XG4gIGNvbnN0IGhhc0FjbCA9IHByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0O1xuICBjb25zdCBpc1Zpc2libGUgPSBwcm9wcy51c2VyLmlkICYmIHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkICYmIChwb3N0QXV0aG9yIHx8IGhhc0FjbCk7XG5cbiAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXByb3RlY3RlZCBoaWRkZW4teHNcIlxuICAgICAgdGl0bGU9e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgcHJvdGVjdGVkIGFuZCBtYXkgbm90IGJlIGVkaXRlZC5cIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBsb2NrX291dGxpbmVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwicHJvdGVjdGVkXCIpfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF0dGFjaG1lbnRzIGZyb20gJy4vYXR0YWNobWVudHMnO1xuaW1wb3J0IEJvZHkgZnJvbSAnLi9ib2R5JztcbmltcG9ydCB7IEZsYWdIaWRkZW4sIEZsYWdVbmFwcHJvdmVkLCBGbGFnUHJvdGVjdGVkIH0gZnJvbSAnLi9mbGFncyc7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInO1xuaW1wb3J0IFBvc3RTaWRlIGZyb20gJy4vcG9zdC1zaWRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdwb3N0JztcbiAgaWYgKHByb3BzLnBvc3QuaXNEZWxldGVkKSB7XG4gICAgY2xhc3NOYW1lID0gJ2hpZGUnO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuICYmICFwcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdwb3N0IHBvc3QtaGlkZGVuJztcbiAgfVxuXG4gIGlmICghcHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgcG9zdC1uZXcnO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9eydwb3N0LScgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8UG9zdFNpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgPEhlYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnVW5hcHByb3ZlZCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnUHJvdGVjdGVkIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZsYWdIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8Qm9keSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxBdHRhY2htZW50cyB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGb290ZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJztcbmltcG9ydCBVc2VyUG9zdGNvdW50IGZyb20gJy4vdXNlci1wb3N0Y291bnQnO1xuaW1wb3J0IFVzZXJUaXRsZSBmcm9tICcuL3VzZXItdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC0zIHBvc3Qtc2lkZSBwb3N0LXNpZGUtYW5vbnltb3VzXCI+XG4gICAgICA8U2VsZWN0XG4gICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICAgIDxDb250cm9sc1xuICAgICAgICBwb3N0PXtwb3N0fVxuICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgICAgICAgc2l6ZT17MTAwfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cblxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmcgaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAge3Bvc3QucG9zdGVyX25hbWV9XG4gICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZW1vdmVkIHVzZXJcIil9XG4gICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyB0aXRsZSwgcmFuayB9KSB7XG4gIHJldHVybiByYW5rLmlzX3RhYiB8fCAhIXRpdGxlIHx8ICEhcmFuay50aXRsZTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFub255bW91cyBmcm9tICcuL2Fub255bW91cyc7XG5pbXBvcnQgUmVnaXN0ZXJlZCBmcm9tICcuL3JlZ2lzdGVyZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlZ2lzdGVyZWQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxBbm9ueW1vdXMgey4uLnByb3BzfSAvPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdCc7XG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNJY29uIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnO1xuaW1wb3J0IFVzZXJQb3N0Y291bnQgZnJvbSAnLi91c2VyLXBvc3Rjb3VudCc7XG5pbXBvcnQgVXNlclN0YXR1c0xhYmVsIGZyb20gJy4vdXNlci1zdGF0dXMnO1xuaW1wb3J0IFVzZXJUaXRsZSBmcm9tICcuL3VzZXItdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHRocmVhZCB9KSB7XG4gIGNvbnN0IHsgcG9zdGVyIH0gPSBwb3N0O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTMgcG9zdC1zaWRlIHBvc3Qtc2lkZS1yZWdpc3RlcmVkXCI+XG4gICAgICA8U2VsZWN0XG4gICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICAgIDxDb250cm9sc1xuICAgICAgICBwb3N0PXtwb3N0fVxuICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxhIGhyZWY9e3Bvc3Rlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgICAgICAgc2l6ZT17MTAwfVxuICAgICAgICAgICAgICB1c2VyPXtwb3N0ZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgICAgICAgaHJlZj17cG9zdGVyLmFic29sdXRlX3VybH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3Bvc3Rlci51c2VybmFtZX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxVc2VyU3RhdHVzIHN0YXR1cz17cG9zdGVyLnN0YXR1c30+XG4gICAgICAgICAgICAgIDxTdGF0dXNJY29uIHN0YXR1cz17cG9zdGVyLnN0YXR1c30gLz5cbiAgICAgICAgICAgIDwvVXNlclN0YXR1cz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxVc2VyVGl0bGVcbiAgICAgICAgICAgIHJhbms9e3Bvc3Rlci5yYW5rfVxuICAgICAgICAgICAgdGl0bGU9e3Bvc3Rlci50aXRsZX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPFVzZXJTdGF0dXNMYWJlbCBwb3N0ZXI9e3Bvc3Rlcn0gLz5cbiAgICAgICAgICA8VXNlclBvc3Rjb3VudCBwb3N0ZXI9e3Bvc3Rlcn0gLz5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaGFzVmlzaWJsZVRpdGxlIGZyb20gJy4vaGFzLXZpc2libGUtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3RlciB9KSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUocG9zdHMpcyBwb3N0XCIsXG4gICAgXCIlKHBvc3RzKXMgcG9zdHNcIixcbiAgICBwb3N0ZXIucG9zdHNcbiAgKTtcblxuICBsZXQgY2xhc3NOYW1lID0gJ3VzZXItcG9zdGNvdW50JztcbiAgaWYgKGhhc1Zpc2libGVUaXRsZShwb3N0ZXIpKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICdwb3N0cyc6IHBvc3Rlci5wb3N0c1xuICAgICAgfSwgdHJ1ZSl9XG4gICAgPC9zcGFuPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJztcbmltcG9ydCBoYXNWaXNpYmxlVGl0bGUgZnJvbSAnLi9oYXMtdmlzaWJsZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdGVyIH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdoaWRkZW4teHMnO1xuICBpZiAoaGFzVmlzaWJsZVRpdGxlKHBvc3RlcikpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBoaWRkZW4tc20nO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8VXNlclN0YXR1cyBzdGF0dXM9e3Bvc3Rlci5zdGF0dXN9PlxuICAgICAgICA8U3RhdHVzTGFiZWxcbiAgICAgICAgICBzdGF0dXM9e3Bvc3Rlci5zdGF0dXN9XG4gICAgICAgICAgdXNlcj17cG9zdGVyfVxuICAgICAgICAvPlxuICAgICAgPC9Vc2VyU3RhdHVzPlxuICAgIDwvc3Bhbj5cbiAgKTtcblxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgdGl0bGUsIHJhbmsgfSkge1xuICBsZXQgdXNlclRpdGxlID0gdGl0bGUgfHwgcmFuay50aXRsZTtcbiAgaWYgKCF1c2VyVGl0bGUgJiYgcmFuay5pc190YWIpIHtcbiAgICB1c2VyVGl0bGUgPSByYW5rLm5hbWU7XG4gIH1cblxuICBpZiAoIXVzZXJUaXRsZSkgcmV0dXJuIG51bGw7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICd1c2VyLXRpdGxlJztcbiAgaWYgKHJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgdXNlci10aXRsZS0nICsgcmFuay5jc3NfY2xhc3M7XG4gIH1cblxuICBpZiAocmFuay5pc190YWIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e3JhbmsuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAge3VzZXJUaXRsZX1cbiAgICAgIDwvYT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7dXNlclRpdGxlfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb3N0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9yZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nIHBvc3QtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIn19PiZuYnNwOzwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCJ9fT4mbmJzcDs8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwifX0+Jm5ic3A7PC9wPlxuICAgICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNTZWxlY3RlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3QodGhpcy5wcm9wcy5wb3N0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnNlbGVjdCh0aGlzLnByb3BzLnBvc3QpKTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgfHwgaXNWaXNpYmxlKHRoaXMucHJvcHMucG9zdC5hY2wpKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodCBoaWRkZW4teHNcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucG9zdC5pc1NlbGVjdGVkID8gJ2NoZWNrX2JveCcgOiAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiAoXG4gICAgYWNsLmNhbl9hcHByb3ZlIHx8XG4gICAgYWNsLmNhbl9oaWRlIHx8XG4gICAgYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgYWNsLmNhbl91bmhpZGUgfHxcbiAgICBhY2wuY2FuX2RlbGV0ZSB8fFxuICAgIGFjbC5jYW5fbW92ZVxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qXG4gIFN1cGVyIG5haXZlIGFuZCBkZS1mYWN0byBwbGFjZWhvbGRlciBpbXBsZW1lbnRhdGlvbiBmb3IgcmVhZGluZyBwb3N0cyBvbiBzY3JvbGxcbiAgKi9cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYodGhpcy5wcm9wcy5wb3N0LmlzX3JlYWQpIHtcbiAgICAgIHJldHVybjsgLy8gZG9uJ3QgcmVnaXN0ZXIgcmVhZCB0cmFja2VyXG4gICAgfVxuXG4gICAgJCgnI3Bvc3QtJyArIHRoaXMucHJvcHMucG9zdC5pZCkud2F5cG9pbnQoe1xuICAgICAgaGFuZGxlcjogKGRpcmVjdGlvbikgPT4ge1xuICAgICAgICBpZiAoZGlyZWN0aW9uICE9PSAnZG93bicgfHwgdGhpcy5wcm9wcy5wb3N0LmlzX3JlYWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZnRlciAxNTAwbXMgZmxhZyBwb3N0IGFzIHJlYWRcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgICAgICBpc19yZWFkOiB0cnVlXG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgYWpheC5wb3N0KHRoaXMucHJvcHMucG9zdC5hcGkucmVhZCk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfSxcbiAgICAgIG9mZnNldDogJ2JvdHRvbS1pbi12aWV3J1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhbmVsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnUFJPRklMRV9CQU4nKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnUFJPRklMRV9CQU4nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGlfdXJsLmJhbik7XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoYmFuKSB7XG4gICAgaWYgKGJhbi5leHBpcmVzX29uKSB7XG4gICAgICBiYW4uZXhwaXJlc19vbiA9IG1vbWVudChiYW4uZXhwaXJlc19vbik7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgYmFuXG4gICAgfTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAnYmFuLWRldGFpbHMnLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG4gICAgICBlcnJvcjogdGhpcy5lcnJvclxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB1cGRhdGUgPSAoYmFuKSA9PiB7XG4gICAgaWYgKGJhbi5leHBpcmVzX29uKSB7XG4gICAgICBiYW4uZXhwaXJlc19vbiA9IG1vbWVudChiYW4uZXhwaXJlc19vbik7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICBiYW5cbiAgICB9KTtcbiAgfTtcblxuICBlcnJvciA9IChlcnJvcikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBlcnJvcjogZXJyb3IuZGV0YWlsLFxuICAgICAgYmFuOiBudWxsXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiQmFuIGRldGFpbHNcIiksXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcCgnYmFuLWRldGFpbHMnKTtcbiAgfVxuXG4gIGdldFVzZXJNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi51c2VyX21lc3NhZ2UpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLW1lc3NhZ2UgYmFuLXVzZXItbWVzc2FnZVwiPlxuICAgICAgICA8aDQ+e2dldHRleHQoXCJVc2VyLXNob3duIGJhbiBtZXNzYWdlXCIpfTwvaDQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGVhZFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICBfX2h0bWw6IHRoaXMuc3RhdGUuYmFuLnVzZXJfbWVzc2FnZS5odG1sXG4gICAgICAgICAgfX0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFN0YWZmTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4uc3RhZmZfbWVzc2FnZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tbWVzc2FnZSBiYW4tc3RhZmYtbWVzc2FnZVwiPlxuICAgICAgICA8aDQ+e2dldHRleHQoXCJUZWFtLXNob3duIGJhbiBtZXNzYWdlXCIpfTwvaDQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGVhZFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICBfX2h0bWw6IHRoaXMuc3RhdGUuYmFuLnN0YWZmX21lc3NhZ2UuaHRtbFxuICAgICAgICAgIH19IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEV4cGlyYXRpb25NZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5pc0FmdGVyKG1vbWVudCgpKSkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzIG9uICUoZXhwaXJlc19vbilzLlwiKSwge1xuICAgICAgICAgICAgJ2V4cGlyZXNfb24nOiB0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmZvcm1hdCgnTEwsIExUJylcbiAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICBsZXQgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzICUoZXhwaXJlc19vbilzLlwiKSwge1xuICAgICAgICAgICAgJ2V4cGlyZXNfb24nOiB0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmZyb21Ob3coKVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHJldHVybiA8YWJiciB0aXRsZT17dGl0bGV9PlxuICAgICAgICAgIHttZXNzYWdlfVxuICAgICAgICA8L2FiYnI+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGJhbiBoYXMgZXhwaXJlZC5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYmFuIGlzIHBlcm1hbmVudC5cIiksIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRQYW5lbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zdGF0ZS5iYW4pLmxlbmd0aCkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgIHt0aGlzLmdldFVzZXJNZXNzYWdlKCl9XG4gICAgICAgICAge3RoaXMuZ2V0U3RhZmZNZXNzYWdlKCl9XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLWV4cGlyZXNcIj5cbiAgICAgICAgICAgIDxoND57Z2V0dGV4dChcIkJhbiBleHBpcmF0aW9uXCIpfTwvaDQ+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldEV4cGlyYXRpb25NZXNzYWdlKCl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgICAgPFBhbmVsTWVzc2FnZSBtZXNzYWdlPXtnZXR0ZXh0KFwiTm8gYmFuIGlzIGFjdGl2ZSBhdCB0aGUgbW9tZW50LlwiKX0gLz5cbiAgICAgICAgPC9kaXY+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgIDxQYW5lbE1lc3NhZ2UgaWNvbj1cImVycm9yX291dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgPFBhbmVsTG9hZGVyIC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1iYW4tZGV0YWlsc1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQmFuIGRldGFpbHNcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3RoaXMuZ2V0UGFuZWxCb2R5KCl9XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSb3V0ZSBmcm9tICcuL3JvdXRlJztcblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZHMocHJvcHMpIHtcbiAgbGV0IGVtcHR5TWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy51c2VyLmlkID09PSBwcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgZW1wdHlNZXNzYWdlID0gZ2V0dGV4dChcIllvdSBoYXZlIG5vIHN0YXJ0ZWQgdGhyZWFkcy5cIik7XG4gIH0gZWxzZSB7XG4gICAgZW1wdHlNZXNzYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBzdGFydGVkIG5vIHRocmVhZHMuXCIpLCB7XG4gICAgICAndXNlcm5hbWUnOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBsZXQgaGVhZGVyID0gbnVsbDtcbiAgaWYgKCFwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIGhlYWRlciA9IGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wcm9maWxlLmlkID09PSBwcm9wcy51c2VyLmlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJZb3UgaGF2ZSBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZC5cIixcbiAgICAgIFwiWW91IGhhdmUgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWRzLlwiLFxuICAgICAgcHJvcHMucG9zdHMuY291bnQpO1xuXG4gICAgaGVhZGVyID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgJ3RocmVhZHMnOiBwcm9wcy5wb3N0cy5jb3VudFxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZC5cIixcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZHMuXCIsXG4gICAgICBwcm9wcy5wb3N0cy5jb3VudCk7XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAndXNlcm5hbWUnOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgJ3RocmVhZHMnOiBwcm9wcy5wb3N0cy5jb3VudFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVcbiAgICAgIGFwaT17cHJvcHMucHJvZmlsZS5hcGlfdXJsLnRocmVhZHN9XG4gICAgICBlbXB0eU1lc3NhZ2U9e2VtcHR5TWVzc2FnZX1cbiAgICAgIGhlYWRlcj17aGVhZGVyfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJUaHJlYWRzXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0cyhwcm9wcykge1xuICBsZXQgZW1wdHlNZXNzYWdlID0gbnVsbDtcbiAgaWYgKHByb3BzLnVzZXIuaWQgPT09IHByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGhhdmUgcG9zdGVkIG5vIG1lc3NhZ2VzLlwiKTtcbiAgfSBlbHNlIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHBvc3RlZCBubyBtZXNzYWdlcy5cIiksIHtcbiAgICAgICd1c2VybmFtZSc6IHByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGxldCBoZWFkZXIgPSBudWxsO1xuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgaGVhZGVyID0gZ2V0dGV4dCgnTG9hZGluZy4uLicpO1xuICB9IGVsc2UgaWYgKHByb3BzLnByb2ZpbGUuaWQgPT09IHByb3BzLnVzZXIuaWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIllvdSBoYXZlIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZS5cIixcbiAgICAgIFwiWW91IGhhdmUgcG9zdGVkICUocG9zdHMpcyBtZXNzYWdlcy5cIixcbiAgICAgIHByb3BzLnBvc3RzLmNvdW50KTtcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICdwb3N0cyc6IHByb3BzLnBvc3RzLmNvdW50XG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZS5cIixcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2VzLlwiLFxuICAgICAgcHJvcHMucG9zdHMuY291bnQpO1xuXG4gICAgaGVhZGVyID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgJ3VzZXJuYW1lJzogcHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICdwb3N0cyc6IHByb3BzLnBvc3RzLmNvdW50XG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSb3V0ZVxuICAgICAgYXBpPXtwcm9wcy5wcm9maWxlLmFwaV91cmwucG9zdHN9XG4gICAgICBlbXB0eU1lc3NhZ2U9e2VtcHR5TWVzc2FnZX1cbiAgICAgIGhlYWRlcj17aGVhZGVyfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJQb3N0c1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUG9zdEZlZWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdC1mZWVkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0cyc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgbG9hZEl0ZW1zKHBhZ2U9MSkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuYXBpLCB7XG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmFwcGVuZChkYXRhKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkSXRlbXModGhpcy5wcm9wcy5wb3N0cy5wYWdlICsgMSk7XG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRpdGxlLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZEl0ZW1zKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1mZWVkXCI+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmhlYWRlcn1cbiAgICAgICAgICA8L2gzPlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPEZlZWRcbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGxvYWRNb3JlPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmVlZChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3RzLmNvdW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57cHJvcHMuZW1wdHlNZXNzYWdlfTwvcD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFBvc3RGZWVkXG4gICAgICAgIGlzUmVhZHk9e3Byb3BzLnBvc3RzLmlzTG9hZGVkfVxuICAgICAgICBwb3N0cz17cHJvcHMucG9zdHMucmVzdWx0c31cbiAgICAgICAgcG9zdGVyPXtwcm9wcy5wcm9maWxlfVxuICAgICAgLz5cbiAgICAgIDxMb2FkTW9yZUJ1dHRvblxuICAgICAgICBpc0xvYWRpbmc9e3Byb3BzLmlzTG9hZGluZ31cbiAgICAgICAgbG9hZE1vcmU9e3Byb3BzLmxvYWRNb3JlfVxuICAgICAgICBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRNb3JlQnV0dG9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMubW9yZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgbG9hZGluZz17cHJvcHMuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5sb2FkTW9yZX1cbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKGdldHRleHQoXCJTaG93IG1vcmUgKCUobW9yZSlzKVwiKSwge1xuICAgICAgICAgICdtb3JlJzogcHJvcHMubW9yZVxuICAgICAgICB9LCB0cnVlKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAnIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3dpbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAnIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3cnO1xuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuICdmYXZvcml0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnZmF2b3JpdGVfYm9yZGVyJztcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkZvbGxvd2luZ1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJGb2xsb3dcIik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBhY3Rpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgICAgaXNfZm9sbG93ZWQ6IGZhbHNlLFxuICAgICAgICBmb2xsb3dlcnM6IHRoaXMucHJvcHMucHJvZmlsZS5mb2xsb3dlcnMgLSAxXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgICAgaXNfZm9sbG93ZWQ6IHRydWUsXG4gICAgICAgIGZvbGxvd2VyczogdGhpcy5wcm9wcy5wcm9maWxlLmZvbGxvd2VycyArIDFcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwuZm9sbG93KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKGRhdGEpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxCdXR0b24gY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFjdGlvbn0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgPC9CdXR0b24+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWFyY2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcXVpY2stc2VhcmNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc2V0U3BlY2lhbFByb3BzKCk7XG5cbiAgICBpZiAobWlzYWdvLmhhcyh0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSkpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AodGhpcy5QUkVMT0FERURfREFUQV9LRVkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG4gIH1cblxuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSAnUFJPRklMRV9GT0xMT1dFUlMnO1xuICAgIHRoaXMuVElUTEUgPSBnZXR0ZXh0KCdGb2xsb3dlcnMnKTtcbiAgICB0aGlzLkFQSV9GSUxURVIgPSAnZm9sbG93ZXJzJztcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiAnJyxcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogJycsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfTtcblxuICAgIHRoaXMubG9hZFVzZXJzKCk7XG4gIH1cblxuICBsb2FkVXNlcnMocGFnZT0xLCBzZWFyY2g9bnVsbCkge1xuICAgIGNvbnN0IGFwaVVybCA9IHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsW3RoaXMuQVBJX0ZJTFRFUl07XG5cbiAgICBhamF4LmdldChhcGlVcmwsIHtcbiAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgfSwgJ3VzZXItJyArIHRoaXMuQVBJX0ZJTFRFUikudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5USVRMRSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRVc2Vycyh0aGlzLnN0YXRlLnBhZ2UgKyAxLCB0aGlzLnN0YXRlLnNlYXJjaCk7XG4gIH07XG5cbiAgc2VhcmNoID0gKGV2KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkVXNlcnMoMSwgZXYudGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KCdMb2FkaW5nLi4uJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBoYXZlICUodXNlcnMpcyBmb2xsb3dlci5cIixcbiAgICAgICAgXCJZb3UgaGF2ZSAlKHVzZXJzKXMgZm9sbG93ZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyAlKHVzZXJzKXMgZm9sbG93ZXIuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyAlKHVzZXJzKXMgZm9sbG93ZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlNlYXJjaCByZXR1cm5lZCBubyB1c2VycyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiWW91IGhhdmUgbm8gZm9sbG93ZXJzLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaGFzIG5vIGZvbGxvd2Vycy5cIiksIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tb3JlKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9XG4gICAgICAgID5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoZ2V0dGV4dChcIlNob3cgbW9yZSAoJShtb3JlKXMpXCIpLCB7XG4gICAgICAgICAgICAnbW9yZSc6IHRoaXMuc3RhdGUubW9yZVxuICAgICAgICAgIH0sIHRydWUpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldExpc3RCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkICYmIHRoaXMuc3RhdGUuY291bnQgPT09IDApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfVxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICA8VXNlcnNMaXN0IGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgICAgICAgIHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfVxuICAgICAgICAgICAgICAgICAgIHNob3dSYW5rPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgIGNvbHM9ezJ9IC8+XG5cbiAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuICdwcm9maWxlLScgKyB0aGlzLkFQSV9GSUxURVI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG5cbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICAgICAgPC9oMz5cblxuICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZWFyY2h9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJTZWFyY2ggdXNlcnMuLi5cIil9IC8+XG4gICAgICA8L25hdj5cblxuICAgICAge3RoaXMuZ2V0TGlzdEJvZHkoKX1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9sbG93ZXJzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93ZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb2xsb3dlcnMge1xuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSAnUFJPRklMRV9GT0xMT1dTJztcbiAgICB0aGlzLlRJVExFID0gZ2V0dGV4dCgnRm9sbG93cycpO1xuICAgIHRoaXMuQVBJX0ZJTFRFUiA9ICdmb2xsb3dzJztcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGFyZSBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiWW91IGFyZSBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGlzIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaXMgZm9sbG93aW5nICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcnMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBhcmUgbm90IGZvbGxvd2luZyBhbnkgdXNlcnMuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBub3QgZm9sbG93aW5nIGFueSB1c2Vycy5cIiksIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dCdXR0b24gZnJvbSAnLi9mb2xsb3ctYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVzc2FnZUJ1dHRvbiBmcm9tICcuL21lc3NhZ2UtYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kZXJhdGlvbk5hdiBmcm9tICcuL21vZGVyYXRpb24vbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBDb21wYWN0TmF2IH0gZnJvbSAnLi9uYXZzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRVc2VyU3RhdHVzKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzLWRpc3BsYXlcIj5cbiAgICAgICAgPFN0YXR1c1xuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9XG4gICAgICAgID5cbiAgICAgICAgICA8U3RhdHVzSWNvblxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFN0YXR1c0xhYmVsXG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWxcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU3RhdHVzPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRVc2VyUmFuaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuaXNfdGFiKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1yYW5rXCI+XG4gICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsubmFtZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcmFua1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsubmFtZX08L3NwYW4+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLnRpdGxlfVxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudGl0bGV9XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Sm9pbmVkT24oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgb24gJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMucHJvZmlsZS5qb2luZWRfb24uZm9ybWF0KCdMTCwgTFQnKVxuICAgIH0sIHRydWUpO1xuXG4gICAgbGV0IGFnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMucHJvZmlsZS5qb2luZWRfb24uZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItam9pbmVkLW9uXCI+XG4gICAgICAgIDxhYmJyIHRpdGxlPXt0aXRsZX0+XG4gICAgICAgICAge2FnZX1cbiAgICAgICAgPC9hYmJyPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRFbWFpbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1lbWFpbFwiPlxuICAgICAgICAgIDxhIGhyZWY9eydtYWlsdG86JyArIHRoaXMucHJvcHMucHJvZmlsZS5lbWFpbH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5lbWFpbH1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Rm9sbG93QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9mb2xsb3cpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb2xsb3dCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW1vZGVyYXRlIGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgdG9uYWxpdHlcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxNb2RlcmF0aW9uTmF2IHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBjb25zdCBjYW5Gb2xsb3cgPSB0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9mb2xsb3c7XG4gICAgY29uc3QgY2FuTW9kZXJhdGUgPSB0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZTtcblxuICAgIGNvbnN0IGlzUHJvZmlsZU93bmVyID0gdGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQ7XG4gICAgY29uc3QgY2FuTWVzc2FnZSA9ICFpc1Byb2ZpbGVPd25lciAmJiB0aGlzLnByb3BzLnVzZXIuYWNsLmNhbl9zdGFydF9wcml2YXRlX3RocmVhZHM7XG5cbiAgICBsZXQgY29scyA9IDA7XG4gICAgaWYgKGNhbkZvbGxvdykgY29scyArPSAxO1xuICAgIGlmIChjYW5Nb2RlcmF0ZSkgY29scyArPSAxO1xuICAgIGlmIChjYW5NZXNzYWdlKSBjb2xzICs9IDE7XG5cbiAgICBjb25zdCBjb2xzV2lkdGggPSBjb2xzID8gMiAqIGNvbHMgKyAxIDogMDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgICA8SXNEaXNhYmxlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgaXNBY3RpdmU9e3RoaXMucHJvcHMucHJvZmlsZS5pc19hY3RpdmV9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImNvbC1zbS1cIiArICgxMiAtIGNvbHNXaWR0aCl9PlxuXG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhciB1c2VyLWF2YXRhci1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemUyeD1cIjIwMFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lfTwvaDE+XG5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgeyEhY29scyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImNvbC1zbS1cIiArIGNvbHNXaWR0aH0+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIHNtLW1hcmdpbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjYW5NZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDb2xTdHlsZShjb2xzLCAwKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjYW5Gb2xsb3cgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q29sU3R5bGUoY29scywgMSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldEZvbGxvd0J1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y2FuTW9kZXJhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q29sU3R5bGUoY29scywgMil9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZVwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJSYW5rKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRKb2luZWRPbigpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRFbWFpbCgpfVxuICAgICAgICAgICAgICAgICAgPC91bD5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPENvbXBhY3ROYXZcbiAgICAgICAgICAgIGJhc2VVcmw9e3RoaXMucHJvcHMuYmFzZVVybH1cbiAgICAgICAgICAgIHBhZ2VzPXt0aGlzLnByb3BzLnBhZ2VzfVxuICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzRGlzYWJsZWRNZXNzYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0FjdGl2ZSAhPT0gZmFsc2UpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAgICAgIDxwPntnZXR0ZXh0KFwiVGhpcyB1c2VyJ3MgYWNjb3VudCBoYXMgYmVlbiBkaXNhYmxlZCBieSBhZG1pbmlzdHJhdG9yLlwiKX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xTdHlsZShjb2xzLCBjb2wpIHtcbiAgbGV0IGNvbFN0eWxlID0gXCJcIjtcblxuICBpZiAoY29scyA9PSAxKSB7XG4gICAgY29sU3R5bGUgPSBcImNvbC14cy0xMlwiO1xuICB9XG5cbiAgaWYgKGNvbHMgPT0gMikge1xuICAgIGNvbFN0eWxlID0gXCJjb2wteHMtNiBjb2wtc20tNlwiO1xuICB9XG5cbiAgaWYgKGNvbHMgPT0gMykge1xuICAgIGlmIChjb2wgPT0gMikge1xuICAgICAgY29sU3R5bGUgPSBcImNvbC14cy0xMiBjb2wtc20tNCB4cy1tYXJnaW4tdG9wXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbFN0eWxlICs9IFwiY29sLXhzLTYgY29sLXNtLTRcIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29sU3R5bGU7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1NUQVJUX1BSSVZBVEUnLFxuICAgICAgc3VibWl0OiBtaXNhZ28uZ2V0KCdQUklWQVRFX1RIUkVBRFNfQVBJJyksXG5cbiAgICAgIHRvOiBbdGhpcy5wcm9wcy5wcm9maWxlXVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjYW5NZXNzYWdlID0gdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fc3RhcnRfcHJpdmF0ZV90aHJlYWRzO1xuICAgIGNvbnN0IGlzUHJvZmlsZU93bmVyID0gdGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQ7XG5cbiAgICBpZiAoIWNhbk1lc3NhZ2UgfHwgaXNQcm9maWxlT3duZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGNvbW1lbnRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIk1lc3NhZ2VcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHVwZGF0ZUF2YXRhciB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICBpc19hdmF0YXJfbG9ja2VkOiAnJyxcbiAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogJycsXG4gICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiAnJ1xuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5tb2RlcmF0ZV9hdmF0YXIpLnRoZW4oKG9wdGlvbnMpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgICBpc19hdmF0YXJfbG9ja2VkOiBvcHRpb25zLmlzX2F2YXRhcl9sb2NrZWQsXG4gICAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogb3B0aW9ucy5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2UgfHwgJycsXG4gICAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6IG9wdGlvbnMuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZSB8fCAnJ1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih0aGlzLnZhbGlkYXRlKCkudXNlcm5hbWVbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5tb2RlcmF0ZV9hdmF0YXIsIHtcbiAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IHRoaXMuc3RhdGUuaXNfYXZhdGFyX2xvY2tlZCxcbiAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogdGhpcy5zdGF0ZS5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2UsXG4gICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiB0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBdmF0YXIodGhpcy5wcm9wcy5wcm9maWxlLCBhcGlSZXNwb25zZS5hdmF0YXJfaGFzaCkpO1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIkF2YXRhciBjb250cm9scyBoYXZlIGJlZW4gY2hhbmdlZC5cIikpO1xuICB9XG5cbiAgZ2V0Rm9ybUJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkxvY2sgYXZhdGFyXCIpfVxuICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiTG9ja2luZyB1c2VyIGF2YXRhciB3aWxsIHByb2hpYml0IHVzZXIgZnJvbSBjaGFuZ2luZyBoaXMgYXZhdGFyIGFuZCB3aWxsIHJlc2V0IGhpcy9oZXIgYXZhdGFyIHRvIGRlZmF1bHQgb25lLlwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19hdmF0YXJfbG9ja2VkXCI+XG4gICAgICAgICAgPFllc05vU3dpdGNoIGlkPVwiaWRfaXNfYXZhdGFyX2xvY2tlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9uPVwibG9ja19vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cImxvY2tfb3BlblwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJEaXNhbGxvdyB1c2VyIGZyb20gY2hhbmdpbmcgYXZhdGFyXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIkFsbG93IHVzZXIgdG8gY2hhbmdlIGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19hdmF0YXJfbG9ja2VkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2F2YXRhcl9sb2NrZWR9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJVc2VyIG1lc3NhZ2VcIil9XG4gICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJPcHRpb25hbCBtZXNzYWdlIGZvciB1c2VyIGV4cGxhaW5pbmcgd2h5IGhlL3NoZSBpcyBwcm9oaWJpdGVkIGZvcm0gY2hhbmdpbmcgYXZhdGFyLlwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hdmF0YXJfbG9ja191c2VyX21lc3NhZ2VcIj5cbiAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJpZF9hdmF0YXJfbG9ja191c2VyX21lc3NhZ2VcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICByb3dzPVwiNFwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdhdmF0YXJfbG9ja191c2VyX21lc3NhZ2UnKX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiU3RhZmYgbWVzc2FnZVwiKX1cbiAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIk9wdGlvbmFsIG1lc3NhZ2UgZm9yIGZvcnVtIHRlYW0gbWVtYmVycyBleHBsYWluaW5nIHdoeSB1c2VyIGlzIHByb2hpYml0ZWQgZm9ybSBjaGFuZ2luZyBhdmF0YXIuXCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2F2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcIj5cbiAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJpZF9hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZScpfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGb3JtQm9keSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1hdmF0YXItY29udHJvbHNcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLWF2YXRhci1jb250cm9sc1wiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkF2YXRhciBjb250cm9sc1wiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3RoaXMuZ2V0TW9kYWxCb2R5KCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGFsTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBhZGROYW1lQ2hhbmdlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHVwZGF0ZVVzZXJuYW1lIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgdXNlcm5hbWU6ICcnLFxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KClcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5tb2RlcmF0ZV91c2VybmFtZSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IodGhpcy52YWxpZGF0ZSgpLnVzZXJuYW1lWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwubW9kZXJhdGVfdXNlcm5hbWUsIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1c2VybmFtZTogJydcbiAgICB9KTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGFkZE5hbWVDaGFuZ2UoXG4gICAgICBhcGlSZXNwb25zZSwgdGhpcy5wcm9wcy5wcm9maWxlLCB0aGlzLnByb3BzLnVzZXIpKTtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVVc2VybmFtZShcbiAgICAgIHRoaXMucHJvcHMucHJvZmlsZSwgYXBpUmVzcG9uc2UudXNlcm5hbWUsIGFwaVJlc3BvbnNlLnNsdWcpKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlVzZXJuYW1lIGhhcyBiZWVuIGNoYW5nZWQuXCIpKTtcbiAgfVxuXG4gIGdldEZvcm1Cb2R5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgdXNlcm5hbWVcIil9IGZvcj1cImlkX3VzZXJuYW1lXCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd1c2VybmFtZScpfVxuICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybUJvZHkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtcmVuYW1lLXVzZXJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLXJlbmFtZS11c2VyXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0RlbGV0ZWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGNvdW50ZG93bjogNSxcbiAgICAgIGNvbmZpcm06IGZhbHNlLFxuXG4gICAgICB3aXRoX2NvbnRlbnQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLmRlbGV0ZSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNvdW50ZG93bigpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb3VudGRvd24gPSAoKSA9PiB7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnRkb3duID4gMSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb3VudGRvd246IHRoaXMuc3RhdGUuY291bnRkb3duIC0gMSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY291bnRkb3duKCk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY29uZmlybTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwuZGVsZXRlLCB7XG4gICAgICB3aXRoX2NvbnRlbnQ6IHRoaXMuc3RhdGUud2l0aF9jb250ZW50XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHBvbGxzLnN0b3AoJ3VzZXItcHJvZmlsZScpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUud2l0aF9jb250ZW50KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCwgdGhyZWFkcywgcG9zdHMgYW5kIG90aGVyIGNvbnRlbnQgaGFzIGJlZW4gZGVsZXRlZC5cIiksIHtcbiAgICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSwgdHJ1ZSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCBoYXMgYmVlbiBkZWxldGVkIGFuZCBvdGhlciBjb250ZW50IGhhcyBiZWVuIGhpZGRlbi5cIiksIHtcbiAgICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSwgdHJ1ZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldEJ1dHRvbkxhYmVsKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiRGVsZXRlICUodXNlcm5hbWUpc1wiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlBsZWFzZSB3YWl0Li4uICglKGNvdW50ZG93bilzcylcIiksIHtcbiAgICAgICAgJ2NvdW50ZG93bic6IHRoaXMuc3RhdGUuY291bnRkb3duXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRGb3JtKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJVc2VyIGNvbnRlbnRcIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2l0aF9jb250ZW50XCI+XG4gICAgICAgICAgPFllc05vU3dpdGNoIGlkPVwiaWRfd2l0aF9jb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGVsZXRlIHRvZ2V0aGVyIHdpdGggdXNlcidzIGFjY291bnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiSGlkZSBhZnRlciBkZWxldGluZyB1c2VyJ3MgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3aXRoX2NvbnRlbnQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2l0aF9jb250ZW50fSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jb25maXJtfT5cbiAgICAgICAgICB7dGhpcy5nZXRCdXR0b25MYWJlbCgpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RGVsZXRlZEJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMuc3RhdGUuaXNEZWxldGVkfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyl9PlxuICAgICAgICAgICAge2dldHRleHQoXCJSZXR1cm4gdG8gdXNlcnMgbGlzdFwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzRGVsZXRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREZWxldGVkQm9keSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yIHx8IHRoaXMuc3RhdGUuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1kZWxldGUtYWNjb3VudFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtZGVsZXRlLWFjY291bnRcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJEZWxldGUgdXNlciBhY2NvdW50XCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhckNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGVsZXRlQWNjb3VudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xubGV0IHNlbGVjdCA9IGZ1bmN0aW9uKHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLFxuICAgIHByb2ZpbGU6IHN0b3JlLnByb2ZpbGUsXG4gIH07XG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dBdmF0YXJEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQXZhdGFyQ29udHJvbHMpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRBdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlX2F2YXRhcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0F2YXRhckRpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIHBvcnRyYWl0XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkF2YXRhciBjb250cm9sc1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dSZW5hbWVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQ2hhbmdlVXNlcm5hbWUpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRSZW5hbWVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX3JlbmFtZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlbmFtZURpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGNyZWRpdF9jYXJkXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dEZWxldGVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoRGVsZXRlQWNjb3VudCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZGVsZXRlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93RGVsZXRlRGlhbG9nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIGFjY291bnRcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLmdldEF2YXRhckJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRSZW5hbWVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbGknOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFNpZGVOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucGFnZXMubWFwKChwYWdlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIHRvPXt0aGlzLnByb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgIHtwYWdlLmljb259XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge3BhZ2UubmFtZX1cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufVxuXG4vLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5leHBvcnQgZnVuY3Rpb24gQ29tcGFjdE5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIGhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICB7cHJvcHMucGFnZXMubWFwKChwYWdlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGlcbiAgICAgICAgICAgICAgICBwYXRoPXtwcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZU5hdn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIHtwYWdlLmljb259XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPC9MaT5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8vIGpzaGludCBpZ25vcmU6ZW5kIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEJhbkRldGFpbHMgZnJvbSAnLi9iYW4tZGV0YWlscyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgUG9zdHMsIFRocmVhZHMgfSBmcm9tICcuL2ZlZWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dlcnMgZnJvbSAnLi9mb2xsb3dlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dzIGZyb20gJy4vZm9sbG93cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tICcuL3VzZXJuYW1lLWhpc3RvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RlcmF0aW9uTmF2IGZyb20gJy4vbW9kZXJhdGlvbi9uYXYnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IFNpZGVOYXYsIENvbXBhY3ROYXYgfSBmcm9tICcuL25hdnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24nO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wcm9maWxlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnByb2ZpbGUuYXBpX3VybC5yb290KTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAndXNlci1wcm9maWxlJyxcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhKSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdwYWdlIHBhZ2UtdXNlci1wcm9maWxlJztcbiAgICBpZiAoZmFsc2UgJiYgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gYmFzZUNsYXNzICsgJyBwYWdlLXVzZXItcHJvZmlsZS0nICsgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlQ2xhc3M7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGNvbnN0IGJhc2VVcmwgPSBtaXNhZ28uZ2V0KCdQUk9GSUxFJykuYWJzb2x1dGVfdXJsO1xuICAgIGNvbnN0IHBhZ2VzID0gbWlzYWdvLmdldCgnUFJPRklMRV9QQUdFUycpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cblxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgYmFzZVVybD17YmFzZVVybH1cbiAgICAgICAgICBwYWdlcz17cGFnZXN9XG4gICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgdG9nZ2xlTW9kZXJhdGlvbj17dGhpcy50b2dnbGVNb2RlcmF0aW9ufVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtc2lkZS1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX0gc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxTaWRlTmF2XG4gICAgICAgICAgICAgICAgYmFzZVVybD17YmFzZVVybH1cbiAgICAgICAgICAgICAgICBwYWdlcz17cGFnZXN9XG4gICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgJ3VzZXJzJzogc3RvcmUudXNlcnMsXG4gICAgJ3Bvc3RzJzogc3RvcmUucG9zdHMsXG4gICAgJ3Byb2ZpbGUnOiBzdG9yZS5wcm9maWxlLFxuICAgICd1c2VybmFtZS1oaXN0b3J5Jzogc3RvcmVbJ3VzZXJuYW1lLWhpc3RvcnknXVxuICB9O1xufVxuXG5jb25zdCBDT01QT05FTlRTID0ge1xuICAncG9zdHMnOiBQb3N0cyxcbiAgJ3RocmVhZHMnOiBUaHJlYWRzLFxuICAnZm9sbG93ZXJzJzogRm9sbG93ZXJzLFxuICAnZm9sbG93cyc6IEZvbGxvd3MsXG4gICd1c2VybmFtZS1oaXN0b3J5JzogVXNlcm5hbWVIaXN0b3J5LFxuICAnYmFuLWRldGFpbHMnOiBCYW5EZXRhaWxzXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGxldCBwYXRocyA9IFtdO1xuXG4gIG1pc2Fnby5nZXQoJ1BST0ZJTEVfUEFHRVMnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBwYXRocy5wdXNoKE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1BST0ZJTEUnKS5hYnNvbHV0ZV91cmwgKyBpdGVtLmNvbXBvbmVudCArICcvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENPTVBPTkVOVFNbaXRlbS5jb21wb25lbnRdKSxcbiAgICB9KSk7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRocztcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlYXJjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9xdWljay1zZWFyY2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBVc2VybmFtZUhpc3RvcnkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlLCBhcHBlbmQgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnUFJPRklMRV9OQU1FX0hJU1RPUlknKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnUFJPRklMRV9OQU1FX0hJU1RPUlknKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6ICcnLFxuXG4gICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICB9O1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiAnJyxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9O1xuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcygpO1xuICB9XG5cbiAgbG9hZENoYW5nZXMocGFnZT0xLCBzZWFyY2g9bnVsbCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1VTRVJOQU1FX0NIQU5HRVNfQVBJJyksIHtcbiAgICAgIHVzZXI6IHRoaXMucHJvcHMucHJvZmlsZS5pZCxcbiAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgfSwgJ3NlYXJjaC11c2VybmFtZS1oaXN0b3J5JykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIlVzZXJuYW1lIGhpc3RvcnlcIiksXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcyh0aGlzLnN0YXRlLnBhZ2UgKyAxLCB0aGlzLnN0YXRlLnNlYXJjaCk7XG4gIH07XG5cbiAgc2VhcmNoID0gKGV2KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcygxLCBldi50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUoY2hhbmdlcylzIHVzZXJuYW1lIGNoYW5nZS5cIixcbiAgICAgICAgXCJGb3VuZCAlKGNoYW5nZXMpcyB1c2VybmFtZSBjaGFuZ2VzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ2NoYW5nZXMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdXIgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZS5cIixcbiAgICAgICAgXCJZb3VyIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ2NoYW5nZXMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lLlwiLFxuICAgICAgICBcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAnY2hhbmdlcyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJuYW1lIGNoYW5nZXMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk5vIG5hbWUgY2hhbmdlcyBoYXZlIGJlZW4gcmVjb3JkZWQgZm9yIHlvdXIgYWNjb3VudC5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIG5ldmVyIGNoYW5nZWQuXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TW9yZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubW9yZSkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICA+XG4gICAgICAgICAge2ludGVycG9sYXRlKGdldHRleHQoXCJTaG93IG9sZGVyICglKG1vcmUpcylcIiksIHtcbiAgICAgICAgICAgICdtb3JlJzogdGhpcy5zdGF0ZS5tb3JlXG4gICAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXVzZXJuYW1lLWhpc3RvcnlcIj5cblxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgICA8L2gzPlxuXG4gICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNofVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnNlYXJjaH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlNlYXJjaCBoaXN0b3J5Li4uXCIpfSAvPlxuICAgICAgPC9uYXY+XG5cbiAgICAgIDxVc2VybmFtZUhpc3RvcnkgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgIGVtcHR5TWVzc2FnZT17dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlcz17dGhpcy5wcm9wc1sndXNlcm5hbWUtaGlzdG9yeSddfSAvPlxuXG4gICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIFwiZm9ybS1zZWFyY2ggXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiZm9ybS1zZWFyY2hcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG4gICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgZ2V0dGV4dChcIlNlYXJjaC4uLlwiKX0gLz5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgc2VhcmNoXG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWdpc3RlckZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXIuanMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG5cbiAgICAgIGNyaXRlcmlhOiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dSZWdpc3RlckZvcm0gPSAoKSA9PiB7XG4gICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuYWNjb3VudF9hY3RpdmF0aW9uID09PSAnY2xvc2VkJykge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiTmV3IHJlZ2lzdHJhdGlvbnMgYXJlIGN1cnJlbnRseSBkaXNhYmxlZC5cIikpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgPFJlZ2lzdGVyRm9ybVxuICAgICAgICAgIGNyaXRlcmlhPXt0aGlzLnN0YXRlLmNyaXRlcmlhfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KTtcblxuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBjYXB0Y2hhLmxvYWQoKSxcbiAgICAgICAgYWpheC5nZXQobWlzYWdvLmdldCgnQVVUSF9DUklURVJJQV9BUEknKSlcbiAgICAgIF0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGNyaXRlcmlhOiByZXN1bHRbMV1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgICA8UmVnaXN0ZXJGb3JtXG4gICAgICAgICAgICBjcml0ZXJpYT17cmVzdWx0WzFdfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pO1xuXG4gICAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJSZWdpc3RyYXRpb24gaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlIGR1ZSB0byBhbiBlcnJvci5cIikpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAodGhpcy5zdGF0ZS5pc0xvYWRpbmcgPyAnIGJ0bi1sb2FkaW5nJyA6ICcnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXsnYnRuICcgKyB0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlZ2lzdGVyRm9ybX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICAgIHt0aGlzLnN0YXRlLmlzTG9hZGluZyA/IDxMb2FkZXIgLz4gOiBudWxsIH1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBhc3N3b3JkU3RyZW5ndGggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGNsYXNzIFJlZ2lzdGVyRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSB0aGlzLnByb3BzLmNyaXRlcmlhO1xuXG4gICAgbGV0IHBhc3N3b3JkTWluTGVuZ3RoID0gMDtcbiAgICBwYXNzd29yZC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5uYW1lID09PSAnTWluaW11bUxlbmd0aFZhbGlkYXRvcicpIHtcbiAgICAgICAgcGFzc3dvcmRNaW5MZW5ndGggPSBpdGVtLm1pbl9sZW5ndGg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXNlcm5hbWU6ICcnLFxuICAgICAgZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgY2FwdGNoYTogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgodXNlcm5hbWUubWluX2xlbmd0aCksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aCh1c2VybmFtZS5tYXhfbGVuZ3RoKVxuICAgICAgICBdLFxuICAgICAgICBlbWFpbDogW1xuICAgICAgICAgIHZhbGlkYXRvcnMuZW1haWwoKVxuICAgICAgICBdLFxuICAgICAgICBwYXNzd29yZDogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucGFzc3dvcmRNaW5MZW5ndGgocGFzc3dvcmRNaW5MZW5ndGgpXG4gICAgICAgIF0sXG4gICAgICAgIGNhcHRjaGE6IGNhcHRjaGEudmFsaWRhdG9yKClcbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxuICAgICAgY2FwdGNoYTogdGhpcy5zdGF0ZS5jYXB0Y2hhXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlamVjdGlvbi5fX2FsbF9fICYmIHJlamVjdGlvbi5fX2FsbF9fLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLl9fYWxsX19bMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbik7XG4gICAgICBtb2RhbC5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGVnYWxGb290Tm90ZSgpIHtcbiAgICBpZiAoIW1pc2Fnby5nZXQoJ1RFUk1TX09GX1NFUlZJQ0VfVVJMJykpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWdhbC1mb290bm90ZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KCdURVJNU19PRl9TRVJWSUNFX1VSTCcpfVxuICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkJ5IHJlZ2lzdGVyaW5nIHlvdSBhZ3JlZSB0byBzaXRlJ3MgdGVybXMgYW5kIGNvbmRpdGlvbnMuXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVnaXN0ZXJcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJSZWdpc3RlclwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXJuYW1lXCIpfSBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnVzZXJuYW1lfT5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfdXNlcm5hbWVfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJFLW1haWxcIil9IGZvcj1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuZW1haWx9PlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX2VtYWlsXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9lbWFpbF9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlBhc3N3b3JkXCIpfSBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXNzd29yZFN0cmVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB9ID5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX3Bhc3N3b3JkX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICB7Y2FwdGNoYS5jb21wb25lbnQoe1xuICAgICAgICAgICAgICBmb3JtOiB0aGlzLFxuICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICAgIHt0aGlzLmdldExlZ2FsRm9vdE5vdGUoKX1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXIgYWNjb3VudFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVnaXN0ZXJDb21wbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExlYWQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gJ3VzZXInKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IHlvdSBuZWVkIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAnYWRtaW4nKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IGJvYXJkIGFkbWluaXN0cmF0b3Igd2lsbCBoYXZlIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldFN1YnNjcmlwdCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAndXNlcicpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiV2UgaGF2ZSBzZW50IGFuIGUtbWFpbCB0byAlKGVtYWlsKXMgd2l0aCBsaW5rIHRoYXQgeW91IGhhdmUgdG8gY2xpY2sgdG8gYWN0aXZhdGUgeW91ciBhY2NvdW50LlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gJ2FkbWluJykge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJXZSB3aWxsIHNlbmQgYW4gZS1tYWlsIHRvICUoZW1haWwpcyB3aGVuIHRoaXMgdGFrZXMgcGxhY2UuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtcmVnaXN0ZXJcIlxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlJlZ2lzdHJhdGlvbiBjb21wbGV0ZVwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGVhZCgpLFxuICAgICAgICAgICAgICAgIHsndXNlcm5hbWUnOiB0aGlzLnByb3BzLnVzZXJuYW1lfSwgdHJ1ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0U3Vic2NyaXB0KCksXG4gICAgICAgICAgICAgICAgeydlbWFpbCc6IHRoaXMucHJvcHMuZW1haWx9LCB0cnVlKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcGxldGVSZWdpc3RyYXRpb24gPSAoYXBpUmVzcG9uc2UpID0+IHtcbiAgICBpZiAoYXBpUmVzcG9uc2UuYWN0aXZhdGlvbiA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICAgIGF1dGguc2lnbkluKGFwaVJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWdpc3RlckNvbXBsZXRlXG4gICAgICAgICAgYWN0aXZhdGlvbj17dGhpcy5zdGF0ZS5jb21wbGV0ZS5hY3RpdmF0aW9ufVxuICAgICAgICAgIGVtYWlsPXt0aGlzLnN0YXRlLmNvbXBsZXRlLmVtYWlsfVxuICAgICAgICAgIHVzZXJuYW1lPXt0aGlzLnN0YXRlLmNvbXBsZXRlLnVzZXJuYW1lfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlZ2lzdGVyRm9ybVxuICAgICAgICBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZVJlZ2lzdHJhdGlvbn1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAvPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0TGlua0Zvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnZW1haWwnOiAnJyxcblxuICAgICAgJ3ZhbGlkYXRvcnMnOiB7XG4gICAgICAgICdlbWFpbCc6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLmVtYWlsKClcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1NFTkRfQUNUSVZBVElPTl9BUEknKSwge1xuICAgICAgJ2VtYWlsJzogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKFsnYWxyZWFkeV9hY3RpdmUnLCAnaW5hY3RpdmVfYWRtaW4nXS5pbmRleE9mKHJlamVjdGlvbi5jb2RlKSA+IC0xKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtYWN0aXZhdGlvbi1saW5rXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJZb3VyIGUtbWFpbCBhZGRyZXNzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IC8+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAge2dldHRleHQoXCJTZW5kIGxpbmtcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rU2VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJBY3RpdmF0aW9uIGxpbmsgd2FzIHNlbnQgdG8gJShlbWFpbClzXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5wcm9wcy51c2VyLmVtYWlsXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGluayB3ZWxsLWRvbmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb25lLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICBjaGVja1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZSgpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmNhbGxiYWNrfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBhbm90aGVyIGxpbmtcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcGxldGUgPSAoYXBpUmVzcG9uc2UpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgIH0pO1xuICB9O1xuXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDxMaW5rU2VudCB1c2VyPXt0aGlzLnN0YXRlLmNvbXBsZXRlfSBjYWxsYmFjaz17dGhpcy5yZXNldH0gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8UmVxdWVzdExpbmtGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfSAvPjtcbiAgICB9O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RSZXNldEZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnZW1haWwnOiAnJyxcblxuICAgICAgJ3ZhbGlkYXRvcnMnOiB7XG4gICAgICAgICdlbWFpbCc6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLmVtYWlsKClcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1NFTkRfUEFTU1dPUkRfUkVTRVRfQVBJJyksIHtcbiAgICAgICdlbWFpbCc6IHRoaXMuc3RhdGUuZW1haWxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbJ2luYWN0aXZlX3VzZXInLCAnaW5hY3RpdmVfYWRtaW4nXS5pbmRleE9mKHJlamVjdGlvbi5jb2RlKSA+IC0xKSB7XG4gICAgICB0aGlzLnByb3BzLnNob3dJbmFjdGl2ZVBhZ2UocmVqZWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0XCI+XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VuZCBsaW5rXCIpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rU2VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJSZXNldCBwYXNzd29yZCBsaW5rIHdhcyBzZW50IHRvICUoZW1haWwpc1wiKSwge1xuICAgICAgZW1haWw6IHRoaXMucHJvcHMudXNlci5lbWFpbFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1wYXNzd29yZC1yZXNldCB3ZWxsLWRvbmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9uZS1tZXNzYWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZSgpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBhbm90aGVyIGxpbmtcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjY291bnRJbmFjdGl2ZVBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRBY3RpdmF0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAnaW5hY3RpdmVfdXNlcicpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cD5cbiAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTCcpfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIHlvdXIgYWNjb3VudC5cIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1pbmZvIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWluYWN0aXZlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJZb3VyIGFjY291bnQgaXMgaW5hY3RpdmUuXCIpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0ZUJ1dHRvbigpfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgfSk7XG4gIH07XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICBzaG93SW5hY3RpdmVQYWdlKGFwaVJlc3BvbnNlKSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPEFjY291bnRJbmFjdGl2ZVBhZ2VcbiAgICAgICAgYWN0aXZhdGlvbj17YXBpUmVzcG9uc2UuY29kZX1cbiAgICAgICAgbWVzc2FnZT17YXBpUmVzcG9uc2UuZGV0YWlsfVxuICAgICAgLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1tb3VudCcpXG4gICAgKTtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMaW5rU2VudFxuICAgICAgICAgIGNhbGxiYWNrPXt0aGlzLnJlc2V0fVxuICAgICAgICAgIHVzZXI9e3RoaXMuc3RhdGUuY29tcGxldGV9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UmVxdWVzdFJlc2V0Rm9ybVxuICAgICAgICBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX1cbiAgICAgICAgc2hvd0luYWN0aXZlUGFnZT17dGhpcy5zaG93SW5hY3RpdmVQYWdlfVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zaWduLWluLmpzJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5cbmV4cG9ydCBjbGFzcyBSZXNldFBhc3N3b3JkRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG5cbiAgICAgICdwYXNzd29yZCc6ICcnXG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnQ0hBTkdFX1BBU1NXT1JEX0FQSScpLCB7XG4gICAgICAncGFzc3dvcmQnOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlc2V0LXBhc3N3b3JkXCI+XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZENoYW5nZWRQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBwYXNzd29yZCBoYXMgYmVlbiBjaGFuZ2VkIHN1Y2Nlc3NmdWxseS5cIiksIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHNob3dTaWduSW4oKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1zdWNjZXNzIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWNoYW5nZWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldE1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIllvdSB3aWxsIGhhdmUgdG8gc2lnbiBpbiB1c2luZyBuZXcgcGFzc3dvcmQgYmVmb3JlIGNvbnRpbnVpbmcuXCIpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbn0+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIGF1dGguc29mdFNpZ25PdXQoKTtcblxuICAgIC8vIG51a2UgXCJyZWRpcmVjdF90b1wiIGZpZWxkIHNvIHdlIGRvbid0IGVuZFxuICAgIC8vIGNvbWluZyBiYWNrIHRvIGVycm9yIHBhZ2UgYWZ0ZXIgc2lnbiBpblxuICAgICQoJyNoaWRkZW4tbG9naW4tZm9ybSBpbnB1dFtuYW1lPVwicmVkaXJlY3RfdG9cIl0nKS5yZW1vdmUoKTtcblxuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxQYXNzd29yZENoYW5nZWRQYWdlIHVzZXI9e2FwaVJlc3BvbnNlfSAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50JylcbiAgICApO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxSZXNldFBhc3N3b3JkRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX0gLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCB7IGxvYWQgYXMgdXBkYXRlUG9zdHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHsgdXBkYXRlIGFzIHVwZGF0ZVNlYXJjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWFyY2gnO1xuaW1wb3J0IHsgaHlkcmF0ZSBhcyB1cGRhdGVVc2VycyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBxdWVyeTogcHJvcHMuc2VhcmNoLnF1ZXJ5XG4gICAgfTtcbiAgfVxuXG4gIG9uUXVlcnlDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdxdWVyeScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBzZWFyY2ggcXVlcnkuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlU2VhcmNoKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pKTtcblxuICAgIHJldHVybiBhamF4LmdldChtaXNhZ28uZ2V0KCdTRUFSQ0hfQVBJJyksIHtcbiAgICAgIHE6IHRoaXMuc3RhdGUucXVlcnkudHJpbSgpXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHByb3ZpZGVycykge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVNlYXJjaCh7XG4gICAgICBxdWVyeTogdGhpcy5zdGF0ZS5xdWVyeS50cmltKCksXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcHJvdmlkZXJzXG4gICAgfSkpO1xuXG4gICAgcHJvdmlkZXJzLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG4gICAgICBpZiAocHJvdmlkZXIuaWQgPT09ICd1c2VycycpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlVXNlcnMocHJvdmlkZXIucmVzdWx0cy5yZXN1bHRzKSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyLmlkID09PSAndGhyZWFkcycpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlUG9zdHMocHJvdmlkZXIucmVzdWx0cykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVNlYXJjaCh7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfSkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXIgcGFnZS1zZWFyY2gtZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC0zXCI+XG4gICAgICAgICAgICAgICAgICA8aDE+e2dldHRleHQoXCJTZWFyY2hcIil9PC9oMT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtOVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBzbS1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuc2VhcmNoLmlzTG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25RdWVyeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5xdWVyeX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuc2VhcmNoLmlzTG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNlYXJjaFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59IiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBTZWFyY2hUaHJlYWRzIGZyb20gJy4vdGhyZWFkcyc7XG5pbXBvcnQgU2VhcmNoVXNlcnMgZnJvbSAnLi91c2Vycyc7XG5cbmNvbnN0IGNvbXBvbmVudHMgPSB7XG4gIHRocmVhZHM6IFNlYXJjaFRocmVhZHMsXG4gIHVzZXJzOiBTZWFyY2hVc2Vyc1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgICdwb3N0cyc6IHN0b3JlLnBvc3RzLFxuICAgICdzZWFyY2gnOiBzdG9yZS5zZWFyY2gsXG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgJ3VzZXJzJzogc3RvcmUudXNlcnMsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3ZpZGVycykge1xuICByZXR1cm4gcHJvdmlkZXJzLm1hcCgocHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aDogcHJvdmlkZXIudXJsLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoY29tcG9uZW50c1twcm92aWRlci5pZF0pLFxuICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyXG4gICAgfTtcbiAgfSk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTZWFyY2hGb3JtIGZyb20gJy4vZm9ybSc7XG5pbXBvcnQgU2lkZU5hdiBmcm9tICcuL3NpZGVuYXYnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXNlYXJjaFwiPlxuICAgICAgPFNlYXJjaEZvcm1cbiAgICAgICAgcHJvdmlkZXI9e3Byb3BzLnByb3ZpZGVyfVxuICAgICAgICBzZWFyY2g9e3Byb3BzLnNlYXJjaH1cbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTNcIj5cbiAgICAgICAgICAgIDxTaWRlTmF2IHByb3ZpZGVycz17cHJvcHMuc2VhcmNoLnByb3ZpZGVyc30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG4gICAgICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICA8U2VhcmNoVGltZVxuICAgICAgICAgICAgICBwcm92aWRlcj17cHJvcHMucHJvdmlkZXJ9XG4gICAgICAgICAgICAgIHNlYXJjaD17cHJvcHMuc2VhcmNofVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU2VhcmNoVGltZShwcm9wcykge1xuICBsZXQgdGltZSA9IG51bGw7XG4gIHByb3BzLnNlYXJjaC5wcm92aWRlcnMuZm9yRWFjaCgocCkgPT4ge1xuICAgIGlmIChwLmlkID09PSBwcm9wcy5wcm92aWRlci5pZCkge1xuICAgICAgdGltZSA9IHAudGltZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICh0aW1lID09PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBjb3B5ID0gZ2V0dGV4dChcIlNlYXJjaCB0b29rICUodGltZSlzIHMgdG8gY29tcGxldGVcIik7XG5cbiAgcmV0dXJuIChcbiAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cInNlYXJjaC1mb290ZXJcIj5cbiAgICAgIDxwPlxuICAgICAgICB7aW50ZXJwb2xhdGUoY29weSwge3RpbWV9LCB0cnVlKX1cbiAgICAgIDwvcD5cbiAgICA8L2Zvb3Rlcj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICB7cHJvcHMucHJvdmlkZXJzLm1hcCgocHJvdmlkZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICBrZXk9e3Byb3ZpZGVyLmlkfVxuICAgICAgICAgICAgdG89e3Byb3ZpZGVyLnVybH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIHtwcm92aWRlci5pY29ufVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAge3Byb3ZpZGVyLm5hbWV9XG4gICAgICAgICAgICA8QmFkZ2UgcmVzdWx0cz17cHJvdmlkZXIucmVzdWx0c30gLz5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJhZGdlKHByb3BzKSB7XG4gIGlmICghcHJvcHMucmVzdWx0cykgcmV0dXJuIG51bGw7XG5cbiAgbGV0IGNvdW50ID0gcHJvcHMucmVzdWx0cy5jb3VudDtcbiAgaWYgKGNvdW50ID4gMTAwMDAwMCkge1xuICAgIGNvdW50ID0gTWF0aC5jZWlsKGNvdW50IC8gMTAwMDAwMCkgKyAnS0snXG4gIH0gZWxzZSBpZiAoY291bnQgPiAxMDAwKSB7XG4gICAgY291bnQgPSBNYXRoLmNlaWwoY291bnQgLyAxMDAwKSArICdLJ1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPlxuICAgICAge2NvdW50fVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNlYXJjaFBhZ2UgZnJvbSAnLi4vcGFnZSc7XG5pbXBvcnQgUmVzdWx0cyBmcm9tICcuL3Jlc3VsdHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxTZWFyY2hQYWdlXG4gICAgICBwcm92aWRlcj17cHJvcHMucm91dGUucHJvdmlkZXJ9XG4gICAgICBzZWFyY2g9e3Byb3BzLnNlYXJjaH1cbiAgICA+XG4gICAgICA8QmxhbmtzbGF0ZVxuICAgICAgICBxdWVyeT17cHJvcHMuc2VhcmNoLnF1ZXJ5fVxuICAgICAgICBwb3N0cz17cHJvcHMucG9zdHN9XG4gICAgICA+XG4gICAgICAgIDxSZXN1bHRzXG4gICAgICAgICAgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfVxuICAgICAgICAgIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9XG4gICAgICAgICAgey4uLnByb3BzLnBvc3RzfVxuICAgICAgICAvPlxuICAgICAgPC9CbGFua3NsYXRlPlxuICAgIDwvU2VhcmNoUGFnZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmxhbmtzbGF0ZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMgJiYgcHJvcHMucG9zdHMuY291bnQpIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblxuICBpZiAocHJvcHMucXVlcnkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJObyB0aHJlYWRzIG1hdGNoaW5nIHNlYXJjaCBxdWVyeSBoYXZlIGJlZW4gZm91bmQuXCIpfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgIHtnZXR0ZXh0KFwiRW50ZXIgYXQgbGVhc3QgdHdvIGNoYXJhY3RlcnMgdG8gc2VhcmNoIHRocmVhZHMuXCIpfVxuICAgIDwvcD5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBvc3RGZWVkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3QtZmVlZCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXAnO1xuaW1wb3J0IHsgdXBkYXRlIGFzIHVwZGF0ZVBvc3RzLCBhcHBlbmQgYXMgYXBwZW5kUG9zdHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHsgdXBkYXRlUHJvdmlkZXIgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VhcmNoJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxQb3N0RmVlZFxuICAgICAgICBpc1JlYWR5PXt0cnVlfVxuICAgICAgICBwb3N0cz17cHJvcHMucmVzdWx0c31cbiAgICAgIC8+XG4gICAgICA8TG9hZE1vcmUgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgTG9hZE1vcmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVBvc3RzKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pKTtcblxuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvdmlkZXIuYXBpLCB7XG4gICAgICBxOiB0aGlzLnByb3BzLnF1ZXJ5LFxuICAgICAgcGFnZTogdGhpcy5wcm9wcy5uZXh0XG4gICAgfSkudGhlbigocHJvdmlkZXJzKSA9PiB7XG4gICAgICBwcm92aWRlcnMuZm9yRWFjaCgocHJvdmlkZXIpID0+IHtcbiAgICAgICAgaWYgKHByb3ZpZGVyLmlkICE9PSAndGhyZWFkcycpIHJldHVybjtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kUG9zdHMocHJvdmlkZXIucmVzdWx0cykpO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQcm92aWRlcihwcm92aWRlcikpO1xuICAgICAgfSk7XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVBvc3RzKHtcbiAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVBvc3RzKHtcbiAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9yZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMucHJvcHMuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2hvdyBtb3JlXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNlYXJjaFBhZ2UgZnJvbSAnLi4vcGFnZSc7XG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFNlYXJjaFBhZ2VcbiAgICAgIHByb3ZpZGVyPXtwcm9wcy5yb3V0ZS5wcm92aWRlcn1cbiAgICAgIHNlYXJjaD17cHJvcHMuc2VhcmNofVxuICAgID5cbiAgICAgIDxCbGFua3NsYXRlXG4gICAgICAgIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9XG4gICAgICAgIHVzZXJzPXtwcm9wcy51c2Vyc31cbiAgICAgID5cbiAgICAgICAgPFVzZXJzTGlzdFxuICAgICAgICAgIGlzTG9hZGVkPXt0cnVlfVxuICAgICAgICAgIGNvbHM9ezJ9XG4gICAgICAgICAgdXNlcnM9e3Byb3BzLnVzZXJzfVxuICAgICAgICAvPlxuICAgICAgPC9CbGFua3NsYXRlPlxuICAgIDwvU2VhcmNoUGFnZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmxhbmtzbGF0ZShwcm9wcykge1xuICBpZiAocHJvcHMudXNlcnMubGVuZ3RoKSByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG5cbiAgaWYgKHByb3BzLnF1ZXJ5Lmxlbmd0aCkge1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiTm8gdXNlcnMgbWF0Y2hpbmcgc2VhcmNoIHF1ZXJ5IGhhdmUgYmVlbiBmb3VuZC5cIil9XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAge2dldHRleHQoXCJFbnRlciBhdCBsZWFzdCB0d28gY2hhcmFjdGVycyB0byBzZWFyY2ggdXNlcnMuXCIpfVxuICAgIDwvcD5cbiAgKTtcbn1cblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDaG9pY2UoKSB7XG4gICAgbGV0IGNob2ljZSA9IG51bGw7XG4gICAgdGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udmFsdWUgPT09IHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgY2hvaWNlID0gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2hvaWNlO1xuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDaG9pY2UoKS5pY29uO1xuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkubGFiZWw7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNoYW5nZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLXNlbGVjdC1ncm91cFwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWxlY3QgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17dGhpcy5wcm9wc1snYXJpYS1kZXNjcmliZWRieSddIHx8IG51bGx9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8IGZhbHNlfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8bGkga2V5PXtpfT5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jaGFuZ2UoaXRlbS52YWx1ZSl9PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAge2l0ZW0uaWNvbn1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7aXRlbS5sYWJlbH1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvbGk+O1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuICAgICAgJ3Nob3dBY3RpdmF0aW9uJzogZmFsc2UsXG5cbiAgICAgICd1c2VybmFtZSc6ICcnLFxuICAgICAgJ3Bhc3N3b3JkJzogJycsXG5cbiAgICAgICd2YWxpZGF0b3JzJzoge1xuICAgICAgICAndXNlcm5hbWUnOiBbXSxcbiAgICAgICAgJ3Bhc3N3b3JkJzogW11cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGJvdGggZmllbGRzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdBVVRIX0FQSScpLCB7XG4gICAgICAndXNlcm5hbWUnOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgJ3Bhc3N3b3JkJzogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBsZXQgZm9ybSA9ICQoJyNoaWRkZW4tbG9naW4tZm9ybScpO1xuXG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VybmFtZVwiIC8+Jyk7XG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiAvPicpO1xuXG4gICAgLy8gZmlsbCBvdXQgZm9ybSB3aXRoIHVzZXIgY3JlZGVudGlhbHMgYW5kIHN1Ym1pdCBpdCwgdGhpcyB3aWxsIHRlbGxcbiAgICAvLyBNaXNhZ28gdG8gcmVkaXJlY3QgdXNlciBiYWNrIHRvIHJpZ2h0IHBhZ2UsIGFuZCB3aWxsIHRyaWdnZXIgYnJvd3NlcidzXG4gICAgLy8ga2V5IHJpbmcgZmVhdHVyZVxuICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLnZhbChhamF4LmdldENzcmZUb2tlbigpKTtcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnZhbCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKHRoaXMuc3RhdGUudXNlcm5hbWUpO1xuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJykudmFsKHRoaXMuc3RhdGUucGFzc3dvcmQpO1xuICAgIGZvcm0uc3VibWl0KCk7XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24uY29kZSA9PT0gJ2luYWN0aXZlX2FkbWluJykge1xuICAgICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gJ2luYWN0aXZlX3VzZXInKSB7XG4gICAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdzaG93QWN0aXZhdGlvbic6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5jb2RlID09PSAnYmFubmVkJykge1xuICAgICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgbW9kYWwuaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbik7XG4gICAgICBtb2RhbC5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0QWN0aXZhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FjdGl2YXRpb24pIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWJsb2NrXCJcbiAgICAgICAgaHJlZj17bWlzYWdvLmdldCgnUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTCcpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIGFjY291bnRcIil9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc20gbW9kYWwtc2lnbi1pblwiXG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlNpZ24gaW5cIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd1c2VybmFtZScpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlVzZXJuYW1lIG9yIGUtbWFpbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJQYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0aW9uQnV0dG9uKCl9XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KCdGT1JHT1RURU5fUEFTU1dPUkRfVVJMJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAge2dldHRleHQoXCJGb3Jnb3QgcGFzc3dvcmQ/XCIpfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5jb25zdCBUWVBFU19DTEFTU0VTID0ge1xuICAnaW5mbyc6ICdhbGVydC1pbmZvJyxcbiAgJ3N1Y2Nlc3MnOiAnYWxlcnQtc3VjY2VzcycsXG4gICd3YXJuaW5nJzogJ2FsZXJ0LXdhcm5pbmcnLFxuICAnZXJyb3InOiAnYWxlcnQtZGFuZ2VyJ1xufTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbmV4cG9ydCBjbGFzcyBTbmFja2JhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFNuYWNrYmFyQ2xhc3MoKSB7XG4gICAgbGV0IHNuYWNrYmFyQ2xhc3MgPSAnYWxlcnRzLXNuYWNrYmFyJztcbiAgICBpZiAodGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgIHNuYWNrYmFyQ2xhc3MgKz0gJyBpbic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyQ2xhc3MgKz0gJyBvdXQnO1xuICAgIH1cbiAgICByZXR1cm4gc25hY2tiYXJDbGFzcztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldFNuYWNrYmFyQ2xhc3MoKX0+XG4gICAgICA8cCBjbGFzc05hbWU9eydhbGVydCAnICsgVFlQRVNfQ0xBU1NFU1t0aGlzLnByb3BzLnR5cGVdfT5cbiAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5zbmFja2Jhcjtcbn1cbiIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWJyZWFkY3J1bWJzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8b2wgY2xhc3NOYW1lPVwiYnJlYWRjcnVtYiBoaWRkZW4teHNcIj5cbiAgICAgICAgICB7cHJvcHMucGF0aC5tYXAoKGl0ZW0pID0+IDxCcmVhZGNydW1iIGtleT17aXRlbS5pZH0gbm9kZT17aXRlbX0gLz4pfVxuICAgICAgICA8L29sPlxuICAgICAgICA8R29CYWNrIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQnJlYWRjcnVtYihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLm5vZGUuYWJzb2x1dGVfdXJsfT57cHJvcHMubm9kZS5uYW1lfTwvYT5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR29CYWNrKHByb3BzKSB7XG4gIGNvbnN0IGxhc3RJdGVtID0gcHJvcHMucGF0aFtwcm9wcy5wYXRoLmxlbmd0aCAtIDFdO1xuXG4gIHJldHVybiAoXG4gICAgPGEgaHJlZj17bGFzdEl0ZW0uYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJnby1iYWNrLXNtIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgY2hldnJvbl9sZWZ0XG4gICAgICA8L3NwYW4+XG4gICAgICB7bGFzdEl0ZW0ubmFtZX1cbiAgICA8L2E+XG4gICk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnJlYWRjcnVtYnMgZnJvbSAnLi9icmVhZGNydW1icyc7XG5pbXBvcnQgeyBpc01vZGVyYXRpb25WaXNpYmxlLCBNb2RlcmF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi9tb2RlcmF0aW9uL3RocmVhZCc7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCB7IGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6IHByb3BzLnRocmVhZC50aXRsZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogZ2V0VGl0bGVWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIG9uQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndGl0bGUnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uRWRpdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRWRpdGluZzogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGhyZWFkLnRpdGxlLFxuXG4gICAgICBpc0VkaXRpbmc6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAndGl0bGUnLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZX1cbiAgICBdKTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoZGF0YSkpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNFZGl0aW5nJzogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnNvbGUubG9nKHJlamVjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHt0aHJlYWQsIHVzZXJ9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzaG93TW9kZXJhdGlvbiA9IHVzZXIuaWQgJiYgaXNNb2RlcmF0aW9uVmlzaWJsZSh0aHJlYWQpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0aW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgPEJyZWFkY3J1bWJzIHBhdGg9e3RocmVhZC5wYXRofSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIHRpdGxlLWVkaXQtZm9ybVwiPlxuICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTZcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcC1oYWxmIHNtLW1hcmdpbi10b3Atbm8gbWQtbWFyZ2luLXRvcC1ub1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkNoYW5nZSB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8U3RhdHMgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHVzZXIuaWQgJiYgdGhyZWFkLmFjbC5jYW5fZWRpdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3Nob3dNb2RlcmF0aW9uID8gXCJjb2wtc20tOSBjb2wtbWQtOFwiIDogXCJjb2wtc20tMTAgY29sLW1kLTEwXCJ9PlxuICAgICAgICAgICAgICAgIDxoMT5cbiAgICAgICAgICAgICAgICAgIHt0aHJlYWQudGl0bGV9XG4gICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzaG93TW9kZXJhdGlvbiA/IFwiY29sLXNtLTMgY29sLW1kLTRcIiA6IFwiY29sLXNtLTMgY29sLW1kLTJcIn0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBtZC1tYXJnaW4tdG9wLW5vXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRWRpdH1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkVkaXQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZWRpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7c2hvd01vZGVyYXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8TW9kZXJhdGlvbiB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChzaG93TW9kZXJhdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOSBjb2wtbWQtMTBcIj5cbiAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICB7dGhyZWFkLnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zIGNvbC1tZC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBtZC1tYXJnaW4tdG9wLW5vXCI+XG4gICAgICAgICAgICAgICAgICA8TW9kZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBpc1NpbmdsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxTdGF0cyB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+e3RocmVhZC50aXRsZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kZXJhdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5pc1NpbmdsZSA/IFwiY29sLXhzLTEyXCIgOiBcImNvbC14cy02XCJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLmlzU2luZ2xlID8gXCJcIiA6IFwiaGlkZGVuLXNtXCJ9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPE1vZGVyYXRpb25Db250cm9sc1xuICAgICAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgICAgICAgdGhyZWFkPXtwcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXtwcm9wcy51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgTEFTVF9SRVBMWSA9ICc8YWJiciBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuXG5leHBvcnQgZnVuY3Rpb24gV2VpZ2h0KHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQud2VpZ2h0ID09IDIpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgYm9va21hcmtcbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2UgaWYgKHByb3BzLnRocmVhZC53ZWlnaHQgPT0gMSkge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGJvb2ttYXJrX2JvcmRlclxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX3VuYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHJlbW92ZV9jaXJjbGVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIGlmIChwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHJlbW92ZV9jaXJjbGVfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkIHBvc3RzXCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX2hpZGRlbikge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLWhpZGRlblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJIaWRkZW5cIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzQ2xvc2VkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfY2xvc2VkKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtY2xvc2VkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGxvY2tfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJDbG9zZWRcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGxpZXMocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShyZXBsaWVzKXMgcmVwbHlcIiwgXCIlKHJlcGxpZXMpcyByZXBsaWVzXCIsIHByb3BzLnRocmVhZC5yZXBsaWVzKTtcbiAgY29uc3QgbGVnZW5kID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeydyZXBsaWVzJzogcHJvcHMudGhyZWFkLnJlcGxpZXN9LCB0cnVlKTtcblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1yZXBsaWVzXCI+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgZm9ydW1cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgIHtsZWdlbmR9XG4gICAgPC9zcGFuPlxuICA8L2xpPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseShwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKExBU1RfUE9TVEVSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfTtcblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoTEFTVF9SRVBMWSwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJsYXN0IHJlcGx5IGJ5ICUodXNlcilzICUoZGF0ZSlzXCIpKSwge1xuICAgIGRhdGUsIHVzZXJcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0vPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1zdGF0c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPFdlaWdodCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8VW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8SXNIaWRkZW4gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPElzQ2xvc2VkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxSZXBsaWVzIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxMYXN0UmVwbHkgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgcHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXVuYXBwcm92ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX3VuYXBwcm92ZWQ6IHNlbGVjdGlvbi5pc191bmFwcHJvdmVkXG4gICAgfTtcblxuICAgIHBhdGNoKHNlbGVjdGlvbiwgb3BzLCBwcmV2aW91c1N0YXRlKTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90ZWN0KHByb3BzKSB7XG4gIHByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXByb3RlY3RlZCcsICd2YWx1ZSc6IHRydWV9XG4gICAgXTtcblxuICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgICBpc19wcm90ZWN0ZWQ6IHNlbGVjdGlvbi5pc19wcm90ZWN0ZWRcbiAgICB9O1xuXG4gICAgcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcHMgPSBbXG4gICAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1wcm90ZWN0ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX3Byb3RlY3RlZDogc2VsZWN0aW9uLmlzX3Byb3RlY3RlZFxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihzZWxlY3Rpb24udXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci5hYnNvbHV0ZV91cmxcbiAgICAgIH0pXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3BzID0gW1xuICAgICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX2hpZGRlbjogc2VsZWN0aW9uLmlzX2hpZGRlbixcbiAgICAgIGhpZGRlbl9vbjogc2VsZWN0aW9uLmhpZGRlbl9vbixcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBzZWxlY3Rpb24uaGlkZGVuX2J5X25hbWUsXG4gICAgICB1cmw6IHNlbGVjdGlvbi51cmxcbiAgICB9O1xuXG4gICAgcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaGlkZShwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcHMgPSBbXG4gICAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX2hpZGRlbjogc2VsZWN0aW9uLmlzX2hpZGRlblxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpIHtcbiAgYWpheC5wYXRjaChzZWxlY3Rpb24uYXBpLmluZGV4LCBvcHMpLnRoZW4oKG5ld1N0YXRlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIG5ld1N0YXRlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwgcHJldmlvdXNTdGF0ZSkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbWVyZ2Ugc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLnNsaWNlKDEpLm1hcCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcbiAgfSk7XG5cbiAgYWpheC5wb3N0KHByb3BzLnRocmVhZC5hcGkucG9zdHMubWVyZ2UsIHtcbiAgICBwb3N0czogcHJvcHMuc2VsZWN0aW9uLm1hcCgocG9zdCkgPT4gcG9zdC5pZClcbiAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goZGF0YSwgcG9zdC5oeWRyYXRlKGRhdGEpKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBwcm9wcy5zZWxlY3Rpb24uc2xpY2UoMSkubWFwKChzZWxlY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBhamF4LmRlbGV0ZShzZWxlY3Rpb24uYXBpLmluZGV4KS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybjtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gJy4vbW92ZSc7XG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tICcuL3NwbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1lcmdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxTcGxpdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8UHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5wcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbmhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIEFwcHJvdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uYXBwcm92ZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9hcHByb3ZlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBkb25lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lcmdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLm1lcmdlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3Rpb24ubGVuZ3RoIDwgMikgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21lcmdlX3Bvc3RzKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2FsbF9tZXJnZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlTW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwbGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPFNwbGl0TW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjYWxsX3NwbGl0XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnByb3RlY3QodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fcHJvdGVjdDtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVucHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bnByb3RlY3QodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fcHJvdGVjdDtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vcGVuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5wcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5oaWRlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2hpZGU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bmhpZGUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fdW5oaWRlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB2aXNpYmlsaXR5XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnJlbW92ZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9kZWxldGU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNsZWFyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRHJvcGRvd24gZnJvbSAnLi9kcm9wZG93bic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCB8fCAhaXNWaXNpYmxlKHByb3BzLnRocmVhZCwgcHJvcHMucG9zdHMucmVzdWx0cykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdGlvbiA9IHByb3BzLnBvc3RzLnJlc3VsdHMuZmlsdGVyKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHBvc3QuaXNTZWxlY3RlZDtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3B1cFwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3Rpb24ubGVuZ3RofVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJQb3N0cyBvcHRpb25zXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8RHJvcGRvd24gc2VsZWN0aW9uPXtzZWxlY3Rpb259IHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZSh0aHJlYWQsIHBvc3RzKSB7XG4gIGlmICh0aHJlYWQuYWNsLmNhbl9tZXJnZV9wb3N0cyAmJiBwb3N0cy5sZW5ndGggPiAxKSB7XG4gICAgLy8gZmFzdCB0ZXN0OiBzaG93IG1vZGVyYXRpb24gbWVudSBpZiB3ZSBjYW4gbWVyZ2UgcG9zdHNcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHNsb3cgdGVzdDogc2hvdyBtb2RlcmF0aW9uIGlmIGFueSBvZiBwb3N0cyBoYXMgbW9kZXJhdGlvbiBvcHRpb25zXG4gIGxldCB2aXNpYmxlID0gZmFsc2U7XG4gIHBvc3RzLmZvckVhY2goKHBvc3QpID0+IHtcbiAgICBpZiAoIXBvc3QuaXNfZXZlbnQpIHtcbiAgICAgIGNvbnN0IHNob3dNb2RlcmF0aW9uID0gKFxuICAgICAgICBwb3N0LmFjbC5jYW5fYXBwcm92ZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fZGVsZXRlIHx8XG4gICAgICAgICghcG9zdC5pc19oaWRkZW4gJiYgcG9zdC5hY2wuY2FuX2hpZGUpIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9tb3ZlIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgICAgIChwb3N0LmlzX2hpZGRlbiAmJiBwb3N0LmFjbC5jYW5fdW5oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fdW5wcm90ZWN0XG4gICAgICApO1xuXG4gICAgICBpZiAoc2hvd01vZGVyYXRpb24pIHtcbiAgICAgICAgdmlzaWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHZpc2libGU7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tb3ZlLCB7XG4gICAgICB0aHJlYWRfdXJsOiB0aGlzLnN0YXRlLnVybCxcbiAgICAgIHBvc3RzOiB0aGlzLnByb3BzLnNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHBvc3QuaWQpXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdHMgd2VyZSBtb3ZlZCB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3VybCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtb3ZlIHBvc3RzIHRvXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSBwb3N0c1wiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHBvc3RzXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdUSFJFQURfRURJVE9SX0FQSScpKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXG4gICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSlcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kZXJhdGlvbkZvcm0gey4uLnRoaXMucHJvcHN9IGNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9uRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IHByb3BzLmNhdGVnb3JpZXMsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICBpc19oaWRkZW46IDAsXG4gICAgICBpc19jbG9zZWQ6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZCgpXG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHknLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHlfb2ZmJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IGZhbHNlLFxuICAgICAgICAnaWNvbic6ICdsb2NrX291dGxpbmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IHRydWUsXG4gICAgICAgICdpY29uJzogJ2xvY2snLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmFjbCA9IHt9O1xuICAgIHRoaXMucHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY2xbY2F0ZWdvcnkuaWRdID0ge1xuICAgICAgICAgIGNhbl9waW5fdGhyZWFkczogY2F0ZWdvcnkucG9zdC5waW4sXG4gICAgICAgICAgY2FuX2Nsb3NlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuY2xvc2UsXG4gICAgICAgICAgY2FuX2hpZGVfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5oaWRlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuc3BsaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWQsXG4gICAgICBwb3N0czogdGhpcy5wcm9wcy5zZWxlY3Rpb24ubWFwKChwb3N0KSA9PiBwb3N0LmlkKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0cyB3ZXJlIHNwbGl0IGludG8gbmV3IHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IChldikgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgfTtcblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3JlbW92ZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmtfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpLFxuICAgICAgfVxuICAgIF07XG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgICd2YWx1ZSc6IDIsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzO1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnd2VpZ2h0Jyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGRlbicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2Nsb3NlZCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX0+XG4gICAgICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3RpdGxlJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jYXRlZ29yeX0+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0IHBvc3RzXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvTW9kYWw+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZGVyKCkge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgIDwvTW9kYWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnJvcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHNlbGVjdGVkIHBvc3RzIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiU3BsaXQgcG9zdHMgaW50byBuZXcgdGhyZWFkXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1lcmdlTW9kYWwgZnJvbSAnLi9tZXJnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vdmVNb2RhbCBmcm9tICcuL21vdmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY2FsbEFwaSA9IChvcHMsIHN1Y2Nlc3NNZXNzYWdlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICAvLyBieSB0aGUgY2hhbmNlIHVwZGF0ZSB0aHJlYWQgYWNsIHRvb1xuICAgIG9wcy5wdXNoKHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogdHJ1ZX0pO1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShkYXRhKSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAyXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgZ2xvYmFsbHkuXCIpKTtcbiAgfTtcblxuICBwaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGxvY2FsbHkuXCIpKTtcbiAgfTtcblxuICB1bnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHVucGlubmVkLlwiKSk7XG4gIH07XG5cbiAgYXBwcm92ZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtdW5hcHByb3ZlZCcsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gYXBwcm92ZWQuXCIpKTtcbiAgfTtcblxuICBvcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG9wZW5lZC5cIikpO1xuICB9O1xuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gY2xvc2VkLlwiKSk7XG4gIH07XG5cbiAgdW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1oaWRkZW4nLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1hZGUgdmlzaWJsZS5cIikpO1xuICB9O1xuXG4gIGhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWhpZGRlbicsXG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIGhpZGRlbi5cIikpO1xuICB9O1xuXG4gIG1vdmUgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlTW9kYWxcbiAgICAgICAgcG9zdHM9e3RoaXMucHJvcHMucG9zdHN9XG4gICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAvPlxuICAgICk7XG4gIH07XG5cbiAgbWVyZ2UgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNZXJnZU1vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgKTtcbiAgfTtcblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgdGhyZWFkP1wiKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKTtcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGRlbGV0ZWQuXCIpKVxuICAgICAgd2luZG93LmxvY2F0aW9uID0gdGhpcy5wcm9wcy50aHJlYWQuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfTtcblxuICBnZXRQaW5HbG9iYWxseUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW4gIT09IDIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGJvb2ttYXJrXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIGdsb2JhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluTG9jYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGJvb2ttYXJrX2JvcmRlclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbiBsb2NhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldFVucGluQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDApIHJldHVybiBudWxsO1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbiA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVucGlufVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgcGFub3JhbWFfZmlzaF9leWVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnBpblwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICBnZXRNb3ZlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldE1lcmdlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tZXJnZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm1lcmdlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2FsbF9tZXJnZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFwcHJvdmV9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBkb25lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vcGVufVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vcGVuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT3BlblwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICBnZXRDbG9zZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGxvY2tfb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmlzX2hpZGRlbikgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2hpZGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy51bmhpZGV9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB2aXNpYmlsaXR5XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldEhpZGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2hpZGRlbikgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2hpZGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5oaWRlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgdmlzaWJpbGl0eV9vZmZcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlICE9PSAyKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiPlxuICAgICAgICB7dGhpcy5nZXRQaW5HbG9iYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRQaW5Mb2NhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVucGluQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1vdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TWVyZ2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0QXBwcm92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRPcGVuQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldENsb3NlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVuaGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRIaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IE1vZGVyYXRpb25Db250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcbmltcG9ydCBpc01vZGVyYXRpb25WaXNpYmxlIGZyb20gJy4vaXMtdmlzaWJsZSc7XG5cbmV4cG9ydCB7IE1vZGVyYXRpb25Db250cm9scywgaXNNb2RlcmF0aW9uVmlzaWJsZSB9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRocmVhZCkge1xuICByZXR1cm4gKFxuICAgICh0aHJlYWQuYWNsLmNhbl9hcHByb3ZlICYmIHRocmVhZC5pc191bmFwcHJvdmVkKSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX2Nsb3NlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5faGlkZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX21vdmUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9waW5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVyZ2VQb2xscyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tZXJnZS1wb2xscyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5tZXJnZSwge1xuICAgICAgdGhyZWFkX3VybDogdGhpcy5zdGF0ZS51cmxcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgaGFuZGxlU3VjY2VzcyA9IChzdWNjZXNzKSA9PiB7XG4gICAgdGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkKHN1Y2Nlc3MpO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlU3VjY2Vzc1VubW91bnRlZCA9IChzdWNjZXNzKSA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1lcmdlZCB3aXRoIG90aGVyIG9uZS5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsO1xuICB9O1xuXG4gIGhhbmRsZUVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuXG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5wb2xscykge1xuICAgICAgICBtb2RhbC5zaG93KFxuICAgICAgICAgIDxNZXJnZVBvbGxzXG4gICAgICAgICAgICBhcGk9e3RoaXMucHJvcHMudGhyZWFkLmFwaS5tZXJnZX1cbiAgICAgICAgICAgIGRhdGE9e3t0aHJlYWRfdXJsOiB0aGlzLnN0YXRlLnVybH19XG4gICAgICAgICAgICBwb2xscz17cmVqZWN0aW9uLnBvbGxzfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1lcmdlIHdpdGhcIil9XG4gICAgICAgICAgICAgICAgaGVscF90ZXh0PXtnZXR0ZXh0KFwiTWVyZ2Ugd2lsbCBkZWxldGUgY3VycmVudCB0aHJlYWQgYW5kIG1vdmUgaXRzIGNvbnRlbnRzIHRvIHRoZSB0aHJlYWQgc3BlY2lmaWVkIGhlcmUuXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX0+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfQVBJJykpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGxldCBjYXRlZ29yeSA9IG51bGw7XG5cbiAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAvLyBwaWNrIGZpcnN0IGNhdGVnb3J5IHRoYXQgYWxsb3dzIHBvc3RpbmcgYW5kIGlmIGl0IG1heSwgb3ZlcnJpZGUgaXQgd2l0aCBpbml0aWFsIG9uZVxuICAgICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAhY2F0ZWdvcnkpIHtcbiAgICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICB2YWx1ZTogaXRlbS5pZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnY2F0ZWdvcnknLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeX0sXG4gICAgXSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIC8vIHJlZnJlc2ggdGhyZWFkIGFuZCBkaXNwbGF5ZWQgcG9zdHNcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsIHtwYWdlOiB0aGlzLnByb3BzLnBvc3RzLnBhZ2V9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEucG9zdF9zZXQpKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuXG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbW92ZWQuXCIpKTtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjYXRlZ29yeScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfY2F0ZWdvcnlcIiBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX0+XG4gICAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9PlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsTWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxMb2FkaW5nIC8+XG4gICAgICApO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgdGhyZWFkXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbExvYWRpbmcocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxNZXNzYWdlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aGlzIHRocmVhZCBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxuYXYgY2xhc3NOYW1lPVwibWlzYWdvLXBhZ2luYXRpb24gcHVsbC1sZWZ0XCI+XG4gICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICA8L25hdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXBhZ2luYXRvclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8Rmlyc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8UHJldmlvdXNQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxMYXN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpcnN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMuZmlyc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvblwiXG4gICAgICAgIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4fVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSAnJztcbiAgICBpZiAocHJvcHMucG9zdHMucHJldmlvdXMpIHtcbiAgICAgIHByZXZpb3VzVXJsID0gcHJvcHMucG9zdHMucHJldmlvdXMgKyAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIHByZXZpb3VzVXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXh0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubW9yZSkge1xuICAgIGxldCBuZXh0VXJsID0gJyc7XG4gICAgaWYgKHByb3BzLnBvc3RzLm5leHQpIHtcbiAgICAgIG5leHRVcmwgPSBwcm9wcy5wb3N0cy5uZXh0ICsgJy8nO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBuZXh0VXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubGFzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBwcm9wcy5wb3N0cy5sYXN0ICsgJy8nfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9yZShwcm9wcykge1xuICBsZXQgbWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKG1vcmUpcyBtb3JlIHBvc3QgaW4gdGhpcyB0aHJlYWQuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKG1vcmUpcyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiLFxuICAgICAgcHJvcHMubW9yZSk7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsnbW9yZSc6IHByb3BzLm1vcmV9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoZXJlIGFyZSBubyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiKTtcbiAgfVxuXG4gIHJldHVybiA8cD57bWVzc2FnZX08L3A+O1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ2J0biBidG4tcHJpbWFyeSBidG4tb3V0bGluZSd9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGF0XG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlJlcGx5XCIpfVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBSb3V0ZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWQvcm91dGUnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3BhcnRpY2lwYW50cyc6IHN0b3JlLnBhcnRpY2lwYW50cyxcbiAgICAncG9sbCc6IHN0b3JlLnBvbGwsXG4gICAgJ3Bvc3RzJzogc3RvcmUucG9zdHMsXG4gICAgJ3RocmVhZCc6IHN0b3JlLnRocmVhZCxcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGNvbnN0IHRocmVhZCA9IG1pc2Fnby5nZXQoJ1RIUkVBRCcpO1xuICBjb25zdCBiYXNlUGF0aCA9IHRocmVhZC51cmwuaW5kZXgucmVwbGFjZSh0aHJlYWQuc2x1ZyArICctJyArIHRocmVhZC5waywgJzpzbHVnJyk7XG5cbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogYmFzZVBhdGggKyAnOnBhZ2UvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH1cbiAgXTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYXJ0aWNpcGFudHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IFBvbGwgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdHNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUb29sYmFyVG9wIGZyb20gJy4vdG9vbGJhci10b3AnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUb29sYmFyQm90dG9tIGZyb20gJy4vdG9vbGJhci1ib3R0b20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKTtcbiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wUG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgc2hvdWxkRmV0Y2hEYXRhKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgICBjb25zdCBwYWdlID0gKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxO1xuICAgICAgcmV0dXJuIHBhZ2UgIT0gdGhpcy5wcm9wcy5wb3N0cy5wYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnVubG9hZCgpKTtcblxuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCwge1xuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxXG4gICAgfSwgJ3Bvc3RzJykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZ0FwaSgpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAndGhyZWFkLXBvc3RzJyxcblxuICAgICAgdXJsOiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG5cbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIGRlbGF5ZWQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHN0b3BQb2xsaW5nQXBpKCkge1xuICAgIHBvbGxzLnN0b3AoJ3RocmVhZC1wb3N0cycpO1xuICB9XG5cbiAgc2V0UGFnZVRpdGxlKCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5Lm5hbWUsXG4gICAgICBwYWdlOiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxKSAqIDFcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSk7XG5cbiAgICBpZiAoZGF0YS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEucG9sbCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEucG9sbCkpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gIH07XG5cbiAgb3BlblJlcGx5Rm9ybSA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1JFUExZJyxcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXhcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS10aHJlYWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPEhlYWRlciB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICA8VG9vbGJhclRvcFxuICAgICAgICAgIG9wZW5SZXBseUZvcm09e3RoaXMub3BlblJlcGx5Rm9ybX1cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgICAgPFBvbGxcbiAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgIC8+XG4gICAgICAgIDxQYXJ0aWNpcGFudHNcbiAgICAgICAgICBwYXJ0aWNpcGFudHM9e3RoaXMucHJvcHMucGFydGljaXBhbnRzfVxuICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuICAgICAgICA8UG9zdHNMaXN0IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICA8VG9vbGJhckJvdHRvbVxuICAgICAgICAgIG9wZW5SZXBseUZvcm09e3RoaXMub3BlblJlcGx5Rm9ybX1cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgLz5cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGUgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge2dldEljb24ocHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAge2dldExhYmVsKHByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24pfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8RHJvcGRvd24gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihzdWJzY3JpcHRpb24pIHtcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiAnc3Rhcic7XG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybiAnc3Rhcl9oYWxmJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJ3N0YXJfYm9yZGVyJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFiZWwoc3Vic2NyaXB0aW9uKSB7XG4gIGlmIChzdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkUtbWFpbFwiKTtcbiAgfSBlbHNlIGlmIChzdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJFbmFibGVkXCIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRGlzYWJsZWRcIik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERyb3Bkb3duKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT17cHJvcHMuZHJvcGRvd25DbGFzc05hbWUgfHwgXCJkcm9wZG93bi1tZW51XCJ9PlxuICAgICAgPERpc2FibGUgey4uLnByb3BzfSAvPlxuICAgICAgPEVuYWJsZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RW1haWwgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBEaXNhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCBudWxsLCAndW5zdWJzY3JpYmUnKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3Rhcl9ib3JkZXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW5hYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgZmFsc2UsICdub3RpZnknKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3Rhcl9oYWxmXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbWFpbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgdHJ1ZSwgJ2VtYWlsJyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHN0YXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmUgd2l0aCBlLW1haWxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZSh0aHJlYWQsIG5ld1N0YXRlLCB2YWx1ZSkge1xuICBjb25zdCBvbGRTdGF0ZSA9IHtcbiAgICBzdWJzY3JpcHRpb246IHRocmVhZC5zdWJzY3JpcHRpb25cbiAgfTtcblxuICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnVwZGF0ZSh7XG4gICAgc3Vic2NyaXB0aW9uOiBuZXdTdGF0ZVxuICB9KSk7XG5cbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAge29wOiAncmVwbGFjZScsIHBhdGg6ICdzdWJzY3JpcHRpb24nLCB2YWx1ZTogdmFsdWV9XG4gIF0pLnRoZW4oKGZpbmFsU3RhdGUpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnVwZGF0ZShmaW5hbFN0YXRlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnVwZGF0ZShvbGRTdGF0ZSkpO1xuICB9KTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGFnZXIsIE1vcmUgfSBmcm9tICcuL3BhZ2luYXRvcic7XG5pbXBvcnQgUG9zdHNNb2RlcmF0aW9uIGZyb20gJy4vbW9kZXJhdGlvbi9wb3N0cyc7XG5pbXBvcnQgUmVwbHlCdXR0b24gZnJvbSAnLi9yZXBseS1idXR0b24nO1xuaW1wb3J0IFN1YnNjcmlwdGlvblN3aXRjaCBmcm9tICcuL3N1YnNjcmlwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIHRleHQtY2VudGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlclwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC01XCI+XG4gICAgICAgICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLW1kLTcgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPE9wdGlvbnMgdmlzaWJsZT17ISFwcm9wcy51c2VyLmlkfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlciBoaWRkZW4tbWQgaGlkZGVuLWxnXCIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8U3BhY2VyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8TW9kZXJhdGlvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFN1YnNjcmlwdGlvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlcGx5XG4gICAgICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9wZW5SZXBseUZvcm19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L09wdGlvbnM+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25zKHByb3BzKSB7XG4gIGlmICghcHJvcHMudmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC01XCI+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGVyYXRpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICA8UG9zdHNNb2RlcmF0aW9uIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBTdWJzY3JpcHRpb24ocHJvcHMpIHtcbiAgbGV0IHhzQ2xhc3MgPSBcImNvbC14cy02XCI7XG4gIGlmICghcHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHtcbiAgICB4c0NsYXNzID0gJ2NvbC14cy0xMic7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXt4c0NsYXNzICsgXCIgY29sLXNtLTRcIn0+XG4gICAgICA8U3Vic2NyaXB0aW9uU3dpdGNoXG4gICAgICAgIGJ0bkNsYXNzTmFtZT1cImJ0bi1ibG9ja1wiXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3B1cFwiXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTYgY29sLXNtLTRcIj5cbiAgICAgIDxSZXBseUJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTcGFjZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGhpZGRlbi1zbSBjb2wtc20tNFwiPjwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVwbHlCdXR0b24gZnJvbSAnLi9yZXBseS1idXR0b24nO1xuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tICcuL3N1YnNjcmlwdGlvbic7XG5pbXBvcnQgQWRkUGFydGljaXBhbnRNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnQnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IGhpZGRlblNwZWNpYWxPcHRpb24gPSAoXG4gICAgIXByb3BzLnRocmVhZC5hY2wuY2FuX2FkZF9wYXJ0aWNpcGFudHMgJiYgKCFwcm9wcy50aHJlYWQuYWNsLmNhbl9zdGFydF9wb2xsIHx8IHByb3BzLnRocmVhZC5wb2xsKSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhciByb3ctdG9vbGJhci1ib3R0b20tbWFyZ2luXCI+XG4gICAgICA8R290b01lbnUgey4uLnByb3BzfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOSBjb2wtbWQtNSBjb2wtbWQtb2Zmc2V0LTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8U3BhY2VyIHZpc2libGU9eyFwcm9wcy51c2VyLmlkfSAvPlxuICAgICAgICAgIDxTcGFjZXIgdmlzaWJsZT17aGlkZGVuU3BlY2lhbE9wdGlvbn0gLz5cbiAgICAgICAgICA8U3Vic2NyaXB0aW9uTWVudSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFN0YXJ0UG9sbCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPEFkZFBhcnRpY2lwYW50IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8UmVwbHkgey4uLnByb3BzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b01lbnUocHJvcHMpIHtcbiAgY29uc3QgeyB1c2VyIH0gPSBwcm9wcztcblxuICBsZXQgY2xhc3NOYW1lID0gJ2NvbC14cy0zIGNvbC1zbS0zIGNvbC1tZC01JztcbiAgaWYgKHVzZXIuaXNfYW5vbnltb3VzKSB7XG4gICAgY2xhc3NOYW1lID0gJ2NvbC14cy0xMiBjb2wtc20tMyBjb2wtbWQtNSc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICA8R290b0xhc3QgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxHb3RvTmV3IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8R290b1VuYXBwcm92ZWQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxDb21wYWN0T3B0aW9ucyB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmlzX25ldykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoJ0dvIHRvIGZpcnN0IG5ldyBwb3N0Jyl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiTmV3XCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b1VuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMgfHwgIXByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC51bmFwcHJvdmVkX3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dCgnR28gdG8gZmlyc3QgdW5hcHByb3ZlZCBwb3N0Jyl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9MYXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dCgnR28gdG8gbGFzdCBwb3N0Jyl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiTGFzdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBhY3RPcHRpb25zKHByb3BzKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gcHJvcHM7XG4gIGlmICh1c2VyLmlzX2Fub255bW91cykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJMYXN0IHBvc3RcIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd24gdmlzaWJsZS14cy1ibG9jayB2aXNpYmxlLXNtLWJsb2NrXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGV4cGFuZF9tb3JlXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQgaGlkZGVuLXhzXCI+XG4gICAgICAgICAge2dldHRleHQoXCJPcHRpb25zXCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgIDxTdGFydFBvbGxDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPEFkZFBhcnRpY2lwYW50Q29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxHb3RvTmV3Q29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxHb3RvVW5hcHByb3ZlZENvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgICA8R290b0xhc3RDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3Q29tcGFjdChwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5pc19uZXcpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJHbyB0byBmaXJzdCBuZXcgcG9zdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b1VuYXBwcm92ZWRDb21wYWN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzIHx8ICFwcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwudW5hcHByb3ZlZF9wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHVuYXBwcm92ZWQgcG9zdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b0xhc3RDb21wYWN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwb3N0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICA8UmVwbHlCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9wZW5SZXBseUZvcm19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWVudShwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTRcIj5cbiAgICAgIDxTdWJzY3JpcHRpb25cbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd25cIlxuICAgICAgICBkcm9wZG93bkNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFN0YXJ0UG9sbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6ICdQT0xMJyxcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvbGwsXG5cbiAgICAgIHRocmVhZDogdGhpcy5wcm9wcy50aHJlYWQsXG4gICAgICBwb2xsOiBudWxsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3N0YXJ0X3BvbGwgfHwgdGhpcy5wcm9wcy50aHJlYWQucG9sbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBwb2xsXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBvbGxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhcnRQb2xsQ29tcGFjdCBleHRlbmRzIFN0YXJ0UG9sbCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCB0aGlzLnByb3BzLnRocmVhZC5wb2xsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwb2xsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWRkUGFydGljaXBhbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8QWRkUGFydGljaXBhbnRNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2FkZF9wYXJ0aWNpcGFudHMpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBwZXJzb25fYWRkXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBhcnRpY2lwYW50XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFkZFBhcnRpY2lwYW50Q29tcGFjdCBleHRlbmRzIEFkZFBhcnRpY2lwYW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9hZGRfcGFydGljaXBhbnRzKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBhcnRpY2lwYW50XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3BhY2VyKHByb3BzKSB7XG4gIGlmICghcHJvcHMudmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiLz5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9lbXB0eSc7XG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5JztcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5pc0xvYWRlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlzdFByZXZpZXcgLz5cbiAgICApO1xuICB9XG5cbiAgaWYgKHByb3BzLnRocmVhZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaXN0RW1wdHlcbiAgICAgICAgZGlmZlNpemU9e3Byb3BzLmRpZmZTaXplfVxuICAgICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cbiAgICAgID5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9MaXN0RW1wdHk+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExpc3RSZWFkeVxuICAgICAgYWN0aXZlQ2F0ZWdvcnk9e3Byb3BzLmNhdGVnb3J5fVxuICAgICAgY2F0ZWdvcmllcz17cHJvcHMuY2F0ZWdvcmllc31cbiAgICAgIGxpc3Q9e3Byb3BzLmxpc3R9XG4gICAgICB0aHJlYWRzPXtwcm9wcy50aHJlYWRzfVxuXG4gICAgICBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9XG4gICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cblxuICAgICAgc2hvd09wdGlvbnM9e3Byb3BzLnNob3dPcHRpb25zfVxuICAgICAgc2VsZWN0aW9uPXtwcm9wcy5zZWxlY3Rpb259XG5cbiAgICAgIGJ1c3lUaHJlYWRzPXtwcm9wcy5idXN5VGhyZWFkc31cbiAgICAvPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHsgZGlmZlNpemUsIGFwcGx5RGlmZiB9ID0gcHJvcHM7XG5cbiAgaWYgKGRpZmZTaXplID09PSAwKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkcy1kaWZmLW1lc3NhZ2VcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHRcIlxuICAgICAgICBvbkNsaWNrPXthcHBseURpZmZ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBjYWNoZWRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkaWZmLW1lc3NhZ2VcIj5cbiAgICAgICAgICB7Z2V0TWVzc2FnZShkaWZmU2l6ZSl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlKGRpZmZTaXplKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIlRoZXJlIGlzICUodGhyZWFkcylzIG5ldyBvciB1cGRhdGVkIHRocmVhZC4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgaXQuXCIsXG4gICAgXCJUaGVyZSBhcmUgJSh0aHJlYWRzKXMgbmV3IG9yIHVwZGF0ZWQgdGhyZWFkcy4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgdGhlbS5cIixcbiAgICBkaWZmU2l6ZSk7XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICB0aHJlYWRzOiBkaWZmU2l6ZVxuICB9LCB0cnVlKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERpZmZNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldERpZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpZmZTaXplID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPERpZmZNZXNzYWdlXG4gICAgICAgIGFwcGx5RGlmZj17dGhpcy5wcm9wcy5hcHBseURpZmZ9XG4gICAgICAgIGRpZmZTaXplPXt0aGlzLnByb3BzLmRpZmZTaXplfVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5nZXREaWZmTWVzc2FnZSgpfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUaHJlYWRQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIDxUaHJlYWRQcmV2aWV3IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERpZmZNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRocmVhZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIDxEaWZmTWVzc2FnZVxuICAgICAgICAgIGRpZmZTaXplPXtwcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cbiAgICAgICAgLz5cbiAgICAgICAge3Byb3BzLnRocmVhZHMubWFwKCh0aHJlYWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRocmVhZFxuICAgICAgICAgICAgICBhY3RpdmVDYXRlZ29yeT17cHJvcHMuYWN0aXZlQ2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3Byb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIGxpc3Q9e3Byb3BzLmxpc3R9XG4gICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuXG4gICAgICAgICAgICAgIHNob3dPcHRpb25zPXtwcm9wcy5zaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgaXNTZWxlY3RlZD17cHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwfVxuXG4gICAgICAgICAgICAgIGlzQnVzeT17cHJvcHMuYnVzeVRocmVhZHMuaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG4gICAgICAgICAgICAgIGtleT17dGhyZWFkLmlkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICcuL2NhdGVnb3J5JztcbmltcG9ydCB7IE9wdGlvbnNYcyB9IGZyb20gJy4uL29wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7Y2F0ZWdvcnksIGlzQnVzeSwgc2hvd09wdGlvbnMsIGlzU2VsZWN0ZWQsIHRocmVhZH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdjb2wteHMtMTIgY29sLXNtLTEyJztcbiAgaWYgKHNob3dPcHRpb25zKSB7XG4gICAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lID0gJ2NvbC14cy02IGNvbC1zbS0xMic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9ICdjb2wteHMtOSBjb2wtc20tMTInO1xuICAgIH1cbiAgfVxuXG4gIGxldCBzdGF0dXNGbGFncyA9IDA7XG4gIGlmICh0aHJlYWQuaXNfaGlkZGVuKSBzdGF0dXNGbGFncyArPSAxO1xuICBpZiAodGhyZWFkLmlzX2Nsb3NlZCkgc3RhdHVzRmxhZ3MgKz0gMTtcbiAgaWYgKHRocmVhZC5oYXNfcG9sbCkgc3RhdHVzRmxhZ3MgKz0gMTtcblxuICBsZXQgYWxsRmxhZ3NWaXNpYmxlID0gc2hvd09wdGlvbnMgJiYgc3RhdHVzRmxhZ3MgPT09IDM7XG5cbiAgbGV0IHRleHRDbGFzc05hbWUgPSAnZGV0YWlsLXRleHQgaGlkZGVuLXhzJztcbiAgaWYgKGFsbEZsYWdzVmlzaWJsZSkge1xuICAgIHRleHRDbGFzc05hbWUgKz0gJyBoaWRkZW4tc20nXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1kZXRhaWxzLWJvdHRvbVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxDYXRlZ29yeVxuICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLWRldGFpbC1jYXRlZ29yeSBoaWRkZW4teHNcIlxuICAgICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgICAgLz5cbiAgICAgICAgPEhpZGRlbkxhYmVsXG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgICBkaXNwbGF5PXt0aHJlYWQuaXNfaGlkZGVufVxuICAgICAgICAvPlxuICAgICAgICA8Q2xvc2VkTGFiZWxcbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAgIGRpc3BsYXk9e3RocmVhZC5pc19jbG9zZWR9XG4gICAgICAgIC8+XG4gICAgICAgIDxQb2xsTGFiZWxcbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAgIGRpc3BsYXk9e3RocmVhZC5oYXNfcG9sbH1cbiAgICAgICAgLz5cbiAgICAgICAgPFJlcGxpZXNMYWJlbFxuICAgICAgICAgIGZvcmNlRnVsbFRleHQ9eyFzaG93T3B0aW9ucyB8fCBzdGF0dXNGbGFncyA8IDJ9XG4gICAgICAgICAgcmVwbGllcz17dGhyZWFkLnJlcGxpZXN9XG4gICAgICAgIC8+XG4gICAgICAgIDxMYXN0UmVwbHlMYWJlbFxuICAgICAgICAgIGRhdGV0aW1lPXt0aHJlYWQubGFzdF9wb3N0X29ufVxuICAgICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgIC8+XG4gICAgICAgIDxMYXN0UG9zdGVyXG4gICAgICAgICAgcG9zdGVyTmFtZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8T3B0aW9uc1hzXG4gICAgICAgIGRpc2FibGVkPXtpc0J1c3l9XG4gICAgICAgIGRpc3BsYXk9e3Nob3dPcHRpb25zfVxuICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW5MYWJlbCh7IGRpc3BsYXksIHRleHRDbGFzc05hbWUgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1oaWRkZW5cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgdmlzaWJpbGl0eV9vZmZcbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0+XG4gICAgICAgIHtnZXR0ZXh0KFwiSGlkZGVuXCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2xvc2VkTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtY2xvc2VkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGxvY2tfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfT5cbiAgICAgICAge2dldHRleHQoXCJDbG9zZWRcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtcG9sbFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBhc3Nlc3NtZW50XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHRDbGFzc05hbWV9PlxuICAgICAgICB7Z2V0dGV4dChcIlBvbGxcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBsaWVzTGFiZWwoeyByZXBsaWVzLCBmb3JjZUZ1bGxUZXh0IH0pIHtcbiAgY29uc3QgdGV4dCA9IG5nZXR0ZXh0KFxuICAgIFwiJShyZXBsaWVzKXMgcmVwbHlcIixcbiAgICBcIiUocmVwbGllcylzIHJlcGxpZXNcIixcbiAgICByZXBsaWVzKTtcblxuICBsZXQgY29tcGFjdENsYXNzTmFtZSA9ICcnO1xuICBsZXQgZnVsbENsYXNzTmFtZSA9ICcnO1xuXG4gIGlmIChmb3JjZUZ1bGxUZXh0KSB7XG4gICAgY29tcGFjdENsYXNzTmFtZSA9ICdkZXRhaWwtdGV4dCBoaWRlJztcbiAgICBmdWxsQ2xhc3NOYW1lID0gJ2RldGFpbC10ZXh0JztcbiAgfSBlbHNlIHtcbiAgICBjb21wYWN0Q2xhc3NOYW1lID0gJ2RldGFpbC10ZXh0IHZpc2libGUteHMtaW5saW5lLWJsb2NrJztcbiAgICBmdWxsQ2xhc3NOYW1lID0gJ2RldGFpbC10ZXh0IGhpZGRlbi14cyc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtcmVwbGllc1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3J1bVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjb21wYWN0Q2xhc3NOYW1lfT5cbiAgICAgICAge3JlcGxpZXN9XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e2Z1bGxDbGFzc05hbWV9PlxuICAgICAgICB7aW50ZXJwb2xhdGUodGV4dCwgeyByZXBsaWVzIH0sIHRydWUpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5TGFiZWwoeyBkYXRldGltZSwgdXJsIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS1zbS1pbmxpbmUtYmxvY2sgdGhyZWFkLWRldGFpbC1sYXN0LXJlcGx5XCJcbiAgICAgIGhyZWY9e3VybH1cbiAgICAgIHRpdGxlPXtkYXRldGltZS5mb3JtYXQoJ0xMTCcpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHM7XG4gIGNvbnN0IGNsYXNzTmFtZSA9ICd2aXNpYmxlLXNtLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3Rlcic7XG5cbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17dXJsfT5cbiAgICAgICAge3Bvc3Rlck5hbWV9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge3Bvc3Rlck5hbWV9XG4gICAgPC9zcGFuPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIGNsYXNzTmFtZSB9KSB7XG4gIGlmICghY2F0ZWdvcnkpIHJldHVybiBudWxsO1xuXG4gIGlmIChjYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gJyB0aHJlYWQtZGV0YWlsLWNhdGVnb3J5LScgKyBjYXRlZ29yeS5jc3NfY2xhc3M7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXtjYXRlZ29yeS5hYnNvbHV0ZV91cmx9PlxuICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgPC9hPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBCb3R0b21EZXRhaWxzIGZyb20gJy4vYm90dG9tJztcbmltcG9ydCBUb3BEZXRhaWxzIGZyb20gJy4vdG9wJztcblxuZXhwb3J0IHsgQm90dG9tRGV0YWlscyB9O1xuZXhwb3J0IHsgVG9wRGV0YWlscyB9OyIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSAnLi9jYXRlZ29yeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy10b3BcIj5cbiAgICAgIDxOZXdMYWJlbFxuICAgICAgICBpc1JlYWQ9e3RocmVhZC5pc19yZWFkfVxuICAgICAgICB1cmw9e3RocmVhZC51cmwubmV3X3Bvc3R9XG4gICAgICAvPlxuICAgICAgPFBpbm5lZExhYmVsIHdlaWdodD17dGhyZWFkLndlaWdodH0gLz5cbiAgICAgIDxVbmFwcHJvdmVkTGFiZWxcbiAgICAgICAgdGhyZWFkPXt0aHJlYWQuaXNfdW5hcHByb3ZlZH1cbiAgICAgICAgcG9zdHM9e3RocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0c31cbiAgICAgIC8+XG4gICAgICA8Q2F0ZWdvcnlcbiAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtZGV0YWlsLWNhdGVnb3J5IHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5fVxuICAgICAgLz5cbiAgICAgIDxMYXN0UmVwbHlMYWJlbFxuICAgICAgICBkYXRldGltZT17dGhyZWFkLmxhc3RfcG9zdF9vbn1cbiAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgIC8+XG4gICAgICA8TGFzdFBvc3RlclxuICAgICAgICBwb3N0ZXJOYW1lPXt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5ld0xhYmVsKHsgaXNSZWFkLCB1cmwgfSkge1xuICBpZiAoaXNSZWFkKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLW5ld1wiXG4gICAgICBocmVmPXt1cmx9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjb21tZW50XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPlxuICAgICAgICB7Z2V0dGV4dChcIk5ldyBwb3N0c1wiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBpbm5lZExhYmVsKHsgd2VpZ2h0IH0pIHtcbiAgaWYgKHdlaWdodCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICd0aHJlYWQtZGV0YWlsLXBpbm5lZC1nbG9iYWxseSdcbiAgbGV0IGljb24gPSAnYm9va21hcmsnO1xuICBsZXQgdGV4dCA9IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIik7XG5cbiAgaWYgKHdlaWdodCA9PT0gMSkge1xuICAgIGNsYXNzTmFtZSA9ICd0aHJlYWQtZGV0YWlsLXBpbm5lZC1sb2NhbGx5J1xuICAgIGljb24gPSAnYm9va21hcmtfYm9yZGVyJztcbiAgICB0ZXh0ID0gZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHtpY29ufVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGV0YWlsLXRleHRcIj5cbiAgICAgICAge3RleHR9XG4gICAgICA8L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmFwcHJvdmVkTGFiZWwoeyBwb3N0cywgdGhyZWFkIH0pIHtcbiAgaWYgKCFwb3N0cyAmJiAhdGhyZWFkKSByZXR1cm4gbnVsbDtcblxuICBsZXQgY2xhc3NOYW1lID0gJ3RocmVhZC1kZXRhaWwtdW5hcHByb3ZlZC1wb3N0cydcbiAgbGV0IGljb24gPSAncmVtb3ZlX2NpcmNsZV9vdXRsaW5lJztcbiAgbGV0IHRleHQgPSBnZXR0ZXh0KFwiVW5hcHByb3ZlZCBwb3N0c1wiKTtcblxuICBpZiAodGhyZWFkKSB7XG4gICAgY2xhc3NOYW1lID0gJ3RocmVhZC1kZXRhaWwtdW5hcHByb3ZlZCdcbiAgICBpY29uID0gJ3JlbW92ZV9jaXJjbGUnO1xuICAgIHRleHQgPSBnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7aWNvbn1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+XG4gICAgICAgIHt0ZXh0fVxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5TGFiZWwoeyBkYXRldGltZSwgdXJsIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgdGhyZWFkLWRldGFpbC1sYXN0LXJlcGx5XCJcbiAgICAgIGhyZWY9e3VybH1cbiAgICAgIHRpdGxlPXtkYXRldGltZS5mb3JtYXQoJ0xMTCcpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHM7XG5cbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG4gICAgICAgIGhyZWY9e3VybH1cbiAgICAgID5cbiAgICAgICAge3Bvc3Rlck5hbWV9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgaXRlbS10aXRsZSB0aHJlYWQtbGFzdC1wb3N0ZXJcIj5cbiAgICAgIHtwb3N0ZXJOYW1lfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IFVzZXJVcmwgZnJvbSAnLi91c2VyLXVybCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1wb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0ZXJ9XG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIlxuICAgICAgICAgICAgc2l6ZT17NDB9XG4gICAgICAgICAgICB1c2VyPXt0aHJlYWQubGFzdF9wb3N0ZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Vc2VyVXJsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICA+XG4gICAgICAgICAge3RocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgICA8L1VzZXJVcmw+XG4gICAgICAgIDxUaW1lc3RhbXBcbiAgICAgICAgICBkYXRldGltZT17dGhyZWFkLmxhc3RfcG9zdF9vbn1cbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUaW1lc3RhbXAoeyBkYXRldGltZSwgdXJsIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidGhyZWFkLWxhc3QtcmVwbHlcIlxuICAgICAgaHJlZj17dXJsfVxuICAgICAgdGl0bGU9e2RhdGV0aW1lLmZvcm1hdCgnTExMJyl9XG4gICAgPlxuICAgICAge2RhdGV0aW1lLmZyb21Ob3codHJ1ZSl9XG4gICAgPC9hPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU3Vic2NyaXB0aW9uQ29tcGFjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9jb21wYWN0JztcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwnO1xuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25zKHsgZGlzcGxheSwgZGlzYWJsZWQsIGlzU2VsZWN0ZWQsIHRocmVhZCB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGw7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICdjb2wtc20tMiBjb2wtbWQtMiBoaWRkZW4teHMnO1xuICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgY2xhc3NOYW1lID0gJ2NvbC1zbS0zIGNvbC1tZC0yIGhpZGRlbi14cyc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGhyZWFkLW9wdGlvbnNcIj5cbiAgICAgICAgPFN1YnNjcmlwdGlvbkZ1bGxcbiAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIC8+XG4gICAgICAgIDxTdWJzY3JpcHRpb25Db21wYWN0XG4gICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAvPlxuICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbnNYcyh7IGRpc3BsYXksIGRpc2FibGVkLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsO1xuXG4gIGxldCBjbGFzc05hbWUgPSAnJ1xuICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgY2xhc3NOYW1lICs9ICdjb2wteHMtNic7XG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9ICdjb2wteHMtMyc7XG4gIH1cbiAgY2xhc3NOYW1lICs9ICcgdmlzaWJsZS14cy1ibG9jayB0aHJlYWQtb3B0aW9ucy14cyc7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1vcHRpb25zXCI+XG4gICAgICAgIDxTdWJzY3JpcHRpb25GdWxsXG4gICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAvPlxuICAgICAgICA8U3Vic2NyaXB0aW9uQ29tcGFjdFxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgLz5cbiAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja2JveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHRvZ2dsZVNlbGVjdGlvbiA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuaXRlbSh0aGlzLnByb3BzLnRocmVhZC5pZCkpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRpc2FibGVkLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIXRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3Rpb259XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge2lzU2VsZWN0ZWQgPyAnY2hlY2tfYm94JyA6ICdjaGVja19ib3hfb3V0bGluZV9ibGFuayd9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkLXByZXZpZXdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy10b3AgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwifX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIn19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIn19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHQgaGlkZGVuLXhzXCJcbiAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNjAsIDIwMCkgKyBcInB4XCJ9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0IGhpZGRlbi14c1wiXG4gICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDYwLCAyMDApICsgXCJweFwifX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWxzLWJvdHRvbVwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIn19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwifX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IHsgQm90dG9tRGV0YWlscywgVG9wRGV0YWlscyB9IGZyb20gJy4vZGV0YWlscyc7XG5pbXBvcnQgTGFzdEFjdGlvbiBmcm9tICcuL2xhc3QtYWN0aW9uJztcbmltcG9ydCB7IE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IFVzZXJVcmwgZnJvbSAnLi91c2VyLXVybCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVDYXRlZ29yeSxcbiAgICBjYXRlZ29yaWVzLFxuICAgIGxpc3QsXG4gICAgdGhyZWFkLFxuXG4gICAgaXNCdXN5LFxuICAgIGlzU2VsZWN0ZWQsXG4gICAgc2hvd09wdGlvbnMsXG4gIH0gPSBwcm9wcztcblxuICBsZXQgY2F0ZWdvcnkgPSBudWxsO1xuICBpZiAoYWN0aXZlQ2F0ZWdvcnkuaWQgIT09IHRocmVhZC5jYXRlZ29yeSkge1xuICAgIGNhdGVnb3J5ID0gY2F0ZWdvcmllc1t0aHJlYWQuY2F0ZWdvcnldO1xuICB9XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICd0aHJlYWQtbWFpbiBjb2wteHMtMTInO1xuICBpZiAoc2hvd09wdGlvbnMpIHtcbiAgICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBjb2wtc20tOSBjb2wtbWQtNyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnIGNvbC1zbS0xMCBjb2wtbWQtNyc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSAnIGNvbC1zbS0xMiBjb2wtbWQtOSc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aHJlYWQuaXNfcmVhZCwgaXNCdXN5LCBpc1NlbGVjdGVkKX0+XG4gICAgICA8VG9wRGV0YWlsc1xuICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1yb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnQgaGlkZGVuLXhzXCI+XG5cbiAgICAgICAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtc3RhcnRlci1hdmF0YXJcIlxuICAgICAgICAgICAgICAgIHVybD17dGhyZWFkLnVybC5zdGFydGVyfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICAgICAgc2l6ZT17NDB9XG4gICAgICAgICAgICAgICAgICB1c2VyPXt0aHJlYWQuc3RhcnRlcn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L1VzZXJVcmw+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dGhyZWFkLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhyZWFkLnRpdGxlfVxuICAgICAgICAgICAgICA8L2E+XG5cbiAgICAgICAgICAgICAgPEJvdHRvbURldGFpbHNcbiAgICAgICAgICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgIHNob3dPcHRpb25zPXtzaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbSB0aHJlYWQtbGFzdC1hY3Rpb25cIj5cbiAgICAgICAgICA8TGFzdEFjdGlvbiB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICBkaXNwbGF5PXtzaG93T3B0aW9uc31cbiAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZShpc1JlYWQsIGlzQnVzeSwgaXNTZWxlY3RlZCkge1xuICBsZXQgc3R5bGVzID0gWydsaXN0LWdyb3VwLWl0ZW0nXTtcblxuICBpZiAoaXNSZWFkKSB7XG4gICAgc3R5bGVzLnB1c2goJ3RocmVhZC1yZWFkJyk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGVzLnB1c2goJ3RocmVhZC1uZXcnKTtcbiAgfVxuXG4gIGlmIChpc0J1c3kpIHtcbiAgICBzdHlsZXMucHVzaCgndGhyZWFkLWJ1c3knKTtcbiAgfSBlbHNlIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgc3R5bGVzLnB1c2goJ3RocmVhZC1zZWxlY3RlZCcpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlcy5qb2luKCcgJyk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3Vic2NyaXB0aW9uRnVsbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgT3B0aW9uc01vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgU3Vic2NyaXB0aW9uRnVsbCB7XG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd09wdGlvbnMgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8T3B0aW9uc01vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGNvbnN0IHsgbW9kZXJhdGlvbiB9ID0gdGhpcy5wcm9wcy50aHJlYWQ7XG5cbiAgICBsZXQgY2xhc3NOYW1lID0gJydcbiAgICBpZiAobW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnY29sLXhzLTYnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gJ2NvbC14cy0xMic7XG4gICAgfVxuICAgIGNsYXNzTmFtZSArPSAnIGhpZGRlbi1tZCBoaWRkZW4tbGcnO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd09wdGlvbnN9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgT3B0aW9ucyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnc3Rhcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gJ3N0YXJfaGFsZic7XG4gICAgfVxuXG4gICAgcmV0dXJuICdzdGFyX2JvcmRlcic7XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGJ0bi1zdWJzY3JpYmUtZnVsbCBkcm9wZG93bi10b2dnbGVcIjtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYmxvY2sgYnRuLXN1YnNjcmliZSBidG4tc3Vic2NyaWJlLWhhbGYgZHJvcGRvd24tdG9nZ2xlXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGRyb3Bkb3duLXRvZ2dsZVwiO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbW9kZXJhdGlvbiwgc3Vic2NyaXB0aW9uIH0gPSB0aGlzLnByb3BzLnRocmVhZDtcbiAgICBjb25zdCBmdWxsd2lkdGggPSAhbW9kZXJhdGlvbi5sZW5ndGg7XG5cbiAgICBsZXQgY2xhc3NOYW1lID0gZnVsbHdpZHRoID8gJ2NvbC14cy0xMicgOiAnY29sLXhzLTYnO1xuICAgIGNsYXNzTmFtZSArPSAnIGhpZGRlbi14cyBoaWRkZW4tc20nO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPExhYmVsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbj17bW9kZXJhdGlvbn1cbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb249e3N1YnNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhYmVsKHsgbW9kZXJhdGlvbiwgc3Vic2NyaXB0aW9uIH0pIHtcbiAgaWYgKG1vZGVyYXRpb24ubGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuICBsZXQgdGV4dCA9IGdldHRleHQoXCJEaXNhYmxlZFwiKTtcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHRleHQgPSBnZXR0ZXh0KFwiRS1tYWlsXCIpO1xuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICB0ZXh0ID0gZ2V0dGV4dChcIkVuYWJsZWRcIik7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0XCI+XG4gICAgICB7dGV4dH1cbiAgICA8L3NwYW4+XG4gICk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBPcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHN1YnNjcmlwdGlvblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8T3B0aW9ucyBjbGFzc05hbWU9XCJtb2RhbC1tZW51XCIgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0vPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuY29uc3QgU1RBVEVfVVBEQVRFUyA9IHtcbiAgJ3Vuc3Vic2NyaWJlJzogbnVsbCxcbiAgJ25vdGlmeSc6IGZhbHNlLFxuICAnZW1haWwnOiB0cnVlXG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2V0U3Vic2NyaXB0aW9uID0gKG5ld1N0YXRlKSA9PiB7XG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGxldCBvbGRTdGF0ZSA9IHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbjtcblxuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbbmV3U3RhdGVdXG4gICAgfSkpO1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnc3Vic2NyaXB0aW9uJywgdmFsdWU6IG5ld1N0YXRlfVxuICAgIF0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICAgIHN1YnNjcmlwdGlvbjogU1RBVEVfVVBEQVRFU1tvbGRTdGF0ZV1cbiAgICAgIH0pKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oJ3Vuc3Vic2NyaWJlJyk7XG4gIH07XG5cbiAgbm90aWZ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKCdub3RpZnknKTtcbiAgfTtcblxuICBlbWFpbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbignZW1haWwnKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVuc3Vic2NyaWJlfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2JvcmRlclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuc3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm5vdGlmeX0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3Rhcl9oYWxmXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmVtYWlsfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlIHdpdGggZS1tYWlsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgdXJsIH0pIHtcbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17dXJsfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3NwYW4+XG4gICk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFN1YmNhdGVnb3J5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXJsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmxpc3RQYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmwgKyB0aGlzLnByb3BzLmxpc3RQYXRoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8TGluayB0bz17dGhpcy5nZXRVcmwoKX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duIGNhdGVnb3J5LXBpY2tlclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2tcIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbGFiZWxfb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4teHNcIj57Z2V0dGV4dChcIkNhdGVnb3J5XCIpfTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbSBjYXRlZ29yaWVzLW1lbnVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaWQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3JpZXNbaWRdKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFN1YmNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yaWVzW2lkXX1cbiAgICAgICAgICAgICAgICAgIGxpc3RQYXRoPXt0aGlzLnByb3BzLmxpc3QucGF0aH1cbiAgICAgICAgICAgICAgICAgIGtleT17aWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKSB7XG4gIGlmIChhLmxhc3RfcG9zdCA+IGIubGFzdF9wb3N0KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGEubGFzdF9wb3N0IDwgYi5sYXN0X3Bvc3QpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUdsb2JhbFdlaWdodChhLCBiKSB7XG4gIGlmIChhLndlaWdodCA9PT0gMiAmJiBhLndlaWdodCA+IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGIud2VpZ2h0ID09PSAyICYmIGEud2VpZ2h0IDwgYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlV2VpZ2h0KGEsIGIpIHtcbiAgaWYgKGEud2VpZ2h0ID4gYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoYS53ZWlnaHQgPCBiLndlaWdodCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYik7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhZ2VMZWFkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRvb2xiYXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYWdlTGVhZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1sZWFkXCI+XG4gICAgICAgICAgICA8cD57dGhpcy5wcm9wcy5wYWdlTGVhZH08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGlzYWJsZVRvb2xiYXIoKSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmlzTG9hZGVkIHx8IHRoaXMucHJvcHMuaXNCdXN5IHx8IHRoaXMucHJvcHMuYnVzeVRocmVhZHMubGVuZ3RoO1xuICB9XG5cbiAgZ2V0VG9vbGJhcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCB8fCB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8VG9vbGJhciBzdWJjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG5cbiAgICAgICAgICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgICAgICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5wcm9wcy5tb2RlcmF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsVGhyZWFkcz17dGhpcy5wcm9wcy5zZWxlY3RBbGxUaHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdE5vbmVUaHJlYWRzPXt0aGlzLnByb3BzLnNlbGVjdE5vbmVUaHJlYWRzfVxuXG4gICAgICAgICAgICAgICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5wcm9wcy5mcmVlemVUaHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlVGhyZWFkPXt0aGlzLnByb3BzLmRlbGV0ZVRocmVhZH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuXG4gICAgICAgICAgICAgICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuZ2V0RGlzYWJsZVRvb2xiYXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9PlxuICAgICAgPC9Ub29sYmFyPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgIHt0aGlzLmdldENhdGVnb3J5RGVzY3JpcHRpb24oKX1cbiAgICAgIHt0aGlzLmdldFRvb2xiYXIoKX1cblxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE5hdiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcmVhZCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG1hcmtBc1JlYWQgPSAoKSA9PiB7XG4gICAgbGV0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIG1hcmsgdGhvc2UgdGhyZWFkcyBhcyByZWFkPyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZS5cIik7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50KSB7XG4gICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBtYXJrIHRocmVhZHMgaW4gdGhpcyBjYXRlZ29yeSBhcyByZWFkPyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZS5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgZGVjaXNpb24gPSBjb25maXJtKG1lc3NhZ2UpO1xuICAgIGlmICghZGVjaXNpb24pIHJldHVybiBmYWxzZTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5hcGlfdXJsLnJlYWQpLnRoZW4oKCkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocmVhZCh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXAsIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkpKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWRzIGhhdmUgYmVlbiBtYXJrZWQgYXMgcmVhZC5cIikpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfTtcblxuICBzdGFydFRocmVhZCA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4odGhpcy5wcm9wcy5zdGFydFRocmVhZCB8fCB7XG4gICAgICBtb2RlOiAnU1RBUlQnLFxuXG4gICAgICBjb25maWc6IG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfQVBJJyksXG4gICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoJ1RIUkVBRFNfQVBJJyksXG5cbiAgICAgIGNhdGVnb3J5OiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgaGFzR29CYWNrQnV0dG9uKCkge1xuICAgIHJldHVybiAhIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50O1xuICB9XG5cbiAgZ2V0R29CYWNrQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnQpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucHJvcHMuY2F0ZWdvcmllc1t0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudF07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4teHMgY29sLXNtLTIgY29sLWxnLTFcIj5cbiAgICAgICAgPExpbmtcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWFsaWduZWQgYnRuLWdvLWJhY2sgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICB0bz17cGFyZW50LmFic29sdXRlX3VybCArIHRoaXMucHJvcHMucm91dGUubGlzdC5wYXRofVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAga2V5Ym9hcmRfYXJyb3dfbGVmdFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0U3RhcnRUaHJlYWRCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhcnRUaHJlYWR9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjaGF0XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3RhcnQgdGhyZWFkXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1hcmtBc1JlYWRCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubWFya0FzUmVhZH1cbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHBsYXlsaXN0X2FkZF9jaGVja1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1hcmsgYXMgcmVhZFwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCBoZWFkZXJDbGFzc05hbWUgPSAnY29sLXhzLTEyJztcbiAgICBpZiAodGhpcy5oYXNHb0JhY2tCdXR0b24oKSkge1xuICAgICAgaGVhZGVyQ2xhc3NOYW1lICs9ICcgY29sLXNtLTEwIGNvbC1sZy0xMSBzbS1tYXJnaW4tdG9wLWhhbGYnO1xuICAgIH1cblxuICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9ICEhdGhpcy5wcm9wcy51c2VyLmlkO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aXNBdXRoZW50aWNhdGVkID8gXCJjb2wtbWQtOFwiIDogXCJjb2wteHMtMTJcIn0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLmdldEdvQmFja0J1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2hlYWRlckNsYXNzTmFtZX0+XG4gICAgICAgICAgICAgICAgICAgIDxQYXJlbnRDYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeT17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy50aXRsZX08L2gxPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7aXNBdXRoZW50aWNhdGVkICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC00IHhzLW1hcmdpbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHNtLW1hcmdpbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0TWFya0FzUmVhZEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRTdGFydFRocmVhZEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxOYXZcbiAgICAgICAgICAgIGJhc2VVcmw9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgbGlzdHM9e3RoaXMucHJvcHMucm91dGUubGlzdHN9XG4gICAgICAgICAgLz5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gUGFyZW50Q2F0ZWdvcnkocHJvcHMpIHtcbiAgY29uc3QgeyBjYXRlZ29yaWVzLCBjYXRlZ29yeSB9ID0gcHJvcHM7XG4gIGlmICghY2F0ZWdvcnkpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHBhcmVudCA9IGNhdGVnb3JpZXNbY2F0ZWdvcnldO1xuXG4gIHJldHVybiAoXG4gICAgPExpbmtcbiAgICAgIGNsYXNzTmFtZT1cImdvLWJhY2stc20gdmlzaWJsZS14cy1ibG9ja1wiXG4gICAgICB0bz17cGFyZW50LmFic29sdXRlX3VybH1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGNoZXZyb25fbGVmdFxuICAgICAgPC9zcGFuPlxuICAgICAge3BhcmVudC5wYXJlbnQgPyBwYXJlbnQubmFtZSA6IGdldHRleHQoXCJUaHJlYWRzXCIpfVxuICAgIDwvTGluaz5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmxpc3QudHlwZSA9PT0gJ2FsbCcpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmVtcHR5TWVzc2FnZSkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmVtcHR5TWVzc2FnZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIldoeSBub3Qgc3RhcnQgb25lIHlvdXJzZWxmP1wiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5zcGVjaWFsX3JvbGVcbiAgICAgICAgICAgICAgICA/IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBvbiB0aGlzIGZvcnVtLi4uIHlldCFcIilcbiAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBpbiB0aGlzIGNhdGVnb3J5LlwiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIldoeSBub3Qgc3RhcnQgb25lIHlvdXJzZWxmP1wiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiTm8gdGhyZWFkcyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEgd2VyZSBmb3VuZC5cIil9XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFcnJvcnNNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNZXJnZVRocmVhZHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW92ZVRocmVhZHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENvdW50ZG93biBmcm9tICdtaXNhZ28vdXRpbHMvY291bnRkb3duJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjYWxsQXBpID0gKG9wcywgc3VjY2Vzc01lc3NhZ2UsIG9uU3VjY2Vzcz1udWxsKSA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3QgY291bnRkb3duID0gbmV3IENvdW50ZG93bigoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpO1xuICAgICAgICBpZiAob25TdWNjZXNzKSB7XG4gICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzLnByb3BzLnRocmVhZHMubGVuZ3RoKTtcblxuICAgIC8vIHVwZGF0ZSB0aHJlYWQgYWNsIHRvZ2V0aGVyIHdpdGggaXRzIHN0YXRlXG4gICAgb3BzLnB1c2goe29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiB0cnVlfSk7XG5cbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuXG4gICAgICBhamF4LnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVRocmVhZChkYXRhKTtcbiAgICAgICAgY291bnRkb3duLmNvdW50KCk7XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0aHJlYWQ6IHRocmVhZCxcbiAgICAgICAgICBlcnJvcnM6IFtyZWplY3Rpb24uZGV0YWlsXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb3VudGRvd24uY291bnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMlxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgcGlubmVkIGdsb2JhbGx5LlwiKSk7XG4gIH07XG5cbiAgcGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHBpbm5lZCBsb2NhbGx5LlwiKSk7XG4gIH07XG5cbiAgdW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSB1bnBpbm5lZC5cIikpO1xuICB9O1xuXG4gIGFwcHJvdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLXVuYXBwcm92ZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGFwcHJvdmVkLlwiKSk7XG4gIH07XG5cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBvcGVuZWQuXCIpKTtcbiAgfTtcblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGNsb3NlZC5cIikpO1xuICB9O1xuXG4gIHVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtaGlkZGVuJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSB1bmhpZGRlbi5cIikpO1xuICB9O1xuXG4gIGhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWhpZGRlbicsXG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBoaWRkZW4uXCIpKTtcbiAgfTtcblxuICBtb3ZlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZVRocmVhZHNcbiAgICAgICAgY2FsbEFwaT17dGhpcy5jYWxsQXBpfVxuICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgIC8+XG4gICAgKTtcbiAgfTtcblxuICBtZXJnZSA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21lcmdlKSB7XG4gICAgICAgIGVycm9ycy5hcHBlbmQoe1xuICAgICAgICAgICdpZCc6IHRocmVhZC5pZCxcbiAgICAgICAgICAndGl0bGUnOiB0aHJlYWQudGl0bGUsXG4gICAgICAgICAgJ2Vycm9ycyc6IFtcbiAgICAgICAgICAgIGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIG1lcmdlIHRoaXMgdGhyZWFkIHdpdGggb3RoZXJzLlwiKVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oXG4gICAgICAgIGdldHRleHQoXCJZb3UgaGF2ZSB0byBzZWxlY3QgYXQgbGVhc3QgdHdvIHRocmVhZHMgdG8gbWVyZ2UuXCIpKTtcbiAgICB9IGVsc2UgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17ZXJyb3JzfSAvPik7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGFsLnNob3coPE1lcmdlVGhyZWFkcyB7Li4udGhpcy5wcm9wc30gLz4pO1xuICAgIH1cbiAgfTtcblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHNlbGVjdGVkIHRocmVhZHM/XCIpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGNvdW50ZG93biA9IG5ldyBDb3VudGRvd24oKCkgPT4ge1xuICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBkZWxldGVkLlwiKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVuZnJlZXplIG5vbi1kZWxldGVkIHRocmVhZHNcbiAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZWR1Y2Ugc2VsZWN0aW9uIHRvIG5vbi1kZWxldGVkIHRocmVhZHNcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwodGhpcy5wcm9wcy50aHJlYWRzLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgICAgfSkpKTtcbiAgICB9LCB0aGlzLnByb3BzLnRocmVhZHMubGVuZ3RoKTtcblxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG5cbiAgICAgIGFqYXguZGVsZXRlKHRocmVhZC5hcGkuaW5kZXgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICAgICAgY291bnRkb3duLmNvdW50KCk7XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0aHJlYWQ6IHRocmVhZCxcbiAgICAgICAgICBlcnJvcnM6IFtyZWplY3Rpb24uZGV0YWlsXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb3VudGRvd24uY291bnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFBpbkdsb2JhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbiAhPT0gMikgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGJvb2ttYXJrXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIHRocmVhZHMgZ2xvYmFsbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRQaW5Mb2NhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbiA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5Mb2NhbGx5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgYm9va21hcmtfYm9yZGVyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIHRocmVhZHMgbG9jYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFVucGluQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbiA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy51bnBpbn1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHBhbm9yYW1hX2Zpc2hfZXllXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX21vdmUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fbWVyZ2UpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubWVyZ2V9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjYWxsX21lcmdlXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2FwcHJvdmUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGRvbmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9jbG9zZSkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vcGVufVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vcGVuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT3BlbiB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5faGlkZSkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy51bmhpZGV9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB2aXNpYmlsaXR5XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRIaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9oaWRlKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17dGhpcy5oaWRlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9oaWRlICE9IDIpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIHt0aGlzLmdldFBpbkdsb2JhbGx5QnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRQaW5Mb2NhbGx5QnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRVbnBpbkJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0TW92ZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0TWVyZ2VCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldEFwcHJvdmVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE9wZW5CdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldENsb3NlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRVbmhpZGVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldEhpZGVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkRXJyb3JzKHByb3BzKSB7XG4gIHJldHVybiA8bGk+XG4gICAgPGg1Pntwcm9wcy50aHJlYWQudGl0bGV9PC9oNT5cbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWl0ZW0tZXJyb3JzXCI+XG4gICAgICB7cHJvcHMuZXJyb3JzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gPGxpIGtleT17aX0+e2l0ZW19PC9saT5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIDwvbGk+O1xufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiXG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiVGhyZWFkcyBtb2RlcmF0aW9uXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRXJyb3JzIHdlcmUgZW5jb3VudGVyZWQgd2hlbiBwZXJmb3JtaW5nIG1vZGVyYXRpb24gYWN0aW9uIG9uIG9uZSBvciBtb3JlIHRocmVhZHM6XCIpfVxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtZXJyb3JlZC1pdGVtc1wiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuZXJyb3JzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPFRocmVhZEVycm9yc1xuICAgICAgICAgICAgICAgIGVycm9ycz17aXRlbS5lcnJvcnN9XG4gICAgICAgICAgICAgICAga2V5PXtpdGVtLnRocmVhZC5pZH1cbiAgICAgICAgICAgICAgICB0aHJlYWQ9e2l0ZW0udGhyZWFkfVxuICAgICAgICAgICAgICAvPjtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgZmlsdGVyVGhyZWFkcyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVycm9yc01vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lcmdlUG9sbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbWVyZ2UtcG9sbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkKClcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLmFjbCA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzKSB7XG4gICAgICBpZiAoIXByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjbCA9IHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXNbaV07XG4gICAgICB0aGlzLmFjbFthY2wuaWRdID0gYWNsO1xuICAgIH1cblxuICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzID0gW107XG4gICAgcHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LmxldmVsID4gMCkge1xuICAgICAgICBjb25zdCBhY2wgPSB0aGlzLmFjbFtjYXRlZ29yeS5pZF07XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fCAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsIC0gMSxcbiAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eV9vZmYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogZmFsc2UsXG4gICAgICAgICdpY29uJzogJ2xvY2tfb3V0bGluZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogdHJ1ZSxcbiAgICAgICAgJ2ljb24nOiAnbG9jaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnTUVSR0VfVEhSRUFEU19BUEknKSwgdGhpcy5nZXRGb3JtZGF0YSgpKTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgZ2V0Rm9ybWRhdGEgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZHM6IHRoaXMucHJvcHMudGhyZWFkcy5tYXAoKHRocmVhZCkgPT4gdGhyZWFkLmlkKSxcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWRcbiAgICB9O1xuICB9O1xuXG4gIGhhbmRsZVN1Y2Nlc3MgPSAoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAvLyB1bmZyZWV6ZSBhbmQgcmVtb3ZlIG1lcmdlZCB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2goKHRocmVhZCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlVGhyZWFkKHRocmVhZCk7XG4gICAgfSk7XG5cbiAgICAvLyBkZXNlbGVjdCBhbGwgdGhyZWFkc1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpO1xuXG4gICAgLy8gYXBwZW5kIG1lcmdlZCB0aHJlYWQsIGZpbHRlciB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy5hZGRUaHJlYWRzKFthcGlSZXNwb25zZV0pO1xuICAgIHN0b3JlLmRpc3BhdGNoKGZpbHRlclRocmVhZHModGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeSwgdGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwKSk7XG5cbiAgICAvLyBoaWRlIG1vZGFsXG4gICAgbW9kYWwuaGlkZSgpO1xuICB9O1xuXG4gIGhhbmRsZUVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ucG9sbHMpIHtcbiAgICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgICA8TWVyZ2VQb2xsc1xuICAgICAgICAgICAgYXBpPXttaXNhZ28uZ2V0KCdNRVJHRV9USFJFQURTX0FQSScpfVxuICAgICAgICAgICAgZGF0YT17dGhpcy5nZXRGb3JtZGF0YSgpfVxuICAgICAgICAgICAgcG9sbHM9e3JlamVjdGlvbi5wb2xsc31cbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMuaGFuZGxlRXJyb3J9XG4gICAgICAgICAgICBvblN1Y2Nlc3M9e3RoaXMuaGFuZGxlU3VjY2Vzc31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICAgIH0pO1xuICAgICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXYpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gZXYudGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2hpZGRlbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdyZW1vdmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90IHBpbm5lZFwiKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrX2JvcmRlcicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKSxcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PSAyKSB7XG4gICAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdib29rbWFyaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIiksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlcztcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHdlaWdodFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3dlaWdodCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX0gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkhpZGUgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkZGVuXCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfaGlkZGVuJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNIaWRkZW5DaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2Nsb3NlZFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2Nsb3NlZCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9PlxuICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3RpdGxlJyl9XG4gICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9PlxuICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuY2F0ZWdvcnlDaG9pY2VzfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyQ2FudE1lcmdlTWVzc2FnZSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRocmVhZHMgYmVjYXVzZSB0aGVyZSBhcmUgbm8gY2F0ZWdvcmllcyB5b3UgYXJlIGFsbG93ZWQgdG8gbW92ZSB0aGVtIHRvLlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBuZWVkIHBlcm1pc3Npb24gdG8gc3RhcnQgdGhyZWFkcyBpbiBjYXRlZ29yeSB0byBiZSBhYmxlIHRvIG1lcmdlIHRocmVhZHMgdG8gaXQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtb2RhbC1kaWFsb2cnO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5jYXRlZ29yeSA/IHRoaXMucmVuZGVyRm9ybSgpIDogdGhpcy5yZW5kZXJDYW50TWVyZ2VNZXNzYWdlKCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGZpbHRlclRocmVhZHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICB9O1xuXG4gICAgY29uc3QgYWNscyA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzKSB7XG4gICAgICBpZiAoIXByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjbCA9IHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXNbaV07XG4gICAgICBhY2xzW2FjbC5pZF0gPSBhY2w7XG4gICAgfVxuXG4gICAgdGhpcy5jYXRlZ29yeUNob2ljZXMgPSBbXTtcbiAgICBwcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkubGV2ZWwgPiAwKSB7XG4gICAgICAgIGNvbnN0IGFjbCA9IGFjbHNbY2F0ZWdvcnkuaWRdO1xuICAgICAgICBjb25zdCBkaXNhYmxlZCA9ICFhY2wuY2FuX3N0YXJ0X3RocmVhZHMgfHwgKGNhdGVnb3J5LmlzX2Nsb3NlZCAmJiAhYWNsLmNhbl9jbG9zZV90aHJlYWRzKTtcblxuICAgICAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcy5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGxldmVsOiBjYXRlZ29yeS5sZXZlbCAtIDEsXG4gICAgICAgICAgbGFiZWw6IGNhdGVnb3J5Lm5hbWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCAmJiAhdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBoYW5kbGVTdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBjb25zdCBvblN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApKTtcblxuICAgICAgLy8gZGVzZWxlY3QgdGhyZWFkcyBtb3ZlZCBvdXRzaWRlIG9mIHZpc2libGUgc2NvcGVcbiAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgbGVmdFRocmVhZHMgPSBzdG9yZVN0YXRlLnRocmVhZHMubWFwKCh0aHJlYWQpID0+ICh0aHJlYWQuaWQpKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwoc3RvcmVTdGF0ZS5zZWxlY3Rpb24uZmlsdGVyKCh0aHJlYWQpID0+IHtcbiAgICAgICAgcmV0dXJuIGxlZnRUaHJlYWRzLmluZGV4T2YodGhyZWFkKSAhPT0gLTE7XG4gICAgICB9KSkpO1xuICAgIH07XG5cbiAgICB0aGlzLnByb3BzLmNhbGxBcGkoW1xuICAgICAge29wOiAncmVwbGFjZScsIHBhdGg6ICdjYXRlZ29yeScsIHZhbHVlOiB0aGlzLnN0YXRlLmNhdGVnb3J5fSxcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnZmxhdHRlbi1jYXRlZ29yaWVzJywgdmFsdWU6IG51bGx9LFxuICAgICAge29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiB0cnVlfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgbW92ZWQuXCIpLCBvblN1Y2Nlc3MpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiAnbW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRm9ybSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX25ld19jYXRlZ29yeVwiPlxuICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX25ld19jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnY2F0ZWdvcnknKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuY2F0ZWdvcnlDaG9pY2VzfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlckNhbnRNb3ZlTWVzc2FnZSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRocmVhZHMgYmVjYXVzZSB0aGVyZSBhcmUgbm8gY2F0ZWdvcmllcyB5b3UgYXJlIGFsbG93ZWQgdG8gbW92ZSB0aGVtIHRvLlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBuZWVkIHBlcm1pc3Npb24gdG8gc3RhcnQgdGhyZWFkcyBpbiBjYXRlZ29yeSB0byBiZSBhYmxlIHRvIG1vdmUgdGhyZWFkcyB0byBpdC5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3J5ID8gdGhpcy5yZW5kZXJGb3JtKCkgOiB0aGlzLnJlbmRlckNhbnRNb3ZlTWVzc2FnZSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2VsZWN0QWxsID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwodGhpcy5wcm9wcy50aHJlYWRzLm1hcChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICAgIHJldHVybiB0aHJlYWQuaWQ7XG4gICAgfSkpKTtcbiAgfTtcblxuICBzZWxlY3ROb25lID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0QWxsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNlbGVjdCBhbGxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdE5vbmV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveF9vdXRsaW5lX2JsYW5rPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWxlY3Qgbm9uZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IExpIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xpJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oe2Jhc2VVcmwsIGxpc3QsIGxpc3RzfSkge1xuICBpZiAobGlzdHMubGVuZ3RoIDwgMikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFic1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdiBuYXYtcGlsbHNcIj5cbiAgICAgICAgICB7bGlzdHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGlcbiAgICAgICAgICAgICAgICBpc0NvbnRyb2xsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgaXNBY3RpdmU9e2l0ZW0ucGF0aCA9PT0gbGlzdC5wYXRofVxuICAgICAgICAgICAgICAgIGtleT17YmFzZVVybCArIGl0ZW0ucGF0aH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtiYXNlVXJsICsgaXRlbS5wYXRofT5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICA8L0xpPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUm91dGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb3V0ZSc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Qob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RvcmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ29wdGlvbnMnOiBvcHRpb25zLFxuICAgICAgJ3NlbGVjdGlvbic6IHN0b3JlLnNlbGVjdGlvbixcbiAgICAgICd0aHJlYWRzJzogc3RvcmUudGhyZWFkcyxcbiAgICAgICd0aWNrJzogc3RvcmUudGljay50aWNrLFxuICAgICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXJcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdHModXNlcikge1xuICBsZXQgbGlzdHMgPSBbXG4gICAge1xuICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICBwYXRoOiAnJyxcbiAgICAgIG5hbWU6IGdldHRleHQoXCJBbGxcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIkFsbCB0aHJlYWRzXCIpXG4gICAgfVxuICBdO1xuXG4gIGlmICh1c2VyLmlkKSB7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAnbXknLFxuICAgICAgcGF0aDogJ215LycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiTXlcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIk15IHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICduZXcnLFxuICAgICAgcGF0aDogJ25ldy8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIk5ld1wiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiTmV3IHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICd1bnJlYWQnLFxuICAgICAgcGF0aDogJ3VucmVhZC8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIlVucmVhZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiVW5yZWFkIHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICdzdWJzY3JpYmVkJyxcbiAgICAgIHBhdGg6ICdzdWJzY3JpYmVkLycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZCB0aHJlYWRzXCIpXG4gICAgfSk7XG5cbiAgICBpZiAodXNlci5hY2wuY2FuX3NlZV91bmFwcHJvdmVkX2NvbnRlbnRfbGlzdHMpIHtcbiAgICAgIGxpc3RzLnB1c2goe1xuICAgICAgICB0eXBlOiAndW5hcHByb3ZlZCcsXG4gICAgICAgIHBhdGg6ICd1bmFwcHJvdmVkLycsXG4gICAgICAgIG5hbWU6IGdldHRleHQoXCJVbmFwcHJvdmVkXCIpLFxuICAgICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlVuYXBwcm92ZWQgY29udGVudFwiKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxpc3RzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHModXNlciwgbW9kZSkge1xuICBsZXQgbGlzdHMgPSBnZXRMaXN0cyh1c2VyKTtcbiAgbGV0IHJvdXRlcyA9IFtdO1xuICBsZXQgY2F0ZWdvcmllc01hcCA9IHt9O1xuXG4gIG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVMnKS5mb3JFYWNoKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgbGlzdHMuZm9yRWFjaChmdW5jdGlvbihsaXN0KSB7XG4gICAgICBjYXRlZ29yaWVzTWFwW2NhdGVnb3J5LmlkXSA9IGNhdGVnb3J5O1xuXG4gICAgICByb3V0ZXMucHVzaCh7XG4gICAgICAgIHBhdGg6IGNhdGVnb3J5LmFic29sdXRlX3VybCArIGxpc3QucGF0aCxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KGdldFNlbGVjdChtb2RlKSkoUm91dGUpLFxuXG4gICAgICAgIGNhdGVnb3JpZXM6IG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVMnKSxcbiAgICAgICAgY2F0ZWdvcmllc01hcCxcbiAgICAgICAgY2F0ZWdvcnksXG5cbiAgICAgICAgbGlzdHMsXG4gICAgICAgIGxpc3RcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcm91dGVzO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbXBhcmVHbG9iYWxXZWlnaHQsIGNvbXBhcmVXZWlnaHQgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDb250YWluZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb250YWluZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGRpZmZUaHJlYWRzLCBnZXRNb2RlcmF0aW9uQWN0aW9ucywgZ2V0UGFnZVRpdGxlLCBnZXRUaXRsZSB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvdXRpbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWRzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWRzTGlzdEVtcHR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbGlzdC1lbXB0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tICdtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgYXBwZW5kLCBkZWxldGVUaHJlYWQsIGh5ZHJhdGUsIHBhdGNoIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5pbXBvcnQgKiBhcyBzZXRzIGZyb20gJ21pc2Fnby91dGlscy9zZXRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNNb3VudGVkOiB0cnVlLFxuXG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBkaWZmOiB7XG4gICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICB9LFxuXG4gICAgICBtb2RlcmF0aW9uOiBbXSxcbiAgICAgIGJ1c3lUaHJlYWRzOiBbXSxcblxuICAgICAgZHJvcGRvd246IGZhbHNlLFxuICAgICAgc3ViY2F0ZWdvcmllczogW10sXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfTtcblxuICAgIGxldCBjYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnkoKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdUSFJFQURTJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKGNhdGVnb3J5LCBtaXNhZ28uZ2V0KCdUSFJFQURTJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YShjYXRlZ29yeSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2F0ZWdvcnkoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnNwZWNpYWxfcm9sZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShjYXRlZ29yeSwgZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUsIHtcbiAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKGRhdGEucmVzdWx0cyksXG5cbiAgICAgIHN1YmNhdGVnb3JpZXM6IGRhdGEuc3ViY2F0ZWdvcmllcyxcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhjYXRlZ29yeSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoY2F0ZWdvcnkpIHtcbiAgICB0aGlzLmxvYWRUaHJlYWRzKGNhdGVnb3J5KTtcbiAgfVxuXG4gIGxvYWRUaHJlYWRzKGNhdGVnb3J5LCBwYWdlPTEpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLm9wdGlvbnMuYXBpLCB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICBsaXN0OiB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZSxcbiAgICAgIHBhZ2U6IHBhZ2UgfHwgMVxuICAgIH0sICd0aHJlYWRzJykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICAvLyB1c2VyIGNoYW5nZWQgcm91dGUgYmVmb3JlIGxvYWRpbmcgY29tcGxldGlvblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzLCB0aGlzLmdldFNvcnRpbmcoKSkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoc3RvcmUuZ2V0U3RhdGUoKS50aHJlYWRzKSxcblxuICAgICAgICBzdWJjYXRlZ29yaWVzOiBkYXRhLnN1YmNhdGVnb3JpZXMsXG5cbiAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zdGFydFBvbGxpbmcoY2F0ZWdvcnkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydFBvbGxpbmcoY2F0ZWdvcnkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAndGhyZWFkcycsXG4gICAgICB1cmw6IHRoaXMucHJvcHMub3B0aW9ucy5hcGksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgbGlzdDogdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGVcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDEyMCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMucG9sbFJlc3BvbnNlXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFBhZ2VUaXRsZSgpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1RIUkVBRFMnKSkge1xuICAgICAgLy8gdW5saWtlIGluIG90aGVyIGNvbXBvbmVudHMsIHJvdXRlcyBhcmUgcm9vdCBjb21wb25lbnRzIGZvciB0aHJlYWRzXG4gICAgICAvLyBzbyB3ZSBjYW4ndCBkaXNwYXRjaCBzdG9yZSBhY3Rpb24gZnJvbSBjb25zdHJ1Y3RvclxuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShtaXNhZ28ucG9wKCdUSFJFQURTJykucmVzdWx0cykpO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdGF0ZS5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICBwb2xscy5zdG9wKCd0aHJlYWRzJyk7XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRUaXRsZSh0aGlzLnByb3BzLnJvdXRlKTtcbiAgfVxuXG4gIHNldFBhZ2VUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCB8fCAhbWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgICB0aXRsZS5zZXQoZ2V0UGFnZVRpdGxlKHRoaXMucHJvcHMucm91dGUpKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMub3B0aW9ucy50aXRsZSkge1xuICAgICAgICB0aXRsZS5zZXQodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0U29ydGluZygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgICAgcmV0dXJuIGNvbXBhcmVXZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21wYXJlR2xvYmFsV2VpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cblxuICAvLyBBSkFYXG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZFRocmVhZHModGhpcy5nZXRDYXRlZ29yeSgpLCB0aGlzLnN0YXRlLnBhZ2UgKyAxKTtcbiAgfTtcblxuICBwb2xsUmVzcG9uc2UgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZGlmZjogT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuICAgICAgICByZXN1bHRzOiBkaWZmVGhyZWFkcyh0aGlzLnByb3BzLnRocmVhZHMsIGRhdGEucmVzdWx0cylcbiAgICAgIH0pXG4gICAgfSk7XG4gIH07XG5cbiAgYWRkVGhyZWFkcyA9ICh0aHJlYWRzKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKHRocmVhZHMsIHRoaXMuZ2V0U29ydGluZygpKSk7XG4gIH07XG5cbiAgYXBwbHlEaWZmID0gKCkgPT4ge1xuICAgIHRoaXMuYWRkVGhyZWFkcyh0aGlzLnN0YXRlLmRpZmYucmVzdWx0cyk7XG5cbiAgICB0aGlzLnNldFN0YXRlKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZGlmZiwge1xuICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoc3RvcmUuZ2V0U3RhdGUoKS50aHJlYWRzKSxcblxuICAgICAgZGlmZjoge1xuICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICAvLyBUaHJlYWQgc3RhdGUgdXRpbHNcblxuICBmcmVlemVUaHJlYWQgPSAodGhyZWFkKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbihjdXJyZW50U3RhdGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1c3lUaHJlYWRzOiBzZXRzLnRvZ2dsZShjdXJyZW50U3RhdGUuYnVzeVRocmVhZHMsIHRocmVhZClcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgdXBkYXRlVGhyZWFkID0gKHRocmVhZCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRocmVhZCwgdGhyZWFkLCB0aGlzLmdldFNvcnRpbmcoKSkpO1xuICB9O1xuXG4gIGRlbGV0ZVRocmVhZCA9ICh0aHJlYWQpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChkZWxldGVUaHJlYWQodGhyZWFkKSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0TW9yZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5tb3JlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3kgfHwgdGhpcy5zdGF0ZS5idXN5VGhyZWFkcy5sZW5ndGh9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2hvdyBtb3JlXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9ICdwYWdlIHBhZ2UtdGhyZWFkcyc7XG4gICAgY2xhc3NOYW1lICs9ICcgcGFnZS10aHJlYWRzLScgKyB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZTtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnIHBhZ2UtJyArIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBzdGFydFRocmVhZD17dGhpcy5wcm9wcy5vcHRpb25zLnN0YXJ0VGhyZWFkfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxDb250YWluZXJcbiAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICBzdWJjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuXG4gICAgICAgICAgcGFnZUxlYWQ9e3RoaXMucHJvcHMub3B0aW9ucy5wYWdlTGVhZH1cblxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aHJlYWRzQ291bnQ9e3RoaXMuc3RhdGUuY291bnR9XG5cbiAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnN0YXRlLm1vZGVyYXRpb259XG4gICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cblxuICAgICAgICAgIGJ1c3lUaHJlYWRzPXt0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzfVxuICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMuYWRkVGhyZWFkc31cbiAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgIGRlbGV0ZVRocmVhZD17dGhpcy5kZWxldGVUaHJlYWR9XG4gICAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnVwZGF0ZVRocmVhZH1cblxuICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgID5cblxuICAgICAgICAgIDxUaHJlYWRzTGlzdFxuICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuXG4gICAgICAgICAgICBkaWZmU2l6ZT17dGhpcy5zdGF0ZS5kaWZmLnJlc3VsdHMubGVuZ3RofVxuICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLmFwcGx5RGlmZn1cblxuICAgICAgICAgICAgc2hvd09wdGlvbnM9eyEhdGhpcy5wcm9wcy51c2VyLmlkfVxuXG4gICAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgIGJ1c3lUaHJlYWRzPXt0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxUaHJlYWRzTGlzdEVtcHR5XG4gICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICBlbXB0eU1lc3NhZ2U9e3RoaXMucHJvcHMub3B0aW9ucy5lbXB0eU1lc3NhZ2V9XG4gICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9UaHJlYWRzTGlzdD5cblxuICAgICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cblxuICAgICAgICA8L0NvbnRhaW5lcj5cblxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlQaWNrZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jYXRlZ29yeS1waWNrZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RlcmF0aW9uQ29udHJvbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2NvbnRyb2xzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0aW9uQ29udHJvbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENhdGVnb3J5UGlja2VyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXRlZ29yeVBpY2tlclxuICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgIGNob2ljZXM9e3RoaXMucHJvcHMuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBzaG93TW9kZXJhdGlvbk9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudXNlci5pZCAmJiB0aGlzLnByb3BzLm1vZGVyYXRpb24uYWxsb3c7XG4gIH1cblxuICBnZXRTZWxlY3RlZFRocmVhZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudGhyZWFkcy5maWx0ZXIoKHRocmVhZCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02IGNvbC1zbS0zIGNvbC1tZC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLnNlbGVjdGlvbi5sZW5ndGh9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiT3B0aW9uc1wiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMucHJvcHMuYWRkVGhyZWFkc31cbiAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnByb3BzLm1vZGVyYXRpb259XG4gICAgICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLmdldFNlbGVjdGVkVGhyZWFkcygpfVxuICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFNlbGVjdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIGNvbC1zbS0yIGNvbC1tZC0xXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgc2VsZWN0X2FsbFxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPFNlbGVjdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy10b29sYmFyIHJvdy10b29sYmFyLWJvdHRvbS1tYXJnaW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtMiBkcm9wZG93blwiPlxuICAgICAgICAgIHt0aGlzLmdldENhdGVnb3J5UGlja2VyKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbi14cyBjb2wtc20tNCBjb2wtbWQtN1wiIC8+XG4gICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0U2VsZWN0aW9uQnV0dG9uKCl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlVGl0bGUocm91dGUpIHtcbiAgaWYgKHJvdXRlLmNhdGVnb3J5LmxldmVsKSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWUsXG4gICAgICAgIHBhcmVudDogcm91dGUuY2F0ZWdvcnkubmFtZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmNhdGVnb3J5Lm5hbWVcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoJ1RIUkVBRFNfT05fSU5ERVgnKSkge1xuICAgIGlmIChyb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5saXN0LmxvbmdOYW1lXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWUsXG4gICAgICAgIHBhcmVudDogZ2V0dGV4dChcIlRocmVhZHNcIilcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiVGhyZWFkc1wiKVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlKHJvdXRlKSB7XG4gIGlmIChyb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgIHJldHVybiByb3V0ZS5jYXRlZ29yeS5uYW1lO1xuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoJ1RIUkVBRFNfT05fSU5ERVgnKSkge1xuICAgIGlmIChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlKSB7XG4gICAgICByZXR1cm4gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9pbmRleF90aXRsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1fbmFtZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJUaHJlYWRzXCIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RocmVhZENoYW5nZWQoY3VycmVudCwgZnJvbURiKSB7XG4gIHJldHVybiBbXG4gICAgY3VycmVudC50aXRsZSA9PT0gZnJvbURiLnRpdGxlLFxuICAgIGN1cnJlbnQud2VpZ2h0ID09PSBmcm9tRGIud2VpZ2h0LFxuICAgIGN1cnJlbnQuY2F0ZWdvcnkgPT09IGZyb21EYi5jYXRlZ29yeSxcbiAgICBjdXJyZW50Lmxhc3RfcG9zdCA9PT0gZnJvbURiLmxhc3RfcG9zdCxcbiAgICBjdXJyZW50Lmxhc3RfcG9zdGVyX25hbWUgPT09IGZyb21EYi5sYXN0X3Bvc3Rlcl9uYW1lXG4gIF0uaW5kZXhPZihmYWxzZSkgPj0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZUaHJlYWRzKGN1cnJlbnQsIGZyb21EYikge1xuICBsZXQgY3VycmVudE1hcCA9IHt9O1xuICBjdXJyZW50LmZvckVhY2goZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgY3VycmVudE1hcFt0aHJlYWQuaWRdID0gdGhyZWFkO1xuICB9KTtcblxuICByZXR1cm4gZnJvbURiLmZpbHRlcihmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBpZiAoY3VycmVudE1hcFt0aHJlYWQuaWRdKSB7XG4gICAgICByZXR1cm4gaXNUaHJlYWRDaGFuZ2VkKGN1cnJlbnRNYXBbdGhyZWFkLmlkXSwgdGhyZWFkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVyYXRpb25BY3Rpb25zKHRocmVhZHMpIHtcbiAgbGV0IG1vZGVyYXRpb24gPSB7XG4gICAgYWxsb3c6IGZhbHNlLFxuXG4gICAgY2FuX2FwcHJvdmU6IDAsXG4gICAgY2FuX2Nsb3NlOiAwLFxuICAgIGNhbl9oaWRlOiAwLFxuICAgIGNhbl9tZXJnZTogMCxcbiAgICBjYW5fbW92ZTogMCxcbiAgICBjYW5fcGluOiAwXG4gIH07XG5cbiAgdGhyZWFkcy5mb3JFYWNoKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGlmICh0aHJlYWQuaXNfdW5hcHByb3ZlZCAmJiB0aHJlYWQuYWNsLmNhbl9hcHByb3ZlID4gbW9kZXJhdGlvbi5jYW5fYXBwcm92ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fYXBwcm92ZSA9IHRocmVhZC5hY2wuY2FuX2FwcHJvdmU7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2Nsb3NlID4gbW9kZXJhdGlvbi5jYW5fY2xvc2UpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2Nsb3NlID0gdGhyZWFkLmFjbC5jYW5fY2xvc2U7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2hpZGUgPiBtb2RlcmF0aW9uLmNhbl9oaWRlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9oaWRlID0gdGhyZWFkLmFjbC5jYW5faGlkZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fbWVyZ2UgPiBtb2RlcmF0aW9uLmNhbl9tZXJnZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fbWVyZ2UgPSB0aHJlYWQuYWNsLmNhbl9tZXJnZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fbW92ZSA+IG1vZGVyYXRpb24uY2FuX21vdmUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX21vdmUgPSB0aHJlYWQuYWNsLmNhbl9tb3ZlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9waW4gPiBtb2RlcmF0aW9uLmNhbl9waW4pIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX3BpbiA9IHRocmVhZC5hY2wuY2FuX3BpbjtcbiAgICB9XG5cbiAgICBtb2RlcmF0aW9uLmFsbG93ID0gKFxuICAgICAgbW9kZXJhdGlvbi5jYW5fYXBwcm92ZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fY2xvc2UgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX2hpZGUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX21lcmdlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tb3ZlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW5cbiAgICApO1xuICB9KTtcblxuICByZXR1cm4gbW9kZXJhdGlvbjtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWdpc3RlckJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZWdpc3Rlci1idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zaWduLWluLmpzJztcbmltcG9ydCBkcm9wZG93biBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93bic7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcblxuZXhwb3J0IGNsYXNzIEd1ZXN0TWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dTaWduSW5Nb2RhbCgpIHtcbiAgICBtb2RhbC5zaG93KFNpZ25Jbk1vZGFsKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDx1bFxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHVzZXItZHJvcGRvd24gZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgID5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImd1ZXN0LXByZXZpZXdcIj5cbiAgICAgICAgICA8aDQ+e2dldHRleHQoXCJZb3UgYXJlIGJyb3dzaW5nIGFzIGd1ZXN0LlwiKX08L2g0PlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge2dldHRleHQoJ1NpZ24gaW4gb3IgcmVnaXN0ZXIgdG8gc3RhcnQgYW5kIHBhcnRpY2lwYXRlIGluIGRpc2N1c3Npb25zLicpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuXG4gICAgICAgICAgICAgIDxSZWdpc3RlckJ1dHRvbiBjbGFzc05hbWU9XCJidG4tc3VjY2VzcyBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfVxuICAgICAgICAgICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHdWVzdE5hdiBleHRlbmRzIEd1ZXN0TWVudSB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmF2IG5hdi1ndWVzdFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIG5hdmJhci1idG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbk1vZGFsfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPFJlZ2lzdGVyQnV0dG9uIGNsYXNzTmFtZT1cIm5hdmJhci1idG4gYnRuLXN1Y2Nlc3MgYnRuLW91dGxpbmVcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfVxuICAgICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0R3Vlc3ROYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93R3Vlc3RNZW51KCkge1xuICAgIGRyb3Bkb3duLnNob3coR3Vlc3RNZW51KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc2hvd0d1ZXN0TWVudX0+XG4gICAgICAgIDxBdmF0YXIgc2l6ZT1cIjY0XCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEd1ZXN0TmF2LCBDb21wYWN0R3Vlc3ROYXYgfSBmcm9tICcuL2d1ZXN0LW5hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgVXNlck5hdiwgQ29tcGFjdFVzZXJOYXZ9IGZyb20gJy4vdXNlci1uYXYnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxVc2VyTmF2IHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxHdWVzdE5hdiAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb21wYWN0VXNlck5hdiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29tcGFjdEd1ZXN0TmF2IC8+XG4gICAgICApO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmF1dGg7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2hhbmdlQXZhdGFyTW9kYWwsIHsgc2VsZWN0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9yb290JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGRyb3Bkb3duIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgY2xhc3MgVXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBsb2dvdXQoKSB7XG4gICAgbGV0IGRlY2lzaW9uID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHNpZ24gb3V0P1wiKSk7XG4gICAgaWYgKGRlY2lzaW9uKSB7XG4gICAgICAkKCcjaGlkZGVuLWxvZ291dC1mb3JtJykuc3VibWl0KCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlQXZhdGFyKCkge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKENoYW5nZUF2YXRhck1vZGFsKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGNvbnN0IHsgdXNlciB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duIGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIj5cbiAgICAgICAgICA8c3Ryb25nPnt1c2VyLnVzZXJuYW1lfTwvc3Ryb25nPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHVzZXItc3RhdHNcIj5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5wb3N0c31cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgICBmb3J1bVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLnRocmVhZHN9XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgZmF2b3JpdGVcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5mb2xsb3dlcnN9XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgZmF2b3JpdGVfb3V0bGluZVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLmZvbGxvd2luZ31cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGEgaHJlZj17dXNlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFjY291bnRfY2lyY2xlPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWUgeW91ciBwcm9maWxlXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZV9hbGw8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBvcHRpb25zXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2hhbmdlQXZhdGFyfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvcnRyYWl0PC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnUFJJVkFURV9USFJFQURTX1VSTCcpfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZXNzYWdlPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJQcml2YXRlIHRocmVhZHNcIil9XG4gICAgICAgICAgICA8UHJpdmF0ZVRocmVhZHNCYWRnZSB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2dvdXR9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkxvZyBvdXRcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJpdmF0ZVRocmVhZHNCYWRnZSh7IHVzZXIgfSkge1xuICBpZiAoIXVzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkcykgcmV0dXJuIG51bGw7XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlXCI+XG4gICAgICB7dXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzfVxuICAgIDwvc3Bhbj5cbiAgKTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gVXNlck5hdih7IHVzZXIgfSkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwidWwgbmF2IG5hdmJhci1uYXYgbmF2LXVzZXJcIj5cbiAgICAgICAgPFVzZXJQcml2YXRlVGhyZWFkc0xpbmsgdXNlcj17dXNlcn0gLz5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duXCI+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICBocmVmPXt1c2VyLmFic29sdXRlX3VybH1cbiAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dXNlcn0gc2l6ZT1cIjY0XCIgLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPFVzZXJNZW51IHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgICk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5leHBvcnQgZnVuY3Rpb24gVXNlclByaXZhdGVUaHJlYWRzTGluayhwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkcykgcmV0dXJuIG51bGw7XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cIm5hdmJhci1ub3RpZmljYXRpb25cIlxuICAgICAgICBocmVmPXttaXNhZ28uZ2V0KCdQUklWQVRFX1RIUkVBRFNfVVJMJyl9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiWW91IGhhdmUgdW5yZWFkIHByaXZhdGUgdGhyZWFkcy5cIil9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgbWVzc2FnZVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlXCI+XG4gICAgICAgICAge3Byb3BzLnVzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkc31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICk7XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RVc2VyTWVudShzdGF0ZSkge1xuICByZXR1cm4ge3VzZXI6IHN0YXRlLmF1dGgudXNlcn07XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0VXNlck5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dVc2VyTWVudSgpIHtcbiAgICBkcm9wZG93bi5zaG93Q29ubmVjdGVkKCd1c2VyLW1lbnUnLCBjb25uZWN0KHNlbGVjdFVzZXJNZW51KShVc2VyTWVudSkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93VXNlck1lbnV9PlxuICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT1cIjUwXCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzcygpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzQ2xhc3NOYW1lKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzcygpfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNJY29uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gJ3JlbW92ZV9jaXJjbGVfb3V0bGluZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAnaGVscF9vdXRsaW5lJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29ubGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiAnbGFiZWwnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiAnbGFiZWxfb3V0bGluZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICAgIHJldHVybiAnbGVucyc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lKSB7XG4gICAgICByZXR1cm4gJ3Bhbm9yYW1hX2Zpc2hfZXllJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uIHN0YXR1cy1pY29uXCI+XG4gICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgPC9zcGFuPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXR1c0xhYmVsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscCgpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzRGVzY3JpcHRpb24odGhpcy5wcm9wcy51c2VyLCB0aGlzLnByb3BzLnN0YXR1cyk7XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkJhbm5lZFwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJIaWRkZW5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9ubGluZSAoaGlkZGVuKVwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9mZmxpbmUgKGhpZGRlbilcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT25saW5lXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPZmZsaW5lXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJzdGF0dXMtbGFiZWxcIn1cbiAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMuZ2V0SGVscCgpfT5cbiAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgPC9zcGFuPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNDbGFzc05hbWUoc3RhdHVzKSB7XG4gIGxldCBjbGFzc05hbWUgPSAnJztcbiAgaWYgKHN0YXR1cy5pc19iYW5uZWQpIHtcbiAgICBjbGFzc05hbWUgPSAnYmFubmVkJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ29mZmxpbmUnO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ29ubGluZSc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ29mZmxpbmUnO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICBjbGFzc05hbWUgPSAnb25saW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfVxuXG4gIHJldHVybiAndXNlci1zdGF0dXMgdXNlci0nICsgY2xhc3NOYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzRGVzY3JpcHRpb24odXNlciwgc3RhdHVzKSB7XG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgaWYgKHN0YXR1cy5iYW5uZWRfdW50aWwpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGJhbm5lZCB1bnRpbCAlKGJhbl9leHBpcmVzKXNcIiksIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIGJhbl9leHBpcmVzOiBzdGF0dXMuYmFubmVkX3VudGlsLmZvcm1hdCgnTEwsIExUJylcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBiYW5uZWRcIiksIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgaGlkaW5nIHByZXNlbmNlXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgb25saW5lIChoaWRkZW4pXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHdhcyBsYXN0IHNlZW4gJShsYXN0X2NsaWNrKXMgKGhpZGRlbilcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2suZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29ubGluZSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG9ubGluZVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHdhcyBsYXN0IHNlZW4gJShsYXN0X2NsaWNrKXNcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2suZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtYXV0aG9yXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWRhdGVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg4MCwgMTQwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXJVc2VyQXZhdGFyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGEgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIj5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5fSBzaXplPVwiMTAwXCIgLz5cbiAgICAgIDwvYT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXItd3JhcHBlclwiPlxuICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyVXNlcm5hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8YSBocmVmPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5LmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS51c2VybmFtZX1cbiAgICAgIDwvYT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieV91c2VybmFtZX1cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIiBrZXk9e3RoaXMucHJvcHMuY2hhbmdlLmlkfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPlxuICAgICAgICB7dGhpcy5yZW5kZXJVc2VyQXZhdGFyKCl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPlxuICAgICAgICB7dGhpcy5yZW5kZXJVc2VybmFtZSgpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvbGQtdXNlcm5hbWVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2Uub2xkX3VzZXJuYW1lfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmV3LXVzZXJuYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLm5ld191c2VybmFtZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgIDxhYmJyIHRpdGxlPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX29uLmZvcm1hdCgnTExMJyl9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX29uLmZyb21Ob3coKX1cbiAgICAgICAgPC9hYmJyPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmVtcHR5TWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZW1wdHlNZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk5vIG5hbWUgY2hhbmdlcyBoYXZlIGJlZW4gcmVjb3JkZWQgZm9yIHlvdXIgYWNjb3VudC5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZS1oaXN0b3J5IHVpLXJlYWR5XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYW5nZVByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZS1oaXN0b3J5IHVpLXByZXZpZXdcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIHtbMCwgMSwgMl0ubWFwKChpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxDaGFuZ2VQcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYW5nZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2NoYW5nZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlcy5tYXAoKGNoYW5nZSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8Q2hhbmdlIGNoYW5nZT17Y2hhbmdlfSBrZXk9e2NoYW5nZS5pZH0gLz47XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1lbXB0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RSZWFkeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RSZWFkeSBjaGFuZ2VzPXt0aGlzLnByb3BzLmNoYW5nZXN9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSBlbXB0eU1lc3NhZ2U9e3RoaXMucHJvcHMuZW1wdHlNZXNzYWdlfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBVc2VyQ2FyZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0L3VzZXItY2FyZCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlclByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC91c2VyLXByZXZpZXcnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGJhdGNoIGZyb20gJ21pc2Fnby91dGlscy9iYXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gbmV4dFByb3BzLmlzTG9hZGVkO1xuICB9XG5cbiAgZ2V0UGFnZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFnZXMgPCAyKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPFBhZ2VyIHsuLi50aGlzLnByb3BzfSAvPlxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gXCJ1c2Vycy1jYXJkcy1saXN0IFwiICsgdGhpcy5wcm9wcy5jbGFzc05hbWUgKyBcIiB1aS1yZWFkeVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJ1c2Vycy1jYXJkcy1saXN0IHVpLXJlYWR5XCI7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29sQ2xhc3NOYW1lKCkge1xuICAgIHJldHVybiBcImNvbC1tZC1cIiArICgxMiAvIHRoaXMucHJvcHMuY29scyk7XG4gIH1cblxuICBnZXRCb2R5KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTG9hZGVkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gYmF0Y2godGhpcy5wcm9wcy51c2VycywgdGhpcy5wcm9wcy5jb2xzKS5tYXAoKHJvdywgcikgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIiBrZXk9e3J9PlxuICAgICAgICAgICAge3Jvdy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb2xDbGFzc05hbWUoKX0ga2V5PXt1c2VyLmlkfT5cbiAgICAgICAgICAgICAgICAgIDxVc2VyQ2FyZFxuICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzPXt0aGlzLnByb3BzLnNob3dTdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgIHNob3dSYW5rPXt0aGlzLnByb3BzLnNob3dSYW5rfVxuICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBsZXQgcm93ID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvcHMuY29sczsgaSArKykge1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHJvdy5wdXNoKHRoaXMuZ2V0Q29sQ2xhc3NOYW1lKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5wdXNoKHRoaXMuZ2V0Q29sQ2xhc3NOYW1lKCkgKyAnIGhpZGRlbi14cyBoaWRkZW4tc20nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIHtyb3cubWFwKChjbGFzc05hbWUsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGtleT17aX0+XG4gICAgICAgICAgICAgICAgPFVzZXJQcmV2aWV3IHNob3dTdGF0dXM9e3RoaXMucHJvcHMuc2hvd1N0YXR1c30gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcnMtY2FyZHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAgICB7dGhpcy5nZXRCb2R5KCl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzSWNvbiwgU3RhdHVzTGFiZWwgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRVc2VyU3RhdHVzKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNob3dTdGF0dXMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnVzZXIuc3RhdHVzKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxTdGF0dXMgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9PlxuICAgICAgICAgIDxTdGF0dXNJY29uIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9IC8+XG4gICAgICAgICAgPFN0YXR1c0xhYmVsIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWxcIiAvPlxuICAgICAgICA8L1N0YXR1cz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1c1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3NwYW4+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRSYW5rTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zaG93UmFuaykge1xuICAgICAgaWYgKHRoaXMucHJvcHMudXNlci5yYW5rLmlzX3RhYikge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIucmFuay5hYnNvbHV0ZV91cmx9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHJhbmstbmFtZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXIucmFuay5uYW1lfVxuICAgICAgICA8L2E+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSByYW5rLW5hbWVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnJhbmsubmFtZX1cbiAgICAgICAgPC9zcGFuPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlclRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVzZXIudGl0bGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlXCI+e3RoaXMucHJvcHMudXNlci50aXRsZX08L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlckpvaW5lZE9uKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiSm9pbmVkIG9uICUoam9pbmVkX29uKXNcIiksIHtcbiAgICAgICdqb2luZWRfb24nOiB0aGlzLnByb3BzLnVzZXIuam9pbmVkX29uLmZvcm1hdCgnTEwsIExUJylcbiAgICB9LCB0cnVlKTtcblxuICAgIGxldCBhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiSm9pbmVkICUoam9pbmVkX29uKXNcIiksIHtcbiAgICAgICdqb2luZWRfb24nOiB0aGlzLnByb3BzLnVzZXIuam9pbmVkX29uLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItam9pbmVkLW9uXCIgdGl0bGU9e3RpdGxlfT5cbiAgICAgIHthZ2V9XG4gICAgPC9zcGFuPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0UG9zdHNDb3VudCgpIHtcbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHBvc3RzKXMgcG9zdFwiLFxuICAgICAgXCIlKHBvc3RzKXMgcG9zdHNcIixcbiAgICAgIHRoaXMucHJvcHMudXNlci5wb3N0cyk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgJ3Bvc3RzJzogdGhpcy5wcm9wcy51c2VyLnBvc3RzXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRUaHJlYWRzQ291bnQoKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkXCIsXG4gICAgICBcIiUodGhyZWFkcylzIHRocmVhZHNcIixcbiAgICAgIHRoaXMucHJvcHMudXNlci50aHJlYWRzKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAndGhyZWFkcyc6IHRoaXMucHJvcHMudXNlci50aHJlYWRzXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRGb2xsb3dlcnNDb3VudCgpIHtcbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKGZvbGxvd2VycylzIGZvbGxvd2VyXCIsXG4gICAgICBcIiUoZm9sbG93ZXJzKXMgZm9sbG93ZXJzXCIsXG4gICAgICB0aGlzLnByb3BzLnVzZXIuZm9sbG93ZXJzKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAnZm9sbG93ZXJzJzogdGhpcy5wcm9wcy51c2VyLmZvbGxvd2Vyc1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVzZXIucmFuay5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAndXNlci1jYXJkIHVzZXItY2FyZC0nICsgdGhpcy5wcm9wcy51c2VyLnJhbmsuY3NzX2NsYXNzICsgJyB1aS1yZWFkeSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAndXNlci1jYXJkIHVpLXJlYWR5JztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1iZy1pbWFnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1iZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1kZXRhaWxzXCI+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLmFic29sdXRlX3VybH0+XG4gICAgICAgICAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHNpemU9ezYwfSBzaXplMng9ezEwMH0gLz5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXIudXNlcm5hbWV9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVzZXItc3Vic2NyaXB0XCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJTdGF0dXMoKX1cbiAgICAgICAgICAgICAge3RoaXMuZ2V0UmFua05hbWUoKX1cbiAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclRpdGxlKCl9XG4gICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJKb2luZWRPbigpfVxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cblxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcG9zdHMtY291bnRcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRQb3N0c0NvdW50KCl9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRocmVhZHMtY291bnRcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRUaHJlYWRzQ291bnQoKX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItZm9sbG93ZXJzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0Rm9sbG93ZXJzQ291bnQoKX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0VXNlclN0YXR1cygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zaG93U3RhdHVzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1zdGF0dXNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19PlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J3VzZXItY2FyZCB1aS1wcmV2aWV3Jz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWJnLWltYWdlXCI+XG4gICAgICAgIDxBdmF0YXIgc2l6ZT1cIjQwMFwiIGNsYXNzTmFtZT1cImJnLWltYWdlXCIgLz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1iZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1kZXRhaWxzXCI+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiNDAwXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNjAsIDE1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9oND5cblxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidXNlci1zdWJzY3JpcHRcIj5cblxuICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItam9pbmVkLW9uXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zdGF0c1wiPlxuXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1wb3N0cy1jb3VudFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg0MCwgNzApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRocmVhZHMtY291bnRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNDAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1mb2xsb3dlcnMtY291bnRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNDAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIk5vIHVzZXJzIGhhdmUgcG9zdGVkIGFueSBuZXcgbWVzc2FnZXMgZHVyaW5nIGxhc3QgJShkYXlzKXMgZGF5cy5cIiksXG4gICAgICB7J2RheXMnOiB0aGlzLnByb3BzLnRyYWNrZWRQZXJpb2R9LCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMtbGlzdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbk9uTW9iaWxlKSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSBoaWRkZW4teHMgaGlkZGVuLXNtJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0nO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstbmFtZVwiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jb21wYWN0LXN0YXRzIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb25cIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb24gaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIn19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWQgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIn19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtdG90YWwgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIn19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzSWNvbiwgU3RhdHVzTGFiZWwgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1yYW5rLVwiICsgdGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtXCI7XG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlclN0YXR1cygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLnN0YXR1cykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFN0YXR1cyB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30+XG4gICAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30gLz5cbiAgICAgICAgICA8U3RhdHVzTGFiZWwgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCBoaWRkZW4teHMgaGlkZGVuLXNtXCIgLz5cbiAgICAgICAgPC9TdGF0dXM+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19PlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0UmFua05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJhbmsuaXNfdGFiKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWUgaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnJhbmsubmFtZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCByYW5rVXJsID0gbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSArIHRoaXMucHJvcHMucmFuay5zbHVnICsgJy8nO1xuICAgIHJldHVybiAoXG4gICAgICA8TGluayB0bz17cmFua1VybH0gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucmFuay5uYW1lfVxuICAgICAgPC9MaW5rPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFVzZXJUaXRsZSgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXNlci50aXRsZSkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnRpdGxlfVxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPXs1MH0gc2l6ZTJ4PXs2NH0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMudXNlci51c2VybmFtZX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAge3RoaXMuZ2V0UmFua05hbWUoKX1cbiAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jb21wYWN0LXN0YXRzIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb25cIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz4je3RoaXMucHJvcHMuY291bnRlcn08L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLm1ldGEuc2NvcmV9PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb24gaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz4je3RoaXMucHJvcHMuY291bnRlcn08L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5tZXRhLnNjb3JlfTwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtdG90YWwgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLnBvc3RzfTwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEl0ZW1QcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbS1wcmV2aWV3JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWQgdWktcHJldmlld1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg1MCwgMjIwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3A+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycyB1aS1wcmV2aWV3XCI+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICAgIHtbMCwgMSwgMl0ubWFwKChpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8SXRlbVByZXZpZXcgaGlkZGVuT25Nb2JpbGU9e2kgPiAwfSBrZXk9e2l9IC8+XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaXN0SXRlbSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRMZWFkTWVzc2FnZSgpIHtcbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUocG9zdGVycylzIG1vc3QgYWN0aXZlIHBvc3RlciBmcm9tIGxhc3QgJShkYXlzKXMgZGF5cy5cIixcbiAgICAgICAgXCIlKHBvc3RlcnMpcyBtb3N0IGFjdGl2ZSBwb3N0ZXJzIGZyb20gbGFzdCAlKGRheXMpcyBkYXlzLlwiLFxuICAgICAgICB0aGlzLnByb3BzLmNvdW50KTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBwb3N0ZXJzOiB0aGlzLnByb3BzLmNvdW50LFxuICAgICAgZGF5czogdGhpcy5wcm9wcy50cmFja2VkUGVyaW9kXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRMZWFkTWVzc2FnZSgpfVxuICAgICAgICA8L3A+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycyB1aS1yZWFkeVwiPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy51c2Vycy5tYXAoKHVzZXIsIGkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIDxMaXN0SXRlbSB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbms9e3VzZXIucmFua31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyPXtpICsgMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3VzZXIuaWR9IC8+O1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtZW1wdHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1yZWFkeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdVU0VSUycpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKCdVU0VSUycpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG5cbiAgICAgIHRyYWNrZWRQZXJpb2Q6IGRhdGEudHJhY2tlZF9wZXJpb2QsXG4gICAgICBjb3VudDogZGF0YS5jb3VudFxuICAgIH07XG5cbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKCkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICdhY3RpdmUtcG9zdGVycycsXG4gICAgICB1cmw6IG1pc2Fnby5nZXQoJ1VTRVJTX0FQSScpLFxuICAgICAgZGF0YToge1xuICAgICAgICBsaXN0OiAnYWN0aXZlJ1xuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB1cGRhdGUgPSAoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICB0cmFja2VkUGVyaW9kOiBkYXRhLnRyYWNrZWRfcGVyaW9kLFxuICAgICAgY291bnQ6IGRhdGEuY291bnRcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUuZXh0cmEubmFtZSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKCdhY3RpdmUtcG9zdGVycycpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA+IDApIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RSZWFkeSB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tlZFBlcmlvZD17dGhpcy5zdGF0ZS50cmFja2VkUGVyaW9kfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudD17dGhpcy5zdGF0ZS5jb3VudH0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8TGlzdEVtcHR5IHRyYWNrZWRQZXJpb2Q9e3RoaXMuc3RhdGUudHJhY2tlZFBlcmlvZH0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBMaSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9saSc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgYmFzZVVybCwgbGlzdHMgfSkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCI+XG4gICAgICB7bGlzdHMubWFwKChsaXN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGxpc3RVcmwoYmFzZVVybCwgbGlzdCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpIHBhdGg9e3VybH0ga2V5PXt1cmx9PlxuICAgICAgICAgICAgPExpbmsgdG89e3VybH0+XG4gICAgICAgICAgICAgIHtsaXN0Lm5hbWV9XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9MaT5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gICk7XG59XG5cbmNvbnN0IGxpc3RVcmwgPSBmdW5jdGlvbihiYXNlVXJsLCBsaXN0KSB7XG4gIGxldCB1cmwgPSBiYXNlVXJsO1xuICBpZiAobGlzdC5jb21wb25lbnQgPT09ICdyYW5rJykge1xuICAgIHVybCArPSBsaXN0LnNsdWc7XG4gIH0gZWxzZSB7XG4gICAgdXJsICs9IGxpc3QuY29tcG9uZW50O1xuICB9XG4gIHJldHVybiB1cmwgKyAnLyc7XG59OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8VXNlcnNMaXN0IGlzTG9hZGVkPXtmYWxzZX0gY29scz17M30gc2hvd1N0YXR1cz17dHJ1ZX0gLz5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYWdlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL3BhZ2VyJztcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9yb290JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFVzZXJzTGlzdFxuICAgICAgICBjb2xzPXszfVxuICAgICAgICBpc0xvYWRlZD17dHJ1ZX1cbiAgICAgICAgc2hvd1N0YXR1cz17dHJ1ZX1cbiAgICAgICAgdXNlcnM9e3Byb3BzLnVzZXJzfVxuICAgICAgLz5cbiAgICAgIDxQYWdlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHJlc2V0U2Nyb2xsIGZyb20gJ21pc2Fnby91dGlscy9yZXNldC1zY3JvbGwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucGFnZXMgPT09IDEpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIHRleHQtY2VudGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMubW9yZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlclwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC01XCI+XG4gICAgICAgICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLW1kLTcgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5tb3JlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUGFnZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctcGFnaW5hdG9yXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxGaXJzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxQcmV2aW91c1BhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxOZXh0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPExhc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlyc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5maXJzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmUgZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSAnJztcbiAgICBpZiAocHJvcHMucHJldmlvdXMpIHtcbiAgICAgIHByZXZpb3VzVXJsID0gcHJvcHMucHJldmlvdXMgKyAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBwcmV2aW91c1VybH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmUgZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTmV4dFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGVkICYmIHByb3BzLm1vcmUpIHtcbiAgICBsZXQgbmV4dFVybCA9ICcnO1xuICAgIGlmIChwcm9wcy5uZXh0KSB7XG4gICAgICBuZXh0VXJsID0gcHJvcHMubmV4dCArICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIG5leHRVcmx9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBuZXh0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5sYXN0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBwcm9wcy5sYXN0ICsgJy8nfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9yZShwcm9wcykge1xuICBsZXQgbWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKG1vcmUpcyBtb3JlIG1lbWJlciB3aXRoIHRoaXMgcm9sZS5cIixcbiAgICAgIFwiVGhlcmUgYXJlICUobW9yZSlzIG1vcmUgbWVtYmVycyB3aXRoIHRoaXMgcm9sZS5cIixcbiAgICAgIHByb3BzLm1vcmUpO1xuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7J21vcmUnOiBwcm9wcy5tb3JlfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gbW9yZSBtZW1iZXJzIHdpdGggdGhpcyByb2xlLlwiKTtcbiAgfVxuXG4gIHJldHVybiA8cD57bWVzc2FnZX08L3A+O1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFnZUxlYWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFnZS1sZWFkJyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdExvYWRpbmcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LWxvYWRpbmcnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdVU0VSUycpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKCdVU0VSUycpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wYXJhbXMucGFnZSB8fCAxKTtcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICB9KTtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKHBhZ2UpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAncmFuay11c2VycycsXG4gICAgICB1cmw6IG1pc2Fnby5nZXQoJ1VTRVJTX0FQSScpLFxuICAgICAgZGF0YToge1xuICAgICAgICByYW5rOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsuaWQsXG4gICAgICAgIHBhZ2U6IHBhZ2VcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuXG4gICAgZGF0YS5pc0xvYWRlZCA9IHRydWU7XG4gICAgdGhpcy5zZXRTdGF0ZShkYXRhKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUucmFuay5uYW1lLFxuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCBudWxsLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVXNlcnNcIilcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHBvbGxzLnN0b3AoJ3JhbmstdXNlcnMnKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgIT09IG5leHRQcm9wcy5wYXJhbXMucGFnZSkge1xuICAgICAgdGl0bGUuc2V0KHtcbiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUucmFuay5uYW1lLFxuICAgICAgICBwYWdlOiBuZXh0UHJvcHMucGFyYW1zLnBhZ2UgfHwgbnVsbCxcbiAgICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVXNlcnNcIilcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgcG9sbHMuc3RvcCgncmFuay11c2VycycpO1xuICAgICAgdGhpcy5zdGFydFBvbGxpbmcobmV4dFByb3BzLnBhcmFtcy5wYWdlKTtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUucmFuay5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAncmFuay11c2Vycy1saXN0IHJhbmstdXNlcnMtJyArIHRoaXMucHJvcHMucm91dGUucmFuay5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncmFuay11c2Vycy1saXN0JztcbiAgICB9XG4gIH1cblxuICBnZXRSYW5rRGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUucmFuay5kZXNjcmlwdGlvbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicmFuay1kZXNjcmlwdGlvblwiPlxuICAgICAgICA8UGFnZUxlYWQgY29weT17dGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmRlc2NyaXB0aW9uLmh0bWx9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDb21wb25lbnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID4gMCkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIGxldCBiYXNlVXJsID0gbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSArIHRoaXMucHJvcHMucm91dGUucmFuay5zbHVnICsgJy8nO1xuICAgICAgICByZXR1cm4gPExpc3QgYmFzZVVybD17YmFzZVVybH1cbiAgICAgICAgICAgICAgICAgICAgIHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfVxuICAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMuc3RhdGV9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIHVzZXJzIHdpdGggdGhpcyByYW5rIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICA8L3A+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExpc3RMb2FkaW5nIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICB7dGhpcy5nZXRSYW5rRGVzY3JpcHRpb24oKX1cbiAgICAgICAge3RoaXMuZ2V0Q29tcG9uZW50KCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBOYXYgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQWN0aXZlUG9zdGVycyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9yb290JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmFuayBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL3Jvb3QnO1xuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tICdtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS11c2Vycy1saXN0c1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGgxPntnZXR0ZXh0KFwiVXNlcnNcIil9PC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICAgICAgICAgIDxOYXZcbiAgICAgICAgICAgICAgICAgIGxpc3RzPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUUycpfVxuICAgICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKX1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlcixcbiAgICAndXNlcnMnOiBzdG9yZS51c2Vyc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGxldCBwYXRocyA9IFtdO1xuXG4gIG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RTJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKGl0ZW0uY29tcG9uZW50ID09PSAncmFuaycpIHtcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpICsgaXRlbS5zbHVnICsgJy86cGFnZS8nLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSYW5rKSxcbiAgICAgICAgcmFuazogaXRlbVxuICAgICAgfSk7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSArIGl0ZW0uc2x1ZyArICcvJyxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUmFuayksXG4gICAgICAgIHJhbms6IGl0ZW1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXRlbS5jb21wb25lbnQgPT09ICdhY3RpdmUtcG9zdGVycycpe1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyBpdGVtLmNvbXBvbmVudCArICcvJyxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQWN0aXZlUG9zdGVycyksXG4gICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGhzO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkcm9wZG93bjogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB0b2dnbGVOYXYgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcm9wZG93bjogIXRoaXMuc3RhdGUuZHJvcGRvd25cbiAgICB9KTtcbiAgfTtcblxuICBoaWRlTmF2ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcGRvd246IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q29tcGFjdE5hdkNsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcm9wZG93bikge1xuICAgICAgcmV0dXJuICdjb21wYWN0LW5hdiBvcGVuJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdjb21wYWN0LW5hdic7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4teWVzLW5vIGJ0bi15ZXMtbm8tb25cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi15ZXMtbm8gYnRuLXllcy1uby1vZmZcIjtcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICghIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmljb25PbiB8fCAnY2hlY2tfYm94JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaWNvbk9mZiB8fCAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnO1xuICAgIH1cbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmxhYmVsT24gfHwgZ2V0dGV4dChcInllc1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWxPZmYgfHwgZ2V0dGV4dChcIm5vXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdG9nZ2xlID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIHZhbHVlOiAhdGhpcy5wcm9wcy52YWx1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlfVxuICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGlkPXt0aGlzLnByb3BzLmlkIHx8IG51bGx9XG4gICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMucHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXSB8fCBudWxsfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dFwiPlxuICAgICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBPcmRlcmVkTGlzdCBmcm9tICdtaXNhZ28vdXRpbHMvb3JkZXJlZC1saXN0JztcblxuZXhwb3J0IGNsYXNzIE1pc2FnbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2luaXRpYWxpemVycyA9IFtdO1xuICAgIHRoaXMuX2NvbnRleHQgPSB7fTtcbiAgfVxuXG4gIGFkZEluaXRpYWxpemVyKGluaXRpYWxpemVyKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZXJzLnB1c2goe1xuICAgICAga2V5OiBpbml0aWFsaXplci5uYW1lLFxuXG4gICAgICBpdGVtOiBpbml0aWFsaXplci5pbml0aWFsaXplcixcblxuICAgICAgYWZ0ZXI6IGluaXRpYWxpemVyLmFmdGVyLFxuICAgICAgYmVmb3JlOiBpbml0aWFsaXplci5iZWZvcmVcbiAgICB9KTtcbiAgfVxuXG4gIGluaXQoY29udGV4dCkge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgdmFyIGluaXRPcmRlciA9IG5ldyBPcmRlcmVkTGlzdCh0aGlzLl9pbml0aWFsaXplcnMpLm9yZGVyZWRWYWx1ZXMoKTtcbiAgICBpbml0T3JkZXIuZm9yRWFjaChpbml0aWFsaXplciA9PiB7XG4gICAgICBpbml0aWFsaXplcih0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNvbnRleHQgYWNjZXNzb3JzXG4gIGhhcyhrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLl9jb250ZXh0W2tleV07XG4gIH1cblxuICBnZXQoa2V5LCBmYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGV4dFtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2sgfHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHBvcChrZXkpIHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgbGV0IHZhbHVlID0gdGhpcy5fY29udGV4dFtrZXldO1xuICAgICAgdGhpcy5fY29udGV4dFtrZXldID0gbnVsbDtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn1cblxuLy8gY3JlYXRlICBzaW5nbGV0b25cbnZhciBtaXNhZ28gPSBuZXcgTWlzYWdvKCk7XG5cbi8vIGV4cG9zZSBpdCBnbG9iYWxseVxuZ2xvYmFsLm1pc2FnbyA9IG1pc2FnbztcblxuLy8gYW5kIGV4cG9ydCBpdCBmb3IgdGVzdHMgYW5kIHN0dWZmXG5leHBvcnQgZGVmYXVsdCBtaXNhZ287XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBhamF4LmluaXQobWlzYWdvLmdldCgnQ1NSRl9DT09LSUVfTkFNRScpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2FqYXgnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvYXV0aCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5jb25zdCBBVVRIX1NZTkNfUkFURSA9IDQ1OyAvLyBzeW5jIHVzZXIgd2l0aCBiYWNrZW5kIGV2ZXJ5IDQ1IHNlY29uZHNcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5nZXQoJ2lzQXV0aGVudGljYXRlZCcpKSB7XG4gICAgd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgYWpheC5nZXQoY29udGV4dC5nZXQoJ0FVVEhfQVBJJykpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaChkYXRhKSk7XG4gICAgICB9LCBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0sIEFVVEhfU1lOQ19SQVRFICogMTAwMCk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2F1dGgtc3luYycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdhdXRoJ1xufSk7IiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGF1dGggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2F1dGgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCBzdG9yYWdlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGF1dGguaW5pdChzdG9yZSwgc3RvcmFnZSwgbW9kYWwpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnYXV0aCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pOyIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBjYXB0Y2hhIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9jYXB0Y2hhJztcbmltcG9ydCBpbmNsdWRlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9pbmNsdWRlJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGNhcHRjaGEuaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcik7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjYXB0Y2hhJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgQXV0aE1lc3NhZ2UsIHsgc2VsZWN0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXV0aC1tZXNzYWdlJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShBdXRoTWVzc2FnZSksICdhdXRoLW1lc3NhZ2UtbW91bnQnKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDphdXRoLW1lc3NhZ2UnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnQkFOX01FU1NBR0UnKSkge1xuICAgIHNob3dCYW5uZWRQYWdlKGNvbnRleHQuZ2V0KCdCQU5fTUVTU0FHRScpLCBmYWxzZSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpiYW5tZWQtcGFnZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBDYXRlZ29yaWVzLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXMtbW91bnQnKSkge1xuICAgIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDYXRlZ29yaWVzKSwgJ2NhdGVnb3JpZXMtbW91bnQnKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OmNhdGVnb3JpZXMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBPcHRpb25zLCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdVU0VSX09QVElPTlMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKSxcbiAgICAgIGNvbXBvbmVudDogT3B0aW9ucyxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpvcHRpb25zJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFByb2ZpbGUsIHsgcGF0aHMsIHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnUFJPRklMRScpICYmIGNvbnRleHQuaGFzKCdQUk9GSUxFX1BBR0VTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KCdQUk9GSUxFJykuYWJzb2x1dGVfdXJsLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUHJvZmlsZSksXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6cHJvZmlsZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdyZWR1Y2VyOnByb2ZpbGUtaHlkcmF0ZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IFJlcXVlc3RBY3RpdmF0aW9uTGluayBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluayc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLW1vdW50JykpIHtcbiAgICBtb3VudChSZXF1ZXN0QWN0aXZhdGlvbkxpbmssICdyZXF1ZXN0LWFjdGl2YXRpb24tbGluay1tb3VudCcsIGZhbHNlKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnJlcXVlc3QtYWN0aXZhdGlvbi1saW5rJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgUmVxdWVzdFBhc3N3b3JkUmVzZXQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQtbW91bnQnKSkge1xuICAgIG1vdW50KFJlcXVlc3RQYXNzd29yZFJlc2V0LCAncmVxdWVzdC1wYXNzd29yZC1yZXNldC1tb3VudCcsIGZhbHNlKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnJlcXVlc3QtcGFzc3dvcmQtcmVzZXQnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBSZXNldFBhc3N3b3JkRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtcGFzc3dvcmQtZm9ybS1tb3VudCcpKSB7XG4gICAgbW91bnQoUmVzZXRQYXNzd29yZEZvcm0sICdyZXNldC1wYXNzd29yZC1mb3JtLW1vdW50JywgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6cmVzZXQtcGFzc3dvcmQtZm9ybScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHBhdGhzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlYXJjaCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmdldCgnQ1VSUkVOVF9MSU5LJykgPT09ICdtaXNhZ286c2VhcmNoJykge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocyhtaXNhZ28uZ2V0KCdTRUFSQ0hfUFJPVklERVJTJykpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpzZWFyY2gnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBTbmFja2Jhciwgc2VsZWN0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc25hY2tiYXInO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKFNuYWNrYmFyKSwgJ3NuYWNrYmFyLW1vdW50Jyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6c25hY2tiYXInLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc25hY2tiYXInXG59KTtcbiIsImltcG9ydCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ1RIUkVBRCcpICYmIGNvbnRleHQuaGFzKCdQT1NUUycpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnRocmVhZCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgcGF0aHMgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuY29uc3QgUFJJVkFURV9USFJFQURTX0xJU1QgPSAnbWlzYWdvOnByaXZhdGUtdGhyZWFkcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdUSFJFQURTJykgJiYgY29udGV4dC5oYXMoJ0NBVEVHT1JJRVMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocyhjb250ZXh0LmdldCgndXNlcicpLCBnZXRMaXN0T3B0aW9ucyhjb250ZXh0KSlcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdE9wdGlvbnMoY29udGV4dCkge1xuICBjb25zdCBjdXJyZW50TGluayA9IGNvbnRleHQuZ2V0KCdDVVJSRU5UX0xJTksnKTtcbiAgaWYgKGN1cnJlbnRMaW5rLnN1YnN0cigwLCBQUklWQVRFX1RIUkVBRFNfTElTVC5sZW5ndGgpID09PSBQUklWQVRFX1RIUkVBRFNfTElTVCkge1xuICAgIHJldHVybiB7XG4gICAgICBhcGk6IGNvbnRleHQuZ2V0KCdQUklWQVRFX1RIUkVBRFNfQVBJJyksXG4gICAgICBzdGFydFRocmVhZDoge1xuICAgICAgICBtb2RlOiAnU1RBUlRfUFJJVkFURScsXG4gICAgICAgIHN1Ym1pdDogbWlzYWdvLmdldCgnUFJJVkFURV9USFJFQURTX0FQSScpXG4gICAgICB9LFxuICAgICAgdGl0bGU6IGdldHRleHQoXCJQcml2YXRlIHRocmVhZHNcIiksXG4gICAgICBwYWdlTGVhZDogZ2V0dGV4dChcIlByaXZhdGUgdGhyZWFkcyBhcmUgdGhyZWFkcyB3aGljaCBvbmx5IHRob3NlIHRoYXQgc3RhcnRlZCB0aGVtIGFuZCB0aG9zZSB0aGV5IGhhdmUgaW52aXRlZCBtYXkgc2VlIGFuZCBwYXJ0aWNpcGF0ZSBpbi5cIiksXG4gICAgICBlbXB0eU1lc3NhZ2U6IGdldHRleHQoXCJZb3UgYXJlbid0IHBhcnRpY2lwYXRpbmcgaW4gYW55IHByaXZhdGUgdGhyZWFkcy5cIilcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAnYXBpJzogY29udGV4dC5nZXQoJ1RIUkVBRFNfQVBJJylcbiAgfTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp0aHJlYWRzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgVXNlck1lbnUsIENvbXBhY3RVc2VyTWVudSwgc2VsZWN0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1tZW51L3Jvb3QnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKFVzZXJNZW51KSwgJ3VzZXItbWVudS1tb3VudCcpO1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoQ29tcGFjdFVzZXJNZW51KSwgJ3VzZXItbWVudS1jb21wYWN0LW1vdW50Jyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6dXNlci1tZW51JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgVXNlcnMsIHsgcGF0aHMgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdVU0VSU19MSVNUUycpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcm9vdDogbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSxcbiAgICAgIGNvbXBvbmVudDogVXNlcnMsXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6dXNlcnMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBpbmNsdWRlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9pbmNsdWRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpbmNsdWRlLmluaXQoY29udGV4dC5nZXQoJ1NUQVRJQ19VUkwnKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdpbmNsdWRlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzdG9yYWdlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JhZ2UuaW5pdCgnbWlzYWdvXycpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnbG9jYWwtc3RvcmFnZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgZHJvcGRvd24gZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9iaWxlLW5hdmJhci1kcm9wZG93bi1tb3VudCcpO1xuICBpZiAoZWxlbWVudCkge1xuICAgIGRyb3Bkb3duLmluaXQoZWxlbWVudCk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2Ryb3Bkb3duJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC1tb3VudCcpO1xuICBpZiAoZWxlbWVudCkge1xuICAgIG1vZGFsLmluaXQoZWxlbWVudCk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ21vZGFsJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW9tZW50LmxvY2FsZSgkKCdodG1sJykuYXR0cignbGFuZycpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ21vbWVudCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIHRpdGxlLmluaXQoXG4gICAgY29udGV4dC5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGUsXG4gICAgY29udGV4dC5nZXQoJ1NFVFRJTkdTJykuZm9ydW1fbmFtZVxuICApO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncGFnZS10aXRsZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgcG9sbHMuaW5pdChhamF4LCBzbmFja2Jhcik7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdwb2xscycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHBvc3RpbmcuaW5pdChhamF4LCBzbmFja2JhciwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bvc3RpbmctcGxhY2Vob2xkZXInKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdwb3N0aW5nJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9hdXRoJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ2F1dGgnLCByZWR1Y2VyLCBPYmplY3QuYXNzaWduKHtcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGNvbnRleHQuZ2V0KCdpc0F1dGhlbnRpY2F0ZWQnKSxcbiAgICBpc0Fub255bW91czogIWNvbnRleHQuZ2V0KCdpc0F1dGhlbnRpY2F0ZWQnKSxcblxuICAgIHVzZXI6IGNvbnRleHQuZ2V0KCd1c2VyJylcbiAgfSwgaW5pdGlhbFN0YXRlKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOmF1dGgnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdUSFJFQUQnKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IG1pc2Fnby5nZXQoJ1RIUkVBRCcpLnBhcnRpY2lwYW50cztcbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3BhcnRpY2lwYW50cycsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSB8fCBbXSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnBhcnRpY2lwYW50cycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9sbCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsO1xuICBpZiAobWlzYWdvLmhhcygnVEhSRUFEJykgJiYgbWlzYWdvLmdldCgnVEhSRUFEJykucG9sbCkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldCgnVEhSRUFEJykucG9sbCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKCdwb2xsJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6cG9sbCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgaWYgKG1pc2Fnby5oYXMoJ1BPU1RTJykpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoJ1BPU1RTJykpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigncG9zdHMnLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwb3N0cycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChtaXNhZ28uaGFzKCdQUk9GSUxFJykpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKG1pc2Fnby5nZXQoJ1BST0ZJTEUnKSkpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnByb2ZpbGUtaHlkcmF0ZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCdwcm9maWxlJywgcmVkdWNlciwge30pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwcm9maWxlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlYXJjaCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3NlYXJjaCcsIHJlZHVjZXIsIE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZSwge1xuICAgIHByb3ZpZGVyczogbWlzYWdvLmdldCgnU0VBUkNIX1BST1ZJREVSUycpIHx8IFtdXG4gIH0pKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6c2VhcmNoJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3NlbGVjdGlvbicsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6c2VsZWN0aW9uJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcignc25hY2tiYXInLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpzbmFja2JhcicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdUSFJFQUQnKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldCgnVEhSRUFEJykpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigndGhyZWFkJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGhyZWFkJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aHJlYWRzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp0aHJlYWRzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RpY2snO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aWNrJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGljaycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcigndXNlcm5hbWUtaGlzdG9yeScsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dXNlcm5hbWUtaGlzdG9yeScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3VzZXJzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp1c2VycycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzbmFja2Jhci5pbml0KHN0b3JlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3NuYWNrYmFyJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmluaXQoKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3N0b3JlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdfZW5kJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBkb1RpY2sgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGljayc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuY29uc3QgVElDS19QRVJJT0QgPSA1MCAqIDEwMDA7IC8vZG8gdGhlIHRpY2sgZXZlcnkgNTBzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZG9UaWNrKCkpO1xuICB9LCBUSUNLX1BFUklPRCk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd0aWNrLXN0YXJ0JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5pbXBvcnQgenhjdmJuIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy96eGN2Ym4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgenhjdmJuLmluaXQoaW5jbHVkZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd6eGN2Ym4nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcblxuZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHNpZ25lZEluOiBmYWxzZSxcbiAgc2lnbmVkT3V0OiBmYWxzZVxufTtcblxuZXhwb3J0IGNvbnN0IFBBVENIX1VTRVIgPSAnUEFUQ0hfVVNFUic7XG5leHBvcnQgY29uc3QgU0lHTl9JTiA9ICdTSUdOX0lOJztcbmV4cG9ydCBjb25zdCBTSUdOX09VVCA9ICdTSUdOX09VVCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1VTRVIsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9JTixcbiAgICB1c2VyXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KHNvZnQ9ZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSUdOX09VVCxcbiAgICBzb2Z0XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGU9aW5pdGlhbFN0YXRlLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9VU0VSOlxuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCBhY3Rpb24ucGF0Y2gpO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG5cbiAgICBjYXNlIFNJR05fSU46XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgc2lnbmVkSW46IGFjdGlvbi51c2VyXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0lHTl9PVVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbm9ueW1vdXM6IHRydWUsXG4gICAgICAgIHNpZ25lZE91dDogIWFjdGlvbi5zb2Z0XG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgJiYgc3RhdGUudXNlci5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCB7XG4gICAgICAgICAgJ2F2YXRhcnMnOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfVVNFUk5BTUU6XG4gICAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkICYmIHN0YXRlLnVzZXIuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpO1xuICAgICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwge1xuICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBSRVBMQUNFX1BBUlRJQ0lQQU5UUyA9ICdSRVBMQUNFX1BBUlRJQ0lQQU5UUyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9QQVJUSUNJUEFOVFMsXG4gICAgc3RhdGU6IG5ld1N0YXRlXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUkVQTEFDRV9QQVJUSUNJUEFOVFM6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZXhwb3J0IGNvbnN0IEJVU1lfUE9MTCA9ICdCVVNZX1BPTEwnO1xuZXhwb3J0IGNvbnN0IFJFTEVBU0VfUE9MTCA9ICdSRUxFQVNFX1BPTEwnO1xuZXhwb3J0IGNvbnN0IFJFTU9WRV9QT0xMID0gJ1JFTU9WRV9QT0xMJztcbmV4cG9ydCBjb25zdCBSRVBMQUNFX1BPTEwgPSAnUkVQTEFDRV9QT0xMJztcbmV4cG9ydCBjb25zdCBVUERBVEVfUE9MTCA9ICdVUERBVEVfUE9MTCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgbGV0IGhhc1NlbGVjdGVkQ2hvaWNlcyA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IGkgaW4ganNvbi5jaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0ganNvbi5jaG9pY2VzW2ldO1xuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIGhhc1NlbGVjdGVkQ2hvaWNlcyA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcblxuICAgIGhhc1NlbGVjdGVkQ2hvaWNlcyxcbiAgICBlbmRzT246IChqc29uLmxlbmd0aCA/IG1vbWVudChqc29uLnBvc3RlZF9vbikuYWRkKGpzb24ubGVuZ3RoLCAnZGF5cycpIDogbnVsbCksXG5cbiAgICBpc0J1c3k6IGZhbHNlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVzeSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBCVVNZX1BPTExcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVMRUFTRV9QT0xMXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfUE9MTCxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9QT0xMLFxuICAgIGRhdGFcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRU1PVkVfUE9MTFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2xsKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtpc0J1c3k6IHRydWV9KTtcblxuICAgIGNhc2UgUkVMRUFTRV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7aXNCdXN5OiBmYWxzZX0pO1xuXG4gICAgY2FzZSBSRU1PVkVfUE9MTDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH07XG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGU7XG5cbiAgICBjYXNlIFVQREFURV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgaHlkcmF0ZVVzZXIgfSBmcm9tICcuL3VzZXJzJztcblxuZXhwb3J0IGNvbnN0IFBBVENIX1BPU1QgPSAnUEFUQ0hfUE9TVCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBwb3N0ZWRfb246IG1vbWVudChqc29uLnBvc3RlZF9vbiksXG4gICAgdXBkYXRlZF9vbjogbW9tZW50KGpzb24udXBkYXRlZF9vbiksXG4gICAgaGlkZGVuX29uOiBtb21lbnQoanNvbi5oaWRkZW5fb24pLFxuXG4gICAgYXR0YWNobWVudHM6IGpzb24uYXR0YWNobWVudHMgPyBqc29uLmF0dGFjaG1lbnRzLm1hcChoeWRyYXRlQXR0YWNobWVudCkgOiBudWxsLFxuICAgIHBvc3RlcjoganNvbi5wb3N0ZXIgPyBoeWRyYXRlVXNlcihqc29uLnBvc3RlcikgOiBudWxsLFxuXG4gICAgaXNTZWxlY3RlZDogZmFsc2UsXG4gICAgaXNCdXN5OiBmYWxzZSxcbiAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUF0dGFjaG1lbnQoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHVwbG9hZGVkX29uOiBtb21lbnQoanNvbi51cGxvYWRlZF9vbilcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwb3N0LCBwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1BPU1QsXG4gICAgcG9zdCxcbiAgICBwYXRjaFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb3N0KHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9QT1NUOlxuICAgICAgaWYgKHN0YXRlLmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnBhdGNoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgcG9zdFJlZHVjZXIsIHsgUEFUQ0hfUE9TVCwgaHlkcmF0ZSBhcyBoeWRyYXRlUG9zdCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcblxuZXhwb3J0IGNvbnN0IEFQUEVORF9QT1NUUyA9ICdBUFBFTkRfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IFNFTEVDVF9QT1NUID0gJ1NFTEVDVF9QT1NUJztcbmV4cG9ydCBjb25zdCBERVNFTEVDVF9QT1NUID0gJ0RFU0VMRUNUX1BPU1QnO1xuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1RTID0gJ0RFU0VMRUNUX1BPU1RTJztcbmV4cG9ydCBjb25zdCBMT0FEX1BPU1RTID0gJ0xPQURfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IFVOTE9BRF9QT1NUUyA9ICdVTkxPQURfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9QT1NUUyA9ICdVUERBVEVfUE9TVFMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHBvc3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfUE9TVCxcbiAgICBwb3N0XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlbGVjdChwb3N0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVTRUxFQ1RfUE9TVCxcbiAgICBwb3N0XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlbGVjdEFsbCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERVNFTEVDVF9QT1NUUyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHJlc3VsdHM6IGpzb24ucmVzdWx0cy5tYXAoaHlkcmF0ZVBvc3QpLFxuICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IExPQURfUE9TVFMsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9QT1NUUyxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxvYWQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVU5MT0FEX1BPU1RTXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfUE9TVFMsXG4gICAgdXBkYXRlOiBuZXdTdGF0ZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb3N0cyhzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX1BPU1Q6XG4gICAgICBjb25zdCBzZWxlY3RlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IHNlbGVjdGVkUG9zdHNcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBERVNFTEVDVF9QT1NUOlxuICAgICAgY29uc3QgZGVzZWxldGVkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICBpZiAocG9zdC5pZCA9PSBhY3Rpb24ucG9zdC5pZCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwb3N0LCB7XG4gICAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IGRlc2VsZXRlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVFM6XG4gICAgICBjb25zdCBkZXNlbGV0ZWRBbGxQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwb3N0LCB7XG4gICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IGRlc2VsZXRlZEFsbFBvc3RzXG4gICAgICB9KTtcblxuICAgIGNhc2UgQVBQRU5EX1BPU1RTOlxuICAgICAgbGV0IHJlc3VsdHMgPSBzdGF0ZS5yZXN1bHRzLnNsaWNlKCk7XG4gICAgICBjb25zdCByZXN1bHRzSWRzID0gc3RhdGUucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHBvc3QuaWQ7XG4gICAgICB9KTtcblxuICAgICAgYWN0aW9uLnN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzSWRzLmluZGV4T2YocG9zdC5pZCkgPT09IC0xKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHBvc3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5zdGF0ZSwge1xuICAgICAgICByZXN1bHRzXG4gICAgICB9KTtcblxuICAgIGNhc2UgTE9BRF9QT1NUUzpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGU7XG5cbiAgICBjYXNlIFVOTE9BRF9QT1NUUzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX1BPU1RTOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKTtcblxuICAgIGNhc2UgUEFUQ0hfUE9TVDpcbiAgICAgIGNvbnN0IHJlZHVjZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0UmVkdWNlcihwb3N0LCBhY3Rpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiByZWR1Y2VkUG9zdHNcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSwgaHlkcmF0ZVN0YXR1cyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5cbmV4cG9ydCBjb25zdCBIWURSQVRFX1BST0ZJTEUgPSAnSFlEUkFURV9QUk9GSUxFJztcbmV4cG9ydCBjb25zdCBQQVRDSF9QUk9GSUxFID0gJ1BBVENIX1BST0ZJTEUnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShwcm9maWxlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9QUk9GSUxFLFxuICAgIHByb2ZpbGVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUFJPRklMRSxcbiAgICBwYXRjaFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRoKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBIWURSQVRFX1BST0ZJTEU6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLnByb2ZpbGUsIHtcbiAgICAgICAgam9pbmVkX29uOiBtb21lbnQoYWN0aW9uLnByb2ZpbGUuam9pbmVkX29uKSxcbiAgICAgICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKGFjdGlvbi5wcm9maWxlLnN0YXR1cylcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBQQVRDSF9QUk9GSUxFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24ucGF0Y2gpO1xuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgaWYgKHN0YXRlLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIGF2YXRhcnM6IGFjdGlvbi5hdmF0YXJzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfVVNFUk5BTUU6XG4gICAgICBpZiAoc3RhdGUuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgdXNlcm5hbWU6IGFjdGlvbi51c2VybmFtZSxcbiAgICAgICAgICBzbHVnOiBhY3Rpb24uc2x1Z1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBSRVBMQUNFX1NFQVJDSCA9ICdSRVBMQUNFX1NFQVJDSCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1NFQVJDSCA9ICdVUERBVEVfU0VBUkNIJztcbmV4cG9ydCBjb25zdCBVUERBVEVfU0VBUkNIX1BST1ZJREVSID0gJ1VQREFURV9TRUFSQ0hfUFJPVklERVInO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBxdWVyeTogJycsXG4gIHByb3ZpZGVyczogW11cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9TRUFSQ0gsXG4gICAgc3RhdGU6IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBwcm92aWRlcnM6IG5ld1N0YXRlXG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1NFQVJDSCxcbiAgICB1cGRhdGU6IG5ld1N0YXRlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQcm92aWRlcihwcm92aWRlcikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9TRUFSQ0hfUFJPVklERVIsXG4gICAgcHJvdmlkZXI6IHByb3ZpZGVyXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUkVQTEFDRV9TRUFSQ0g6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKTtcblxuICAgIGNhc2UgVVBEQVRFX1NFQVJDSF9QUk9WSURFUjpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBwcm92aWRlcnM6IHN0YXRlLnByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSBhY3Rpb24ucHJvdmlkZXIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24ucHJvdmlkZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgeyB0b2dnbGUgfSBmcm9tICdtaXNhZ28vdXRpbHMvc2V0cyc7XG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RfQUxMID0gJ1NFTEVDVF9BTEwnO1xuZXhwb3J0IGNvbnN0IFNFTEVDVF9OT05FID0gJ1NFTEVDVF9OT05FJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RfSVRFTSA9ICdTRUxFQ1RfSVRFTSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGwoaXRlbXNJZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfQUxMLFxuICAgIGl0ZW1zOiBpdGVtc0lkc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9uZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfTk9ORVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXRlbShpdGVtSWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfSVRFTSxcbiAgICBpdGVtOiBpdGVtSWRcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VsZWN0aW9uKHN0YXRlPVtdLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTRUxFQ1RfQUxMOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcztcblxuICAgIGNhc2UgU0VMRUNUX05PTkU6XG4gICAgICByZXR1cm4gW107XG5cbiAgICBjYXNlIFNFTEVDVF9JVEVNOlxuICAgICAgcmV0dXJuIHRvZ2dsZShzdGF0ZSwgYWN0aW9uLml0ZW0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICB0eXBlOiAnaW5mbycsXG4gIG1lc3NhZ2U6ICcnLFxuICBpc1Zpc2libGU6IGZhbHNlXG59O1xuXG5leHBvcnQgY29uc3QgU0hPV19TTkFDS0JBUiA9ICdTSE9XX1NOQUNLQkFSJztcbmV4cG9ydCBjb25zdCBISURFX1NOQUNLQkFSID0gJ0hJREVfU05BQ0tCQVInO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1NuYWNrYmFyKG1lc3NhZ2UsIHR5cGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSE9XX1NOQUNLQkFSLFxuICAgIG1lc3NhZ2UsXG4gICAgbWVzc2FnZVR5cGU6IHR5cGVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVTbmFja2JhcigpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBISURFX1NOQUNLQkFSXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNuYWNrYmFyKHN0YXRlPWluaXRpYWxTdGF0ZSwgYWN0aW9uPW51bGwpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBTSE9XX1NOQUNLQkFSKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFjdGlvbi5tZXNzYWdlVHlwZSxcbiAgICAgIG1lc3NhZ2U6IGFjdGlvbi5tZXNzYWdlLFxuICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gSElERV9TTkFDS0JBUikge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBpc1Zpc2libGU6IGZhbHNlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBSRU1PVkVfUE9MTCwgUkVQTEFDRV9QT0xMIH0gZnJvbSAnLi9wb2xsJztcblxuZXhwb3J0IGNvbnN0IEJVU1lfVEhSRUFEID0gJ0JVU1lfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBSRUxFQVNFX1RIUkVBRCA9ICdSRUxFQVNFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgUkVQTEFDRV9USFJFQUQgPSAnUkVQTEFDRV9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9USFJFQUQgPSAnVVBEQVRFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRF9BQ0wgPSAnVVBEQVRFX1RIUkVBRF9BQ0wnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgc3RhcnRlZF9vbjogbW9tZW50KGpzb24uc3RhcnRlZF9vbiksXG4gICAgbGFzdF9wb3N0X29uOiBtb21lbnQoanNvbi5sYXN0X3Bvc3Rfb24pLFxuXG4gICAgaXNCdXN5OiBmYWxzZVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1c3koKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQlVTWV9USFJFQURcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVMRUFTRV9USFJFQURcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UobmV3U3RhdGUsIGh5ZHJhdGVkPWZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9USFJFQUQsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGRhdGEpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVEhSRUFELFxuICAgIGRhdGFcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUFjbChkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1RIUkVBRF9BQ0wsXG4gICAgZGF0YVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJlYWQoc3RhdGU9e30sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEJVU1lfVEhSRUFEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7aXNCdXN5OiB0cnVlfSk7XG5cbiAgICBjYXNlIFJFTEVBU0VfVEhSRUFEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7aXNCdXN5OiBmYWxzZX0pO1xuXG4gICAgY2FzZSBSRU1PVkVfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge3BvbGw6IG51bGx9KTtcblxuICAgIGNhc2UgUkVQTEFDRV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7cG9sbDogYWN0aW9uLnN0YXRlfSk7XG5cbiAgICBjYXNlIFJFUExBQ0VfVEhSRUFEOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZTtcblxuICAgIGNhc2UgVVBEQVRFX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLmRhdGEpO1xuXG4gICAgY2FzZSBVUERBVEVfVEhSRUFEX0FDTDpcbiAgICAgIGNvbnN0IGFjbCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmFjbCwgYWN0aW9uLmRhdGEpO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7YWNsfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IGNvbmNhdFVuaXF1ZSBmcm9tICdtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZSc7XG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVEhSRUFEUyA9ICdBUFBFTkRfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgREVMRVRFX1RIUkVBRCA9ICdERUxFVEVfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBGSUxURVJfVEhSRUFEUyA9ICdGSUxURVJfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgSFlEUkFURV9USFJFQURTID0gJ0hZRFJBVEVfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgUEFUQ0hfVEhSRUFEID0gJ1BBVENIX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgUkVBRF9USFJFQURTID0gJ1JFQURfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgU09SVF9USFJFQURTID0gJ1NPUlRfVEhSRUFEUyc7XG5cbmV4cG9ydCBjb25zdCBNT0RFUkFUSU9OX1BFUk1JU1NJT05TID0gW1xuICAnY2FuX2Fubm91bmNlJyxcbiAgJ2Nhbl9hcHByb3ZlJyxcbiAgJ2Nhbl9jbG9zZScsXG4gICdjYW5faGlkZScsXG4gICdjYW5fbW92ZScsXG4gICdjYW5fbWVyZ2UnLFxuICAnY2FuX3BpbicsXG4gICdjYW5fcmV2aWV3J1xuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcywgc29ydGluZykge1xuIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1RIUkVBRFMsXG4gICAgaXRlbXMsXG4gICAgc29ydGluZ1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlVGhyZWFkKHRocmVhZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFTEVURV9USFJFQUQsXG4gICAgdGhyZWFkXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJUaHJlYWRzKGNhdGVnb3J5LCBjYXRlZ29yaWVzTWFwKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogRklMVEVSX1RIUkVBRFMsXG4gICAgY2F0ZWdvcnksXG4gICAgY2F0ZWdvcmllc01hcFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfVEhSRUFEUyxcbiAgICBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2godGhyZWFkLCBwYXRjaCwgc29ydGluZz1udWxsKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfVEhSRUFELFxuICAgIHRocmVhZCxcbiAgICBwYXRjaCxcbiAgICBzb3J0aW5nXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkKGNhdGVnb3JpZXNNYXAsIGNhdGVnb3J5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVBRF9USFJFQURTLFxuICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgY2F0ZWdvcnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnQoc29ydGluZykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNPUlRfVEhSRUFEUyxcbiAgICBzb3J0aW5nXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaHJlYWRNb2RlcmF0aW9uT3B0aW9ucyh0aHJlYWRfYWNsKSB7XG4gIGxldCBvcHRpb25zID0gW107XG4gIE1PREVSQVRJT05fUEVSTUlTU0lPTlMuZm9yRWFjaChmdW5jdGlvbihwZXJtKSB7XG4gICAgaWYgKHRocmVhZF9hY2xbcGVybV0pIHtcbiAgICAgIG9wdGlvbnMucHVzaChwZXJtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVUaHJlYWQodGhyZWFkKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aHJlYWQsIHtcbiAgICBzdGFydGVkX29uOiBtb21lbnQodGhyZWFkLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KHRocmVhZC5sYXN0X3Bvc3Rfb24pLFxuICAgIG1vZGVyYXRpb246IGdldFRocmVhZE1vZGVyYXRpb25PcHRpb25zKHRocmVhZC5hY2wpXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJlYWQoc3RhdGU9W10sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFQUEVORF9USFJFQURTOlxuICAgICAgY29uc3QgbWVyZ2VkU3RhdGUgPSBjb25jYXRVbmlxdWUoYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVGhyZWFkKSwgc3RhdGUpO1xuICAgICAgcmV0dXJuIG1lcmdlZFN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpO1xuXG4gICAgY2FzZSBERUxFVEVfVEhSRUFEOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkICE9PSBhY3Rpb24udGhyZWFkLmlkO1xuICAgICAgfSk7XG5cbiAgICBjYXNlIEZJTFRFUl9USFJFQURTOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1DYXRlZ29yeSA9IGFjdGlvbi5jYXRlZ29yaWVzTWFwW2l0ZW0uY2F0ZWdvcnldO1xuICAgICAgICBpZiAoaXRlbUNhdGVnb3J5LmxmdCA+PSBhY3Rpb24uY2F0ZWdvcnkubGZ0ICYmIGl0ZW1DYXRlZ29yeS5yZ2h0IDw9IGFjdGlvbi5jYXRlZ29yeS5yZ2h0KSB7XG4gICAgICAgICAgLy8gc2FtZSBvciBzdWIgY2F0ZWdvcnlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLndlaWdodCA9PSAyKSB7XG4gICAgICAgICAgLy8gZ2xvYmFsbHkgcGlubmVkXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdGhyZWFkIG1vdmVkIG91dHNpZGUgZGlzcGxheWVkIHNjb3BlLCBoaWRlIGl0XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGNhc2UgSFlEUkFURV9USFJFQURTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVRocmVhZCk7XG5cbiAgICBjYXNlIFBBVENIX1RIUkVBRDpcbiAgICAgIGNvbnN0IHBhdGNoZWRTdGF0ZSA9IHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24udGhyZWFkLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIGFjdGlvbi5wYXRjaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWN0aW9uLnNvcnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHBhdGNoZWRTdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRjaGVkU3RhdGU7XG5cbiAgICBjYXNlIFJFQURfVEhSRUFEUzpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBjb25zdCBpdGVtQ2F0ZWdvcnkgPSBhY3Rpb24uY2F0ZWdvcmllc01hcFtpdGVtLmNhdGVnb3J5XTtcbiAgICAgICAgaWYgKGl0ZW1DYXRlZ29yeS5sZnQgPj0gYWN0aW9uLmNhdGVnb3J5LmxmdCAmJiBpdGVtQ2F0ZWdvcnkucmdodCA8PSBhY3Rpb24uY2F0ZWdvcnkucmdodCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBpc19yZWFkOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY2FzZSBTT1JUX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUuc29ydChhY3Rpb24uc29ydGluZyk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHRpY2s6IDBcbn07XG5cbmV4cG9ydCBjb25zdCBUSUNLID0gJ1RJQ0snO1xuXG5leHBvcnQgZnVuY3Rpb24gZG9UaWNrKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFRJQ0tcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGljayhzdGF0ZT1pbml0aWFsU3RhdGUsIGFjdGlvbj1udWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gVElDSykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICB0aWNrOiBzdGF0ZS50aWNrICsgMVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQUREX05BTUVfQ0hBTkdFID0gJ0FERF9OQU1FX0NIQU5HRSc7XG5leHBvcnQgY29uc3QgQVBQRU5EX0hJU1RPUlkgPSAnQVBQRU5EX0hJU1RPUlknO1xuZXhwb3J0IGNvbnN0IEhZRFJBVEVfSElTVE9SWSA9ICdIWURSQVRFX0hJU1RPUlknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTmFtZUNoYW5nZShjaGFuZ2UsIHVzZXIsIGNoYW5nZWRCeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFERF9OQU1FX0NIQU5HRSxcbiAgICBjaGFuZ2UsXG4gICAgdXNlcixcbiAgICBjaGFuZ2VkQnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9ISVNUT1JZLFxuICAgIGl0ZW1zOiBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfSElTVE9SWSxcbiAgICBpdGVtczogaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVOYW1lY2hhbmdlKG5hbWVjaGFuZ2UpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG5hbWVjaGFuZ2UsIHtcbiAgICBjaGFuZ2VkX29uOiBtb21lbnQobmFtZWNoYW5nZS5jaGFuZ2VkX29uKVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcm5hbWUoc3RhdGU9W10sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFERF9OQU1FX0NIQU5HRTpcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHN0YXRlLnNsaWNlKCk7XG4gICAgICBuZXdTdGF0ZS51bnNoaWZ0KHtcbiAgICAgICAgaWQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCAvLyBqdXN0IHNtYWxsIGhheCBmb3IgZ2V0dGluZyBpZFxuICAgICAgICBjaGFuZ2VkX2J5OiBhY3Rpb24uY2hhbmdlZEJ5LFxuICAgICAgICBjaGFuZ2VkX2J5X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlZEJ5LnVzZXJuYW1lLFxuICAgICAgICBjaGFuZ2VkX29uOiBtb21lbnQoKSxcbiAgICAgICAgbmV3X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlLnVzZXJuYW1lLFxuICAgICAgICBvbGRfdXNlcm5hbWU6IGFjdGlvbi51c2VyLnVzZXJuYW1lXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcblxuICAgIGNhc2UgQVBQRU5EX0hJU1RPUlk6XG4gICAgICByZXR1cm4gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKSk7XG5cbiAgICBjYXNlIEhZRFJBVEVfSElTVE9SWTpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgIGlmIChpdGVtLmNoYW5nZWRfYnkgJiYgaXRlbS5jaGFuZ2VkX2J5LmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5jaGFuZ2VkX2J5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbS5jaGFuZ2VkX2J5LCB7XG4gICAgICAgICAgICBhdmF0YXJzOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgaWYgKGl0ZW0uY2hhbmdlZF9ieSAmJiBpdGVtLmNoYW5nZWRfYnkuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmNoYW5nZWRfYnkgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLmNoYW5nZWRfYnksIHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgICBzbHVnOiBhY3Rpb24uc2x1Z1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IGNvbmNhdFVuaXF1ZSBmcm9tICdtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZSc7XG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVVNFUlMgPSAnQVBQRU5EX1VTRVJTJztcbmV4cG9ydCBjb25zdCBIWURSQVRFX1VTRVJTID0gJ0hZRFJBVEVfVVNFUlMnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9BVkFUQVIgPSAnVVBEQVRFX0FWQVRBUic7XG5leHBvcnQgY29uc3QgVVBEQVRFX1VTRVJOQU1FID0gJ1VQREFURV9VU0VSTkFNRSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfVVNFUlMsXG4gICAgaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlU3RhdHVzKHN0YXR1cykge1xuICBpZiAoc3RhdHVzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXR1cywge1xuICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2sgPyBtb21lbnQoc3RhdHVzLmxhc3RfY2xpY2spIDogbnVsbCxcbiAgICAgIGJhbm5lZF91bnRpbDogc3RhdHVzLmJhbm5lZF91bnRpbCA/IG1vbWVudChzdGF0dXMuYmFubmVkX3VudGlsKSA6IG51bGxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVVzZXIodXNlcikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdXNlciwge1xuICAgIGpvaW5lZF9vbjogbW9tZW50KHVzZXIuam9pbmVkX29uKSxcbiAgICBzdGF0dXM6IGh5ZHJhdGVTdGF0dXModXNlci5zdGF0dXMpXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXZhdGFyKHVzZXIsIGF2YXRhcnMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfQVZBVEFSLFxuICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICBhdmF0YXJzXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVVc2VybmFtZSh1c2VyLCB1c2VybmFtZSwgc2x1Zykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9VU0VSTkFNRSxcbiAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgdXNlcm5hbWUsXG4gICAgc2x1Z1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyKHN0YXRlPVtdLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBUFBFTkRfVVNFUlM6XG4gICAgICByZXR1cm4gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVVc2VyKSk7XG5cbiAgICBjYXNlIEhZRFJBVEVfVVNFUlM6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVXNlcik7XG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICAgIGl0ZW0uYXZhdGFycyA9IGFjdGlvbi5hdmF0YXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgQWpheCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2Nvb2tpZU5hbWUgPSBudWxsO1xuICAgIHRoaXMuX2NzcmZUb2tlbiA9IG51bGw7XG4gICAgdGhpcy5fbG9ja3MgPSB7fTtcbiAgfVxuXG4gIGluaXQoY29va2llTmFtZSkge1xuICAgIHRoaXMuX2Nvb2tpZU5hbWUgPSBjb29raWVOYW1lO1xuICB9XG5cbiAgZ2V0Q3NyZlRva2VuKCkge1xuICAgIGlmIChkb2N1bWVudC5jb29raWUuaW5kZXhPZih0aGlzLl9jb29raWVOYW1lKSAhPT0gLTEpIHtcbiAgICAgIGxldCBjb29raWVSZWdleCA9IG5ldyBSZWdFeHAodGhpcy5fY29va2llTmFtZSArICdcXD0oW147XSopJyk7XG4gICAgICBsZXQgY29va2llID0gZG9jdW1lbnQuY29va2llLm1hdGNoKGNvb2tpZVJlZ2V4KVswXTtcbiAgICAgIHJldHVybiBjb29raWUgPyBjb29raWUuc3BsaXQoJz0nKVsxXSA6IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3QobWV0aG9kLCB1cmwsIGRhdGEpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbGV0IHhociA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ1gtQ1NSRlRva2VuJzogc2VsZi5nZXRDc3JmVG9rZW4oKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IChkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsKSxcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUikge1xuICAgICAgICAgIGxldCByZWplY3Rpb24gPSBqcVhIUi5yZXNwb25zZUpTT04gfHwge307XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzO1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiTG9zdCBjb25uZWN0aW9uIHdpdGggYXBwbGljYXRpb24uXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGlmICghcmVqZWN0aW9uLmRldGFpbCB8fCByZWplY3Rpb24uZGV0YWlsID09PSAnTk9UIEZPVU5EJykge1xuICAgICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA1MDAgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1c1RleHQgPSBqcVhIUi5zdGF0dXNUZXh0O1xuXG4gICAgICAgICAgcmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICQuYWpheCh4aHIpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0KHVybCwgcGFyYW1zLCBsb2NrKSB7XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgdXJsICs9ICc/JyArICQucGFyYW0ocGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAobG9jaykge1xuICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyB1cGRhdGUgdXJsIGluIGV4aXN0aW5nIGxvY2s/XG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10pIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10udXJsID0gdXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBpbW1lZGlhdGVseSBkZXJlZmVyZW5jZSBwcm9taXNlIGhhbmRsZXJzIHdpdGhvdXQgZG9pbmcgYW55dGhpbmdcbiAgICAgIC8vIHdlIGFyZSBhbHJlYWR5IHdhaXRpbmcgZm9yIGV4aXN0aW5nIHJlc3BvbnNlIHRvIHJlc29sdmVcbiAgICAgIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIC8vIHJldHVybiBwcm9taXNlIHRoYXQgd2lsbCBiZWdpbiB3aGVuIG9yaWdpbmFsIG9uZSByZXNvbHZlc1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0KSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGxldCB3YWl0ID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHdhaXRpbmcgb24gcHJvbWlzZVxuICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLndhaXQpIHtcbiAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2FpdCh1cmwpO1xuICAgICAgICAgICAgICB9LCAzMDApO1xuXG4gICAgICAgICAgICAvLyBwb2xsIGZvciBuZXcgdXJsXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCAhPT0gdXJsKSB7XG4gICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKTtcblxuICAgICAgICAgICAgLy8gYWpheCBiYWNrZW5kIGZvciByZXNwb25zZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNlbGYucmVxdWVzdCgnR0VUJywgc2VsZi5fbG9ja3NbbG9ja10udXJsKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCh1cmwpO1xuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBzZXR1cCBuZXcgbG9jayB3aXRob3V0IHdhaXRlclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10gPSB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHdhaXQ6IHRydWUsXG4gICAgICAgICAgd2FpdGVyOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBzZWxmLnJlcXVlc3QoJ0dFVCcsIHVybCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ0dFVCcsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgcG9zdCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQT1NUJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIHBhdGNoKHVybCwgZGF0YSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ1BBVENIJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIHB1dCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQVVQnLCB1cmwsIGRhdGEpO1xuICB9XG5cbiAgZGVsZXRlKHVybCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ0RFTEVURScsIHVybCk7XG4gIH1cblxuICB1cGxvYWQodXJsLCBkYXRhLCBwcm9ncmVzcykge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsZXQgeGhyID0ge1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBzZWxmLmdldENzcmZUb2tlbigpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxuICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG5cbiAgICAgICAgeGhyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBsZXQgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgaWYgKGV2dC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzKE1hdGgucm91bmQoZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCAqIDEwMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4geGhyO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSKSB7XG4gICAgICAgICAgbGV0IHJlamVjdGlvbiA9IGpxWEhSLnJlc3BvbnNlSlNPTiB8fCB7fTtcblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXMgPSBqcVhIUi5zdGF0dXM7XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJMb3N0IGNvbm5lY3Rpb24gd2l0aCBhcHBsaWNhdGlvbi5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMyAmJiAhcmVqZWN0aW9uLmRldGFpbCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJVcGxvYWQgd2FzIHJlamVjdGVkIGJ5IHNlcnZlciBhcyB0b28gbGFyZ2UuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGlmICghcmVqZWN0aW9uLmRldGFpbCB8fCByZWplY3Rpb24uZGV0YWlsID09PSAnTk9UIEZPVU5EJykge1xuICAgICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA1MDAgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1c1RleHQgPSBqcVhIUi5zdGF0dXNUZXh0O1xuXG4gICAgICAgICAgcmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICQuYWpheCh4aHIpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBBamF4KCk7XG4iLCJpbXBvcnQgeyBzaWduSW4sIHNpZ25PdXQgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvYXV0aCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgQXV0aCB7XG4gIGluaXQoc3RvcmUsIGxvY2FsLCBtb2RhbCkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmU7XG4gICAgdGhpcy5fbG9jYWwgPSBsb2NhbDtcbiAgICB0aGlzLl9tb2RhbCA9IG1vZGFsO1xuXG4gICAgLy8gdGVsbCBvdGhlciB0YWJzIHdoYXQgYXV0aCBzdGF0ZSBpcyBiZWNhdXNlIHdlIGFyZSBtb3N0IGN1cnJlbnQgd2l0aCBpdFxuICAgIHRoaXMuc3luY1Nlc3Npb24oKTtcblxuICAgIC8vIGxpc3RlbiBmb3Igb3RoZXIgdGFicyB0byB0ZWxsIHVzIHRoYXQgc3RhdGUgY2hhbmdlZFxuICAgIHRoaXMud2F0Y2hTdGF0ZSgpO1xuICB9XG5cbiAgc3luY1Nlc3Npb24oKSB7XG4gICAgbGV0IHN0YXRlID0gdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5hdXRoO1xuICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICB1c2VybmFtZTogc3RhdGUudXNlci51c2VybmFtZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgd2F0Y2hTdGF0ZSgpIHtcbiAgICB0aGlzLl9sb2NhbC53YXRjaCgnYXV0aCcsIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgaWYgKG5ld1N0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduSW4oe1xuICAgICAgICAgIHVzZXJuYW1lOiBuZXdTdGF0ZS51c2VybmFtZVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduT3V0KCkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIHNpZ25Jbih1c2VyKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbkluKHVzZXIpKTtcbiAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIHNpZ25PdXQoKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKTtcbiAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpO1xuICB9XG5cbiAgc29mdFNpZ25PdXQoKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCh0cnVlKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsLmhpZGUoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQXV0aCgpOyIsIi8qIGdsb2JhbCBncmVjYXB0Y2hhICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgQmFzZUNhcHRjaGEge1xuICBpbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKSB7XG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5faW5jbHVkZSA9IGluY2x1ZGU7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm9DYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAvLyBpbW1lZGlhdGVseSByZXNvbHZlIGFzIHdlIGRvbid0IGhhdmUgYW55dGhpbmcgdG8gdmFsaWRhdGVcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUUFDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fYWpheC5nZXQoc2VsZi5fY29udGV4dC5nZXQoJ0NBUFRDSEFfQVBJJykpLnRoZW4oXG4gICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHNlbGYucXVlc3Rpb24gPSBkYXRhLnF1ZXN0aW9uO1xuICAgICAgICBzZWxmLmhlbHBUZXh0ID0gZGF0YS5oZWxwX3RleHQ7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLl9zbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmFpbGVkIHRvIGxvYWQgQ0FQVENIQS5cIikpO1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcG9uZW50KGt3YXJncykge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwXG4gICAgICAgIGxhYmVsPXt0aGlzLnF1ZXN0aW9ufVxuICAgICAgICBmb3I9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgbGFiZWxDbGFzcz17a3dhcmdzLmxhYmVsQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgY29udHJvbENsYXNzPXtrd2FyZ3MuY29udHJvbENsYXNzIHx8IFwiXCJ9XG4gICAgICAgIHZhbGlkYXRpb249e2t3YXJncy5mb3JtLnN0YXRlLmVycm9ycy5jYXB0Y2hhfVxuICAgICAgICBoZWxwVGV4dD17dGhpcy5oZWxwVGV4dCB8fCBudWxsfVxuICAgICAgPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfY2FwdGNoYV9zdGF0dXNcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2t3YXJncy5mb3JtLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICBpZD1cImlkX2NhcHRjaGFcIlxuICAgICAgICAgIG9uQ2hhbmdlPXtrd2FyZ3MuZm9ybS5iaW5kSW5wdXQoJ2NhcHRjaGEnKX1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e2t3YXJncy5mb3JtLnN0YXRlLmNhcHRjaGF9XG4gICAgICAgIC8+XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApO1xuICB9XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59XG5cblxuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGdyZWNhcHRjaGEucmVuZGVyKCdyZWNhcHRjaGEnLCB7XG4gICAgICAnc2l0ZWtleSc6IHRoaXMucHJvcHMuc2l0ZUtleSxcbiAgICAgICdjYWxsYmFjayc6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAvLyBmaXJlIGZha2V5IGV2ZW50IHRvIGJpbmRpbmdcbiAgICAgICAgdGhpcy5wcm9wcy5iaW5kaW5nKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGlkPVwicmVjYXB0Y2hhXCIgLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZSgnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzJywgdHJ1ZSk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KCk7XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3YWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgbGFiZWw9e2dldHRleHQoXCJQbGVhc2Ugc29sdmUgdGhlIHF1aWNrIHRlc3RcIil9XG4gICAgICAgIGZvcj1cImlkX2NhcHRjaGFcIlxuICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcIlwifVxuICAgICAgICBjb250cm9sQ2xhc3M9e2t3YXJncy5jb250cm9sQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiVGhpcyB0ZXN0IGhlbHBzIHVzIHByZXZlbnQgYXV0b21hdGVkIHNwYW0gcmVnaXN0cmF0aW9ucyBvbiBvdXIgc2l0ZS5cIil9XG4gICAgICA+XG4gICAgICAgIDxSZUNhcHRjaGFDb21wb25lbnRcbiAgICAgICAgICBiaW5kaW5nPXtrd2FyZ3MuZm9ybS5iaW5kSW5wdXQoJ2NhcHRjaGEnKX1cbiAgICAgICAgICBzaXRlS2V5PXt0aGlzLl9jb250ZXh0LmdldCgnU0VUVElOR1MnKS5yZWNhcHRjaGFfc2l0ZV9rZXl9XG4gICAgICAgIC8+XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApO1xuICB9XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59XG5cbmV4cG9ydCBjbGFzcyBDYXB0Y2hhIHtcbiAgaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcikge1xuICAgIHN3aXRjaChjb250ZXh0LmdldCgnU0VUVElOR1MnKS5jYXB0Y2hhX3R5cGUpIHtcbiAgICAgIGNhc2UgJ25vJzpcbiAgICAgICAgdGhpcy5fY2FwdGNoYSA9IG5ldyBOb0NhcHRjaGEoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3FhJzpcbiAgICAgICAgdGhpcy5fY2FwdGNoYSA9IG5ldyBRQUNhcHRjaGEoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3JlJzpcbiAgICAgICAgdGhpcy5fY2FwdGNoYSA9IG5ldyBSZUNhcHRjaGEoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5fY2FwdGNoYS5pbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKTtcbiAgfVxuXG4gIC8vIGFjY2Vzc29ycyBmb3IgdW5kZXJseWluZyBzdHJhdGVneVxuXG4gIGxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcHRjaGEubG9hZCgpO1xuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLnZhbGlkYXRvcigpO1xuICB9XG5cbiAgY29tcG9uZW50KGt3YXJncykge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmNvbXBvbmVudChrd2FyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDYXB0Y2hhKCk7IiwiZXhwb3J0IGNsYXNzIEluY2x1ZGUge1xuICBpbml0KHN0YXRpY1VybCkge1xuICAgIHRoaXMuX3N0YXRpY1VybCA9IHN0YXRpY1VybDtcbiAgICB0aGlzLl9pbmNsdWRlZCA9IFtdO1xuICB9XG5cbiAgaW5jbHVkZShzY3JpcHQsIHJlbW90ZT1mYWxzZSkge1xuICAgIGlmICh0aGlzLl9pbmNsdWRlZC5pbmRleE9mKHNjcmlwdCkgPT09IC0xKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlZC5wdXNoKHNjcmlwdCk7XG4gICAgICB0aGlzLl9pbmNsdWRlKHNjcmlwdCwgcmVtb3RlKTtcbiAgICB9XG4gIH1cblxuICBfaW5jbHVkZShzY3JpcHQsIHJlbW90ZSkge1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICghcmVtb3RlID8gdGhpcy5fc3RhdGljVXJsIDogJycpICsgc2NyaXB0LFxuICAgICAgY2FjaGU6IHRydWUsXG4gICAgICBkYXRhVHlwZTogJ3NjcmlwdCdcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgSW5jbHVkZSgpOyIsImxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcblxuZXhwb3J0IGNsYXNzIExvY2FsU3RvcmFnZSB7XG4gIGluaXQocHJlZml4KSB7XG4gICAgdGhpcy5fcHJlZml4ID0gcHJlZml4O1xuICAgIHRoaXMuX3dhdGNoZXJzID0gW107XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIChlKSA9PiB7XG4gICAgICBsZXQgbmV3VmFsdWVKc29uID0gSlNPTi5wYXJzZShlLm5ld1ZhbHVlKTtcbiAgICAgIHRoaXMuX3dhdGNoZXJzLmZvckVhY2goZnVuY3Rpb24od2F0Y2hlcikge1xuICAgICAgICBpZiAod2F0Y2hlci5rZXkgPT09IGUua2V5ICYmIGUub2xkVmFsdWUgIT09IGUubmV3VmFsdWUpIHtcbiAgICAgICAgICB3YXRjaGVyLmNhbGxiYWNrKG5ld1ZhbHVlSnNvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBzdG9yYWdlLnNldEl0ZW0odGhpcy5fcHJlZml4ICsga2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIGxldCBpdGVtU3RyaW5nID0gc3RvcmFnZS5nZXRJdGVtKHRoaXMuX3ByZWZpeCArIGtleSk7XG4gICAgaWYgKGl0ZW1TdHJpbmcpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGl0ZW1TdHJpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB3YXRjaChrZXksIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fd2F0Y2hlcnMucHVzaCh7XG4gICAgICBrZXk6IHRoaXMuX3ByZWZpeCArIGtleSxcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2NhbFN0b3JhZ2UoKTsiLCJpbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBNb2JpbGVOYXZiYXJEcm9wZG93biB7XG4gIGluaXQoZWxlbWVudCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGw7XG4gIH1cblxuICBzaG93KGNvbXBvbmVudCkge1xuICAgIGlmICh0aGlzLl9jb21wb25lbnQgPT09IGNvbXBvbmVudCkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZCk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgfVxuICB9XG5cbiAgc2hvd0Nvbm5lY3RlZChuYW1lLCBjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBuYW1lKSB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29tcG9uZW50ID0gbmFtZTtcbiAgICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZCwgdHJ1ZSk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgfVxuICB9XG5cbiAgaGlkZSgpIHtcbiAgICAkKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgdGhpcy5fY29tcG9uZW50ID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTW9iaWxlTmF2YmFyRHJvcGRvd24oKTtcbiIsImltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgTW9kYWwge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcblxuICAgIHRoaXMuX21vZGFsID0gJChlbGVtZW50KS5tb2RhbCh7c2hvdzogZmFsc2V9KTtcblxuICAgIHRoaXMuX21vZGFsLm9uKCdoaWRkZW4uYnMubW9kYWwnLCAoKSA9PiB7XG4gICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMuX2VsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgc2hvdyhjb21wb25lbnQpIHtcbiAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQpO1xuICAgIHRoaXMuX21vZGFsLm1vZGFsKCdzaG93Jyk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMuX21vZGFsLm1vZGFsKCdoaWRlJyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vZGFsKCk7XG4iLCJjb25zdCB5dFJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14uKig/Oig/OnlvdXR1XFwuYmVcXC98dlxcL3x2aVxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvKXwoPzooPzp3YXRjaCk/XFw/dig/OmkpPz18XFwmdig/OmkpPz0pKShbXiNcXCZcXD9dKikuKicpO1xuXG5leHBvcnQgY2xhc3MgT25lQm94IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5feW91dHViZSA9IHt9O1xuICB9XG5cbiAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICByZW5kZXIgPSAoZG9tbm9kZSkgPT4ge1xuICAgIGlmICghZG9tbm9kZSkgcmV0dXJuO1xuICAgIHRoaXMuaGlnaGxpZ2h0Q29kZShkb21ub2RlKTtcbiAgICB0aGlzLmVtYmVkWW91dHViZVBsYXllcnMoZG9tbm9kZSk7XG4gIH07XG4gIC8vIGpzaGludCBpZ25vcmU6ZW5kXG5cbiAgaGlnaGxpZ2h0Q29kZShkb21ub2RlKSB7XG4gICAgY29uc3QgY29kZWJsb2NrcyA9IGRvbW5vZGUucXVlcnlTZWxlY3RvckFsbCgncHJlPmNvZGUnKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgY29kZWJsb2Nrcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBjb2RlYmxvY2tzW2ldO1xuICAgICAgaGxqcy5oaWdobGlnaHRCbG9jayhjb2RlKTtcbiAgICB9XG4gIH1cblxuICBlbWJlZFlvdXR1YmVQbGF5ZXJzKGRvbW5vZGUpIHtcbiAgICBjb25zdCBhbmNob3JzID0gZG9tbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdwPmEnKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGNvbnN0IGEgPSBhbmNob3JzW2ldO1xuICAgICAgY29uc3QgcCA9IGEucGFyZW50Tm9kZTtcbiAgICAgIGNvbnN0IG9ubHlDaGlsZCA9IHAuY2hpbGROb2Rlcy5sZW5ndGggPT09IDE7XG5cbiAgICAgIGlmICghdGhpcy5feW91dHViZVthLmhyZWZdKSB7XG4gICAgICAgIHRoaXMuX3lvdXR1YmVbYS5ocmVmXSA9IHBhcnNlWW91dHViZVVybChhLmhyZWYpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB5b3V0dWJlTW92aWUgPSB0aGlzLl95b3V0dWJlW2EuaHJlZl07XG4gICAgICBpZiAob25seUNoaWxkICYmICEheW91dHViZU1vdmllICYmIHlvdXR1YmVNb3ZpZS5kYXRhICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnN3YXBZb3V0dWJlUGxheWVyKGEsIHlvdXR1YmVNb3ZpZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3dhcFlvdXR1YmVQbGF5ZXIoZWxlbWVudCwgeW91dHViZSkge1xuICAgIGxldCB1cmwgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJztcbiAgICB1cmwgKz0geW91dHViZS52aWRlbztcbiAgICB1cmwgKz0gJz9yZWw9MCc7XG4gICAgaWYgKHlvdXR1YmUuc3RhcnQpIHtcbiAgICAgIHVybCArPSAnJnN0YXJ0PScgKyB5b3V0dWJlLnN0YXJ0O1xuICAgIH1cblxuICAgIGNvbnN0IHBsYXllciA9ICQoJzxpZnJhbWUgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlLWl0ZW1cIiBzcmM9XCInICsgdXJsICsgJ1wiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nKTtcbiAgICAkKGVsZW1lbnQpLnJlcGxhY2VXaXRoKHBsYXllcik7XG4gICAgcGxheWVyLndyYXAoJzxkaXYgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlIGVtYmVkLXJlc3BvbnNpdmUtMTZieTlcIj48L2Rpdj4nKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgT25lQm94KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVlvdXR1YmVVcmwodXJsKSB7XG4gIGNvbnN0IGNsZWFuZWRVcmwgPSBjbGVhblVybCh1cmwpO1xuICBjb25zdCB2aWRlbyA9IGdldFZpZGVvSWRGcm9tVXJsKGNsZWFuZWRVcmwpO1xuXG4gIGlmICghdmlkZW8pIHJldHVybiBudWxsO1xuXG4gIGxldCBzdGFydCA9IDA7XG4gIGlmIChjbGVhbmVkVXJsLmluZGV4T2YoJz8nKSA+IDApe1xuICAgIGNvbnN0IHF1ZXJ5ID0gY2xlYW5lZFVybC5zdWJzdHIoY2xlYW5lZFVybC5pbmRleE9mKCc/JykgKyAxKTtcbiAgICBjb25zdCB0aW1lYml0ID0gcXVlcnkuc3BsaXQoJyYnKS5maWx0ZXIoKGkpID0+IHtcbiAgICAgIHJldHVybiBpLnN1YnN0cigwLCAyKSA9PT0gJ3Q9JztcbiAgICB9KVswXTtcblxuICAgIGlmICh0aW1lYml0KSB7XG4gICAgICBjb25zdCBiaXRzID0gdGltZWJpdC5zdWJzdHIoMikuc3BsaXQoJ20nKTtcbiAgICAgIGlmIChiaXRzWzBdLnN1YnN0cigtMSkgPT09ICdzJykge1xuICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzBdLnN1YnN0cigwLCBiaXRzWzBdLmxlbmd0aCAtIDEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ICs9IHBhcnNlSW50KGJpdHNbMF0pICogNjA7XG4gICAgICAgIGlmICghIWJpdHNbMV0gJiYgYml0c1sxXS5zdWJzdHIoLTEpID09PSAncycpIHtcbiAgICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzFdLnN1YnN0cigwLCBiaXRzWzFdLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgdmlkZW9cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXJsKHVybCkge1xuICBsZXQgY2xlYW4gPSB1cmw7XG5cbiAgaWYgKHVybC5zdWJzdHIoMCwgOCkgPT09ICdodHRwczovLycpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig4KTtcbiAgfSBlbHNlIGlmICh1cmwuc3Vic3RyKDAsIDcpID09PSAnaHR0cDovLycpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig3KTtcbiAgfVxuXG4gIGlmIChjbGVhbi5zdWJzdHIoMCwgNCkgPT09ICd3d3cuJykge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDQpO1xuICB9XG5cbiAgcmV0dXJuIGNsZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlkZW9JZEZyb21VcmwodXJsKSB7XG4gIGlmICh1cmwuaW5kZXhPZigneW91dHUnKSA9PT0gLTEpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHZpZGVvID0gdXJsLm1hdGNoKHl0UmVnRXhwKTtcbiAgaWYgKHZpZGVvKSB7XG4gICAgcmV0dXJuIHZpZGVvWzFdO1xuICB9XG4gIHJldHVybiBudWxsO1xufSIsImV4cG9ydCBjbGFzcyBQYWdlVGl0bGUge1xuICBpbml0KGluZGV4VGl0bGUsIGZvcnVtTmFtZSkge1xuICAgIHRoaXMuX2luZGV4VGl0bGUgPSBpbmRleFRpdGxlO1xuICAgIHRoaXMuX2ZvcnVtTmFtZSA9IGZvcnVtTmFtZTtcbiAgfVxuXG4gIHNldCh0aXRsZSkge1xuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5faW5kZXhUaXRsZSB8fCB0aGlzLl9mb3J1bU5hbWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aXRsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRpdGxlID0ge3RpdGxlOiB0aXRsZX07XG4gICAgfVxuXG4gICAgbGV0IGZpbmFsVGl0bGUgPSB0aXRsZS50aXRsZTtcblxuICAgIGlmICh0aXRsZS5wYWdlID4gMSkge1xuICAgICAgY29uc3QgcGFnZUxhYmVsID0gaW50ZXJwb2xhdGUoZ2V0dGV4dCgncGFnZTogJShwYWdlKXMnKSwge1xuICAgICAgICBwYWdlOiB0aXRsZS5wYWdlXG4gICAgICB9LCB0cnVlKTtcblxuICAgICAgZmluYWxUaXRsZSArPSAnICgnICsgcGFnZUxhYmVsICsgJyknO1xuICAgIH1cblxuICAgIGlmICh0aXRsZS5wYXJlbnQpIHtcbiAgICAgIGZpbmFsVGl0bGUgKz0gJyB8ICcgKyB0aXRsZS5wYXJlbnQ7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQudGl0bGUgPSBmaW5hbFRpdGxlICsgJyB8ICcgKyB0aGlzLl9mb3J1bU5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFBhZ2VUaXRsZSgpO1xuIiwiZXhwb3J0IGNsYXNzIFBvbGxzIHtcbiAgaW5pdChhamF4LCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2FqYXggPSBhamF4O1xuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXI7XG5cbiAgICB0aGlzLl9wb2xscyA9IHt9O1xuICB9XG5cbiAgc3RhcnQoa3dhcmdzKSB7XG4gICAgdGhpcy5zdG9wKGt3YXJncy5wb2xsKTtcblxuICAgIGNvbnN0IHBvb2xTZXJ2ZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSBrd2FyZ3M7XG5cbiAgICAgIHRoaXMuX2FqYXguZ2V0KGt3YXJncy51cmwsIGt3YXJncy5kYXRhIHx8IG51bGwpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0uX3N0b3BwZWQpIHtcbiAgICAgICAgICBrd2FyZ3MudXBkYXRlKGRhdGEpO1xuXG4gICAgICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChwb29sU2VydmVyLCBrd2FyZ3MuZnJlcXVlbmN5KTtcbiAgICAgICAgfVxuICAgICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgIGlmIChrd2FyZ3MuZXJyb3IpIHtcbiAgICAgICAgICAgIGt3YXJncy5lcnJvcihyZWplY3Rpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChrd2FyZ3MuZGVsYXllZCkge1xuICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdID0ge1xuICAgICAgICB0aW1lb3V0OiB3aW5kb3cuc2V0VGltZW91dChwb29sU2VydmVyLCBrd2FyZ3MuZnJlcXVlbmN5KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9vbFNlcnZlcigpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AocG9sbElkKSB7XG4gICAgaWYgKHRoaXMuX3BvbGxzW3BvbGxJZF0pIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcG9sbHNbcG9sbElkXS50aW1lb3V0KTtcbiAgICAgIHRoaXMuX3BvbGxzW3BvbGxJZF0uX3N0b3BwZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUG9sbHMoKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgUG9sbEZvcm0gfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdGluZ0NvbXBvbmVudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIsIHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcbiAgICB0aGlzLl9wbGFjZWhvbGRlciA9ICQocGxhY2Vob2xkZXIpO1xuXG4gICAgdGhpcy5fbW9kZSA9IG51bGw7XG5cbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9pc0Nsb3NpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIG9wZW4ocHJvcHMpIHtcbiAgICBpZiAodGhpcy5faXNPcGVuID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5fbW9kZSA9IHByb3BzLm1vZGU7XG4gICAgICB0aGlzLl9pc09wZW4gPSBwcm9wcy5zdWJtaXQ7XG4gICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc09wZW4gIT09IHByb3BzLnN1Ym1pdCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGFyZSBhbHJlYWR5IHdvcmtpbmcgb24gb3RoZXIgbWVzc2FnZS4gRG8geW91IHdhbnQgdG8gZGlzY2FyZCBpdD9cIik7XG4gICAgICBpZiAodGhpcy5fbW9kZSA9PSAnUE9MTCcpIHtcbiAgICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgYXJlIGFscmVhZHkgd29ya2luZyBvbiBhIHBvbGwuIERvIHlvdSB3YW50IHRvIGRpc2NhcmQgaXQ/XCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjaGFuZ2VGb3JtID0gY29uZmlybShtZXNzYWdlKTtcbiAgICAgIGlmIChjaGFuZ2VGb3JtKSB7XG4gICAgICAgIHRoaXMuX21vZGUgPSBwcm9wcy5tb2RlO1xuICAgICAgICB0aGlzLl9pc09wZW4gPSBwcm9wcy5zdWJtaXQ7XG4gICAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX21vZGUgPT0gJ1JFUExZJyAmJiBwcm9wcy5tb2RlID09ICdSRVBMWScpIHtcbiAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKTtcbiAgICB9XG4gIH1cblxuICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gIF9yZWFsT3Blbihwcm9wcykge1xuICAgIGlmIChwcm9wcy5tb2RlID09ICdQT0xMJykge1xuICAgICAgbW91bnQoXG4gICAgICAgIDxQb2xsRm9ybSB7Li4ucHJvcHN9IC8+LFxuICAgICAgICAncG9zdGluZy1tb3VudCdcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdW50KFxuICAgICAgICA8UG9zdGluZ0NvbXBvbmVudCB7Li4ucHJvcHN9IC8+LFxuICAgICAgICAncG9zdGluZy1tb3VudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fcGxhY2Vob2xkZXIuYWRkQ2xhc3MoJ3NsaWRlLWluJyk7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IHRoaXMuX3BsYWNlaG9sZGVyLm9mZnNldCgpLnRvcFxuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiAmJiAhdGhpcy5faXNDbG9zaW5nKSB7XG4gICAgICB0aGlzLl9pc0Nsb3NpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5fcGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlLWluJyk7XG5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGluZy1tb3VudCcpKTtcbiAgICAgICAgdGhpcy5faXNDbG9zaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG4gIC8vIGpzaGludCBpZ25vcmU6ZW5kXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb3N0aW5nKCk7XG4iLCJpbXBvcnQgeyBzaG93U25hY2tiYXIsIGhpZGVTbmFja2JhciB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zbmFja2Jhcic7XG5cbmNvbnN0IEhJREVfQU5JTUFUSU9OX0xFTkdUSCA9IDMwMDtcbmNvbnN0IE1FU1NBR0VfU0hPV19MRU5HVEggPSA1MDAwO1xuXG5leHBvcnQgY2xhc3MgU25hY2tiYXIge1xuICBpbml0KHN0b3JlKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgfVxuXG4gIGFsZXJ0KG1lc3NhZ2UsIHR5cGUpIHtcbiAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKGhpZGVTbmFja2JhcigpKTtcblxuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgdHlwZSk7XG4gICAgICB9LCBISURFX0FOSU1BVElPTl9MRU5HVEgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaG93U25hY2tiYXIobWVzc2FnZSwgdHlwZSkpO1xuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goaGlkZVNuYWNrYmFyKCkpO1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgIH0sIE1FU1NBR0VfU0hPV19MRU5HVEgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNob3J0aGFuZHMgZm9yIG1lc3NhZ2UgdHlwZXNcblxuICBpbmZvKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdpbmZvJyk7XG4gIH1cblxuICBzdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdzdWNjZXNzJyk7XG4gIH1cblxuICB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICd3YXJuaW5nJyk7XG4gIH1cblxuICBlcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCAnZXJyb3InKTtcbiAgfVxuXG4gIC8vIHNob3J0aGFuZCBmb3IgYXBpIGVycm9yc1xuXG4gIGFwaUVycm9yKHJlamVjdGlvbikge1xuICAgIGxldCBtZXNzYWdlID0gcmVqZWN0aW9uLmRldGFpbDtcblxuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJVbmtub3duIGVycm9yIGhhcyBvY2N1cmVkLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIG1lc3NhZ2UgPT09IFwiUGVybWlzc2lvbiBkZW5pZWRcIikge1xuICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMuZXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNuYWNrYmFyKCk7XG4iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlIH0gZnJvbSAncmVkdXgnO1xuXG5leHBvcnQgY2xhc3MgU3RvcmVXcmFwcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBudWxsO1xuICAgIHRoaXMuX3JlZHVjZXJzID0ge307XG4gICAgdGhpcy5faW5pdGlhbFN0YXRlID0ge307XG4gIH1cblxuICBhZGRSZWR1Y2VyKG5hbWUsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSkge1xuICAgIHRoaXMuX3JlZHVjZXJzW25hbWVdID0gcmVkdWNlcjtcbiAgICB0aGlzLl9pbml0aWFsU3RhdGVbbmFtZV0gPSBpbml0aWFsU3RhdGU7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuX3N0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgICBjb21iaW5lUmVkdWNlcnModGhpcy5fcmVkdWNlcnMpLCB0aGlzLl9pbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgZ2V0U3RvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlO1xuICB9XG5cbiAgLy8gU3RvcmUgQVBJXG5cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLmdldFN0YXRlKCk7XG4gIH1cblxuICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU3RvcmVXcmFwcGVyKCk7XG4iLCIvKiBnbG9iYWwgenhjdmJuICovXG5leHBvcnQgY2xhc3MgWnhjdmJuIHtcbiAgaW5pdChpbmNsdWRlKSB7XG4gICAgdGhpcy5faW5jbHVkZSA9IGluY2x1ZGU7XG4gICAgdGhpcy5faXNMb2FkZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHNjb3JlUGFzc3dvcmQocGFzc3dvcmQsIGlucHV0cykge1xuICAgIC8vIDAtNCBzY29yZSwgdGhlIG1vcmUgdGhlIHN0cm9uZ2VyIHBhc3N3b3JkXG4gICAgaWYgKHRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICByZXR1cm4genhjdmJuKHBhc3N3b3JkLCBpbnB1dHMpLnNjb3JlO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoJ21pc2Fnby9qcy96eGN2Ym4uanMnKTtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkaW5nUHJvbWlzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGVkUHJvbWlzZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9sb2FkaW5nUHJvbWlzZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciB3YWl0ID0gZnVuY3Rpb24odHJpZXM9MCkge1xuICAgICAgICB0cmllcyArPSAxO1xuICAgICAgICBpZiAodHJpZXMgPiAyMDApIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgenhjdmJuID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KHRyaWVzKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX2lzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3YWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICBfbG9hZGVkUHJvbWlzZSgpIHtcbiAgICAvLyB3ZSBoYXZlIGFscmVhZHkgbG9hZGVkIHp4Y3Zibi5qcywgcmVzb2x2ZSBhd2F5IVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFp4Y3ZibigpOyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIsIGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYmFubmVkLXBhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xubGV0IHNlbGVjdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS50aWNrO1xufTtcblxubGV0IFJlZHJhd2VkQmFubmVkUGFnZSA9IGNvbm5lY3Qoc2VsZWN0KShCYW5uZWRQYWdlKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGJhbiwgY2hhbmdlU3RhdGUpIHtcbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlLmdldFN0b3JlKCl9PlxuICAgICAgPFJlZHJhd2VkQmFubmVkUGFnZSBtZXNzYWdlPXtiYW4ubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcz17YmFuLmV4cGlyZXNfb24gPyBtb21lbnQoYmFuLmV4cGlyZXNfb24pIDogbnVsbH0gLz5cbiAgICA8L1Byb3ZpZGVyPixcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50JylcbiAgKTtcblxuICBpZiAodHlwZW9mIGNoYW5nZVN0YXRlID09PSAndW5kZWZpbmVkJyB8fCBjaGFuZ2VTdGF0ZSkge1xuICAgIGxldCBmb3J1bU5hbWUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWU7XG4gICAgZG9jdW1lbnQudGl0bGUgPSBnZXR0ZXh0KFwiWW91IGFyZSBiYW5uZWRcIikgKyAnIHwgJyArIGZvcnVtTmFtZTtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIG1pc2Fnby5nZXQoJ0JBTk5FRF9VUkwnKSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihsaXN0LCByb3dXaWR0aCwgcGFkZGluZz1mYWxzZSkge1xuICBsZXQgcm93cyA9IFtdO1xuICBsZXQgcm93ID0gW107XG5cbiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByb3cucHVzaChlbGVtZW50KTtcbiAgICBpZiAocm93Lmxlbmd0aCA9PT0gcm93V2lkdGgpIHtcbiAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgICAgcm93ID0gW107XG4gICAgfVxuICB9KTtcblxuICAvLyBwYWQgcm93IHRvIHJlcXVpcmVkIGxlbmd0aD9cbiAgaWYgKHBhZGRpbmcgIT09IGZhbHNlICYmIHJvdy5sZW5ndGggPiAwICYmIHJvdy5sZW5ndGggPCByb3dXaWR0aCkge1xuICAgIGZvciAobGV0IGkgPSByb3cubGVuZ3RoOyBpIDwgcm93V2lkdGg7IGkgKyspIHtcbiAgICAgIHJvdy5wdXNoKHBhZGRpbmcpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyb3cubGVuZ3RoKSB7XG4gICAgcm93cy5wdXNoKHJvdyk7XG4gIH1cblxuICByZXR1cm4gcm93cztcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIGxldCBpZHMgPSBbXTtcbiAgcmV0dXJuIGEuY29uY2F0KGIpLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKGlkcy5pbmRleE9mKGl0ZW0uaWQpID09PSAtMSkge1xuICAgICAgaWRzLnB1c2goaXRlbS5pZCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgY291bnQpIHtcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuX2NvdW50ID0gY291bnQ7XG4gIH1cblxuICBjb3VudCgpIHtcbiAgICB0aGlzLl9jb3VudCAtPSAxO1xuICAgIGlmICh0aGlzLl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cbn0iLCJjb25zdCBtYXAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzAzOTsnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG0pIHsgcmV0dXJuIG1hcFttXTsgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYnl0ZXMpIHtcbiAgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgcmV0dXJuIHJvdW5kU2l6ZShieXRlcyAvICgxMDI0ICogMTAyNCAqIDEwMjQpKSArICcgR0InO1xuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkgKyAnIE1CJztcbiAgfSBlbHNlIGlmIChieXRlcyA+IDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gMTAyNCkgKyAnIEtCJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzKSArICcgQic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kU2l6ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZCgxKTtcbn0iLCJjb25zdCBVUkxfUEFUVEVSTiA9IG5ldyBSZWdFeHAoJ14oaHR0cHM/OlxcXFwvXFxcXC8pPygoKFthLXpcXFxcZF0oW2EtelxcXFxkLV0qW2EtelxcXFxkXSkqKVxcXFwuKStbYS16XXsyLH18KChcXFxcZHsxLDN9XFxcXC4pezN9XFxcXGR7MSwzfSkpKFxcXFw6XFxcXGQrKT8oXFxcXC9bLWEtelxcXFxkJV8ufitdKikqKFxcXFw/WzsmYS16XFxcXGQlXy5+Kz0tXSopPyhcXFxcI1stYS16XFxcXGRfXSopPyQnLCdpJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gVVJMX1BBVFRFUk4udGVzdCgkLnRyaW0oc3RyKSk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oQ29tcG9uZW50LCByb290RWxlbWVudElkLCBjb25uZWN0ZWQ9dHJ1ZSkge1xuICBsZXQgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb290RWxlbWVudElkKTtcblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxldCBmaW5hbENvbXBvbmVudCA9IENvbXBvbmVudC5wcm9wcyA/IENvbXBvbmVudCA6IDxDb21wb25lbnQgLz47XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgaWYgKHJvb3RFbGVtZW50KSB7XG4gICAgaWYgKGNvbm5lY3RlZCkge1xuICAgICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICAgICAge2ZpbmFsQ29tcG9uZW50fVxuICAgICAgICA8L1Byb3ZpZGVyPixcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgICAgcm9vdEVsZW1lbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIFJlYWN0RE9NLnJlbmRlcihmaW5hbENvbXBvbmVudCwgcm9vdEVsZW1lbnQpO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn1cbiIsImNsYXNzIE9yZGVyZWRMaXN0IHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtcykge1xuICAgICAgdGhpcy5pc09yZGVyZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXMgfHwgW107XG4gICAgfVxuXG4gICAgYWRkKGtleSwgaXRlbSwgb3JkZXIpIHtcbiAgICAgIHRoaXMuX2l0ZW1zLnB1c2goe1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgaXRlbTogaXRlbSxcblxuICAgICAgICBhZnRlcjogb3JkZXIgPyBvcmRlci5hZnRlciB8fCBudWxsIDogbnVsbCxcbiAgICAgICAgYmVmb3JlOiBvcmRlciA/IG9yZGVyLmJlZm9yZSB8fCBudWxsIDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zW2ldLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2ldLml0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGhhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChrZXkpICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZXMucHVzaCh0aGlzLl9pdGVtc1tpXS5pdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgb3JkZXIodmFsdWVzX29ubHkpIHtcbiAgICAgIGlmICghdGhpcy5pc09yZGVyZWQpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB0aGlzLl9vcmRlcih0aGlzLl9pdGVtcyk7XG4gICAgICAgIHRoaXMuaXNPcmRlcmVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlc19vbmx5IHx8IHR5cGVvZiB2YWx1ZXNfb25seSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb3JkZXJlZFZhbHVlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLm9yZGVyKHRydWUpO1xuICAgIH1cblxuICAgIF9vcmRlcih1bm9yZGVyZWQpIHtcbiAgICAgIC8vIEluZGV4IG9mIHVub3JkZXJlZCBpdGVtc1xuICAgICAgdmFyIGluZGV4ID0gW107XG4gICAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpbmRleC5wdXNoKGl0ZW0ua2V5KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcmRlcmVkIGl0ZW1zXG4gICAgICB2YXIgb3JkZXJlZCA9IFtdO1xuICAgICAgdmFyIG9yZGVyaW5nID0gW107XG5cbiAgICAgIC8vIEZpcnN0IHBhc3M6IHJlZ2lzdGVyIGl0ZW1zIHRoYXRcbiAgICAgIC8vIGRvbid0IHNwZWNpZnkgdGhlaXIgb3JkZXJcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmICghaXRlbS5hZnRlciAmJiAhaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgICBvcmRlcmVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgb3JkZXJpbmcucHVzaChpdGVtLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWNvbmQgcGFzczogcmVnaXN0ZXIgaXRlbXMgdGhhdFxuICAgICAgLy8gc3BlY2lmeSB0aGVpciBiZWZvcmUgdG8gXCJfZW5kXCJcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmJlZm9yZSA9PT0gXCJfZW5kXCIpIHtcbiAgICAgICAgICBvcmRlcmVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgb3JkZXJpbmcucHVzaChpdGVtLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlyZCBwYXNzOiBrZWVwIGl0ZXJhdGluZyBpdGVtc1xuICAgICAgLy8gdW50aWwgd2UgaGl0IGl0ZXJhdGlvbnMgbGltaXQgb3IgZmluaXNoXG4gICAgICAvLyBvcmRlcmluZyBsaXN0XG4gICAgICBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW0pIHtcbiAgICAgICAgdmFyIGluc2VydEF0ID0gLTE7XG4gICAgICAgIGlmIChvcmRlcmluZy5pbmRleE9mKGl0ZW0ua2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICBpZiAoaXRlbS5hZnRlcikge1xuICAgICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYWZ0ZXIpO1xuICAgICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgICBpbnNlcnRBdCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgICAgIGluc2VydEF0ID0gb3JkZXJpbmcuaW5kZXhPZihpdGVtLmJlZm9yZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgb3JkZXJlZC5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0pO1xuICAgICAgICAgICAgb3JkZXJpbmcuc3BsaWNlKGluc2VydEF0LCAwLCBpdGVtLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMjAwO1xuICAgICAgd2hpbGUgKGl0ZXJhdGlvbnMgPiAwICYmIGluZGV4Lmxlbmd0aCAhPT0gb3JkZXJpbmcubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMgLT0gMTtcbiAgICAgICAgdW5vcmRlcmVkLmZvckVhY2goaW5zZXJ0SXRlbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmRlcmVkO1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBkZWZhdWx0IE9yZGVyZWRMaXN0O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGludChtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkpICsgbWluO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UobWluLCBtYXgpIHtcbiAgbGV0IGFycmF5ID0gbmV3IEFycmF5KGludChtaW4sIG1heCkpO1xuICBmb3IobGV0IGk9MDsgaTxhcnJheS5sZW5ndGg7IGkrKyl7XG4gICAgYXJyYXlbaV0gPSBpO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBSb3V0ZXIsIGJyb3dzZXJIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5jb25zdCByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50Jyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgbGV0IHJvdXRlcyA9IHtcbiAgICBjb21wb25lbnQ6IG9wdGlvbnMuY29tcG9uZW50IHx8IG51bGwsXG4gICAgY2hpbGRSb3V0ZXM6IFtdXG4gIH07XG5cbiAgaWYgKG9wdGlvbnMucm9vdCkge1xuICAgIHJvdXRlcy5jaGlsZFJvdXRlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgcGF0aDogb3B0aW9ucy5yb290LFxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbihuZXh0U3RhdGUsIHJlcGxhY2VTdGF0ZSkge1xuICAgICAgICAgIHJlcGxhY2VTdGF0ZShudWxsLCBvcHRpb25zLnBhdGhzWzBdLnBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXS5jb25jYXQob3B0aW9ucy5wYXRocyk7XG4gIH0gZWxzZSB7XG4gICAgcm91dGVzLmNoaWxkUm91dGVzID0gb3B0aW9ucy5wYXRocztcbiAgfVxuXG4gIFJlYWN0RE9NLnJlbmRlcihcbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlLmdldFN0b3JlKCl9PlxuICAgICAgPFJvdXRlciByb3V0ZXM9e3JvdXRlc30gaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IC8+XG4gICAgPC9Qcm92aWRlcj4sXG4gICAgcm9vdEVsZW1lbnRcbiAgKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwdXNoKGFycmF5LCB2YWx1ZSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgbGV0IGNvcHkgPSBhcnJheS5zbGljZSgpO1xuICAgIGNvcHkucHVzaCh2YWx1ZSk7XG4gICAgcmV0dXJuIGNvcHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gaSAhPT0gdmFsdWU7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBsZXQgY29weSA9IGFycmF5LnNsaWNlKCk7XG4gICAgY29weS5wdXNoKHZhbHVlKTtcbiAgICByZXR1cm4gY29weTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cmluZywgc3ViU3RyaW5nKSB7XG4gIHN0cmluZyA9IChzdHJpbmcgKyBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICBzdWJTdHJpbmcgPSAoc3ViU3RyaW5nICsgXCJcIikudG9Mb3dlckNhc2UoKTtcblxuICBpZiAoc3ViU3RyaW5nLmxlbmd0aCA8PSAwKSByZXR1cm4gMDtcblxuICBsZXQgbiA9IDA7XG4gIGxldCBwb3MgPSAwO1xuICBsZXQgc3RlcCA9IHN1YlN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZihzdWJTdHJpbmcsIHBvcyk7XG4gICAgaWYgKHBvcyA+PSAwKSB7XG4gICAgICBuICs9IDE7XG4gICAgICBwb3MgKz0gc3RlcDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG47XG59IiwiY29uc3QgRU1BSUwgPSAvXigoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rXFwuKStbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdezIsfSkkL2k7XG5jb25zdCBVU0VSTkFNRSA9IG5ldyBSZWdFeHAoJ15bMC05YS16XSskJywgJ2knKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkKCkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoJC50cmltKHZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1haWwobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIUVNQUlMLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZSB8fCBnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaW5MZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9ICcnO1xuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPCBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgbGltaXRWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUocmV0dXJuTWVzc2FnZSwge1xuICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXhMZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9ICcnO1xuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPiBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IG1vc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBtb3N0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIGxpbWl0VmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKHJldHVybk1lc3NhZ2UsIHtcbiAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNaW5MZW5ndGgobGVuZ3RoTWluKSB7XG4gIHZhciBtZXNzYWdlID0gZnVuY3Rpb24obGVuZ3RoTWluKSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZy5cIixcbiAgICAgIFwiVXNlcm5hbWUgbXVzdCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgICAgbGVuZ3RoTWluKTtcbiAgfTtcbiAgcmV0dXJuIG1pbkxlbmd0aChsZW5ndGhNaW4sIG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNYXhMZW5ndGgobGVuZ3RoTWF4KSB7XG4gIHZhciBtZXNzYWdlID0gZnVuY3Rpb24obGVuZ3RoTWF4KSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3Rlci5cIixcbiAgICAgIFwiVXNlcm5hbWUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzLlwiLFxuICAgICAgbGVuZ3RoTWF4KTtcbiAgfTtcbiAgcmV0dXJuIG1heExlbmd0aChsZW5ndGhNYXgsIG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVDb250ZW50KCkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIVVTRVJOQU1FLnRlc3QoJC50cmltKHZhbHVlKSkpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVXNlcm5hbWUgY2FuIG9ubHkgY29udGFpbiBsYXRpbiBhbHBoYWJldCBsZXR0ZXJzIGFuZCBkaWdpdHMuXCIpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc3N3b3JkTWluTGVuZ3RoKGxlbmd0aE1pbikge1xuICB2YXIgbWVzc2FnZSA9IGZ1bmN0aW9uKGxlbmd0aE1pbikge1xuICAgIHJldHVybiBuZ2V0dGV4dChcbiAgICAgIFwiVmFsaWQgcGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIGxvbmcuXCIsXG4gICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgIGxlbmd0aE1pbik7XG4gIH07XG4gIHJldHVybiBtaW5MZW5ndGgobGVuZ3RoTWluLCBtZXNzYWdlKTtcbn0iXX0=
