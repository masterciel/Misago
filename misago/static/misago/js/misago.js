(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), { username: this.props.signedIn.username }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), { username: this.props.user.username }, true);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.signedIn || this.props.signedOut) {
        return "auth-message show";
      } else {
        return "auth-message";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getMessage()
          ),
          _react2.default.createElement(
            "p",
            null,
            _react2.default.createElement(
              "button",
              { type: "button", className: "btn btn-default",
                onClick: this.refresh },
              gettext("Reload page")
            ),
            " ",
            _react2.default.createElement(
              "span",
              { className: "hidden-xs hidden-sm text-muted" },
              gettext("or press F5 key.")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement('img', {
    className: props.className || 'user-avatar',
    src: getSrc(props),
    title: gettext("User avatar")
  });
};

exports.getSrc = getSrc;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BASE_URL = $('base').attr('href') + 'user-avatar/'; /* jshint ignore:start */


function getSrc(props) {
  var size = props.size || 100; // jshint ignore:line
  var url = BASE_URL;

  if (props.user && props.user.id) {
    // just avatar hash, size and user id
    url += props.user.avatar_hash + '/' + size + '/' + props.user.id + '.png';
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    url += size + '.png';
  }

  return url;
}

},{"react":"react"}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getReasonMessage',
    value: function getReasonMessage() {
      /* jshint ignore:start */
      if (this.props.message.html) {
        return _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
            __html: this.props.message.html
          } });
      } else {
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.props.message.plain
        );
      }
      /* jshint ignore:end */
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.props.expires.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.props.expires.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: title },
            message
          );
          /* jshint ignore:end */
        } else {
            return gettext("This ban has expired.");
          }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-error page-error-banned' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'highlight_off'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              this.getReasonMessage(),
              _react2.default.createElement(
                'p',
                { className: 'message-footnote' },
                this.getExpirationMessage()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"moment":"moment","react":"react"}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Button = function (_React$Component) {
  _inherits(Button, _React$Component);

  function Button() {
    _classCallCheck(this, Button);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(Button).apply(this, arguments));
  }

  _createClass(Button, [{
    key: 'render',
    value: function render() {
      var className = 'btn ' + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += ' btn-loading';
        disabled = true;
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: this.props.onClick ? 'button' : 'submit',
          className: className,
          disabled: disabled,
          onClick: this.props.onClick },
        this.props.children,
        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return Button;
}(_react2.default.Component);

exports.default = Button;


Button.defaultProps = {
  className: "btn-default",

  type: "submit",

  loading: false,
  disabled: false,

  onClick: null
};

},{"./loader":42,"react":"react"}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(Subcategory).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'list-group-item category-subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'list-group-item category-subcategory';
      }
    }
  }, {
    key: 'getDescription',
    value: function getDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'subcategory-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_subcategorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'title-row' },
          _react2.default.createElement(
            'h4',
            null,
            _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
            _react2.default.createElement(
              'a',
              { href: this.props.category.absolute_url, className: 'item-title' },
              this.props.category.name
            )
          ),
          _react2.default.createElement(_stats2.default, { category: this.props.category })
        ),
        _react2.default.createElement(_lastActivity2.default, { category: this.props.category }),
        this.getDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

exports.default = Subcategory;

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-group category-subcategories' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./last-activity":7,"./read-icon":8,"./stats":10,"./subcategory-subcategories":11,"react":"react"}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySubcategories = require('./category-subcategories');

var _categorySubcategories2 = _interopRequireDefault(_categorySubcategories);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'panel panel-default panel-category panel-category-' + this.props.category.css_class;
      } else {
        return 'panel panel-default panel-category';
      }
    }
  }, {
    key: 'getHeadingClassName',
    value: function getHeadingClassName() {
      if (this.props.category.subcategories.length) {
        return 'panel-heading';
      } else {
        return 'panel-heading heading-alone';
      }
    }
  }, {
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'panel-body category-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_categorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { id: 'panel-category-' + this.props.category.id,
          className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: this.getHeadingClassName() },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading-inblock' },
            _react2.default.createElement(
              'div',
              { className: 'panel-heading-top-row' },
              _react2.default.createElement(
                'h3',
                { className: 'panel-title' },
                _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
                _react2.default.createElement(
                  'a',
                  { href: this.props.category.absolute_url, className: 'item-title' },
                  this.props.category.name
                )
              ),
              _react2.default.createElement(_stats2.default, { category: this.props.category })
            ),
            _react2.default.createElement(_lastActivity2.default, { category: this.props.category })
          )
        ),
        this.getCategoryDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-subcategories":5,"./last-activity":7,"./read-icon":8,"./stats":10,"react":"react"}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProtectedMessage = exports.PrivateMessage = exports.EmptyMessage = exports.LastPostMessage = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var THREAD_URL = '<a href="%(url)s" class="item-title thread-title">%(thread)s</a>';
var LAST_POST_URL = '<a href="%(url)s" class="last-title" title="%(absolute)s">%(relative)s</a>';

var LastPostMessage = exports.LastPostMessage = function (_React$Component) {
  _inherits(LastPostMessage, _React$Component);

  function LastPostMessage() {
    _classCallCheck(this, LastPostMessage);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(LastPostMessage).apply(this, arguments));
  }

  _createClass(LastPostMessage, [{
    key: 'getLastPoster',
    value: function getLastPoster() {
      if (this.props.category.last_poster_url) {
        return interpolate(LAST_POSTER_URL, {
          url: (0, _escapeHtml2.default)(this.props.category.last_poster_url),
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      } else {
        return interpolate(LAST_POSTER_SPAN, {
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      }
    }
  }, {
    key: 'getLastThread',
    value: function getLastThread() {
      return interpolate(THREAD_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_thread_url),
        thread: (0, _escapeHtml2.default)(this.props.category.last_thread_title)
      }, true);
    }
  }, {
    key: 'getLastReplyDate',
    value: function getLastReplyDate() {
      return interpolate(LAST_POST_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_post_url),
        absolute: (0, _escapeHtml2.default)(this.props.category.last_post_on.format('LLL')),
        relative: (0, _escapeHtml2.default)(this.props.category.last_post_on.fromNow())
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('p', { className: 'category-last-post',
        dangerouslySetInnerHTML: { __html: interpolate((0, _escapeHtml2.default)(gettext("Last post in %(thread)s by %(user)s %(date)s")), {
            thread: this.getLastThread(),
            date: this.getLastReplyDate(),
            user: this.getLastPoster()
          }, true) } });
      /* jshint ignore:end */
    }
  }]);

  return LastPostMessage;
}(_react2.default.Component);

var EmptyMessage = exports.EmptyMessage = function (_React$Component2) {
  _inherits(EmptyMessage, _React$Component2);

  function EmptyMessage() {
    _classCallCheck(this, EmptyMessage);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(EmptyMessage).apply(this, arguments));
  }

  _createClass(EmptyMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        gettext("This category is empty.")
      );
      /* jshint ignore:end */
    }
  }]);

  return EmptyMessage;
}(_react2.default.Component);

var PrivateMessage = exports.PrivateMessage = function (_React$Component3) {
  _inherits(PrivateMessage, _React$Component3);

  function PrivateMessage() {
    _classCallCheck(this, PrivateMessage);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(PrivateMessage).apply(this, arguments));
  }

  _createClass(PrivateMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        ),
        gettext("This category is private. You can see only your own threads within it.")
      );
      /* jshint ignore:end */
    }
  }]);

  return PrivateMessage;
}(_react2.default.Component);

var ProtectedMessage = exports.ProtectedMessage = function (_React$Component4) {
  _inherits(ProtectedMessage, _React$Component4);

  function ProtectedMessage() {
    _classCallCheck(this, ProtectedMessage);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(ProtectedMessage).apply(this, arguments));
  }

  _createClass(ProtectedMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'highlight_off'
        ),
        gettext("This category is protected. You can't browse it's contents.")
      );
      /* jshint ignore:end */
    }
  }]);

  return ProtectedMessage;
}(_react2.default.Component);

var _class = function (_React$Component5) {
  _inherits(_class, _React$Component5);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.category.acl.can_browse) {
        if (!this.props.category.acl.can_see_all_threads) {
          /* jshint ignore:start */
          return _react2.default.createElement(PrivateMessage, null);
          /* jshint ignore:end */
        } else if (this.props.category.last_thread_title) {
            /* jshint ignore:start */
            return _react2.default.createElement(LastPostMessage, { category: this.props.category });
            /* jshint ignore:end */
          } else {
              /* jshint ignore:start */
              return _react2.default.createElement(EmptyMessage, null);
              /* jshint ignore:end */
            }
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(ProtectedMessage, null);
          /* jshint ignore:end */
        }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/escape-html":259,"react":"react"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.is_read) {
        return 'read-status item-read';
      } else {
        return 'read-status item-new';
      }
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts. (closed)");
        } else {
          return gettext("This category has new posts. (closed)");
        }
      } else {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts.");
        } else {
          return gettext("This category has new posts.");
        }
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return 'lock_outline';
        } else {
          return 'lock';
        }
      } else {
        if (this.props.category.is_read) {
          return 'chat_bubble_outline';
        } else {
          return 'chat_bubble';
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), title: this.getTitle() },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment2.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.update = function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    };

    _this.state = {
      categories: _index2.default.get('CATEGORIES').map(hydrate)
    };

    _this.startPolling(_index2.default.get('CATEGORIES_API'));
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'categories',
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'categories-list' },
        this.state.categories.map(function (category) {
          return _react2.default.createElement(_category2.default, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick
  };
}

},{"../../index":191,"../../services/polls":250,"./category":6,"moment":"moment","react":"react"}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getThreadsCount",
    value: function getThreadsCount() {
      var string = ngettext("%(threads)s thread", "%(threads)s threads", this.props.category.threads);

      return interpolate(string, {
        'threads': this.props.category.threads
      }, true);
    }
  }, {
    key: "getPostsCount",
    value: function getPostsCount() {
      var string = ngettext("%(posts)s post", "%(posts)s posts", this.props.category.posts);

      return interpolate(string, {
        'posts': this.props.category.posts
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "ul",
        { className: "list-inline category-stats" },
        _react2.default.createElement(
          "li",
          { className: "category-threads" },
          this.getThreadsCount()
        ),
        _react2.default.createElement(
          "li",
          { className: "category-posts" },
          this.getPostsCount()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(Subcategory).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'subcategory';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'a',
          { href: this.props.category.absolute_url,
            className: this.getClassName() },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

exports.default = Subcategory;

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-inline subcategories-list' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./subcategory-subcategories":11,"react":"react"}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'select',
    {
      className: props.className || 'form-control',
      disabled: props.disabled || false,
      id: props.id || null,
      onChange: props.onChange,
      value: props.value
    },
    props.choices.map(function (item) {
      return _react2.default.createElement(
        'option',
        {
          disabled: item.disabled || false,
          key: item.value,
          value: item.value
        },
        '- - '.repeat(item.level) + item.label
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var BASE_URL = $('base').attr('href') + 'user-avatar';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.cropAvatar = function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        'isLoading': true
      });

      var avatarType = _this.props.upload ? 'crop_tmp' : 'crop_org';
      var cropit = $('.crop-form');

      _ajax2.default.post(_this.props.user.api_url.avatar, {
        'avatar': avatarType,
        'crop': {
          'offset': cropit.cropit('offset'),
          'zoom': cropit.cropit('zoom')
        }
      }).then(function (data) {
        _this.props.onComplete(data.avatar_hash, data.options);
        _snackbar2.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            'isLoading': false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getAvatarSize',
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_org.size;
      }
    }
  }, {
    key: 'getAvatarSecret',
    value: function getAvatarSecret() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.secret;
      } else {
        return this.props.options.crop_org.secret;
      }
    }
  }, {
    key: 'getAvatarHash',
    value: function getAvatarHash() {
      return this.props.upload || this.props.user.avatar_hash;
    }
  }, {
    key: 'getImagePath',
    value: function getImagePath() {
      return [BASE_URL, this.getAvatarSecret() + ':' + this.getAvatarHash(), this.props.user.id + '.png'].join('/');
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $('.crop-form');
      cropit.width(this.getAvatarSize());

      cropit.cropit({
        'width': this.getAvatarSize(),
        'height': this.getAvatarSize(),
        'imageState': {
          'src': this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit('zoom');
            var imageSize = cropit.cropit('imageSize');

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                'x': offsetX,
                'y': 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                'x': 0,
                'y': offsetY
              });
            } else {
              cropit.cropit('offset', {
                'x': 0,
                'y': 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_org.crop;
            if (crop) {
              cropit.cropit('zoom', crop.zoom);
              cropit.cropit('offset', {
                'x': crop.x,
                'y': crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      $('.crop-form').cropit('disable');
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-crop' },
          _react2.default.createElement(
            'div',
            { className: 'crop-form' },
            _react2.default.createElement('div', { className: 'cropit-preview' }),
            _react2.default.createElement('input', { type: 'range', className: 'cropit-image-zoom-input' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              { onClick: this.cropAvatar,
                loading: this.state.isLoading,
                className: 'btn-primary btn-block' },
              this.props.upload ? gettext("Set avatar") : gettext("Crop image")
            ),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.props.showIndex,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block' },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":242,"../../services/snackbar":252,"../avatar":2,"../button":4,"react":"react"}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Gallery = exports.GalleryItem = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var GalleryItem = exports.GalleryItem = function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  function GalleryItem() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(GalleryItem)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.select = function () {
      _this.props.select(_this.props.image);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(GalleryItem, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (this.props.selection === this.props.image) {
        if (this.props.disabled) {
          return 'btn btn-avatar btn-disabled avatar-selected';
        } else {
          return 'btn btn-avatar avatar-selected';
        }
      } else if (this.props.disabled) {
        return 'btn btn-avatar btn-disabled';
      } else {
        return 'btn btn-avatar';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button',
          className: this.getClassName(),
          disabled: this.props.disabled,
          onClick: this.select },
        _react2.default.createElement('img', { src: _index2.default.get('MEDIA_URL') + this.props.image })
      );
      /* jshint ignore:end */
    }
  }]);

  return GalleryItem;
}(_react2.default.Component);

var Gallery = exports.Gallery = function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(Gallery).apply(this, arguments));
  }

  _createClass(Gallery, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'avatars-gallery' },
        _react2.default.createElement(
          'h3',
          null,
          this.props.name
        ),
        _react2.default.createElement(
          'div',
          { className: 'avatars-gallery-images' },
          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {
            return _react2.default.createElement(
              'div',
              { className: 'row', key: i },
              row.map(function (item, i) {
                return _react2.default.createElement(
                  'div',
                  { className: 'col-xs-3', key: i },
                  item ? _react2.default.createElement(GalleryItem, { image: item,
                    disabled: _this3.props.disabled,
                    select: _this3.props.select,
                    selection: _this3.props.selection }) : _react2.default.createElement('div', { className: 'blank-avatar' })
                );
              })
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Gallery;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this4.select = function (image) {
      _this4.setState({
        selection: image
      });
    };

    _this4.save = function () {
      if (_this4.state.isLoading) {
        return false;
      }

      _this4.setState({
        'isLoading': true
      });

      _ajax2.default.post(_this4.props.user.api_url.avatar, {
        avatar: 'galleries',
        image: _this4.state.selection
      }).then(function (response) {
        _this4.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this4.props.onComplete(response.avatar_hash, response.options);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this4.setState({
            'isLoading': false
          });
        } else {
          _this4.props.showError(rejection);
        }
      });
    };

    _this4.state = {
      'selection': null,
      'isLoading': false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      var _this5 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-gallery' },
          this.props.options.galleries.map(function (item, i) {
            return _react2.default.createElement(Gallery, { name: item.name,
              images: item.images,
              selection: _this5.state.selection,
              disabled: _this5.state.isLoading,
              select: _this5.select,
              key: i });
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-6 col-md-offset-3' },
              _react2.default.createElement(
                _button2.default,
                { onClick: this.save,
                  loading: this.state.isLoading,
                  disabled: !this.state.selection,
                  className: 'btn-primary btn-block' },
                this.state.selection ? gettext("Save choice") : gettext("Select avatar")
              ),
              _react2.default.createElement(
                _button2.default,
                { onClick: this.props.showIndex,
                  disabled: this.state.isLoading,
                  className: 'btn-default btn-block' },
                gettext("Cancel")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":191,"../../services/ajax":242,"../../services/snackbar":252,"../../utils/batch":256,"../button":4,"react":"react"}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _loader = require('../loader');

var _loader2 = _interopRequireDefault(_loader);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.setGravatar = function () {
      _this.callApi('gravatar');
    };

    _this.setGenerated = function () {
      _this.callApi('generated');
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'callApi',
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        'isLoading': true
      });

      _ajax2.default.post(this.props.user.api_url.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this2.props.onComplete(response.avatar_hash, response.options);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this2.setState({
            'isLoading': false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getGravatarButton',

    /* jshint ignore:end */

    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.setGravatar,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gravatar' },
          gettext("Download my Gravatar")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getCropButton',
    value: function getCropButton() {
      if (this.props.options.crop_org) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showCrop,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-crop' },
          gettext("Re-crop uploaded image")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      if (this.props.options.upload) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showUpload,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-upload' },
          gettext("Upload new image")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getGalleryButton',
    value: function getGalleryButton() {
      if (this.props.options.galleries) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showGallery,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gallery' },
          gettext("Pick avatar from gallery")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getAvatarPreview',
    value: function getAvatarPreview() {
      /* jshint ignore:start */
      var userPeview = {
        id: this.props.user.id,
        avatar_hash: this.props.options.avatar_hash
      };
      /* jshint ignore:end */

      if (this.state.isLoading) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview preview-loading' },
          _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' }),
          _react2.default.createElement(_loader2.default, null)
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            { className: 'avatar-preview' },
            _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' })
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-index' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-5' },
            this.getAvatarPreview()
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-md-7' },
            this.getGravatarButton(),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.setGenerated,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block btn-avatar-generate' },
              gettext("Generate my individual avatar")
            ),
            this.getCropButton(),
            this.getUploadButton(),
            this.getGalleryButton()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":242,"../../services/snackbar":252,"../avatar":2,"../button":4,"../loader":42,"react":"react"}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChangeAvatarError = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('./index');

var _index2 = _interopRequireDefault(_index);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _gallery = require('./gallery');

var _gallery2 = _interopRequireDefault(_gallery);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(ChangeAvatarError).apply(this, arguments));
  }

  _createClass(ChangeAvatarError, [{
    key: 'getErrorReason',
    value: function getErrorReason() {
      if (this.props.reason) {
        /* jshint ignore:start */
        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getErrorReason()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ChangeAvatarError;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this2, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this2), _this2.showError = function (error) {
      _this2.setState({
        error: error
      });
    }, _this2.showIndex = function () {
      _this2.setState({
        'component': _index2.default
      });
    }, _this2.showUpload = function () {
      _this2.setState({
        'component': _upload2.default
      });
    }, _this2.showCrop = function () {
      _this2.setState({
        'component': _crop2.default
      });
    }, _this2.showGallery = function () {
      _this2.setState({
        'component': _gallery2.default
      });
    }, _this2.completeFlow = function (avatarHash, options) {
      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, avatarHash));

      _this2.setState({
        'component': _index2.default,
        options: options
      });
    }, _temp), _possibleConstructorReturn(_this2, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      _ajax2.default.get(this.props.user.api_url.avatar).then(function (options) {
        _this3.setState({
          'component': _index2.default,
          'options': options,
          'error': null
        });
      }, function (rejection) {
        _this3.showError(rejection);
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getBody',

    /* jshint ignore:end */

    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          /* jshint ignore:start */
          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,
            reason: this.state.error.reason });
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(this.state.component, { options: this.state.options,
              user: this.props.user,
              onComplete: this.completeFlow,
              showError: this.showError,
              showIndex: this.showIndex,
              showCrop: this.showCrop,
              showUpload: this.showUpload,
              showGallery: this.showGallery });
            /* jshint ignore:end */
          }
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_modalLoader2.default, null);
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change your avatar")
            )
          ),
          this.getBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    'user': state.auth.user
  };
}

},{"../../reducers/users":241,"../../services/ajax":242,"../../services/store":253,"../modal-loader":44,"./crop":13,"./gallery":14,"./index":15,"./upload":17,"react":"react"}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _fileSize = require('../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.pickFile = function () {
      document.getElementById('avatar-hidden-upload').click();
    };

    _this.uploadFile = function () {
      var image = document.getElementById('avatar-hidden-upload').files[0];

      var validationError = _this.validateFile(image);
      if (validationError) {
        _snackbar2.default.error(validationError);
        return;
      }

      _this.setState({
        image: image,
        'preview': URL.createObjectURL(image),
        'progress': 0
      });

      var data = new FormData();
      data.append('avatar', 'upload');
      data.append('image', image);

      _ajax2.default.upload(_this.props.user.api_url.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          'options': data.options,
          'uploaded': data.detail
        });
        _snackbar2.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            'isLoading': false,
            'image': null,
            'progress': 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      'image': null,
      'preview': null,
      'progress': 0,
      'uploaded': null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'validateFile',
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          'filesize': (0, _fileSize2.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }

    /* jshint ignore:start */

  }, {
    key: 'getUploadRequirements',

    /* jshint ignore:end */

    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });

      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        'files': extensions.join(', '),
        'limit': (0, _fileSize2.default)(options.limit)
      }, true);
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          _button2.default,
          { className: 'btn-pick-file',
            onClick: this.pickFile },
          _react2.default.createElement(
            'div',
            { className: 'material-icon' },
            'input'
          ),
          gettext("Select file")
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-muted' },
          this.getUploadRequirements(this.props.options.upload)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUploadProgressLabel',
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        'progress': this.state.progress
      }, true);
    }
  }, {
    key: 'getUploadProgress',
    value: function getUploadProgress() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          'div',
          { className: 'upload-progress' },
          _react2.default.createElement('img', { src: this.state.preview }),
          _react2.default.createElement(
            'div',
            { className: 'progress' },
            _react2.default.createElement(
              'div',
              { className: 'progress-bar', role: 'progressbar',
                'aria-valuenow': '{this.state.progress}',
                'aria-valuemin': '0', 'aria-valuemax': '100',
                style: { width: this.state.progress + '%' } },
              _react2.default.createElement(
                'span',
                { className: 'sr-only' },
                this.getUploadProgressLabel()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderUpload',
    value: function renderUpload() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement('input', { type: 'file',
          id: 'avatar-hidden-upload',
          className: 'hidden-file-upload',
          onChange: this.uploadFile }),
        this.state.image ? this.getUploadProgress() : this.getUploadButton(),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              { onClick: this.props.showIndex,
                disabled: !!this.state.image,
                className: 'btn-default btn-block' },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCrop',
    value: function renderCrop() {
      /* jshint ignore:start */
      return _react2.default.createElement(_crop2.default, { options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return this.state.uploaded ? this.renderCrop() : this.renderUpload();
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":242,"../../services/snackbar":252,"../../utils/file-size":260,"../button":4,"./crop":13,"react":"react"}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { className: this.getClassName(),
          type: "button",
          onClick: this.props.toggleNav,
          "aria-haspopup": "true",
          "aria-expanded": this.props.dropdown ? 'true' : 'false' },
        _react2.default.createElement(
          "i",
          { className: "material-icon" },
          "menu"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.replaceSelection(_this.props.execAction);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        {
          className: 'btn ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: this.props.title,
          type: 'button'
        },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertCode,
      title: gettext("Insert code")
    }, props),
    'code'
  );
};

exports.insertCode = insertCode;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertCode(selection, replace) {
  var syntax = $.trim(prompt(gettext("Enter name of syntax of your code (optional)") + ':'));
  replace("\n\n```" + syntax + '\n' + selection + "\n```\n\n");
}

},{"../../../utils/is-url":261,"./action":19,"react":"react"}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeEmphasis,
      title: gettext("Emphase selection")
    }, props),
    'emphasis'
  );
};

exports.makeEmphasis = makeEmphasis;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeEmphasis(selection, replace) {
  if (selection.length) {
    replace('*' + selection + '*');
  }
}

},{"./action":19,"react":"react"}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertHr,
      title: gettext("Insert horizontal ruler")
    }, props),
    'hr'
  );
};

exports.insertHr = insertHr;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertHr(selection, replace) {
  replace('\n\n- - - - -\n\n');
}

},{"./action":19,"react":"react"}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertImage,
      title: gettext("Insert image")
    }, props),
    'image'
  );
};

exports.insertImage = insertImage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertImage(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link to image") + ':', url));
  label = $.trim(prompt(gettext("Enter image label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('![' + label + '](' + url + ')');
    } else {
      replace('!(' + url + ')');
    }
  }
}

},{"../../../utils/is-url":261,"./action":19,"react":"react"}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertLink,
      title: gettext("Insert link")
    }, props),
    'link'
  );
};

exports.insertLink = insertLink;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertLink(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link address") + ':', url));
  label = $.trim(prompt(gettext("Enter link label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('[' + label + '](' + url + ')');
    } else {
      replace(url);
    }
  }
}

},{"../../../utils/is-url":261,"./action":19,"react":"react"}],25:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertQuote,
      title: gettext("Insert quote")
    }, props),
    'quote'
  );
};

exports.insertQuote = insertQuote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertQuote(selection, replace) {
  var author = $.trim(prompt(gettext("Enter image label (optional)") + ':', author));
  if (author.length && author[0] !== '@') {
    author = '@' + author;
  }

  if (author) {
    replace('\n\n[quote="' + author + '"]\n' + selection + '\n[/quote]\n\n');
  } else {
    replace('\n\n[quote=]\n' + selection + '\n[/quote]\n\n');
  }
}

},{"../../../utils/is-url":261,"./action":19,"react":"react"}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStriketrough,
      title: gettext("Striketrough selection")
    }, props),
    'striketrough'
  );
};

exports.makeStriketrough = makeStriketrough;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStriketrough(selection, replace) {
  if (selection.length) {
    replace('~~' + selection + '~~');
  }
}

},{"./action":19,"react":"react"}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStrong,
      title: gettext("Bolder selection")
    }, props),
    'bold'
  );
};

exports.makeStrong = makeStrong;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStrong(selection, replace) {
  if (selection.length) {
    replace('**' + selection + '**');
  }
}

},{"./action":19,"react":"react"}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onInsert = function () {
      _this.props.replaceSelection(_this.insertAttachment);
    }, _this.insertAttachment = function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace('[![' + item.filename + '](' + item.url.thumb + ')](' + item.url.index + ')');
        } else {
          replace('[![' + item.filename + '](' + item.url.index + ')](' + item.url.index + ')');
        }
      } else {
        replace('[' + item.filename + '](' + item.url.index + ')');
      }
    }, _this.onRemove = function () {
      _this.updateItem({
        isRemoved: true
      });
    }, _this.onUndo = function () {
      _this.updateItem({
        isRemoved: false
      });
    }, _this.updateItem = function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });
      _this.props.onAttachmentsChange(updatedAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-complete' },
        _react2.default.createElement(Preview, this.props),
        _react2.default.createElement(Actions, _extends({
          onInsert: this.onInsert,
          onRemove: this.onRemove,
          onUndo: this.onUndo
        }, this.props)),
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-details' },
          _react2.default.createElement(Filename, this.props),
          _react2.default.createElement(Details, this.props)
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function Preview(props) {
  if (props.item.is_image) {
    return _react2.default.createElement(Image, props);
  } else {
    return _react2.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-image' },
    _react2.default.createElement('a', {
      href: props.item.url.index + '?shva=1',
      style: { backgroundImage: "url('" + thumbnailUrl + "?shva=1')" },
      target: '_blank'
    })
  );
};

function Icon(props) {
  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-icon' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_drive_file'
    )
  );
}

function Filename(props) {
  return _react2.default.createElement(
    'h4',
    null,
    _react2.default.createElement(
      'a',
      {
        className: 'item-title',
        href: props.item.url.index + '?shva=1',
        target: '_blank'
      },
      props.item.filename
    )
  );
}

function Details(props) {
  var user = null;
  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.item.url.uploader),
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.item.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.item.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0, _fileSize2.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });
}

function Actions(props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline editor-attachment-actions' },
    _react2.default.createElement(Insert, props),
    _react2.default.createElement(Remove, props),
    _react2.default.createElement(Undo, props)
  );
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm',
        onClick: props.onInsert,
        type: 'button'
      },
      gettext("Insert")
    )
  );
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm',
        onClick: props.onRemove,
        type: 'button'
      },
      gettext("Remove")
    )
  );
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm',
        onClick: props.onUndo,
        type: 'button'
      },
      gettext("Undo removal")
    )
  );
}

},{"../../../..":191,"../../../../utils/escape-html":259,"../../../../utils/file-size":260,"react":"react"}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var STRONG = '<strong>%(name)s</strong>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });
      _this.props.onAttachmentsChange(filteredAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml2.default)(this.props.item.filename)
      }, true);

      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + '%'
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-error' },
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-message' },
          _react2.default.createElement('h4', { dangerouslySetInnerHTML: { __html: title + ':' } }),
          _react2.default.createElement(
            'p',
            null,
            this.props.item.error
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm',
              onClick: this.onClick,
              type: 'button'
            },
            gettext("Dismiss")
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../../../utils/escape-html":259,"react":"react"}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.item.id) {
    return _react2.default.createElement(_complete2.default, props);
  } else if (props.item.error) {
    return _react2.default.createElement(_error2.default, props);
  } else {
    return _react2.default.createElement(_upload2.default, props);
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _complete = require('./complete');

var _complete2 = _interopRequireDefault(_complete);

var _error = require('./error');

var _error2 = _interopRequireDefault(_error);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../..":191,"../../../../utils/escape-html":259,"./complete":28,"./error":29,"./upload":31,"react":"react"}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml2.default)(props.item.filename)
  }, true);

  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + '%'
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'editor-attachment-upload' },
    _react2.default.createElement(
      'div',
      { className: 'editor-attachment-progress-bar' },
      _react2.default.createElement('div', {
        className: 'editor-attachment-progress',
        style: { width: props.item.progress + '%' }
      })
    ),
    _react2.default.createElement('p', {
      className: 'editor-attachment-upload-message',
      dangerouslySetInnerHTML: { __html: message }
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start


var STRONG = '<strong>%(name)s</strong>';

;

},{"../../../../utils/escape-html":259,"react":"react"}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!_2.default.get('user').acl.max_attachment_size) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachments' },
    _react2.default.createElement(_list2.default, props),
    _react2.default.createElement(_uploader2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _uploader = require('./uploader');

var _uploader2 = _interopRequireDefault(_uploader);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

; // jshint ignore:start

},{"../../..":191,"./list":33,"./uploader":35,"react":"react"}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled editor-attachments-list' },
    props.attachments.map(function (item) {
      return _react2.default.createElement(_attachment2.default, _extends({ item: item, key: item.id || item.key }, props));
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

;

},{"./attachment":30,"react":"react"}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      document.getElementById('editor-upload-field').click();
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!_2.default.get('user').acl.max_attachment_size) {
        return null;
      }

      return _react2.default.createElement(
        'button',
        {
          className: 'btn ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: gettext('Upload file'),
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'file_upload'
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../..":191,"react":"react"}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getRandomKey = getRandomKey;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onChange = function (event) {
      var file = event.target.files[0];
      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append('upload', file);

      _ajax2.default.upload(_2.default.get('ATTACHMENTS_API'), data, function (progress) {
        upload.progress = progress;
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment2.default)(data.uploaded_on);
        Object.assign(upload, data);
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400) {
          upload.error = rejection.detail;
          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement('input', {
        id: 'editor-upload-field',
        onChange: this.onChange,
        type: 'file'
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function getRandomKey() {
  return 'upld-' + Math.round(new Date().getTime());
}

},{"../../..":191,"../../../services/ajax":242,"../../../services/snackbar":252,"moment":"moment","react":"react"}],36:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Protect = Protect;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _code = require('./actions/code');

var _code2 = _interopRequireDefault(_code);

var _emphasis = require('./actions/emphasis');

var _emphasis2 = _interopRequireDefault(_emphasis);

var _hr = require('./actions/hr');

var _hr2 = _interopRequireDefault(_hr);

var _image = require('./actions/image');

var _image2 = _interopRequireDefault(_image);

var _link = require('./actions/link');

var _link2 = _interopRequireDefault(_link);

var _striketrough = require('./actions/striketrough');

var _striketrough2 = _interopRequireDefault(_striketrough);

var _strong = require('./actions/strong');

var _strong2 = _interopRequireDefault(_strong);

var _quote = require('./actions/quote');

var _quote2 = _interopRequireDefault(_quote);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _uploadButton = require('./attachments/upload-button/');

var _uploadButton2 = _interopRequireDefault(_uploadButton);

var _markupPreview = require('./markup-preview');

var _markupPreview2 = _interopRequireDefault(_markupPreview);

var _textUtils = require('./textUtils');

var textUtils = _interopRequireWildcard(_textUtils);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onPreviewClick = function () {
      if (_this.state.isPreviewLoading) {
        return;
      }

      _this.setState({
        isPreviewLoading: true
      });

      _ajax2.default.post(_2.default.get('PARSE_MARKUP_API'), { post: _this.props.value }).then(function (data) {
        _modal2.default.show(_react2.default.createElement(_markupPreview2.default, { markup: data.parsed }));

        _this.setState({
          isPreviewLoading: false
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _this.setState({
          isPreviewLoading: false
        });
      });
    };

    _this.replaceSelection = function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    };

    _this._replaceSelection = function (newValue) {
      _this.props.onChange({
        target: {
          value: textUtils.replace(newValue)
        }
      });
    };

    _this.state = {
      isPreviewLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'editor-border' },
        _react2.default.createElement('textarea', {
          className: 'form-control',
          defaultValue: this.props.value,
          disabled: this.props.loading,
          id: 'editor-textarea',
          onChange: this.props.onChange,
          rows: '9'
        }),
        _react2.default.createElement(
          'div',
          { className: 'editor-footer' },
          _react2.default.createElement(_strong2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_emphasis2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_striketrough2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_hr2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_link2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_image2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_quote2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_code2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_uploadButton2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading
          }),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              onClick: this.onPreviewClick,
              type: 'button'
            },
            gettext("Preview")
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-primary btn-sm pull-right',
              loading: this.props.loading
            },
            this.props.submitLabel || gettext("Post")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm pull-right',
              disabled: this.props.loading,
              onClick: this.props.onCancel,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(Protect, {
            canProtect: this.props.canProtect,
            disabled: this.props.loading,
            onProtect: this.props.onProtect,
            onUnprotect: this.props.onUnprotect,
            protect: this.props.protect
          })
        ),
        _react2.default.createElement(_attachments2.default, {
          attachments: this.props.attachments,
          onAttachmentsChange: this.props.onAttachmentsChange,
          placeholder: this.props.placeholder,
          replaceSelection: this.replaceSelection
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Protect(props) {
  if (props.canProtect) {
    return _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm pull-right',
        disabled: props.disabled,
        onClick: props.protect ? props.onUnprotect : props.onProtect,
        title: props.protect ? gettext('Protected') : gettext('Protect'),
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        props.protect ? 'lock' : 'lock_outline'
      )
    );
  } else {
    return null;
  }
}

},{"../..":191,"../../services/ajax":242,"../../services/modal":248,"../../services/snackbar":252,"../button":4,"./actions/code":20,"./actions/emphasis":21,"./actions/hr":22,"./actions/image":23,"./actions/link":24,"./actions/quote":25,"./actions/striketrough":26,"./actions/strong":27,"./attachments":32,"./attachments/upload-button/":34,"./markup-preview":37,"./textUtils":38,"react":"react"}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '×'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Preview message")
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'modal-body markup-preview' },
        _react2.default.createElement(_misagoMarkup2.default, { markup: props.markup })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../misago-markup":43,"react":"react"}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
var textareaId = exports.textareaId = 'editor-textarea';

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();
  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart('character', -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == '0') {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();
  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart('character', selectionRange.start);
    range.moveEnd('character', selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isValidated',
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'form-group';
      if (this.isValidated()) {
        className += ' has-feedback';
        if (this.props.validation === null) {
          className += ' has-success';
        } else {
          className += ' has-error';
        }
      }
      return className;
    }
  }, {
    key: 'getFeedback',
    value: function getFeedback() {
      var _this2 = this;

      if (this.props.validation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'help-block errors' },
          this.props.validation.map(function (error, i) {
            return _react2.default.createElement(
              'p',
              { key: _this2.props.for + 'FeedbackItem' + i },
              error
            );
          })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getFeedbackIcon',
    value: function getFeedbackIcon() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'material-icon form-control-feedback',
            'aria-hidden': 'true', key: this.props.for + 'FeedbackIcon' },
          this.props.validation ? 'clear' : 'check'
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getFeedbackDescription',
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { id: this.props.for + '_status', className: 'sr-only' },
          this.props.validation ? gettext('(error)') : gettext('(success)')
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'label',
          { className: 'control-label ' + (this.props.labelClass || ''),
            htmlFor: this.props.for || '' },
          this.props.label + ':'
        ),
        _react2.default.createElement(
          'div',
          { className: this.props.controlClass || '' },
          this.props.children,
          this.getFeedbackIcon(),
          this.getFeedbackDescription(),
          this.getFeedback(),
          this.getHelpText(),
          this.props.extra || null
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _validators = require('../utils/validators');

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var validateRequired = (0, _validators.required)();

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.bindInput = function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    }, _this.changeValue = function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    }, _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();
      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({ isLoading: true });
        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({ isLoading: false });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({ isLoading: false });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({ isLoading: false });
        }
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'validate',
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };

      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: 'isValid',
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: 'validateField',
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };

      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',
    value: function clean() {
      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return null;
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: 'handleError',

    /* jshint ignore:end */
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/snackbar":252,"../utils/validators":269,"react":"react"}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isActive',
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || '') + ' ' + (this.props.activeClassName || 'active');
      } else {
        return this.props.className || '';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        this.props.children
      );
      // jshint ignore:end
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],42:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.props.className || "loader" },
        _react2.default.createElement("div", { className: "loader-spinning-wheel" })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement("article", { className: "misago-markup", dangerouslySetInnerHTML: { __html: props.markup } });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],44:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-loader' },
        _react2.default.createElement(_loader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":42,"react":"react"}],45:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('./panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_PanelMessage) {
  _inherits(_class, _PanelMessage);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_panelMessage2.default);

exports.default = _class;

},{"./panel-message":58,"react":"react"}],46:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelLoader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-loader":57,"react":"react"}],47:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('../../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), { 'next_change': this.props.options.next_on.fromNow() }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelMessage2.default, { message: gettext("You can't change your username at the moment."),
          helpText: this.getHelpText() })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-message":58,"react":"react"}],48:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.state = {
      username: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength({
          username_length_min: props.options.length_min
        }), validators.usernameMaxLength({
          username_length_max: props.options.length_max
        })]
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);

        phrases.push(interpolate(message, {
          'changes_left': this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes redeem after %(name_changes_expire)s day.", "Used changes redeem after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          'name_changes_expire': this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(' ') : null;
    }
  }, {
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      if (errors.username) {
        _snackbar2.default.error(errors.username[0]);
        return false;
      }if (this.state.username.trim() === this.props.user.username) {
        _snackbar2.default.info(gettext("Your new username is same as current one."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.username, {
        'username': this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.setState({
        'username': ''
      });

      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change username")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New username"), 'for': 'id_username',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                helpText: this.getHelpText() },
              _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('username'),
                value: this.state.username })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change username")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":242,"../../../services/snackbar":252,"../../../utils/validators":269,"../../button":4,"../../form":40,"../../form-group":39,"react":"react"}],49:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formLoading = require('./form-loading');

var _formLoading2 = _interopRequireDefault(_formLoading);

var _formLocked = require('./form-locked');

var _formLocked2 = _interopRequireDefault(_formLocked);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _root = require('../../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onComplete = function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)({ username: username, slug: slug }, _this.props.user, _this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar2.default.success(gettext("Your username has been changed successfully."));
    };

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle2.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax2.default.get(this.props.user.api_url.username), _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), { user: this.props.user.id })]).then(function (data) {
        _store2.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment2.default)(data[0].next_on) : null
          }
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getChangeForm',

    /* jshint ignore:end */

    value: function getChangeForm() {
      if (this.state.isLoaded) {
        if (this.state.options.changes_left > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_form2.default, { user: this.props.user,
            options: this.state.options,
            complete: this.onComplete });
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(_formLocked2.default, { options: this.state.options });
            /* jshint ignore:end */
          }
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_formLoading2.default, null);
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        this.getChangeForm(),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          changes: this.props['username-history'] })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":191,"../../../reducers/username-history":240,"../../../reducers/users":241,"../../../services/ajax":242,"../../../services/page-title":249,"../../../services/snackbar":252,"../../../services/store":253,"../../username-history/root":173,"./form":48,"./form-loading":46,"./form-locked":47,"moment":"moment","react":"react"}],50:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _yesNoSwitch = require('../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _auth = require('../../reducers/auth');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.state = {
      'isLoading': false,

      'is_hiding_presence': props.user.is_hiding_presence,
      'limits_private_thread_invites_to': props.user.limits_private_thread_invites_to,
      'subscribe_to_started_threads': props.user.subscribe_to_started_threads,
      'subscribe_to_replied_threads': props.user.subscribe_to_replied_threads,

      'errors': {}
    };

    _this.privateThreadInvitesChoices = [{
      'value': 0,
      'icon': 'help_outline',
      'label': gettext("Everybody")
    }, {
      'value': 1,
      'icon': 'done_all',
      'label': gettext("Users I follow")
    }, {
      'value': 2,
      'icon': 'highlight_off',
      'label': gettext("Nobody")
    }];

    _this.subscribeToChoices = [{
      'value': 0,
      'icon': 'star_border',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'star_half',
      'label': gettext("Notify")
    }, {
      'value': 2,
      'icon': 'star',
      'label': gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _store2.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));
      _snackbar2.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change forum options")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Privacy settings")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Hide my presence"),
                  helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
                  'for': 'id_is_hiding_presence',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_hiding_presence',
                  disabled: this.state.isLoading,
                  iconOn: 'visibility_off',
                  iconOff: 'visibility',
                  labelOn: gettext("Hide my presence from other users"),
                  labelOff: gettext("Show my presence to other users"),
                  onChange: this.bindInput('is_hiding_presence'),
                  value: this.state.is_hiding_presence })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Private thread invitations"),
                  'for': 'id_limits_private_thread_invites_to',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_limits_private_thread_invites_to',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('limits_private_thread_invites_to'),
                  value: this.state.limits_private_thread_invites_to,
                  choices: this.privateThreadInvitesChoices })
              )
            ),
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Automatic subscriptions")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Threads I start"),
                  'for': 'id_subscribe_to_started_threads',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_subscribe_to_started_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_started_threads'),
                  value: this.state.subscribe_to_started_threads,
                  choices: this.subscribeToChoices })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Threads I reply to"),
                  'for': 'id_subscribe_to_replied_threads',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_subscribe_to_replied_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_replied_threads'),
                  value: this.state.subscribe_to_replied_threads,
                  choices: this.subscribeToChoices })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Save changes")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../reducers/auth":231,"../../services/ajax":242,"../../services/page-title":249,"../../services/snackbar":252,"../../services/store":253,"../button":4,"../form":40,"../form-group":39,"../select":109,"../yes-no-switch":190,"react":"react"}],51:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(SideNav).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.options.map(function (option) {
          return _react2.default.createElement(
            _reactRouter.Link,
            { to: _this2.props.baseUrl + option.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: option.component },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              option.icon
            ),
            option.name
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactNav).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      var _this4 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        this.props.options.map(function (option) {
          return _react2.default.createElement(
            _li2.default,
            { path: _this4.props.baseUrl + option.component + '/',
              key: option.component },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _this4.props.baseUrl + option.component + '/',
                onClick: _this4.props.hideNav },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                option.icon
              ),
              option.name
            )
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../../index":191,"../li":41,"react":"react","react-router":"react-router"}],52:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _forumOptions = require('./forum-options');

var _forumOptions2 = _interopRequireDefault(_forumOptions);

var _root = require('./change-username/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./sign-in-credentials/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-options' },
        _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'h1',
              { className: 'pull-left' },
              gettext("Change your options")
            ),
            _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.toggleNav,
              dropdown: this.state.dropdown })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { options: _index2.default.get('USER_OPTIONS'),
            baseUrl: _index2.default.get('USERCP_URL'),
            hideNav: this.hideNav })
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(_navs.SideNav, { options: _index2.default.get('USER_OPTIONS'),
                baseUrl: _index2.default.get('USERCP_URL') })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'username-history': store['username-history']
  };
}

function paths() {
  return [{
    path: _index2.default.get('USERCP_URL') + 'forum-options/',
    component: (0, _reactRedux.connect)(select)(_forumOptions2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'change-username/',
    component: (0, _reactRedux.connect)(select)(_root2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'sign-in-credentials/',
    component: (0, _reactRedux.connect)(select)(_root4.default)
  }];
}

},{"../../index":191,"../dropdown-toggle":18,"../with-dropdown":189,"./change-username/root":49,"./forum-options":50,"./navs":51,"./sign-in-credentials/root":55,"react":"react","react-redux":"react-redux"}],53:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.state = {
      new_email: '',
      password: '',

      validators: {
        new_email: [validators.email()],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_email) {
        _snackbar2.default.error(errors.new_email[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_email: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar2.default.error(rejection.new_email);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change e-mail address")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New e-mail"), 'for': 'id_new_email',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'text', id: 'id_new_email', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_email'),
                value: this.state.new_email })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change e-mail")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":242,"../../../services/snackbar":252,"../../../utils/validators":269,"../../button":4,"../../form":40,"../../form-group":39,"react":"react"}],54:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.state = {
      new_password: '',
      repeat_password: '',
      password: '',

      validators: {
        new_password: [validators.passwordMinLength(_index2.default.get('SETTINGS'))],
        repeat_password: [],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_password) {
        _snackbar2.default.error(errors.new_password[0]);
        return false;
      }

      if (this.state.new_password.trim() !== this.state.repeat_password.trim()) {
        _snackbar2.default.error(gettext("New passwords are different."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_password: '',
        repeat_password: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar2.default.error(rejection.new_password);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change password")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New password"), 'for': 'id_new_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_new_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_password'),
                value: this.state.new_password })
            ),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Repeat password"), 'for': 'id_repeat_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_repeat_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('repeat_password'),
                value: this.state.repeat_password })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change password")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":191,"../../../services/ajax":242,"../../../services/snackbar":252,"../../../utils/validators":269,"../../button":4,"../../form":40,"../../form-group":39,"react":"react"}],55:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changeEmail = require('./change-email');

var _changeEmail2 = _interopRequireDefault(_changeEmail);

var _changePassword = require('./change-password');

var _changePassword2 = _interopRequireDefault(_changePassword);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_changeEmail2.default, { user: this.props.user }),
        _react2.default.createElement(_changePassword2.default, { user: this.props.user }),
        _react2.default.createElement(
          'p',
          { className: 'message-line' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          ),
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },
            gettext("Change forgotten password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":191,"../../../services/page-title":249,"./change-email":53,"./change-password":54,"react":"react"}],56:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _stringCount = require('../utils/string-count');

var _stringCount2 = _interopRequireDefault(_stringCount);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount2.default)(this.props.copy, '<p') === 1 && this.props.copy.indexOf('<br') === -1) {
          return 'page-lead lead';
        }
      }

      return 'page-lead';
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: this.getClassName(), dangerouslySetInnerHTML: {
            __html: this.props.copy
          } });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../utils/string-count":268,"react":"react"}],57:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel-body panel-body-loading' },
        _react2.default.createElement(_loader2.default, { className: 'loader loader-spaced' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":42,"react":"react"}],58:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "panel-body panel-message-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],59:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LABELS = exports.STYLES = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];

var LABELS = exports.LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this._score = 0;
    _this._password = null;
    _this._inputs = [];
    return _this;
  }

  _createClass(_class, [{
    key: 'getScore',
    value: function getScore(password, inputs) {
      var _this2 = this;

      var cacheStale = false;

      if (password.trim() !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this2._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn2.default.scorePassword(password, inputs);
        this._password = password.trim();
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var score = this.getScore(this.props.password, this.props.inputs);

      return _react2.default.createElement(
        'div',
        { className: 'help-block password-strength' },
        _react2.default.createElement(
          'div',
          { className: 'progress' },
          _react2.default.createElement(
            'div',
            { className: "progress-bar " + STYLES[score],
              style: { width: 20 + 20 * score + '%' },
              role: 'progress-bar',
              'aria-valuenow': score,
              'aria-valuemin': '0',
              'aria-valuemax': '4' },
            _react2.default.createElement(
              'span',
              { className: 'sr-only' },
              LABELS[score]
            )
          )
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-small' },
          LABELS[score]
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/zxcvbn":254,"react":"react"}],60:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,

        canProtect: data.can_protect
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onProtect = function () {
      _this.setState({
        protect: true
      });
    };

    _this.onUnprotect = function () {
      _this.setState({
        protect: false
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],
      protect: false,

      canProtect: false,

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Reply has been edited."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  canProtect: this.state.canProtect,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  onProtect: this.onProtect,
                  onUnprotect: this.onUnprotect,
                  protect: this.state.protect,
                  submitLabel: gettext("Edit reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":242,"../../services/posting":251,"../../services/snackbar":252,"../editor":36,"../form":40,"./utils/attachments":64,"./utils/container":65,"./utils/loader":66,"./utils/message":67,"./utils/validators":69,"react":"react"}],61:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.mode === 'START') {
    return _react2.default.createElement(_start2.default, props);
  } else if (props.mode === 'REPLY') {
    return _react2.default.createElement(_reply2.default, props);
  } else if (props.mode === 'EDIT') {
    return _react2.default.createElement(_edit2.default, props);
  } else {
    return null;
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _start = require('./start');

var _start2 = _interopRequireDefault(_start);

var _reply = require('./reply');

var _reply2 = _interopRequireDefault(_reply);

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./edit":60,"./reply":62,"./start":63,"react":"react"}],62:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post ? '[quote="' + data.poster + '"]\n' + data.post + '\n[/quote]' : ''
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your reply has been posted."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":242,"../../services/posting":251,"../../services/snackbar":252,"../editor":36,"../form":40,"./utils/attachments":64,"./utils/container":65,"./utils/loader":66,"./utils/message":67,"./utils/validators":69,"react":"react"}],63:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySelect = require('../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _options = require('./utils/options');

var _options2 = _interopRequireDefault(_options);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.loadSuccess = function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null;

      // hydrate categories, extract posting options
      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,

        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard thread?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onTitleChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onCategoryChange = function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      });

      // if selected pin is greater than allowed, reduce it
      var pin = _this.state.pin;
      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,

        pin: pin
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.onClose = function () {
      _this.changeValue('close', true);
    };

    _this.onOpen = function () {
      _this.changeValue('close', false);
    };

    _this.onPinGlobally = function () {
      _this.changeValue('pin', 2);
    };

    _this.onPinLocally = function () {
      _this.changeValue('pin', 1);
    };

    _this.onUnpin = function () {
      _this.changeValue('pin', 0);
    };

    _this.onHide = function () {
      _this.changeValue('hide', 1);
    };

    _this.onUnhide = function () {
      _this.changeValue('hide', 0);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      showOptions: false,
      categoryOptions: null,

      title: '',
      category: props.category || null,
      categories: [],
      post: '',
      attachments: [],
      close: false,
      hide: false,
      pin: 0,

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form', withFirstRow: true },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'row first-row' },
              _react2.default.createElement(
                'div',
                { className: this.state.showOptions ? 'col-md-6' : 'col-md-8' },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  onChange: this.onTitleChange,
                  placeholder: gettext("Thread title"),
                  type: 'text',
                  value: this.state.title
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-md-4' },
                _react2.default.createElement(_categorySelect2.default, {
                  choices: this.state.categories,
                  disabled: this.state.isLoading,
                  onChange: this.onCategoryChange,
                  value: this.state.category
                })
              ),
              _react2.default.createElement(_options2.default, {
                close: this.state.close,
                disabled: this.state.isLoading,
                hide: this.state.hide,
                onClose: this.onClose,
                onHide: this.onHide,
                onOpen: this.onOpen,
                onPinGlobally: this.onPinGlobally,
                onPinLocally: this.onPinLocally,
                onUnhide: this.onUnhide,
                onUnpin: this.onUnpin,
                options: this.state.categoryOptions,
                pin: this.state.pin,
                showOptions: this.state.showOptions
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post thread"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":242,"../../services/posting":251,"../../services/snackbar":252,"../category-select":12,"../editor":36,"../form":40,"./utils/attachments":64,"./utils/container":65,"./utils/loader":66,"./utils/message":67,"./utils/options":68,"./utils/validators":69,"react":"react"}],64:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });

  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment2.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],65:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "div",
      { className: "container" },
      props.children
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],66:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-loader' },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":42,"./container":65,"react":"react"}],67:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        null,
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        props.message
      ),
      _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-default', onClick: _posting2.default.close },
        gettext("Dismiss")
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../services/posting":251,"./container":65,"react":"react"}],68:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.showOptions) {
    return _react2.default.createElement(
      "div",
      { className: "col-md-2 posting-options" },
      _react2.default.createElement(PinOptions, {
        disabled: props.disabled,
        onPinGlobally: props.onPinGlobally,
        onPinLocally: props.onPinLocally,
        onUnpin: props.onUnpin,
        pin: props.pin,
        show: props.options.pin
      }),
      _react2.default.createElement(HideOptions, {
        disabled: props.disabled,
        hide: props.hide,
        onHide: props.onHide,
        onUnhide: props.onUnhide,
        show: props.options.hide
      }),
      _react2.default.createElement(CloseOptions, {
        close: props.close,
        disabled: props.disabled,
        onClose: props.onClose,
        onOpen: props.onOpen,
        show: props.options.close
      })
    );
  } else {
    return null;
  }
};

exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function CloseOptions(props) {
  if (props.show) {
    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: props.close ? props.onOpen : props.onClose,
        title: props.close ? gettext('Closed') : gettext('Open'),
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.close ? 'lock' : 'lock_outline'
      )
    );
  } else {
    return null;
  }
}

function HideOptions(props) {
  if (props.show) {
    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: props.hide ? props.onUnhide : props.onHide,
        title: props.hide ? gettext('Hidden') : gettext('Not hidden'),
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.hide ? 'visibility_off' : 'visibility'
      )
    );
  } else {
    return null;
  }
}

function PinOptions(props) {
  if (props.show) {
    var icon = null;
    var onClick = null;
    var tooltip = null;

    switch (props.pin) {
      case 0:
        icon = 'radio_button_unchecked';
        onClick = props.onPinLocally;
        tooltip = gettext("Unpinned");
        break;

      case 1:
        icon = 'info_outline';
        onClick = props.onPinGlobally;
        tooltip = gettext("Pinned locally");

        if (props.show == 2) {
          onClick = props.onPinGlobally;
        } else {
          onClick = props.onUnpin;
        }

        break;

      case 2:
        icon = 'info';
        onClick = props.onUnpin;
        tooltip = gettext("Pinned globally");
        break;
    }

    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: onClick,
        title: tooltip,
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        icon
      )
    );
  } else {
    return null;
  }
}

},{"react":"react"}],69:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require('../../../utils/validators');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_2.default.get('SETTINGS').post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":191,"../../../utils/validators":269}],70:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'li',
      { className: 'event-controls' },
      _react2.default.createElement(Hide, props),
      _react2.default.createElement(Unhide, props),
      _react2.default.createElement(Delete, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function isVisible(acl) {
  return acl.can_hide;
}

var Hide = exports.Hide = function (_React$Component) {
  _inherits(Hide, _React$Component);

  function Hide() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Hide)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment2.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.absolute_url
        })
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': true };

      _ajax2.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  function Unhide() {
    var _Object$getPrototypeO2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO2 = Object.getPrototypeOf(Unhide)).call.apply(_Object$getPrototypeO2, [this].concat(args))), _this2), _this2.onClick = function () {
      _store2.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': false };

      _ajax2.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _Object$getPrototypeO3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO3 = Object.getPrototypeOf(Delete)).call.apply(_Object$getPrototypeO3, [this].concat(args))), _this3), _this3.onClick = function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));
      if (decision) {
        _this3.delete();
      }
    }, _this3.delete = function () {
      _store2.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax2.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar2.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-link', onClick: this.onClick },
        gettext("Delete")
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/post":232,"../../../services/ajax":242,"../../../services/snackbar":252,"../../../services/store":253,"moment":"moment","react":"react"}],71:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-avatar' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      ICON[props.post.event_type]
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: 'edit',

  pinned_globally: 'bookmark',
  pinned_locally: 'bookmark_border',
  unpoinned: 'panorama_fish_eye',

  moved: 'arrow_forward',
  merged: 'call_merge',

  approved: 'done',

  opened: 'lock_open',
  closed: 'lock_outline',

  unhid: 'visibility',
  hid: 'visibility_off'
}; /* jshint ignore:start */

},{"react":"react"}],72:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'event';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'event post-hidden';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(_icon2.default, props),
      _react2.default.createElement(
        _waypoint2.default,
        { className: 'post-body', post: props.post },
        _react2.default.createElement(_message2.default, props),
        _react2.default.createElement(_info2.default, props)
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _info = require('./info');

var _info2 = _interopRequireDefault(_info);

var _message = require('./message');

var _message2 = _interopRequireDefault(_message);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../waypoint":90,"./icon":71,"./info":73,"./message":74,"react":"react"}],73:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-inline event-info' },
    _react2.default.createElement(Hidden, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(Ip, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.Hidden = Hidden;
exports.Poster = Poster;
exports.Ip = Ip;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>'; /* jshint ignore:start */

var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
      relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
    }, true);

    var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);

    return _react2.default.createElement('li', { className: 'event-hidden-message', dangerouslySetInnerHTML: { __html: message } });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.post.poster.absolute_url),
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml2.default)(props.post.url.index),
    absolute: (0, _escapeHtml2.default)(props.post.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.posted_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);

  return _react2.default.createElement('li', { className: 'event-posters', dangerouslySetInnerHTML: { __html: message } });
}

function Ip(props) {
  if (props.user.acl.can_see_users_ips) {
    return _react2.default.createElement(
      'li',
      { className: 'event-ip' },
      _react2.default.createElement(
        'abbr',
        { title: props.post.poster_ip },
        gettext("IP recorded")
      )
    );
  } else {
    return null;
  }
}

},{"../../../utils/escape-html":259,"./controls":70,"react":"react"}],74:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (MESSAGE[props.post.event_type]) {
    return _react2.default.createElement(
      'p',
      { className: 'event-message' },
      MESSAGE[props.post.event_type]
    );
  } else if (props.post.event_type === 'changed_title') {
    return _react2.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === 'moved') {
    return _react2.default.createElement(Moved, props);
  } else if (props.post.event_type === 'merged') {
    return _react2.default.createElement(Merged, props);
  } else {
    return null;
  }
};

exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */


var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),

  approved: gettext("Thread has been approved."),

  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),

  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden.")
};

var FROM_CATEGORY = '<a href="%(url)s" class="item-title">%(name)s</a>';
var OLD_TITLE = '<span class="item-title">%(old_title)s</span>';
var MERGED_THREAD = '<span class="item-title">%(merged_thread)s</span>';

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(OLD_TITLE, {
    old_title: (0, _escapeHtml2.default)(props.post.event_context.old_title)
  }, true);

  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(FROM_CATEGORY, {
    url: (0, _escapeHtml2.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.from_category.name)
  }, true);

  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(MERGED_THREAD, {
    merged_thread: (0, _escapeHtml2.default)(props.post.event_context.merged_thread)
  }, true);

  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":259,"react":"react"}],75:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (props.posts.isLoaded) {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-ready' },
      props.posts.results.map(function (post) {
        return _react2.default.createElement(ListItem, _extends({ key: post.id, post: post }, props));
      })
    );
  } else {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-preview' },
      _react2.default.createElement(_preview2.default, null)
    );
  }
};

exports.ListItem = ListItem;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _event = require('./event');

var _event2 = _interopRequireDefault(_event);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _preview = require('./post/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ListItem(props) {
  if (props.post.is_event) {
    return _react2.default.createElement(_event2.default, props);
  } else {
    return _react2.default.createElement(_post2.default, props);
  }
}

},{"./event":72,"./post":87,"./post/preview":88,"react":"react"}],76:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.attachment === null) {
    return _react2.default.createElement(
      'td',
      { className: 'col-md-6' },
      ' '
    );
  }

  return _react2.default.createElement(
    'td',
    { className: 'col-md-6' },
    _react2.default.createElement(AttachmentPreview, props),
    _react2.default.createElement(
      'div',
      { className: 'post-attachment' },
      _react2.default.createElement(
        'a',
        { href: props.attachment.url.index, className: 'item-title' },
        props.attachment.filename
      ),
      _react2.default.createElement(AttachmentDetails, props)
    )
  );
};

exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentThumbnail, props)
    );
  } else {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentIcon, props)
    );
  }
}

function AttachmentIcon(props) {
  return _react2.default.createElement(
    'a',
    { href: props.attachment.url.index, className: 'material-icon' },
    'insert_drive_file'
  );
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return _react2.default.createElement('a', {
    className: 'post-thumbnail',
    href: props.attachment.url.index,
    style: { backgroundImage: 'url("' + (0, _escapeHtml2.default)(url) + '")' }
  });
}

function AttachmentDetails(props) {
  var user = null;
  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.attachment.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.attachment.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize2.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', {
    className: 'post-attachment-description',
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../..":191,"../../../../utils/escape-html":259,"../../../../utils/file-size":260,"react":"react"}],77:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return _react2.default.createElement(
    'table',
    { className: 'table post-attachments' },
    _react2.default.createElement(
      'tbody',
      null,
      (0, _batch2.default)(props.post.attachments, 2, null).map(function (row) {
        var key = row.map(function (a) {
          return a ? a.id : 0;
        }).join('_');
        return _react2.default.createElement(Row, { key: key, row: row });
      })
    )
  );
};

exports.isVisible = isVisible;
exports.Row = Row;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _batch = require('../../../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return _react2.default.createElement(
    'tr',
    { className: 'row' },
    props.row.map(function (attachment) {
      return _react2.default.createElement(_attachment2.default, {
        attachment: attachment,
        key: attachment ? attachment.id : 0
      });
    })
  );
}

},{"../../../../utils/batch":256,"./attachment":76,"react":"react"}],78:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return _react2.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */


var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Default(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body', post: props.post },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);

  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body panel-body-hidden', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post is hidden. You cannot not see its contents.")
    ),
    _react2.default.createElement('p', { className: 'text-muted', dangerouslySetInnerHTML: { __html: message } })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body panel-body-invalid', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../utils/escape-html":259,"../../misago-markup":43,"../waypoint":90,"react":"react"}],79:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

  var previousState = {
    is_unapproved: props.post.is_unapproved
  };

  patch(props, ops, previousState);
}

function protect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function unprotect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function hide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment2.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.absolute_url
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };

  patch(props, ops, previousState);
}

function unhide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

  var previousState = {
    is_hidden: props.post.is_hidden
  };

  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax2.default.patch(props.post.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  _store2.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax2.default.delete(props.post.api.index).then(function () {
    _snackbar2.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

},{"../../../../reducers/post":232,"../../../../services/ajax":242,"../../../../services/snackbar":252,"../../../../services/store":253,"moment":"moment"}],80:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Approve)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_approve && this.props.post.is_unapproved) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Approve")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component2) {
  _inherits(Move, _React$Component2);

  function Move() {
    var _Object$getPrototypeO2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Move);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO2 = Object.getPrototypeOf(Move)).call.apply(_Object$getPrototypeO2, [this].concat(args))), _this2), _this2.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this2.props));
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Move")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component3) {
  _inherits(Split, _React$Component3);

  function Split() {
    var _Object$getPrototypeO3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Split);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO3 = Object.getPrototypeOf(Split)).call.apply(_Object$getPrototypeO3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Split")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component4) {
  _inherits(Protect, _React$Component4);

  function Protect() {
    var _Object$getPrototypeO4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Protect);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_Object$getPrototypeO4 = Object.getPrototypeOf(Protect)).call.apply(_Object$getPrototypeO4, [this].concat(args))), _this4), _this4.onClick = function () {
      moderation.protect(_this4.props);
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_protect && !this.props.post.is_protected) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Protect")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component5) {
  _inherits(Unprotect, _React$Component5);

  function Unprotect() {
    var _Object$getPrototypeO5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Unprotect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_Object$getPrototypeO5 = Object.getPrototypeOf(Unprotect)).call.apply(_Object$getPrototypeO5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.unprotect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_protect && this.props.post.is_protected) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Remove protection")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component6) {
  _inherits(Hide, _React$Component6);

  function Hide() {
    var _Object$getPrototypeO6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Hide);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_Object$getPrototypeO6 = Object.getPrototypeOf(Hide)).call.apply(_Object$getPrototypeO6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.hide(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_hide && !this.props.post.is_hidden) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Hide")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component7) {
  _inherits(Unhide, _React$Component7);

  function Unhide() {
    var _Object$getPrototypeO7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Unhide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_Object$getPrototypeO7 = Object.getPrototypeOf(Unhide)).call.apply(_Object$getPrototypeO7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.unhide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_unhide && this.props.post.is_hidden) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Unhide")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component8) {
  _inherits(Delete, _React$Component8);

  function Delete() {
    var _Object$getPrototypeO8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Delete);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_Object$getPrototypeO8 = Object.getPrototypeOf(Delete)).call.apply(_Object$getPrototypeO8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.remove(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_delete) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Delete")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":248,"./actions":79,"./move":82,"./split":83,"react":"react"}],81:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'div',
      { className: 'pull-right dropdown' },
      _react2.default.createElement(
        'button',
        {
          'aria-expanded': 'true',
          'aria-haspopup': 'true',
          className: 'btn btn-default btn-icon dropdown-toggle',
          'data-toggle': 'dropdown',
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'expand_more'
        )
      ),
      _react2.default.createElement(_dropdown2.default, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
} /* jshint ignore:start */

},{"./dropdown":80,"react":"react"}],82:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move post to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move post")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '×'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move post")
    )
  );
}

},{"../../../../reducers/post":232,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"../../../button":4,"../../../form":40,"../../../form-group":39,"react":"react"}],83:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PostingConfig).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_URL')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(ModerationForm).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split post")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move this post at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '×'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split post into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":232,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"../../../../utils/validators":269,"../../../button":4,"../../../category-select":12,"../../../form":40,"../../../form-group":39,"../../../modal-loader":44,"../../../select":109,"react":"react"}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagHidden(props) {
  if (isVisible(props.post) && props.post.is_hidden) {
    return _react2.default.createElement(
      "div",
      { className: "post-status-message post-status-hidden" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "visibility_off"
      ),
      _react2.default.createElement(
        "p",
        null,
        gettext("This post is hidden. Only users with permission may see its contents.")
      )
    );
  } else {
    return null;
  }
} /* jshint ignore:start */


function FlagUnapproved(props) {
  if (isVisible(props.post) && props.post.is_unapproved) {
    return _react2.default.createElement(
      "div",
      { className: "post-status-message post-status-unapproved" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "remove_circle_outline"
      ),
      _react2.default.createElement(
        "p",
        null,
        gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")
      )
    );
  } else {
    return null;
  }
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],85:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Edit = exports.Reply = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post)) {
    return _react2.default.createElement(
      'div',
      { className: 'panel-footer post-footer' },
      _react2.default.createElement(Likes, props),
      _react2.default.createElement(Like, props),
      _react2.default.createElement(Reply, props),
      _react2.default.createElement(Edit, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;
exports.Likes = Likes;
exports.Like = Like;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes || post.acl.can_like);
}

function Likes(props) {
  if (props.post.acl.can_see_likes) {
    return _react2.default.createElement(
      'button',
      { type: 'button', className: 'btn btn-likes pull-left', disabled: 'disabled' },
      'Likes'
    );
  } else {
    return null;
  }
}

function Like(props) {
  if (props.post.acl.can_like) {
    return _react2.default.createElement(
      'button',
      { type: 'button', className: 'btn btn-like pull-left', disabled: 'disabled' },
      gettext("Like")
    );
  } else {
    return null;
  }
}

var Reply = exports.Reply = function (_React$Component) {
  _inherits(Reply, _React$Component);

  function Reply() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, Reply);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Reply)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index,

        context: {
          reply: _this.props.post.id
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Reply, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-primary pull-right', onClick: this.onClick },
          gettext("Reply")
        );
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _Object$getPrototypeO2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO2 = Object.getPrototypeOf(Edit)).call.apply(_Object$getPrototypeO2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        mode: 'EDIT',

        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-default pull-right', onClick: this.onClick },
          gettext("Edit")
        );
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react2.default.Component);

},{"../../../services/posting":251,"react":"react"}],86:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'panel-heading post-heading' },
    _react2.default.createElement(PosterStatus, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(PosterRank, props),
    _react2.default.createElement(PostedOn, props),
    _react2.default.createElement(_select2.default, props),
    _react2.default.createElement(_controls2.default, props),
    _react2.default.createElement(ProtectedLabel, props),
    _react2.default.createElement(UnreadLabel, props)
  );
};

exports.PosterStatus = PosterStatus;
exports.Poster = Poster;
exports.PosterRank = PosterRank;
exports.PostedOn = PostedOn;
exports.UnreadLabel = UnreadLabel;
exports.ProtectedLabel = ProtectedLabel;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../user-status');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function PosterStatus(props) {
  if (!props.post.poster) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    {
      className: (0, _userStatus.getStatusClassName)(props.post.poster.status),
      title: (0, _userStatus.getStatusDescription)(props.post.poster, props.post.poster.status)
    },
    _react2.default.createElement(_userStatus.StatusIcon, {
      status: props.post.poster.status,
      user: props.post.poster
    })
  );
} /* jshint ignore:start */


function Poster(props) {
  if (props.post.poster) {
    return _react2.default.createElement(
      'a',
      { className: 'item-title', href: props.post.poster.absolute_url },
      props.post.poster.username
    );
  } else {
    return _react2.default.createElement(
      'strong',
      { className: 'item-title' },
      props.post.poster_name
    );
  }
}

function PosterRank(props) {
  if (props.post.poster) {
    if (!props.post.poster.rank.is_default) {
      var rankClass = 'label-' + (props.post.poster.rank.css_class || 'default');

      if (props.post.poster.rank.is_tab) {
        return _react2.default.createElement(
          'a',
          { href: props.post.poster.rank.absolute_url, className: 'label ' + rankClass },
          props.post.poster.short_title
        );
      } else {
        return _react2.default.createElement(
          'span',
          { className: 'label ' + rankClass },
          props.post.poster.short_title
        );
      }
    } else {
      return null; // we don't display default ranks
    }
  } else {
      return _react2.default.createElement(
        'span',
        { className: 'rank-name item-title' },
        gettext("Unregistered")
      );
    }
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.format('LL, LT')
  }, true);

  var message = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.fromNow()
  }, true);

  return _react2.default.createElement(
    'a',
    { href: props.post.url.index, className: 'posted-on', title: tooltip },
    message
  );
}

function UnreadLabel(props) {
  if (!props.post.is_read) {
    return _react2.default.createElement(
      'span',
      { className: 'label label-warning pull-right' },
      gettext("New")
    );
  } else {
    return null;
  }
}

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return _react2.default.createElement(
    'span',
    {
      className: 'label label-default pull-right',
      title: gettext("This post is protected and may not be edited.")
    },
    gettext("Protected")
  );
}

},{"../../user-status":167,"./controls":81,"./select":89,"react":"react"}],87:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'post';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'post post-hidden';
  }

  if (!props.post.is_read) {
    className += ' post-new';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(PosterAvatar, { post: props.post })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(_header2.default, props),
          _react2.default.createElement(_flags.FlagHidden, props),
          _react2.default.createElement(_flags.FlagUnapproved, props),
          _react2.default.createElement(_body2.default, props),
          _react2.default.createElement(_attachments2.default, props),
          _react2.default.createElement(_footer2.default, props)
        )
      )
    )
  );
};

exports.PosterAvatar = PosterAvatar;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _body = require('./body');

var _body2 = _interopRequireDefault(_body);

var _flags = require('./flags');

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function PosterAvatar(props) {
  if (props.post.poster) {
    return _react2.default.createElement(
      'a',
      { href: props.post.poster.absolute_url },
      _react2.default.createElement(_avatar2.default, { size: 100, user: props.post.poster })
    );
  } else {
    return _react2.default.createElement(_avatar2.default, { size: 100 });
  }
}

},{"../../avatar":2,"./attachments":77,"./body":78,"./flags":84,"./footer":85,"./header":86,"react":"react"}],88:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'li',
    { 'class': 'post' },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(_avatar2.default, { size: '100' })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading post-heading' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              ' '
            ),
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              ' '
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                ' '
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                ' '
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                ' '
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/random":264,"../../avatar":2,"react":"react"}],89:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.isSelected) {
        _store2.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store2.default.dispatch(posts.select(_this.props.post));
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || (0, _controls.isVisible)(this.props.post.acl))) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { className: 'pull-right' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-icon',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.post.isSelected ? 'check_box' : 'check_box_outline_blank'
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/posts":233,"../../../services/store":253,"./controls":81,"react":"react"}],90:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.post.is_read) {
        return; // don't register read tracker
      }

      $('#post-' + this.props.post.id).waypoint({
        handler: function handler(direction) {
          if (direction !== 'down' || _this2.props.post.is_read) {
            return;
          }

          // after 1500ms flag post as read
          window.setTimeout(function () {
            _store2.default.dispatch(post.patch(_this2.props.post, {
              is_read: true
            }));

            _ajax2.default.post(_this2.props.post.api.read);
          }, 1000);
        },
        offset: 'bottom-in-view'
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: this.props.className },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/post":232,"../../services/ajax":242,"../../services/store":253,"react":"react"}],91:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

var _panelMessage = require('../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.update = function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,

        ban: ban
      });
    };

    _this.error = function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    };

    if (_index2.default.has('PROFILE_BAN')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_BAN'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api_url.ban);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'ban-details',
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('ban-details');
    }
  }, {
    key: 'getUserMessage',
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-user-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("User-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.user_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getStaffMessage',
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-staff-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("Team-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.staff_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: _title },
            message
          );
          /* jshint ignore:end */
        } else {
            return gettext("This ban has expired.");
          }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getPanelBody',
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            this.getUserMessage(),
            this.getStaffMessage(),
            _react2.default.createElement(
              'div',
              { className: 'panel-body ban-expires' },
              _react2.default.createElement(
                'h4',
                null,
                gettext("Ban expiration")
              ),
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getExpirationMessage()
              )
            )
          );
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_panelMessage2.default, { message: gettext("No ban is active at the moment.") })
            );
            /* jshint ignore:end */
          }
      } else if (this.state.error) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_panelMessage2.default, { icon: 'error_outline',
              message: this.state.error })
          );
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_panelLoader2.default, null)
            );
            /* jshint ignore:end */
          }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-ban-details' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Ban details")
            )
          ),
          this.getPanelBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":191,"../../services/page-title":249,"../../services/polls":250,"../panel-loader":57,"../panel-message":58,"moment":"moment","react":"react"}],92:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _profile = require('../../reducers/profile');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.action = function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax2.default.post(_this.props.profile.api_url.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store2.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + ' btn-default btn-following';
      } else {
        return this.props.className + ' btn-default btn-follow';
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return 'favorite';
      } else {
        return 'favorite_border';
      }
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        { className: this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.action },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/profile":234,"../../services/ajax":242,"../../services/snackbar":252,"../../services/store":253,"../button":4,"react":"react"}],93:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _search = require('../search');

var _search2 = _interopRequireDefault(_search);

var _root = require('../users-list/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    };

    _this.setSpecialProps();

    if (_index2.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_index2.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWERS';
      this.TITLE = gettext('Followers');
      this.API_FILTER = 'followers';
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadUsers();
    }
  }, {
    key: 'loadUsers',
    value: function loadUsers() {
      var _ajax$get,
          _this2 = this;

      var page = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];
      var search = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

      _ajax2.default.get(_index2.default.get('USERS_API'), (_ajax$get = {}, _defineProperty(_ajax$get, this.API_FILTER, this.props.profile.id), _defineProperty(_ajax$get, 'name', search), _defineProperty(_ajax$get, 'page', page || 1), _ajax$get), 'user-' + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy,
              onClick: this.loadMore },
            interpolate(gettext("Show more (%(more)s)"), {
              'more': this.state.more
            }, true)
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getListBody',
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.getEmptyMessage()
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
              users: this.props.users,
              showRank: true,
              cols: 2 }),
            this.getMoreButton()
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      return 'profile-' + this.API_FILTER;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_search2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        this.getListBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":191,"../../reducers/users":241,"../../services/ajax":242,"../../services/page-title":249,"../../services/snackbar":252,"../../services/store":253,"../button":4,"../search":108,"../users-list/root":174,"react":"react"}],94:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_Followers) {
  _inherits(_class, _Followers);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWS';
      this.TITLE = gettext('Follows');
      this.API_FILTER = 'follows';
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }]);

  return _class;
}(_followers2.default);

exports.default = _class;

},{"./followers":93,"react":"react"}],95:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'user-status-display' },
        _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.profile, status: this.props.profile.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.profile,
            status: this.props.profile.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.profile,
            status: this.props.profile.status,
            className: 'status-label' })
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUserRank',
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'a',
            { href: this.props.profile.rank.absolute_url, className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'user-rank' },
            _react2.default.createElement(
              'span',
              { className: 'item-title' },
              this.props.profile.rank.name
            )
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.profile.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.title
        );
        /* jshint ignore:end */
      } else if (this.props.profile.rank.title) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'user-title' },
            this.props.profile.rank.title
          );
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: 'getJoinedOn',
    value: function getJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'user-joined-on' },
        _react2.default.createElement(
          'abbr',
          { title: title },
          age
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getEmail',
    value: function getEmail() {
      if (this.props.profile.email) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-email' },
          _react2.default.createElement(
            'a',
            { href: 'mailto:' + this.props.profile.email, className: 'item-title' },
            this.props.profile.email
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, { className: 'btn btn-aligned hidden-xs hidden-sm',
          profile: this.props.profile });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'btn-group btn-aligned hidden-xs hidden-sm' },
          _react2.default.createElement(
            'button',
            { className: 'btn btn-default btn-moderate dropdown-toggle',
              type: 'button',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'tonality'
            ),
            gettext("Moderation")
          ),
          _react2.default.createElement(_nav2.default, { profile: this.props.profile })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page-header' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-9 col-md-offset-3' },
              _react2.default.createElement(
                'h1',
                { className: 'pull-left' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '100' }),
                _react2.default.createElement(
                  'span',
                  { className: 'user-name' },
                  this.props.profile.username
                )
              ),
              this.getFollowButton(),
              this.getModerationButton(),
              _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.props.toggleNav,
                dropdown: this.props.dropdown })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'header-stats' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-9 col-md-offset-3' },
                _react2.default.createElement(
                  'ul',
                  { className: 'list-inline' },
                  this.getUserStatus(),
                  this.getUserRank(),
                  this.getUserTitle(),
                  this.getJoinedOn(),
                  this.getEmail()
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":2,"../dropdown-toggle":18,"../user-status":167,"./follow-button":92,"./moderation/nav":99,"react":"react"}],96:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      is_avatar_locked: '',
      avatar_lock_user_message: '',
      avatar_lock_staff_message: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,

          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || '',
          avatar_lock_staff_message: options.avatar_lock_staff_message || ''
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      _snackbar2.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Lock avatar"),
              helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
              'for': 'id_is_avatar_locked' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_avatar_locked',
              disabled: this.state.isLoading,
              iconOn: 'lock_outline',
              iconOff: 'lock_open',
              labelOn: gettext("Disallow user from changing avatar"),
              labelOff: gettext("Allow user to change avatar"),
              onChange: this.bindInput('is_avatar_locked'),
              value: this.state.is_avatar_locked })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User message"),
              helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
              'for': 'id_avatar_lock_user_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_user_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_user_message'),
              value: this.state.avatar_lock_user_message })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Staff message"),
              helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
              'for': 'id_avatar_lock_staff_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_staff_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_staff_message'),
              value: this.state.avatar_lock_staff_message })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Save changes")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
          return this.getFormBody();
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_modalLoader2.default, null);
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Avatar controls")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/users":241,"../../../services/ajax":242,"../../../services/snackbar":252,"../../../services/store":253,"../../button":4,"../../form":40,"../../form-group":39,"../../modal-loader":44,"../../modal-message":45,"../../yes-no-switch":190,"react":"react"}],97:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      username: '',
      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(_index2.default.get('SETTINGS')), validators.usernameMaxLength(_index2.default.get('SETTINGS'))]
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ''
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar2.default.success(gettext("Username has been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New username"), 'for': 'id_username' },
            _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
              disabled: this.state.isLoading,
              onChange: this.bindInput('username'),
              value: this.state.username })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Change username")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
          return this.getFormBody();
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_modalLoader2.default, null);
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change username")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":191,"../../../reducers/username-history":240,"../../../reducers/users":241,"../../../services/ajax":242,"../../../services/snackbar":252,"../../../services/store":253,"../../../utils/validators":269,"../../button":4,"../../form":40,"../../form-group":39,"../../modal-loader":44,"../../modal-message":45,"react":"react"}],98:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.countdown = function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    };

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,

      countdown: 5,
      confirm: false,

      with_content: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'send',

    /* jshint ignore:end */

    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _polls2.default.stop('user-profile');

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            'username': this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            'username': this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: 'getButtonLabel',
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          'username': this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          'countdown': this.state.countdown
        }, true);
      }
    }
  }, {
    key: 'getForm',
    value: function getForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User content"),
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              'for': 'id_with_content' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_with_content',
              disabled: this.state.isLoading,
              labelOn: gettext("Delete together with user's account"),
              labelOff: gettext("Hide after deleting user's account"),
              onChange: this.bindInput('with_content'),
              value: this.state.with_content })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default',
              'data-dismiss': 'modal' },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-danger',
              loading: this.state.isLoading,
              disabled: !this.state.confirm },
            this.getButtonLabel()
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getDeletedBody',
    value: function getDeletedBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.state.isDeleted
          ),
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(
              'a',
              { href: _index2.default.get('USERS_LIST_URL') },
              gettext("Return to users list")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
          if (this.state.isDeleted) {
            return this.getDeletedBody();
          } else {
            return this.getForm();
          }
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_modalLoader2.default, null);
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Delete user account")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":191,"../../../services/ajax":242,"../../../services/polls":250,"../../button":4,"../../form":40,"../../form-group":39,"../../modal-loader":44,"../../modal-message":45,"../../yes-no-switch":190,"react":"react"}],99:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatarControls = require('./avatar-controls');

var _avatarControls2 = _interopRequireDefault(_avatarControls);

var _changeUsername = require('./change-username');

var _changeUsername2 = _interopRequireDefault(_changeUsername);

var _deleteAccount = require('./delete-account');

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.showAvatarDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_avatarControls2.default));
    }, _this.showRenameDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_changeUsername2.default));
    }, _this.showDeleteDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_deleteAccount2.default));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getAvatarButton',

    /* jshint ignore:end */

    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showAvatarDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Avatar controls")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }

    /* jshint ignore:start */

  }, {
    key: 'getRenameButton',

    /* jshint ignore:end */

    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showRenameDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'credit_card'
            ),
            gettext("Change username")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }

    /* jshint ignore:start */

  }, {
    key: 'getDeleteButton',

    /* jshint ignore:end */

    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showDeleteDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'clear'
            ),
            gettext("Delete account")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu dropdown-menu-right', role: 'menu' },
        this.getAvatarButton(),
        this.getRenameButton(),
        this.getDeleteButton(),
        _react2.default.createElement('li', { className: 'divider hidden-md hidden-lg' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons hidden-md hidden-lg' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default btn-block',
              onClick: this.props.toggleNav },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'menu'
            ),
            gettext("Menu")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../services/modal":248,"./avatar-controls":96,"./change-username":97,"./delete-account":98,"react":"react","react-redux":"react-redux"}],100:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line
// jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(SideNav).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'getMeta',
    value: function getMeta(meta) {
      if (meta) {
        // jshint ignore:start
        return _react2.default.createElement(
          'span',
          { className: 'badge' },
          this.props.profile[meta.attr]
        );
        // jshint ignore:end
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _reactRouter.Link,
            { to: _this2.props.baseUrl + page.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: page.component },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              page.icon
            ),
            page.name,
            _this2.getMeta(page.meta)
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_SideNav) {
  _inherits(CompactNav, _SideNav);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactNav).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'showSpecialOptions',
    value: function showSpecialOptions() {
      return this.props.profile.acl.can_follow || this.props.profile.acl.can_moderate;
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, { className: 'btn btn-block',
          profile: this.props.profile });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-default btn-block',
            onClick: this.props.toggleModeration },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'tonality'
          ),
          gettext("Moderation")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getSpecialOptions',
    value: function getSpecialOptions() {
      if (this.showSpecialOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          this.getFollowButton(),
          this.getModerationButton()
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        this.getSpecialOptions(),
        this.showSpecialOptions() ? _react2.default.createElement('li', { className: 'divider' }) : null,
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _li2.default,
            { path: _this4.props.baseUrl + page.component + '/',
              key: page.component },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _this4.props.baseUrl + page.component + '/',
                onClick: _this4.props.hideNav },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                page.icon
              ),
              page.name,
              _this4.getMeta(page.meta)
            )
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(SideNav);

},{"../../index":191,"../li":41,"./follow-button":92,"react":"react","react-router":"react-router"}],101:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _banDetails = require('./ban-details');

var _banDetails2 = _interopRequireDefault(_banDetails);

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

var _follows = require('./follows');

var _follows2 = _interopRequireDefault(_follows);

var _usernameHistory = require('./username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _navs = require('./navs');

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _profile.hydrate)(data));
    };

    _this.toggleNav = function () {
      if (_this.state.dropdown === 'pages') {
        _this.setState({
          dropdown: false
        });
      } else {
        _this.setState({
          dropdown: 'pages'
        });
      }
    };

    _this.toggleModeration = function () {
      if (_this.state.dropdown === 'moderation') {
        _this.setState({
          dropdown: false
        });
      } else {
        _this.setState({
          dropdown: 'moderation'
        });
      }
    };

    _this.startPolling(props.profile.api_url.root);
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'user-profile',
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getNavDropdown',

    /* jshint ignore:end */

    value: function getNavDropdown() {
      if (this.state.dropdown === 'pages') {
        /* jshint ignore:start */
        return _react2.default.createElement(_navs.CompactNav, { pages: _index2.default.get('PROFILE_PAGES'),
          baseUrl: _index2.default.get('PROFILE').absolute_url,
          profile: this.props.profile,
          toggleModeration: this.toggleModeration,
          hideNav: this.hideNav });
        /* jshint ignore:end */
      } else if (this.state.dropdown === 'moderation') {
          /* jshint ignore:start */
          return _react2.default.createElement(_nav2.default, { profile: this.props.profile,
            toggleNav: this.toggleNav,
            hideNav: this.hideNav });
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var baseClass = 'page page-user-profile';
      if (false && this.props.profile.rank.css_class) {
        return baseClass + ' page-user-profile-' + this.props.profile.rank.css_class;
      } else {
        return baseClass;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, { user: this.props.user,
          profile: this.props.profile,
          toggleNav: this.toggleNav,
          toggleModeration: this.toggleModeration }),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          this.getNavDropdown()
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(
                'div',
                { className: 'profile-side-avatar' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '400' })
              ),
              _react2.default.createElement(_navs.SideNav, { pages: _index2.default.get('PROFILE_PAGES'),
                baseUrl: _index2.default.get('PROFILE').absolute_url,
                profile: this.props.profile })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users,
    'profile': store.profile,
    'username-history': store['username-history']
  };
}

var Placeholder = function (_React$Component) {
  _inherits(Placeholder, _React$Component);

  function Placeholder() {
    _classCallCheck(this, Placeholder);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(Placeholder).apply(this, arguments));
  }

  _createClass(Placeholder, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'container' },
        _react2.default.createElement(
          'p',
          null,
          "Hello, I'm placeholder for " + this.props.route.name
        )
      );
      // jshint ignore:end
    }
  }]);

  return Placeholder;
}(_react2.default.Component);

var COMPONENTS = {
  'posts': Placeholder,
  'threads': Placeholder,
  'followers': _followers2.default,
  'follows': _follows2.default,
  'username-history': _usernameHistory2.default,
  'ban-details': _banDetails2.default
};

function paths() {
  var paths = [];

  _index2.default.get('PROFILE_PAGES').forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _index2.default.get('PROFILE').absolute_url + item.component + '/',
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../../index":191,"../../reducers/profile":234,"../../services/polls":250,"../../services/store":253,"../avatar":2,"../with-dropdown":189,"./ban-details":91,"./followers":93,"./follows":94,"./header":95,"./moderation/nav":99,"./navs":100,"./username-history":102,"react":"react","react-redux":"react-redux"}],102:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _search = require('../search');

var _search2 = _interopRequireDefault(_search);

var _root = require('../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    };

    if (_index2.default.has('PROFILE_NAME_HISTORY')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_NAME_HISTORY'));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadChanges();
    }
  }, {
    key: 'loadChanges',
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];
      var search = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

      _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, 'search-username-history').then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);

        return interpolate(message, {
          'changes': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          'changes': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'changes': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy,
              onClick: this.loadMore },
            interpolate(gettext("Show older (%(more)s)"), {
              'more': this.state.more
            }, true)
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-username-history' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_search2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          emptyMessage: this.getEmptyMessage(),
          changes: this.props['username-history'] }),
        this.getMoreButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":191,"../../reducers/username-history":240,"../../services/ajax":242,"../../services/page-title":249,"../../services/snackbar":252,"../../services/store":253,"../button":4,"../search":108,"../username-history/root":173,"react":"react"}],103:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

var _register = require('./register.js');

var _register2 = _interopRequireDefault(_register);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.showRegisterModal = function () {
      if (misago.get('SETTINGS').account_activation === 'closed') {
        _snackbar2.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal2.default.show(_register2.default);
      } else {
        _this.setState({
          'isLoading': true
        });

        Promise.all([_captcha2.default.load(), _zxcvbn2.default.load()]).then(function () {
          if (!_this.state.isLoaded) {
            _this.setState({
              'isLoading': false,
              'isLoaded': false
            });
          }

          _modal2.default.show(_register2.default);
        });
      }
    };

    _this.state = {
      'isLoading': false,
      'isLoaded': false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showRegisterModal,
          className: 'btn ' + this.getClassName(),
          disabled: this.state.isLoaded },
        gettext("Register"),
        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/captcha":244,"../services/modal":248,"../services/snackbar":252,"../services/zxcvbn":254,"./loader":42,"./register.js":104,"react":"react"}],104:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RegisterComplete = exports.RegisterForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _passwordStrength = require('./password-strength');

var _passwordStrength2 = _interopRequireDefault(_passwordStrength);

var _ = require('..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RegisterForm = exports.RegisterForm = function (_Form) {
  _inherits(RegisterForm, _Form);

  function RegisterForm(props) {
    _classCallCheck(this, RegisterForm);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RegisterForm).call(this, props));

    _this.state = {
      isLoading: false,

      username: '',
      email: '',
      password: '',
      captcha: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(_2.default.get('SETTINGS')), validators.usernameMaxLength(_2.default.get('SETTINGS'))],
        email: [validators.email()],
        password: [validators.passwordMinLength(_2.default.get('SETTINGS'))],
        captcha: _captcha2.default.validator()
      },

      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_2.default.get('USERS_API'), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getLegalFootNote',
    value: function getLegalFootNote() {
      if (_2.default.get('TERMS_OF_SERVICE_URL')) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: _2.default.get('TERMS_OF_SERVICE_URL'),
            target: '_blank' },
          gettext("By registering you agree to site's terms and conditions.")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-register', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Register")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, className: 'form-horizontal' },
            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Username"), 'for': 'id_username',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.username },
                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                  'aria-describedby': 'id_username_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('username'),
                  value: this.state.username })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("E-mail"), 'for': 'id_email',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.email },
                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',
                  'aria-describedby': 'id_email_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('email'),
                  value: this.state.email })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Password"), 'for': 'id_password',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.password,
                  extra: _react2.default.createElement(_passwordStrength2.default, { password: this.state.password,
                    inputs: [this.state.username, this.state.email] }) },
                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                  'aria-describedby': 'id_password_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('password'),
                  value: this.state.password })
              ),
              _captcha2.default.component({
                form: this,
                labelClass: "col-sm-4",
                controlClass: "col-sm-8"
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getLegalFootNote(),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Register account")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterForm;
}(_form2.default);

var RegisterComplete = exports.RegisterComplete = function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(RegisterComplete).apply(this, arguments));
  }

  _createClass(RegisterComplete, [{
    key: 'getLead',
    value: function getLead() {
      if (this.props.activation === 'user') {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === 'admin') {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: 'getSubscript',
    value: function getSubscript() {
      if (this.props.activation === 'user') {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === 'admin') {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-message modal-register',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Registration complete")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                interpolate(this.getLead(), { 'username': this.props.username }, true)
              ),
              _react2.default.createElement(
                'p',
                null,
                interpolate(this.getSubscript(), { 'email': this.props.email }, true)
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterComplete;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this3.completeRegistration = function (apiResponse) {
      if (apiResponse.activation === 'active') {
        _modal2.default.hide();
        _auth2.default.signIn(apiResponse);
      } else {
        _this3.setState({
          complete: apiResponse
        });
      }
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(RegisterComplete, { activation: this.state.complete.activation,
          username: this.state.complete.username,
          email: this.state.complete.email });
      } else {
        return _react2.default.createElement(RegisterForm, { callback: this.completeRegistration });
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"..":191,"../services/ajax":242,"../services/auth":243,"../services/captcha":244,"../services/modal":248,"../services/snackbar":252,"../utils/banned-page":255,"../utils/validators":269,"./button":4,"./form":40,"./form-group":39,"./password-strength":59,"react":"react"}],105:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LinkSent = exports.RequestLinkForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var RequestLinkForm = exports.RequestLinkForm = function (_Form) {
  _inherits(RequestLinkForm, _Form);

  function RequestLinkForm(props) {
    _classCallCheck(this, RequestLinkForm);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RequestLinkForm).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {
        _snackbar2.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestLinkForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(LinkSent).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this3.complete = function (apiResponse) {
      _this3.setState({
        complete: apiResponse
      });
    };

    _this3.reset = function () {
      _this3.setState({
        complete: false
      });
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":191,"../services/ajax":242,"../services/snackbar":252,"../utils/banned-page":255,"../utils/validators":269,"./button":4,"./form":40,"react":"react"}],106:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RequestResetForm = exports.RequestResetForm = function (_Form) {
  _inherits(RequestResetForm, _Form);

  function RequestResetForm(props) {
    _classCallCheck(this, RequestResetForm);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RequestResetForm).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestResetForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(LinkSent).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(AccountInactivePage).apply(this, arguments));
  }

  _createClass(AccountInactivePage, [{
    key: 'getActivateButton',
    value: function getActivateButton() {
      if (this.props.activation === 'inactive_user') {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },
            gettext("Activate your account.")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-info page-forgotten-password-inactive' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                gettext("Your account is inactive.")
              ),
              _react2.default.createElement(
                'p',
                null,
                this.props.message
              ),
              this.getActivateButton()
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return AccountInactivePage;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this4.complete = function (apiResponse) {
      _this4.setState({
        complete: apiResponse
      });
    };

    _this4.reset = function () {
      _this4.setState({
        complete: false
      });
    };

    _this4.state = {
      complete: false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'showInactivePage',
    value: function showInactivePage(apiResponse) {
      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, { activation: apiResponse.code,
        message: apiResponse.detail }), document.getElementById('page-mount'));
    }
    /* jshint ignore:end */

  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestResetForm, { callback: this.complete,
          showInactivePage: this.showInactivePage });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":191,"../services/ajax":242,"../services/snackbar":252,"../utils/banned-page":255,"../utils/validators":269,"./button":4,"./form":40,"react":"react","react-dom":"react-dom"}],107:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PasswordChangedPage = exports.ResetPasswordForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _signIn = require('./sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  function ResetPasswordForm(props) {
    _classCallCheck(this, ResetPasswordForm);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ResetPasswordForm).call(this, props));

    _this.state = {
      'isLoading': false,

      'password': '',

      'validators': {
        'password': [validators.passwordMinLength(_index2.default.get('SETTINGS'))]
      }
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        if (this.state.password.trim().length) {
          _snackbar2.default.error(this.state.errors.password[0]);
        } else {
          _snackbar2.default.error(gettext("Enter new password."));
        }
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-reset-password' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'password', className: 'form-control',
                placeholder: gettext("Enter new password"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Change password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ResetPasswordForm;
}(_form2.default);

var PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(PasswordChangedPage).apply(this, arguments));
  }

  _createClass(PasswordChangedPage, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: 'showSignIn',
    value: function showSignIn() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-success page-forgotten-password-changed' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'check'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getMessage()
              ),
              _react2.default.createElement(
                'p',
                null,
                gettext("You will have to sign in using new password before continuing.")
              ),
              _react2.default.createElement(
                'p',
                null,
                _react2.default.createElement(
                  'button',
                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },
                  gettext("Sign in")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return PasswordChangedPage;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this3, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {
      _auth2.default.softSignOut();

      // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));
    }, _temp), _possibleConstructorReturn(_this3, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":191,"../services/ajax":242,"../services/auth":243,"../services/modal":248,"../services/snackbar":252,"../utils/banned-page":255,"../utils/validators":269,"./button":4,"./form":40,"./sign-in.js":110,"react":"react","react-dom":"react-dom"}],108:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement("input", { type: "text",
          className: "form-control",
          value: this.props.value,
          onChange: this.props.onChange,
          placeholder: this.props.placeholder || gettext("Search...") }),
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "search"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],109:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.change = function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "btn-group btn-select-group" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-select dropdown-toggle",
            id: this.props.id || null,
            "data-toggle": "dropdown",
            "aria-haspopup": "true",
            "aria-expanded": "false",
            "aria-describedby": this.props['aria-describedby'] || null,
            disabled: this.props.disabled || false },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.getIcon()
          ),
          this.getLabel()
        ),
        _react2.default.createElement(
          "ul",
          { className: "dropdown-menu" },
          this.props.choices.map(function (item, i) {
            return _react2.default.createElement(
              "li",
              { key: i },
              _react2.default.createElement(
                "button",
                { type: "button", className: "btn-link",
                  onClick: _this3.change(item.value) },
                _react2.default.createElement(
                  "span",
                  { className: "material-icon" },
                  item.icon
                ),
                item.label
              )
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],110:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.state = {
      'isLoading': false,
      'showActivation': false,

      'username': '',
      'password': '',

      'validators': {
        'username': [],
        'password': []
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.isValid()) {
        _snackbar2.default.error(gettext("Fill out both fields."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('AUTH_API'), {
        'username': this.state.username,
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      var form = $('#hidden-login-form');

      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(_ajax2.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === 'inactive_admin') {
          _snackbar2.default.info(rejection.detail);
        } else if (rejection.code === 'inactive_user') {
          _snackbar2.default.info(rejection.detail);
          this.setState({
            'showActivation': true
          });
        } else if (rejection.code === 'banned') {
          (0, _bannedPage2.default)(rejection.detail);
          _modal2.default.hide();
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getActivationButton',
    value: function getActivationButton() {
      if (this.state.showActivation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: _index2.default.get('REQUEST_ACTIVATION_URL'),
            className: 'btn btn-success btn-block' },
          gettext("Activate account")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm modal-sign-in',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Sign in")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', { id: 'id_username', className: 'form-control', type: 'text',
                    disabled: this.state.isLoading,
                    placeholder: gettext("Username or e-mail"),
                    onChange: this.bindInput('username'),
                    value: this.state.username })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', { id: 'id_password', className: 'form-control', type: 'password',
                    disabled: this.state.isLoading,
                    placeholder: gettext("Password"),
                    onChange: this.bindInput('password'),
                    value: this.state.password })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getActivationButton(),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary btn-block',
                  loading: this.state.isLoading },
                gettext("Sign in")
              ),
              _react2.default.createElement(
                'a',
                { href: _index2.default.get('FORGOTTEN_PASSWORD_URL'),
                  className: 'btn btn-default btn-block' },
                gettext("Forgot password?")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../index":191,"../services/ajax":242,"../services/modal":248,"../services/snackbar":252,"../utils/banned-page":255,"./button":4,"./form":40,"react":"react"}],111:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
var TYPES_CLASSES = {
  'info': 'alert-info',
  'success': 'alert-success',
  'warning': 'alert-warning',
  'error': 'alert-danger'
};
/* jshint ignore:end */

var Snackbar = exports.Snackbar = function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(Snackbar).apply(this, arguments));
  }

  _createClass(Snackbar, [{
    key: 'getSnackbarClass',
    value: function getSnackbarClass() {
      var snackbarClass = 'alerts-snackbar';
      if (this.props.isVisible) {
        snackbarClass += ' in';
      } else {
        snackbarClass += ' out';
      }
      return snackbarClass;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getSnackbarClass() },
        _react2.default.createElement(
          'p',
          { className: 'alert ' + TYPES_CLASSES[this.props.type] },
          this.props.message
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Snackbar;
}(_react2.default.Component);

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],112:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Breadcrumb = Breadcrumb;

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "page-breadcrumbs" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ol",
        { className: "breadcrumb" },
        props.path.map(function (item) {
          return _react2.default.createElement(Breadcrumb, { key: item.id, node: item });
        })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:end */
function Breadcrumb(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.node.absolute_url },
      props.node.name
    )
  );
} /* jshint ignore:start */

},{"react":"react"}],113:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'page-header with-stats with-breadcrumbs' },
    _react2.default.createElement(_breadcrumbs2.default, { path: props.thread.path }),
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(_title2.default, { thread: props.thread, user: props.user }),
      _react2.default.createElement(Moderation, {
        posts: props.posts,
        thread: props.thread,
        user: props.user
      })
    ),
    _react2.default.createElement(_stats2.default, { thread: props.thread })
  );
};

exports.Moderation = Moderation;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _breadcrumbs = require('./breadcrumbs');

var _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);

var _thread = require('../moderation/thread');

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _title = require('./title');

var _title2 = _interopRequireDefault(_title);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Moderation(props) {
  if (props.user.id && (0, _thread.isModerationVisible)(props.thread)) {
    return _react2.default.createElement(
      'div',
      { className: 'btn-group pull-right' },
      _react2.default.createElement(
        'button',
        {
          'aria-expanded': 'false',
          'aria-haspopup': 'true',
          className: 'btn btn-default dropdown-toggle',
          'data-toggle': 'dropdown',
          disable: props.thread.isBusy,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'settings'
        ),
        gettext("Moderation")
      ),
      _react2.default.createElement(_thread.ModerationControls, {
        posts: props.posts,
        thread: props.thread,
        user: props.user
      })
    );
  } else {
    return null;
  }
}

},{"../moderation/thread":122,"./breadcrumbs":112,"./stats":114,"./title":115,"react":"react"}],114:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'header-stats' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'list-inline' },
        _react2.default.createElement(Weight, { thread: props.thread }),
        _react2.default.createElement(Unapproved, { thread: props.thread }),
        _react2.default.createElement(IsHidden, { thread: props.thread }),
        _react2.default.createElement(IsClosed, { thread: props.thread }),
        _react2.default.createElement(Replies, { thread: props.thread }),
        _react2.default.createElement(LastReply, { thread: props.thread })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */


var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-globally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned globally")
      )
    );
  } else if (props.thread.weight == 1) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-locally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark_border'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned locally")
      )
    );
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved")
      )
    );
  } else if (props.thread.has_unapproved_posts) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved-posts' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved posts")
      )
    );
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-hidden' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'visibility_off'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Hidden")
      )
    );
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-closed' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'lock_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Closed")
      )
    );
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, { 'replies': props.thread.replies }, true);

  return _react2.default.createElement(
    'li',
    { className: 'thread-replies' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'forum'
    ),
    _react2.default.createElement(
      'span',
      { className: 'icon-legend' },
      legend
    )
  );
}

/* jshint ignore:end */
function LastReply(props) {
  var user = null;
  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml2.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  };

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml2.default)(props.thread.last_post_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.thread.last_post_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date, user: user
  }, true);

  return _react2.default.createElement('li', { className: 'thread-last-reply', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":259,"react":"react"}],115:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _validators = require('../../posting/utils/validators');

var _thread = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onEdit = function () {
      _this.setState({
        isEditing: true
      });
    };

    _this.onCancel = function () {
      _this.setState({
        title: _this.props.thread.title,

        isEditing: false
      });
    };

    _this.state = {
      isEditing: false,
      isLoading: false,

      title: props.thread.title,

      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'title', value: this.state.title }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(thread.update(data));

      this.setState({
        'isEditing': false
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        console.log(rejection);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isEditing) {
        return _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit, className: 'pull-left title-edit-form' },
          _react2.default.createElement('input', { className: 'form-control', type: 'text', value: this.state.title, onChange: this.onChange }),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              disabled: this.state.isLoading,
              title: gettext("Change title")
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_circle'
            )
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              disabled: this.state.isLoading,
              onClick: this.onCancel,
              title: gettext("Cancel"),
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'cancel'
            )
          )
        );
      } else if (this.props.user.id && this.props.thread.acl.can_edit) {
        return _react2.default.createElement(
          'div',
          { className: 'pull-left title-editable' },
          _react2.default.createElement(
            'h1',
            null,
            this.props.thread.title
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-link',
              onClick: this.onEdit,
              title: gettext("Edit title"),
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'edit'
            )
          )
        );
      } else {
        return _react2.default.createElement(
          'div',
          { className: 'pull-left' },
          _react2.default.createElement(
            'h1',
            null,
            this.props.thread.title
          )
        );
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/thread":237,"../../../services/ajax":242,"../../../services/snackbar":252,"../../../services/store":253,"../../form":40,"../../posting/utils/validators":69,"react":"react"}],116:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_unapproved: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

    var previousState = {
      is_unapproved: selection.is_unapproved
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function protect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unprotect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function hide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: true,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(selection.url, {
        hidden_by: props.user.absolute_url
      })
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

    var previousState = {
      is_hidden: selection.is_hidden,
      hidden_on: selection.hidden_on,
      hidden_by_name: selection.hidden_by_name,
      url: selection.url
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unhide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

    var previousState = {
      is_hidden: selection.is_hidden
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function patch(selection, ops, previousState) {
  _ajax2.default.patch(selection.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(selection, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(selection, previousState));
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax2.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store2.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));

    _ajax2.default.delete(selection.api.index).then(function () {
      return;
    }, function (rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }

      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":232,"../../../../reducers/posts":233,"../../../../services/ajax":242,"../../../../services/snackbar":252,"../../../../services/store":253,"moment":"moment"}],117:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Merge, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Approve)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Approve")
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Merge = exports.Merge = function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  function Merge() {
    var _Object$getPrototypeO2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO2 = Object.getPrototypeOf(Merge)).call.apply(_Object$getPrototypeO2, [this].concat(args))), _this2), _this2.onClick = function () {
      moderation.merge(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Merge, [{
    key: 'render',
    value: function render() {
      if (this.props.selection.length < 2 || !this.props.thread.acl.can_merge_posts) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Merge")
        )
      );
    }
  }]);

  return Merge;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component3) {
  _inherits(Move, _React$Component3);

  function Move() {
    var _Object$getPrototypeO3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO3 = Object.getPrototypeOf(Move)).call.apply(_Object$getPrototypeO3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Move")
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component4) {
  _inherits(Split, _React$Component4);

  function Split() {
    var _Object$getPrototypeO4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_Object$getPrototypeO4 = Object.getPrototypeOf(Split)).call.apply(_Object$getPrototypeO4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this4.props));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Split")
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  function Protect() {
    var _Object$getPrototypeO5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_Object$getPrototypeO5 = Object.getPrototypeOf(Protect)).call.apply(_Object$getPrototypeO5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.protect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Protect")
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  function Unprotect() {
    var _Object$getPrototypeO6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_Object$getPrototypeO6 = Object.getPrototypeOf(Unprotect)).call.apply(_Object$getPrototypeO6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.unprotect(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unprotect")
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  function Hide() {
    var _Object$getPrototypeO7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_Object$getPrototypeO7 = Object.getPrototypeOf(Hide)).call.apply(_Object$getPrototypeO7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.hide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  function Unhide() {
    var _Object$getPrototypeO8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_Object$getPrototypeO8 = Object.getPrototypeOf(Unhide)).call.apply(_Object$getPrototypeO8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.unhide(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  function Delete() {
    var _Object$getPrototypeO9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_Object$getPrototypeO9 = Object.getPrototypeOf(Delete)).call.apply(_Object$getPrototypeO9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.remove(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":248,"./actions":116,"./move":119,"./split":120,"react":"react"}],118:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });

  return _react2.default.createElement(
    'div',
    { className: 'pull-right dropup' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default btn-icon dropdown-toggle',
        'data-toggle': 'dropdown',
        disabled: !selection.length,
        type: 'button'
      },
      gettext("Posts options")
    ),
    _react2.default.createElement(_dropdown2.default, _extends({ selection: selection }, props))
  );
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  }

  // slow test: show moderation if any of posts has moderation options
  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":117,"react":"react"}],119:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move posts to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move posts")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '×'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move posts")
    )
  );
}

},{"../../../../reducers/post":232,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"../../../button":4,"../../../form":40,"../../../form-group":39,"react":"react"}],120:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PostingConfig).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_URL')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(ModerationForm).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split posts")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move selected posts at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '×'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split posts into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":232,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"../../../../utils/validators":269,"../../../button":4,"../../../category-select":12,"../../../form":40,"../../../form-group":39,"../../../modal-loader":44,"../../../select":109,"react":"react"}],121:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      _store2.default.dispatch(thread.busy());

      // by the chance update thread acl too
      ops.push({ op: 'add', path: 'acl', value: true });

      _ajax2.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store2.default.dispatch(thread.update(data));
        _store2.default.dispatch(thread.release());
        _snackbar2.default.success(successMessage);
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Thread has been pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Thread has been pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Thread has been unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Thread has been approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Thread has been opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Thread has been closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Thread has been made visible."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Thread has been made hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    }, _this.merge = function () {
      _modal2.default.show(_react2.default.createElement(_merge2.default, { thread: _this.props.thread }));
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store2.default.dispatch(thread.busy());

      _ajax2.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar2.default.success(gettext("Thread has been deleted."));
        window.location = _this.props.thread.category.absolute_url;
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'getPinGloballyButton',
    value: function getPinGloballyButton() {
      if (this.props.thread.weight < 2 && this.props.thread.acl.can_pin == 2) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinGlobally },
            gettext("Pin globally")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.thread.weight !== 1 && this.props.thread.acl.can_pin > 0) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinLocally },
            gettext("Pin locally")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.thread.weight > 0 && this.props.thread.acl.can_pin > 0) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unpin },
            gettext("Unpin")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (this.props.thread.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.move },
            gettext("Move")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (this.props.thread.acl.can_merge) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.merge },
            gettext("Merge")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (this.props.thread.is_unapproved && this.props.thread.acl.can_approve) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.approve },
            gettext("Approve")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (this.props.thread.is_closed && this.props.thread.acl.can_close) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.open },
            gettext("Open")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (!this.props.thread.is_closed && this.props.thread.acl.can_close) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.close },
            gettext("Close")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (this.props.thread.is_hidden && this.props.thread.acl.can_hide) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unhide },
            gettext("Unhide")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (!this.props.thread.is_hidden && this.props.thread.acl.can_hide) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.hide },
            gettext("Hide")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.thread.acl.can_hide == 2) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.delete },
            gettext("Delete")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu' },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/thread":237,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"./merge":124,"./move":125,"react":"react"}],122:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isModerationVisible = exports.ModerationControls = undefined;

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _isVisible = require('./is-visible');

var _isVisible2 = _interopRequireDefault(_isVisible);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ModerationControls = _controls2.default;
exports.isModerationVisible = _isVisible2.default;

},{"./controls":121,"./is-visible":123}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (thread) {
  return thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_pin;
};

},{}],124:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.post(this.props.thread.api.merge, {
        thread_url: this.state.url
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Thread has been merged with other one."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to merge with"),
                  help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading || this.props.thread.isBusy,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                gettext("Merge thread")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '×'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Merge thread")
    )
  );
}
/* jshint ignore:end */

},{"../../../../reducers/thread":237,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"../../../form":40,"../../../form-group":39,"react":"react"}],125:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onCategoryChange = function (event) {
      _this.changeValue('category', event.target.value);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,

      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(_2.default.get('THREAD_EDITOR_URL')).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,

          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'category', value: this.state.category }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax2.default.get(this.props.thread.api.posts, { page: this.props.posts.page }).then(function (data) {
        _store2.default.dispatch(thread.replace(data));
        _store2.default.dispatch(posts.load(data.post_set));
        _store2.default.dispatch(thread.release());

        _snackbar2.default.success(gettext("Thread has been moved."));
        _modal2.default.hide();
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          'div',
          { className: 'modal-dialog', role: 'document' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-content' },
              _react2.default.createElement(ModalHeader, null),
              _react2.default.createElement(
                'div',
                { className: 'modal-body' },
                _react2.default.createElement(
                  _formGroup2.default,
                  { 'for': 'id_category', label: gettext("New category") },
                  _react2.default.createElement(_categorySelect2.default, {
                    choices: this.state.categories,
                    disabled: this.state.isLoading || this.props.thread.isBusy,
                    id: 'id_category',
                    onChange: this.onCategoryChange,
                    value: this.state.category
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'modal-footer' },
                _react2.default.createElement(
                  'button',
                  { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                  gettext("Move thread")
                )
              )
            )
          )
        );
      } else if (this.state.isError) {
        return _react2.default.createElement(ModalMessage, { message: this.state.isError });
      } else {
        return _react2.default.createElement(ModalLoading, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '×'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move thread")
    )
  );
}

function ModalLoading(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(_modalLoader2.default, null)
    )
  );
}

function ModalMessage(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog modal-message', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(
        'div',
        { className: 'message-icon' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'message-body' },
        _react2.default.createElement(
          'p',
          { className: 'lead' },
          gettext("You can't move this thread at the moment.")
        ),
        _react2.default.createElement(
          'p',
          null,
          props.message
        )
      )
    )
  );
}
/* jshint ignore:end */

},{"../../../..":191,"../../../../reducers/posts":233,"../../../../reducers/thread":237,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"../../../category-select":12,"../../../form":40,"../../../form-group":39,"../../../modal-loader":44,"react":"react"}],126:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'nav',
    { className: 'misago-pagination pull-left' },
    _react2.default.createElement(Pager, props),
    _react2.default.createElement(More, { more: props.posts.more })
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Pager(props) {
  if (props.posts.pages > 1) {
    return _react2.default.createElement(
      'ul',
      { className: 'pagination' },
      _react2.default.createElement(FirstPage, props),
      _react2.default.createElement(PreviousPage, props),
      _react2.default.createElement(NextPage, props),
      _react2.default.createElement(LastPage, props)
    );
  } else {
    return null;
  }
} // jshint ignore:line

/* jshint ignore:start */


function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index, title: gettext("Go to first page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'first_page'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to first page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'first_page'
        )
      )
    );
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = '';
    if (props.posts.previous) {
      previousUrl = props.posts.previous + '/';
    }

    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + previousUrl, title: gettext("Go to previous page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_left'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to previous page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_left'
        )
      )
    );
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = '';
    if (props.posts.next) {
      nextUrl = props.posts.next + '/';
    }

    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + nextUrl, title: gettext("Go to next page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_right'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to next page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_right'
        )
      )
    );
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + props.posts.last + '/', title: gettext("Go to last page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'last_page'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to last page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'last_page'
        )
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, { 'more': props.more }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return _react2.default.createElement(
    'p',
    null,
    message
  );
}

},{"react":"react","react-router":"react-router"}],127:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'button',
    {
      className: props.className || 'btn btn-success',
      onClick: props.onClick,
      type: 'button'
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chat'
    ),
    gettext("Reply")
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],128:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    'posts': store.posts,
    'thread': store.thread,
    'tick': store.tick.tick,
    'user': store.auth.user
  };
}

function paths() {
  var thread = _index2.default.get('THREAD');
  var basePath = thread.url.index.replace(thread.slug + '-' + thread.pk, ':slug');

  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }, {
    path: basePath + ':page/',
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }];
}

},{"../../index":191,"./route":129,"react-redux":"react-redux"}],129:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Reply = Reply;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _postsList = require('../posts-list');

var _postsList2 = _interopRequireDefault(_postsList);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _paginator = require('./paginator');

var _paginator2 = _interopRequireDefault(_paginator);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

var _toolbarTop = require('./toolbar-top');

var _toolbarTop2 = _interopRequireDefault(_toolbarTop);

var _posts = require('./moderation/posts');

var _posts2 = _interopRequireDefault(_posts);

var _posts3 = require('../../reducers/posts');

var posts = _interopRequireWildcard(_posts3);

var _thread = require('../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.update = function (data) {
      _store2.default.dispatch(thread.replace(data));
      _store2.default.dispatch(posts.load(data.post_set));

      _this.setPageTitle();
    }, _this.openReplyForm = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: 'shouldFetchData',
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: 'fetchData',
    value: function fetchData() {
      var _this2 = this;

      _store2.default.dispatch(posts.unload());

      _ajax2.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, 'posts').then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPollingApi',
    value: function startPollingApi() {
      _polls2.default.start({
        poll: 'thread-posts',

        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,

        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: 'stopPollingApi',
    value: function stopPollingApi() {
      _polls2.default.stop('thread-posts');
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      _pageTitle2.default.set({
        title: this.props.thread.title,
        page: (this.props.params.page || 1) * 1
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-thread' },
        _react2.default.createElement(_header2.default, this.props),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(_toolbarTop2.default, _extends({ openReplyForm: this.openReplyForm }, this.props)),
          _react2.default.createElement(_postsList2.default, this.props),
          _react2.default.createElement(
            'div',
            { className: 'toolbar-bottom' },
            _react2.default.createElement(_paginator2.default, this.props),
            _react2.default.createElement(Reply, { onClick: this.openReplyForm, thread: this.props.thread }),
            _react2.default.createElement(_subscription2.default, _extends({ className: 'toolbar-right dropup' }, this.props)),
            _react2.default.createElement(_posts2.default, this.props),
            _react2.default.createElement('div', { className: 'clear-fix' })
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Reply(props) {
  if (props.thread.acl.can_reply) {
    /* jshint ignore:start */
    return _react2.default.createElement(_replyButton2.default, {
      className: 'btn btn-success toolbar-right',
      onClick: props.onClick
    });
    /* jshint ignore:end */
  } else {
      return null;
    }
}

},{"../../reducers/posts":233,"../../reducers/thread":237,"../../services/ajax":242,"../../services/page-title":249,"../../services/polls":250,"../../services/posting":251,"../../services/snackbar":252,"../../services/store":253,"../posts-list":75,"./header":113,"./moderation/posts":118,"./paginator":126,"./reply-button":127,"./subscription":130,"./toolbar-top":131,"react":"react"}],130:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Email = exports.Enable = exports.Disable = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (!props.user.id) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        getIcon(props.thread.subscription)
      ),
      getLabel(props.thread.subscription)
    ),
    _react2.default.createElement(Dropdown, props)
  );
};

exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _thread = require('../../reducers/thread');

var actions = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function getIcon(subscription) {
  if (subscription === true) {
    return 'star';
  } else if (subscription === false) {
    return 'star_half';
  } else {
    return 'star_border';
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Disable, props),
    _react2.default.createElement(Enable, props),
    _react2.default.createElement(Email, props)
  );
}

var Disable = exports.Disable = function (_React$Component) {
  _inherits(Disable, _React$Component);

  function Disable() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Disable)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, 'unsubscribe');
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Disable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_border'
          ),
          gettext("Unsubscribe")
        )
      );
    }
  }]);

  return Disable;
}(_react2.default.Component);

var Enable = exports.Enable = function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  function Enable() {
    var _Object$getPrototypeO2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO2 = Object.getPrototypeOf(Enable)).call.apply(_Object$getPrototypeO2, [this].concat(args))), _this2), _this2.onClick = function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, 'notify');
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Enable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_half'
          ),
          gettext("Subscribe")
        )
      );
    }
  }]);

  return Enable;
}(_react2.default.Component);

var Email = exports.Email = function (_React$Component3) {
  _inherits(Email, _React$Component3);

  function Email() {
    var _Object$getPrototypeO3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO3 = Object.getPrototypeOf(Email)).call.apply(_Object$getPrototypeO3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, 'email');
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Email, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star'
          ),
          gettext("Subscribe with e-mail")
        )
      );
    }
  }]);

  return Email;
}(_react2.default.Component);

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store2.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'subscription', value: value }]).then(function (finalState) {
    _store2.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":237,"../../services/ajax":242,"../../services/snackbar":252,"../../services/store":253,"react":"react"}],131:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'toolbar' },
    _react2.default.createElement(
      'ul',
      { className: 'list-inline' },
      _react2.default.createElement(GotoNew, { thread: props.thread }),
      _react2.default.createElement(GotoUnapproved, { thread: props.thread }),
      _react2.default.createElement(GotoLast, { thread: props.thread }),
      _react2.default.createElement(Reply, { openReplyForm: props.openReplyForm, thread: props.thread }),
      _react2.default.createElement(SubscriptionMenu, props)
    )
  );
};

exports.GotoNew = GotoNew;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Reply = Reply;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function GotoNew(props) {
  if (props.thread.is_new) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        { href: props.thread.url.new_post, className: 'btn btn-default', title: gettext('Go to first new post') },
        gettext("New")
      )
    );
  } else {
    return null;
  }
}

function GotoUnapproved(props) {
  if (props.thread.has_unapproved_posts && props.thread.acl.can_approve) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        { href: props.thread.url.unapproved_post, className: 'btn btn-default', title: gettext('Go to first unapproved post') },
        gettext("Unapproved")
      )
    );
  } else {
    return null;
  }
}

function GotoLast(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      { href: props.thread.url.last_post, className: 'btn btn-default', title: gettext('Go to last post') },
      gettext("Last")
    )
  );
}

function SubscriptionMenu(props) {
  if (!props.user.id) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    { className: 'pull-right' },
    _react2.default.createElement(_subscription2.default, _extends({ className: 'dropdown toolbar-right' }, props))
  );
}

function Reply(props) {
  if (props.thread.acl.can_reply) {
    return _react2.default.createElement(
      'li',
      { className: 'pull-right' },
      _react2.default.createElement(_replyButton2.default, { onClick: props.openReplyForm })
    );
  } else {
    return null;
  }
}

},{"./reply-button":127,"./subscription":130,"react":"react"}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getMessage",
    value: function getMessage() {
      var label = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", this.props.diffSize);

      return interpolate(label, {
        threads: this.props.diffSize
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "li",
        { className: "list-group-item threads-diff-message" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-block btn-default",
            onClick: this.props.applyDiff },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "cached"
          ),
          _react2.default.createElement(
            "span",
            { className: "diff-message" },
            this.getMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],133:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(_diffMessage2.default, { diffSize: this.props.diffSize,
          applyDiff: this.props.applyDiff });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.children
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./diff-message":132,"react":"react"}],134:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _preview = require('../thread/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_preview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/preview":143,"react":"react"}],135:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

var _ready = require('../thread/ready');

var _ready2 = _interopRequireDefault(_ready);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(_diffMessage2.default, { diffSize: this.props.diffSize,
          applyDiff: this.props.applyDiff });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.threads.map(function (thread) {
            return _react2.default.createElement(_ready2.default, { categories: _this2.props.categories,
              thread: thread,
              list: _this2.props.list,

              showOptions: _this2.props.showOptions,
              isSelected: _this2.props.selection.indexOf(thread.id) >= 0,

              isBusy: _this2.props.busyThreads.indexOf(thread.id) >= 0,
              key: thread.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/ready":144,"./diff-message":132,"react":"react"}],136:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _empty = require('./list/empty');

var _empty2 = _interopRequireDefault(_empty);

var _ready = require('./list/ready');

var _ready2 = _interopRequireDefault(_ready);

var _preview = require('./list/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isLoaded) {
        if (this.props.threads.length > 0) {
          return _react2.default.createElement(_ready2.default, { threads: this.props.threads,
            categories: this.props.categories,
            list: this.props.list,

            diffSize: this.props.diffSize,
            applyDiff: this.props.applyDiff,

            showOptions: this.props.showOptions,
            selection: this.props.selection,

            busyThreads: this.props.busyThreads });
        } else {
          return _react2.default.createElement(
            _empty2.default,
            { diffSize: this.props.diffSize,
              applyDiff: this.props.applyDiff },
            this.props.children
          );
        }
      } else {
        return _react2.default.createElement(_preview2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list/empty":133,"./list/preview":134,"./list/ready":135,"react":"react"}],137:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUrl',
    value: function getUrl() {
      return this.props.category.absolute_url + this.props.list.path;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'thread-category thread-category-' + this.props.category.css_class;
      } else {
        return 'thread-category';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _reactRouter.Link,
        { to: this.getUrl(), className: this.getClassName() },
        this.props.category.name
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],138:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('../category');

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPath',
    value: function getPath() {
      var top = this.props.categories[this.props.thread.top_category];
      var bottom = this.props.categories[this.props.thread.category];

      if (top && bottom && top.id !== bottom.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: bottom, list: this.props.list })
        );
        /* jshint ignore:end */
      } else if (top) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'thread-path' },
            _react2.default.createElement(_category2.default, { category: top, list: this.props.list })
          );
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: 'getRepliesCount',
    value: function getRepliesCount() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'thread-replies-count' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'forum'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          this.props.thread.replies
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getLastReply',
    value: function getLastReply() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'thread-last-reply-clock' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'schedule'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          this.props.thread.last_post_on.fromNow()
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'thread-details-compact list-inline' },
        this.getPath(),
        this.getRepliesCount(),
        this.getLastReply()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../category":137,"react":"react"}],139:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('../category');

var _category2 = _interopRequireDefault(_category);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY_URL = '<a href="%(url)s" class="last-title" title="%(absolute)s">%(relative)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getNewLabel',
    value: function getNewLabel() {
      if (!this.props.thread.is_read) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-new-posts',
            title: gettext("Go to first unread post") },
          _react2.default.createElement(
            'a',
            { href: this.props.thread.url.new_post },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'comment'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              gettext("New posts")
            )
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getPinnedLabel',
    value: function getPinnedLabel() {
      if (this.props.thread.weight === 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-pinned-globally' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Pinned globally")
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.weight === 1) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'thread-pinned-locally' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'bookmark_border'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              gettext("Pinned locally")
            )
          );
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: 'getUnapprovedLabel',
    value: function getUnapprovedLabel() {
      if (this.props.thread.is_unapproved) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-unapproved' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Unapproved")
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.has_unapproved_posts) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'thread-unapproved-posts' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'remove_circle_outline'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              gettext("Unapproved posts")
            )
          );
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: 'getHiddenLabel',
    value: function getHiddenLabel() {
      if (this.props.thread.is_hidden) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-hidden' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Hidden")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getClosedLabel',
    value: function getClosedLabel() {
      if (this.props.thread.is_closed) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-closed' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Closed")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getPath',
    value: function getPath() {
      var top = this.props.categories[this.props.thread.top_category];
      var bottom = this.props.categories[this.props.thread.category];

      if (top && bottom && top.id !== bottom.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: top, list: this.props.list }),
          _react2.default.createElement(
            'span',
            { className: 'path-separator material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(_category2.default, { category: bottom, list: this.props.list })
        );
        /* jshint ignore:end */
      } else if (top) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'thread-path' },
            _react2.default.createElement(_category2.default, { category: top, list: this.props.list })
          );
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: 'getRepliesCount',
    value: function getRepliesCount() {
      /* jshint ignore:start */
      var message = ngettext("%(replies)s reply", "%(replies)s replies", this.props.thread.replies);

      return _react2.default.createElement(
        'li',
        { className: 'thread-replies' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'forum'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          interpolate(message, {
            replies: this.props.thread.replies
          }, true)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getLastReplyDate',
    value: function getLastReplyDate() {
      return interpolate(LAST_REPLY_URL, {
        url: (0, _escapeHtml2.default)(this.props.thread.url.last_post),
        absolute: (0, _escapeHtml2.default)(this.props.thread.last_post_on.format('LLL')),
        relative: (0, _escapeHtml2.default)(this.props.thread.last_post_on.fromNow())
      }, true);
    }
  }, {
    key: 'getLastPoster',
    value: function getLastPoster() {
      if (this.props.thread.url.last_poster) {
        return interpolate(LAST_POSTER_URL, {
          url: (0, _escapeHtml2.default)(this.props.thread.url.last_poster),
          user: (0, _escapeHtml2.default)(this.props.thread.last_poster_name)
        }, true);
      } else {
        return interpolate(LAST_POSTER_SPAN, {
          user: (0, _escapeHtml2.default)(this.props.thread.last_poster_name)
        }, true);
      }
    }
  }, {
    key: 'getLastReply',
    value: function getLastReply() {
      /* jshint ignore:start */
      return _react2.default.createElement('li', { className: 'thread-last-reply',
        dangerouslySetInnerHTML: { __html: interpolate((0, _escapeHtml2.default)(gettext("last reply by %(user)s %(date)s")), {
            date: this.getLastReplyDate(),
            user: this.getLastPoster()
          }, true) } });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'thread-details-full list-inline' },
        this.getNewLabel(),
        this.getPinnedLabel(),
        this.getUnapprovedLabel(),
        this.getHiddenLabel(),
        this.getClosedLabel(),
        this.getPath(),
        this.getRepliesCount(),
        this.getLastReply()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../utils/escape-html":259,"../category":137,"react":"react"}],140:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getPinnedIcon",
    value: function getPinnedIcon() {
      if (this.props.thread.weight === 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-pinned-globally" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark"
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.weight === 1) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            "span",
            { className: "thread-pinned-locally" },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "bookmark_border"
            )
          );
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: "getUnapprovedIcon",
    value: function getUnapprovedIcon() {
      if (this.props.thread.is_unapproved) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-unapproved" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "remove_circle"
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.has_unapproved_posts) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            "span",
            { className: "thread-unapproved-posts" },
            _react2.default.createElement(
              "span",
              { className: "material-icon" },
              "remove_circle_outline"
            )
          );
          /* jshint ignore:end */
        } else {
            return null;
          }
    }
  }, {
    key: "getHiddenIcon",
    value: function getHiddenIcon() {
      if (this.props.thread.is_hidden) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-hidden" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility_off"
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: "getClosedIcon",
    value: function getClosedIcon() {
      if (this.props.thread.is_closed) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-closed" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_outline"
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "thread-flags" },
        this.getPinnedIcon(),
        this.getUnapprovedIcon(),
        this.getHiddenIcon(),
        this.getClosedIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],141:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.is_read) {
        return 'read-status item-read';
      } else {
        return 'read-status item-new';
      }
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.thread.is_read) {
        return gettext("This thread has no new posts.");
      } else {
        return gettext("This thread has new posts.");
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.is_read) {
        return 'chat_bubble_outline';
      } else {
        return 'chat_bubble';
      }
    }
  }, {
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.thread.is_read) {
        return this.props.thread.url.last_post;
      } else {
        return this.props.thread.url.new_post;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'a',
        { className: this.getClassName(), href: this.getUrl(), title: this.getTitle() },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],142:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _compact = require('./subscription/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./subscription/full');

var _full2 = _interopRequireDefault(_full);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.toggleSelection = function () {
      _store2.default.dispatch(select.item(_this.props.thread.id));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getSelectToggle',

    /* jshint ignore:end */

    value: function getSelectToggle() {
      if (this.props.thread.moderation.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-default btn-checkbox',
              onClick: this.toggleSelection,
              disabled: this.props.disabled },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              this.props.isSelected ? 'check_box' : 'check_box_outline_blank'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              this.props.isSelected ? gettext("Selected") : gettext("Select")
            )
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'thread-options' },
        _react2.default.createElement(
          'ul',
          { className: 'list-inline' },
          this.getSelectToggle(),
          _react2.default.createElement(_full2.default, { thread: this.props.thread,
            disabled: this.props.disabled }),
          _react2.default.createElement(_compact2.default, { thread: this.props.thread,
            disabled: this.props.disabled })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":235,"../../../services/store":253,"./subscription/compact":145,"./subscription/full":146,"react":"react"}],143:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item thread-preview hidden-xs hidden-sm';
      } else {
        return 'list-group-item thread-preview';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'thread-icon' },
          _react2.default.createElement(
            'span',
            { className: 'read-status item-read' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'chat_bubble_outline'
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'thread-main' },
          _react2.default.createElement(
            'span',
            { className: 'item-title thread-title' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(60, 200) + "px" } },
              ' '
            )
          ),
          _react2.default.createElement(
            'ul',
            { className: 'thread-details-compact list-inline' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                ' '
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                ' '
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                ' '
              )
            )
          ),
          _react2.default.createElement(
            'ul',
            { className: 'thread-details-full list-inline' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(50, 150) + "px" } },
                ' '
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(50, 100) + "px" } },
                ' '
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(100, 250) + "px" } },
                ' '
              )
            )
          )
        ),
        _react2.default.createElement('div', { className: 'clearfix' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":264,"react":"react"}],144:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

var _compact = require('./details/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./details/full');

var _full2 = _interopRequireDefault(_full);

var _flags = require('./flags');

var _flags2 = _interopRequireDefault(_flags);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.isBusy) {
        /* jshint ignore:start */
        return _react2.default.createElement(_loader2.default, null);
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_icon2.default, { thread: this.props.thread });
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getOptions',
    value: function getOptions() {
      if (this.props.showOptions) {
        /* jshint ignore:start */
        return _react2.default.createElement(_options2.default, { thread: this.props.thread,
          disabled: this.props.isBusy,
          isSelected: this.props.isSelected });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var styles = ['list-group-item'];

      if (this.props.thread.is_read) {
        styles.push('thread-read');
      } else {
        styles.push('thread-new');
      }

      if (this.props.isBusy) {
        styles.push('thread-busy');
      } else if (this.props.isSelected) {
        styles.push('thread-selected');
      }

      if (this.props.showOptions) {
        if (this.props.thread.moderation.length) {
          styles.push('thread-ops-two');
        } else {
          styles.push('thread-ops-one');
        }
      }

      return styles.join(' ');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'thread-icon' },
          this.getIcon(),
          _react2.default.createElement(_flags2.default, { thread: this.props.thread })
        ),
        this.getOptions(),
        _react2.default.createElement(
          'div',
          { className: 'thread-main' },
          _react2.default.createElement(
            'a',
            { href: this.props.thread.url.index, className: 'item-title thread-title' },
            this.props.thread.title
          ),
          _react2.default.createElement(_full2.default, { categories: this.props.categories,
            list: this.props.list,
            thread: this.props.thread }),
          _react2.default.createElement(_compact2.default, { categories: this.props.categories,
            list: this.props.list,
            thread: this.props.thread })
        ),
        _react2.default.createElement('div', { className: 'clearfix' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../loader":42,"./details/compact":138,"./details/full":139,"./flags":140,"./icon":141,"./options":142,"react":"react"}],145:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _full = require('./full');

var _full2 = _interopRequireDefault(_full);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _modal3 = require('../../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_SubscriptionFull) {
  _inherits(_class, _SubscriptionFull);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.showOptions = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'hidden-md hidden-lg' },
        _react2.default.createElement(
          'button',
          { type: 'button',
            className: this.getClassName(),
            disabled: this.props.disabled,
            onClick: this.showOptions },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.getIcon()
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            this.getLegend()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_full2.default);

exports.default = _class;

},{"../../../../services/modal":248,"./full":146,"./modal":147,"react":"react"}],146:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return 'star';
      } else if (this.props.thread.subscription === false) {
        return 'star_half';
      } else {
        return 'star_border';
      }
    }
  }, {
    key: 'getLegend',
    value: function getLegend() {
      if (this.props.thread.subscription === true) {
        return gettext("E-mail");
      } else if (this.props.thread.subscription === false) {
        return gettext("Enabled");
      } else {
        return gettext("Disabled");
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-subscribe btn-subscribe-half dropdown-toggle";
      } else {
        return "btn btn-default btn-subscribe dropdown-toggle";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'hidden-xs hidden-sm' },
        _react2.default.createElement(
          'div',
          { className: 'btn-group' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: this.getClassName(),
              disabled: this.props.disabled,
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              this.getIcon()
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              this.getLegend()
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'dropdown-menu dropdown-menu-right',
            thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":148,"react":"react"}],147:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change subscription")
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'modal-menu', thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":148,"react":"react"}],148:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _threads = require('../../../../reducers/threads');

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var STATE_UPDATES = {
  'unsubscribe': null,
  'notify': false,
  'email': true
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.setSubscription = function (newState) {
      _modal2.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax2.default.patch(_this.props.thread.api.index, [{ op: 'replace', path: 'subscription', value: newState }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.unsubscribe = function () {
      _this.setSubscription('unsubscribe');
    };

    _this.notify = function () {
      _this.setSubscription('notify');
    };

    _this.email = function () {
      _this.setSubscription('email');
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.unsubscribe },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_border'
            ),
            gettext("Unsubscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.notify },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_half'
            ),
            gettext("Subscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.email },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star'
            ),
            gettext("Subscribe with e-mail")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/threads":238,"../../../../services/ajax":242,"../../../../services/modal":248,"../../../../services/snackbar":252,"../../../../services/store":253,"../../../button":4,"react":"react"}],149:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(Subcategory).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.absolute_url + this.props.listPath;
      } else {
        return this.props.category.absolute_url;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          _reactRouter.Link,
          { to: this.getUrl(), className: 'btn btn-link' },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'btn-group category-picker' },
        _react2.default.createElement(
          'button',
          { type: 'button',
            className: 'btn btn-default dropdown-toggle',
            'data-toggle': 'dropdown',
            'aria-haspopup': 'true',
            'aria-expanded': 'false' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'more_vert'
          ),
          gettext("Go to")
        ),
        _react2.default.createElement(
          'ul',
          { className: 'dropdown-menu categories-menu' },
          this.props.choices.map(function (id) {
            if (_this3.props.categories[id]) {
              return _react2.default.createElement(Subcategory, { category: _this3.props.categories[id],
                listPath: _this3.props.list.path,
                key: id });
            } else {
              return null;
            }
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],150:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;
function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],151:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.route.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.category.description.html })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getToolbarLabel',
    value: function getToolbarLabel() {
      if (this.props.isLoaded) {
        var label = null;
        if (this.props.route.list.path) {
          label = ngettext("%(threads)s thread found.", "%(threads)s threads found.", this.props.threadsCount);
        } else if (this.props.route.category.parent) {
          label = ngettext("There is %(threads)s thread in this category.", "There are %(threads)s threads in this category.", this.props.threadsCount);
        } else {
          label = ngettext("There is %(threads)s thread on our forums.", "There are %(threads)s threads on our forums.", this.props.threadsCount);
        }

        return interpolate(label, {
          threads: this.props.threadsCount
        }, true);
      } else {
        return gettext("Loading threads...");
      }
    }
  }, {
    key: 'getDisableToolbar',
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: 'getToolbar',
    value: function getToolbar() {
      if (this.props.subcategories.length || this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _toolbar2.default,
          { subcategories: this.props.subcategories,
            categories: this.props.route.categories,
            categoriesMap: this.props.route.categoriesMap,
            list: this.props.route.list,

            threads: this.props.threads,
            moderation: this.props.moderation,
            selection: this.props.selection,
            selectAllThreads: this.props.selectAllThreads,
            selectNoneThreads: this.props.selectNoneThreads,

            addThreads: this.props.addThreads,
            freezeThread: this.props.freezeThread,
            deleteThread: this.props.deleteThread,
            updateThread: this.props.updateThread,

            route: this.props.route,
            disabled: this.getDisableToolbar(),
            user: this.props.user },
          this.getToolbarLabel()
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'container' },
        this.getCategoryDescription(),
        this.getToolbar(),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../page-lead":56,"./toolbar":162,"react":"react"}],152:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.markAsRead = function () {
      _this.setState({
        isBusy: true
      });

      _ajax2.default.post(_this.props.route.category.api_url.read).then(function () {
        _store2.default.dispatch((0, _threads.read)(_this.props.route.categoriesMap, _this.props.route.category));

        _this.setState({
          isBusy: false
        });

        _snackbar2.default.success(gettext("Threads have been marked as read."));
      }, function (rejection) {
        _this.setState({
          isBusy: false
        });

        _snackbar2.default.apiError(rejection);
      });
    };

    _this.startThread = function () {
      _posting2.default.open({
        mode: 'START',

        config: _2.default.get('THREAD_EDITOR_API'),
        submit: _2.default.get('THREADS_API'),

        category: _this.props.route.category.id
      });
    };

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getGoBackButton',

    /* jshint ignore:end */

    value: function getGoBackButton() {
      if (this.props.route.category.parent) {
        /* jshint ignore:start */
        var parent = this.props.categories[this.props.route.category.parent];

        return _react2.default.createElement(
          _reactRouter.Link,
          { className: 'btn btn-default btn-aligned btn-icon btn-go-back pull-left',
            to: parent.absolute_url + this.props.route.list.path },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'keyboard_arrow_left'
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getStartThreadButton',
    value: function getStartThreadButton() {
      if (this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { className: 'btn btn-success btn-aligned hidden-xs hidden-sm',
            onClick: this.startThread,
            disabled: this.props.disabled },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'chat'
          ),
          gettext("Start thread")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getMarkAsReadButton',
    value: function getMarkAsReadButton() {
      if (this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { className: 'btn btn-default btn-aligned hidden-xs hidden-sm',
            onClick: this.markAsRead,
            loading: this.state.isBusy,
            disabled: this.props.disabled },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'playlist_add_check'
          ),
          gettext("Mark as read")
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getCompactNavToggle',
    value: function getCompactNavToggle() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.props.toggleNav,
          dropdown: this.props.dropdown });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getTabsNav',
    value: function getTabsNav() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_navs.TabsNav, { baseUrl: this.props.route.category.absolute_url,
          list: this.props.route.list,
          lists: this.props.route.lists });
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.lists.length > 1) {
        return 'page-header tabbed';
      } else {
        return 'page-header';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getGoBackButton(),
          _react2.default.createElement(
            'h1',
            { className: 'pull-left' },
            this.props.title
          ),
          this.getStartThreadButton(),
          this.getMarkAsReadButton(),
          this.getCompactNavToggle()
        ),
        this.getTabsNav()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":191,"../../reducers/threads":238,"../../services/ajax":242,"../../services/posting":251,"../../services/snackbar":252,"../../services/store":253,"../button":4,"../dropdown-toggle":18,"./navs":159,"react":"react","react-router":"react-router"}],153:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.list.type === 'all') {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'list-group-item empty-message' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("Why not start one yourself?")
          )
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'list-group-item empty-message' },
            gettext("No threads matching specified criteria were found.")
          );
          /* jshint ignore:end */
        }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],154:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _countdown = require('../../../utils/countdown');

var _countdown2 = _interopRequireDefault(_countdown);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      var onSuccess = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

      var errors = [];
      var countdown = new _countdown2.default(function () {
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(successMessage);
          if (onSuccess) {
            onSuccess();
          }
        }
      }, _this.props.threads.length);

      // update thread acl together with its state
      ops.push({ op: 'add', path: 'acl', value: true });

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.patch(thread.api.index, ops).then(function (data) {
          _this.props.updateThread(data);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Selected threads were pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Selected threads were pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Selected threads were unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Selected threads were approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Selected threads were opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Selected threads were closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Selected threads were unhidden."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Selected threads were hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, { callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user }));
    }, _this.merge = function () {
      var errors = [];
      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            'id': thread.id,
            'title': thread.title,
            'errors': [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar2.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        return;
      } else {
        _modal2.default.show(_react2.default.createElement(_merge2.default, _this.props));
      }
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      var errors = [];
      var countdown = new _countdown2.default(function () {
        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(gettext("Selected threads were deleted."));
        }

        // unfreeze non-deleted threads
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // reduce selection to non-deleted threads
        _store2.default.dispatch(select.all(_this.props.threads.map(function (item) {
          return item.id;
        })));
      }, _this.props.threads.length);

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.delete(thread.api.index).then(function (data) {
          _this.props.freezeThread(thread.id);
          _this.props.deleteThread(thread);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getPinGloballyButton',

    /* jshint ignore:end */

    value: function getPinGloballyButton() {
      if (this.props.moderation.can_pin == 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinGlobally },
            gettext("Pin threads globally")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.moderation.can_pin > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinLocally },
            gettext("Pin threads locally")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.moderation.can_pin > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unpin },
            gettext("Unpin threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (this.props.moderation.can_move) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.move },
            gettext("Move threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (this.props.moderation.can_merge) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.merge },
            gettext("Merge threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (this.props.moderation.can_approve) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.approve },
            gettext("Approve threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (this.props.moderation.can_close) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.open },
            gettext("Open threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (this.props.moderation.can_close) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.close },
            gettext("Close threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (this.props.moderation.can_hide) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unhide },
            gettext("Unhide threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (this.props.moderation.can_hide) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.hide },
            gettext("Hide threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.moderation.can_hide == 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.delete },
            gettext("Delete threads")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":235,"../../../services/ajax":242,"../../../services/modal":248,"../../../services/snackbar":252,"../../../services/store":253,"../../../utils/countdown":258,"./errors-list":155,"./merge":156,"./move":157,"react":"react"}],155:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ThreadErrors = ThreadErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
function ThreadErrors(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      props.thread.title
    ),
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled list-item-errors" },
      props.errors.map(function (item, i) {
        return _react2.default.createElement(
          "li",
          { key: i },
          item
        );
      })
    )
  );
}
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog",
          role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              { type: "button", className: "close", "data-dismiss": "modal",
                "aria-label": gettext("Close") },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "×"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              gettext("Threads moderation")
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              gettext("Errors were encountered when performing moderation action on one or more threads:")
            ),
            _react2.default.createElement(
              "ul",
              { className: "list-unstyled list-errored-items" },
              this.props.errors.map(function (item) {
                return _react2.default.createElement(ThreadErrors, {
                  errors: item.errors,
                  key: item.thread.id,
                  thread: item.thread
                });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],156:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _select = require('../../select');

var _select2 = _interopRequireDefault(_select);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../../reducers/threads');

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    };

    _this.state = {
      isLoading: false,

      title: '',
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this.acl = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });

    _this.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('MERGE_THREADS_API'), {
        top_category: this.props.route.category.id,
        threads: this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      var _this2 = this;

      // unfreeze and remove merged threads
      this.props.threads.forEach(function (thread) {
        _this2.props.freezeThread(thread.id);
        _this2.props.deleteThread(thread);
      });

      // deselect all threads
      _store2.default.dispatch(select.none());

      // append merged thread, filter threads
      this.props.addThreads([apiResponse]);
      _store2.default.dispatch((0, _threads.filterThreads)(this.props.route.category, this.props.categoriesMap));

      // hide modal
      _modal2.default.hide();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        /* jshint ignore:start */
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
        /* jshint ignore:end */
      } else {
          _snackbar2.default.apiError(rejection);
        }
    }

    /* jshint ignore:start */

  }, {
    key: 'getWeightChoices',

    /* jshint ignore:end */

    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Thread title"),
              'for': 'id_title',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              validation: this.state.errors.title },
            _react2.default.createElement('input', { id: 'id_title',
              className: 'form-control',
              type: 'text',
              onChange: this.bindInput('title'),
              value: this.state.title })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Category"),
              'for': 'id_category',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              validation: this.state.errors.category },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
              onChange: this.onCategoryChange,
              value: this.state.category,
              choices: this.categoryChoices })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          this.renderWeightField(),
          this.renderHiddenField(),
          this.renderClosedField()
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Merge threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMergeMessage',
    value: function renderCantMergeMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to merge threads to it.")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMergeMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":191,"../../../reducers/selection":235,"../../../reducers/threads":238,"../../../services/ajax":242,"../../../services/modal":248,"../../../services/snackbar":252,"../../../services/store":253,"../../../utils/validators":269,"../../button":4,"../../category-select":12,"../../form":40,"../../form-group":39,"../../select":109,"./errors-list":155,"react":"react"}],157:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../../reducers/threads');

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal2.default.hide();

      var onSuccess = function onSuccess() {
        _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

        // deselect threads moved outside of visible scope
        var storeState = _store2.default.getState();
        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });
        _store2.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{ op: 'replace', path: 'category', value: _this.state.category }, { op: 'add', path: 'top-category', value: _this.props.route.category.id }, { op: 'replace', path: 'flatten-categories', value: null }, { op: 'add', path: 'acl', value: true }], gettext("Selected threads were moved."), onSuccess);
    };

    _this.state = {
      category: null
    };

    var acls = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New category"),
              'for': 'id_new_category',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_new_category',
              onChange: this.bindInput('category'),
              value: this.state.category,
              choices: this.categoryChoices })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { className: 'btn btn-primary' },
            gettext("Move threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMoveMessage',
    value: function renderCantMoveMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to move threads to it.")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '×'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Move threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMoveMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/selection":235,"../../../reducers/threads":238,"../../../services/modal":248,"../../../services/store":253,"../../category-select":12,"../../form":40,"../../form-group":39,"react":"react"}],158:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.selectAll = function () {
      _store2.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    }, _this.selectNone = function () {
      _store2.default.dispatch(select.none());
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-link',
              type: 'button',
              onClick: this.selectAll },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box'
            ),
            gettext("Select all")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-link',
              type: 'button',
              onClick: this.selectNone },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box_outline_blank'
            ),
            gettext("Select none")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":235,"../../../services/store":253,"react":"react"}],159:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.TabsNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


//jshint ignore:line

// jshint ignore:start
var navLinks = function navLinks(baseUrl, active, lists, hideNav) {
  return lists.map(function (list) {
    return _react2.default.createElement(
      _li2.default,
      { isControlled: true,
        isActive: list.path === active.path,
        key: baseUrl + list.path },
      _react2.default.createElement(
        _reactRouter.Link,
        { to: baseUrl + list.path, onClick: hideNav },
        _react2.default.createElement(
          'span',
          { className: 'hidden-xs hidden-sm' },
          list.name
        ),
        _react2.default.createElement(
          'span',
          { className: 'hidden-md hidden-lg' },
          list.longName
        )
      )
    );
  });
};
// jshint ignore:end

var TabsNav = exports.TabsNav = function (_React$Component) {
  _inherits(TabsNav, _React$Component);

  function TabsNav() {
    _classCallCheck(this, TabsNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(TabsNav).apply(this, arguments));
  }

  _createClass(TabsNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'page-tabs hidden-xs hidden-sm' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'ul',
            { className: 'nav nav-pills' },
            navLinks(this.props.baseUrl, this.props.list, this.props.lists, this.props.hideNav)
          )
        )
      );
      // jshint ignore:end
    }
  }]);

  return TabsNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactNav).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        navLinks(this.props.baseUrl, this.props.list, this.props.lists, this.props.hideNav)
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../li":41,"react":"react","react-router":"react-router"}],160:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    'selection': store.selection,
    'threads': store.threads,
    'tick': store.tick.tick,
    'user': store.auth.user
  };
}

function getLists(user) {
  var lists = [{
    type: 'all',
    path: '',
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: 'my',
      path: 'my/',
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: 'new',
      path: 'new/',
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: 'unread',
      path: 'unread/',
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: 'subscribed',
      path: 'subscribed/',
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: 'unapproved',
        path: 'unapproved/',
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _index2.default.get('CATEGORIES').forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;

      routes.push({
        path: category.absolute_url + list.path,
        component: (0, _reactRedux.connect)(select)(_route2.default),

        categories: _index2.default.get('CATEGORIES'),
        categoriesMap: categoriesMap,
        category: category,

        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../../index":191,"./route":161,"react-redux":"react-redux"}],161:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _compare = require('./compare');

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _navs = require('./navs');

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _utils = require('./utils');

var _root = require('../threads-list/root');

var _root2 = _interopRequireDefault(_root);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _sets = require('../../utils/sets');

var sets = _interopRequireWildcard(_sets);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.page + 1);
    };

    _this.pollResponse = function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    };

    _this.addThreads = function (threads) {
      _store2.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    };

    _this.applyDiff = function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

        diff: {
          results: []
        }
      }));
    };

    _this.freezeThread = function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    };

    _this.updateThread = function (thread) {
      _store2.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    };

    _this.deleteThread = function (thread) {
      _store2.default.dispatch((0, _threads.deleteThread)(thread));
    };

    _this.state = {
      isMounted: true,

      isLoaded: false,
      isBusy: false,

      diff: {
        results: []
      },

      moderation: [],
      busyThreads: [],

      dropdown: false,
      subcategories: [],

      count: 0,
      more: 0,

      page: 1,
      pages: 1
    };

    var category = _this.getCategory();

    if (_index2.default.has('THREADS')) {
      _this.initWithPreloadedData(category, _index2.default.get('THREADS'));
    } else {
      _this.initWithoutPreloadedData(category);
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'getCategory',
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),

        subcategories: data.subcategories,

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      });

      this.startPolling(category);
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: 'loadThreads',
    value: function loadThreads(category) {
      var _this2 = this;

      var page = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];

      _ajax2.default.get(_index2.default.get('THREADS_API'), {
        category: category,
        list: this.props.route.list.type,
        page: page || 1
      }, 'threads').then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (page === 1) {
          _store2.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

          subcategories: data.subcategories,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPolling',
    value: function startPolling(category) {
      _polls2.default.start({
        poll: 'threads',
        url: _index2.default.get('THREADS_API'),
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setPageTitle();

      if (_index2.default.has('THREADS')) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store2.default.dispatch((0, _threads.hydrate)(_index2.default.pop('THREADS').results));

        this.setState({
          isLoaded: true
        });
      }

      _store2.default.dispatch(select.none());
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.state.isMounted = false;
      _polls2.default.stop('threads');
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      if (this.props.route.category.level || !_index2.default.get('THREADS_ON_INDEX')) {
        _pageTitle2.default.set((0, _utils.getPageTitle)(this.props.route));
      } else {
        if (_index2.default.get('SETTINGS').forum_index_title) {
          document.title = _index2.default.get('SETTINGS').forum_index_title;
        } else {
          document.title = _index2.default.get('SETTINGS').forum_name;
        }
      }
    }
  }, {
    key: 'getSorting',
    value: function getSorting() {
      if (this.props.route.category.special_role) {
        return _compare.compareGlobalWeight;
      } else {
        return _compare.compareWeight;
      }
    }

    /* jshint ignore:start */

    // AJAX

    // Thread state utils

  }, {
    key: 'getCompactNav',

    /* jshint ignore:end */

    value: function getCompactNav() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { baseUrl: this.props.route.category.absolute_url,
            list: this.props.route.list,
            lists: this.props.route.lists,
            hideNav: this.hideNav })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy || this.state.busyThreads.length,
              onClick: this.loadMore },
            gettext("Show more")
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'page page-threads';
      className += ' page-threads-' + this.props.route.list;
      if (this.props.route.category.css_class) {
        className += ' page-' + this.props.route.category.css_class;
      }
      return className;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, { categories: this.props.route.categoriesMap,
          disabled: !this.state.isLoaded,
          threads: this.props.threads,
          title: this.getTitle(),
          toggleNav: this.toggleNav,
          route: this.props.route,
          user: this.props.user }),
        this.getCompactNav(),
        _react2.default.createElement(
          _container2.default,
          { route: this.props.route,
            subcategories: this.state.subcategories,
            user: this.props.user,

            threads: this.props.threads,
            threadsCount: this.state.count,

            moderation: this.state.moderation,
            selection: this.props.selection,

            busyThreads: this.state.busyThreads,
            addThreads: this.addThreads,
            freezeThread: this.freezeThread,
            deleteThread: this.deleteThread,
            updateThread: this.updateThread,

            isLoaded: this.state.isLoaded,
            isBusy: this.state.isBusy },
          _react2.default.createElement(
            _root2.default,
            { categories: this.props.route.categoriesMap,
              list: this.props.route.list,
              selection: this.props.selection,
              threads: this.props.threads,

              diffSize: this.state.diff.results.length,
              applyDiff: this.applyDiff,

              showOptions: !!this.props.user.id,

              isLoaded: this.state.isLoaded,
              busyThreads: this.state.busyThreads },
            _react2.default.createElement(_listEmpty2.default, { category: this.props.route.category,
              list: this.props.route.list })
          ),
          this.getMoreButton()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;

},{"../../index":191,"../../reducers/selection":235,"../../reducers/threads":238,"../../services/ajax":242,"../../services/page-title":249,"../../services/polls":250,"../../services/snackbar":252,"../../services/store":253,"../../utils/sets":267,"../button":4,"../threads-list/root":136,"../with-dropdown":189,"./compare":150,"./container":151,"./header":152,"./list-empty":153,"./navs":159,"./utils":163,"react":"react"}],162:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categoryPicker = require('./category-picker');

var _categoryPicker2 = _interopRequireDefault(_categoryPicker);

var _controls = require('./moderation/controls');

var _controls2 = _interopRequireDefault(_controls);

var _selection = require('./moderation/selection');

var _selection2 = _interopRequireDefault(_selection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryPicker',
    value: function getCategoryPicker() {
      if (this.props.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-left' },
          _react2.default.createElement(_categoryPicker2.default, { choices: this.props.subcategories,
            categories: this.props.categoriesMap,
            list: this.props.list })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'showModerationOptions',
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: 'getSelectionButton',
    value: function getSelectionButton() {
      if (this.showModerationOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-right dropdown' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default btn-icon dropdown-toggle',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false',
              disabled: this.props.disabled },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'select_all'
            )
          ),
          _react2.default.createElement(_selection2.default, { className: 'dropdown-menu dropdown-menu-right',
            threads: this.props.threads })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getSelectedThreads',
    value: function getSelectedThreads() {
      var _this2 = this;

      return this.props.threads.filter(function (thread) {
        return _this2.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.showModerationOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-right dropdown' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default dropdown-toggle',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false',
              disabled: this.props.disabled || !this.props.selection.length },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'settings'
            ),
            gettext("Moderation")
          ),
          _react2.default.createElement(_controls2.default, {
            addThreads: this.props.addThreads,
            categories: this.props.categories,
            categoriesMap: this.props.categoriesMap,
            className: 'dropdown-menu dropdown-menu-right',
            deleteThread: this.props.deleteThread,
            freezeThread: this.props.freezeThread,
            moderation: this.props.moderation,
            route: this.props.route,
            threads: this.getSelectedThreads(),
            updateThread: this.props.updateThread,
            user: this.props.user
          })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'toolbar with-js' },
        this.getCategoryPicker(),
        _react2.default.createElement(
          'p',
          { className: 'toolbar-left hidden-xs hidden-sm' },
          this.props.children
        ),
        this.getSelectionButton(),
        this.getModerationButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-picker":149,"./moderation/controls":154,"./moderation/selection":158,"react":"react"}],163:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (_index2.default.get('SETTINGS').forum_index_title) {
      return _index2.default.get('SETTINGS').forum_index_title;
    } else {
      return _index2.default.get('SETTINGS').forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.top_category === fromDb.top_category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });

  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,

    can_approve: 0,
    can_close: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0
  };

  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin;
  });

  return moderation;
}

},{"../../index":191}],164:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _registerButton = require('../register-button');

var _registerButton2 = _interopRequireDefault(_registerButton);

var _signIn = require('../sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var GuestMenu = exports.GuestMenu = function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestMenu).apply(this, arguments));
  }

  _createClass(GuestMenu, [{
    key: 'showSignInModal',
    value: function showSignInModal() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu' },
        _react2.default.createElement(
          'li',
          { className: 'guest-preview' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("You are browsing as guest.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext('Sign in or register to start and participate in discussions.')
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                'button',
                { type: 'button', className: 'btn btn-default btn-block',
                  onClick: this.showSignInModal },
                gettext("Sign in")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                _registerButton2.default,
                { className: 'btn-primary btn-block' },
                gettext("Register")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestMenu;
}(_react2.default.Component);

var GuestNav = exports.GuestNav = function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestNav).apply(this, arguments));
  }

  _createClass(GuestNav, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'nav nav-guest' },
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn navbar-btn btn-default',
            onClick: this.showSignInModal },
          gettext("Sign in")
        ),
        _react2.default.createElement(
          _registerButton2.default,
          { className: 'navbar-btn btn-primary' },
          gettext("Register")
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestNav;
}(GuestMenu);

var CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactGuestNav).apply(this, arguments));
  }

  _createClass(CompactGuestNav, [{
    key: 'showGuestMenu',
    value: function showGuestMenu() {
      _mobileNavbarDropdown2.default.show(GuestMenu);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showGuestMenu },
        _react2.default.createElement(_avatar2.default, { size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactGuestNav;
}(_react2.default.Component);

},{"../../services/mobile-navbar-dropdown":247,"../../services/modal":248,"../avatar":2,"../register-button":103,"../sign-in.js":110,"react":"react"}],165:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserMenu = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _guestNav = require('./guest-nav');

var _userNav = require('./user-nav');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.GuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserMenu).apply(this, arguments));
  }

  _createClass(CompactUserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.CompactGuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return CompactUserMenu;
}(_react2.default.Component);

function select(state) {
  return state.auth;
}

},{"./guest-nav":164,"./user-nav":166,"react":"react"}],166:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserNav = exports.UserNav = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.selectUserMenu = selectUserMenu;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _root = require('../change-avatar/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'logout',
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));
      if (decision) {
        $('#hidden-logout-form').submit();
      }
    }
  }, {
    key: 'changeAvatar',
    value: function changeAvatar() {
      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu' },
        _react2.default.createElement(
          'li',
          { className: 'dropdown-header' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.username
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'account_circle'
            ),
            gettext("See your profile")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('USERCP_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'done_all'
            ),
            gettext("Change options")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link', onClick: this.changeAvatar },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Change avatar")
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default btn-block',
              onClick: this.logout },
            gettext("Log out")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var UserNav = exports.UserNav = function (_React$Component2) {
  _inherits(UserNav, _React$Component2);

  function UserNav() {
    _classCallCheck(this, UserNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserNav).apply(this, arguments));
  }

  _createClass(UserNav, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'ul nav navbar-nav nav-user' },
        _react2.default.createElement(
          'li',
          { className: 'dropdown' },
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url, className: 'dropdown-toggle',
              'data-toggle': 'dropdown', 'aria-haspopup': 'true', 'aria-expanded': 'false',
              role: 'button' },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })
          ),
          _react2.default.createElement(UserMenu, { user: this.props.user })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return UserNav;
}(_react2.default.Component);

function selectUserMenu(state) {
  return { user: state.auth.user };
}

var CompactUserNav = exports.CompactUserNav = function (_React$Component3) {
  _inherits(CompactUserNav, _React$Component3);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserNav).apply(this, arguments));
  }

  _createClass(CompactUserNav, [{
    key: 'showUserMenu',
    value: function showUserMenu() {
      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showUserMenu },
        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactUserNav;
}(_react2.default.Component);

},{"../../index":191,"../../services/mobile-navbar-dropdown":247,"../../services/modal":248,"../avatar":2,"../change-avatar/root":16,"react":"react","react-redux":"react-redux"}],167:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StatusLabel = exports.StatusIcon = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClass',
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.getClass() },
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var StatusIcon = exports.StatusIcon = function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(StatusIcon).apply(this, arguments));
  }

  _createClass(StatusIcon, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return 'remove_circle_outline';
      } else if (this.props.status.is_hidden) {
        return 'help_outline';
      } else if (this.props.status.is_online_hidden) {
        return 'label';
      } else if (this.props.status.is_offline_hidden) {
        return 'label_outline';
      } else if (this.props.status.is_online) {
        return 'lens';
      } else if (this.props.status.is_offline) {
        return 'panorama_fish_eye';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'material-icon status-icon' },
        this.getIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusIcon;
}(_react2.default.Component);

var StatusLabel = exports.StatusLabel = function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(StatusLabel).apply(this, arguments));
  }

  _createClass(StatusLabel, [{
    key: 'getHelp',
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.props.className || "status-label",
          title: this.getHelp() },
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusLabel;
}(_react2.default.Component);

function getStatusClassName(status) {
  var className = '';
  if (status.is_banned) {
    className = 'banned';
  } else if (status.is_hidden) {
    className = 'offline';
  } else if (status.is_online_hidden) {
    className = 'online';
  } else if (status.is_offline_hidden) {
    className = 'offline';
  } else if (status.is_online) {
    className = 'online';
  } else if (status.is_offline) {
    className = 'offline';
  }

  return 'user-status user-' + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format('LL, LT')
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],168:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          _react2.default.createElement(
            'span',
            { className: 'user-avatar' },
            _react2.default.createElement(_avatar2.default, { size: '100' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
            ' '
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            ' '
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            ' '
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(80, 140) + "px" } },
            ' '
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":264,"../avatar":2,"react":"react"}],169:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'renderUserAvatar',
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { user: this.props.change.changed_by, size: '100' })
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'user-avatar-wrapper' },
            _react2.default.createElement(_avatar2.default, { size: '100' })
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'renderUsername',
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'item-title' },
          this.props.change.changed_by.username
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'item-title' },
            this.props.change.changed_by_username
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item', key: this.props.change.id },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          this.renderUserAvatar()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          this.renderUsername()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'old-username' },
            this.props.change.old_username
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'new-username' },
            this.props.change.new_username
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'abbr',
            { title: this.props.change.changed_on.format('LLL') },
            this.props.change.changed_on.fromNow()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":2,"react":"react"}],170:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],171:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changePreview = require('./change-preview');

var _changePreview2 = _interopRequireDefault(_changePreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_changePreview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change-preview":168,"react":"react"}],172:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _change = require('./change');

var _change2 = _interopRequireDefault(_change);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.changes.map(function (change) {
            return _react2.default.createElement(_change2.default, { change: change, key: change.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change":169,"react":"react"}],173:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { changes: this.props.changes });
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(_listEmpty2.default, { emptyMessage: this.props.emptyMessage });
            /* jshint ignore:end */
          }
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listPreview2.default, null);
          /* jshint ignore:end */
        }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-empty":170,"./list-preview":171,"./list-ready":172,"react":"react"}],174:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _userCard = require('./user-card');

var _userCard2 = _interopRequireDefault(_userCard);

var _userPreview = require('./user-preview');

var _userPreview2 = _interopRequireDefault(_userPreview);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.isLoaded;
    }
  }, {
    key: 'getPager',
    value: function getPager() {
      if (this.props.pages > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(Pager, this.props);
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.className) {
        return "users-cards-list " + this.props.className + " ui-ready";
      } else {
        return "users-cards-list ui-ready";
      }
    }
  }, {
    key: 'getColClassName',
    value: function getColClassName() {
      return "col-md-" + 12 / this.props.cols;
    }
  }, {
    key: 'getBody',
    value: function getBody() {
      var _this2 = this;

      if (this.props.isLoaded) {
        /* jshint ignore:start */
        return (0, _batch2.default)(this.props.users, this.props.cols).map(function (row, r) {
          return _react2.default.createElement(
            'div',
            { className: 'row', key: r },
            row.map(function (user) {
              return _react2.default.createElement(
                'div',
                { className: _this2.getColClassName(), key: user.id },
                _react2.default.createElement(_userCard2.default, { user: user,
                  showStatus: _this2.props.showStatus,
                  showRank: _this2.props.showRank })
              );
            })
          );
        });
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          var row = [];
          for (var i = 0; i < this.props.cols; i++) {
            if (i === 0) {
              row.push(this.getColClassName());
            } else {
              row.push(this.getColClassName() + ' hidden-xs hidden-sm');
            }
          }

          return _react2.default.createElement(
            'div',
            { className: 'row' },
            row.map(function (className, i) {
              return _react2.default.createElement(
                'div',
                { className: className, key: i },
                _react2.default.createElement(_userPreview2.default, { showStatus: _this2.props.showStatus })
              );
            })
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'users-cards-list ui-ready' },
        this.getBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/batch":256,"./user-card":175,"./user-preview":176,"react":"react"}],175:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        if (this.props.user.status) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            _userStatus2.default,
            { user: this.props.user, status: this.props.user.status },
            _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
              status: this.props.user.status }),
            _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
              status: this.props.user.status,
              className: 'status-label' })
          );
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(
              'span',
              { className: 'user-status' },
              _react2.default.createElement(
                'span',
                { className: 'status-icon ui-preview-text' },
                ' '
              ),
              _react2.default.createElement(
                'span',
                { className: 'status-label ui-preview-text',
                  style: { width: random.int(30, 50) + "px" } },
                ' '
              )
            );
            /* jshint ignore:end */
          }
      } else {
          return null;
        }
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (this.props.showRank) {
        if (this.props.user.rank.is_tab) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'a',
            { href: this.props.user.rank.absolute_url,
              className: 'item-title rank-name' },
            this.props.user.rank.name
          );
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(
              'span',
              { className: 'item-title rank-name' },
              this.props.user.rank.name
            );
            /* jshint ignore:end */
          }
      } else {
          return null;
        }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.user.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-title' },
          this.props.user.title
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getUserJoinedOn',
    value: function getUserJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'span',
        { className: 'user-joined-on', title: title },
        age
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getPostsCount',
    value: function getPostsCount() {
      var message = ngettext("%(posts)s post", "%(posts)s posts", this.props.user.posts);

      return interpolate(message, {
        'posts': this.props.user.posts
      }, true);
    }
  }, {
    key: 'getThreadsCount',
    value: function getThreadsCount() {
      var message = ngettext("%(threads)s thread", "%(threads)s threads", this.props.user.threads);

      return interpolate(message, {
        'threads': this.props.user.threads
      }, true);
    }
  }, {
    key: 'getFollowersCount',
    value: function getFollowersCount() {
      var message = ngettext("%(followers)s follower", "%(followers)s followers", this.props.user.followers);

      return interpolate(message, {
        'followers': this.props.user.followers
      }, true);
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.user.rank.css_class) {
        return 'user-card user-card-' + this.props.user.rank.css_class + ' ui-ready';
      } else {
        return 'user-card ui-ready';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '400', className: 'bg-image' }),
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url },
                  _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '400' })
                )
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url, className: 'item-title' },
                  this.props.user.username
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                this.getRankName(),
                this.getUserTitle(),
                this.getUserJoinedOn()
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  this.getPostsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  this.getThreadsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  this.getFollowersCount()
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":264,"../avatar":2,"../user-status":167,"react":"react"}],176:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-status' },
          _react2.default.createElement(
            'span',
            { className: 'status-icon ui-preview-text' },
            ' '
          ),
          _react2.default.createElement(
            'span',
            { className: 'status-label ui-preview-text',
              style: { width: random.int(30, 50) + "px" } },
            ' '
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'user-card ui-preview' },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(_avatar2.default, { size: '400', className: 'bg-image' }),
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(_avatar2.default, { size: '400' })
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'span',
                  { className: 'item-title' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(60, 150) + "px" } },
                    ' '
                  )
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                _react2.default.createElement(
                  'span',
                  { className: 'user-joined-on' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(30, 50) + "px" } },
                    ' '
                  )
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    ' '
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    ' '
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    ' '
                  )
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":264,"../avatar":2,"react":"react"}],177:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), { 'days': this.props.trackedPeriod }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],178:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_avatar2.default, { size: '50' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'span',
              { className: 'item-title' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 80) + "px" } },
                ' '
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            _react2.default.createElement(
              'span',
              { className: 'user-status' },
              _react2.default.createElement(
                'span',
                { className: 'status-icon ui-preview-text' },
                ' '
              ),
              _react2.default.createElement(
                'span',
                { className: 'status-label ui-preview-text hidden-xs hidden-sm',
                  style: { width: random.int(30, 50) + "px" } },
                ' '
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-name' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" } },
                ' '
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'user-title hidden-xs hidden-sm' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" } },
                ' '
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              ' '
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              ' '
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              ' '
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":264,"../../avatar":2,"react":"react"}],179:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.user.status) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.user, status: this.props.user.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
            status: this.props.user.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
            status: this.props.user.status,
            className: 'status-label hidden-xs hidden-sm' })
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'user-status' },
            _react2.default.createElement(
              'span',
              { className: 'status-icon ui-preview-text' },
              ' '
            ),
            _react2.default.createElement(
              'span',
              { className: 'status-label ui-preview-text hidden-xs hidden-sm',
                style: { width: random.int(30, 50) + "px" } },
              ' '
            )
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (this.props.rank.is_tab) {
        /* jshint ignore:start */
        var rankUrl = _index2.default.get('USERS_LIST_URL') + this.props.rank.slug + '/';
        return _react2.default.createElement(
          _reactRouter.Link,
          { to: rankUrl, className: 'rank-name item-title' },
          this.props.rank.name
        );
        /* jshint ignore:end */
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'rank-name item-title' },
            this.props.rank.name
          );
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.user.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-title hidden-xs hidden-sm' },
          this.props.user.title
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '50' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'a',
              { href: this.props.user.absolute_url, className: 'item-title' },
              this.props.user.username
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            this.getUserStatus(),
            this.getRankName(),
            this.getUserTitle()
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position' },
          _react2.default.createElement(
            'strong',
            null,
            '#',
            this.props.counter
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.meta.score
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.posts
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":191,"../../../utils/random":264,"../../avatar":2,"../../user-status":167,"react":"react","react-router":"react-router"}],180:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItemPreview = require('./list-item-preview');

var _listItemPreview2 = _interopRequireDefault(_listItemPreview);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead ui-preview' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(50, 220) + "px" } },
              ' '
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-preview' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              [0, 1, 2].map(function (i) {
                return _react2.default.createElement(_listItemPreview2.default, { hiddenOnMobile: i > 0, key: i });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":264,"./list-item-preview":178,"react":"react"}],181:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItem = require('./list-item');

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getLeadMessage',
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s most active poster from last %(days)s days.", "%(posters)s most active posters from last %(days)s days.", this.props.count);

      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getLeadMessage()
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-ready' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              this.props.users.map(function (user, i) {
                return _react2.default.createElement(_listItem2.default, { user: user,
                  rank: user.rank,
                  counter: i + 1,
                  key: user.id });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-item":179,"react":"react"}],182:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      });
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling() {
      _polls2.default.start({
        poll: 'active-posters',
        url: _index2.default.get('USERS_API'),
        data: {
          list: 'active'
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('active-posters');
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count });
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(_listEmpty2.default, { trackedPeriod: this.state.trackedPeriod });
            /* jshint ignore:end */
          }
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listPreview2.default, null);
          /* jshint ignore:end */
        }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":191,"../../../reducers/users":241,"../../../services/page-title":249,"../../../services/polls":250,"../../../services/store":253,"./list-empty":177,"./list-preview":180,"./list-ready":181,"react":"react"}],183:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.TabsNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line


//jshint ignore:line

// jshint ignore:start
var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;
  if (list.component === 'rank') {
    url += list.slug;
  } else {
    url += list.component;
  }
  return url + '/';
};

var navLinks = function navLinks(baseUrl, lists, hideNav) {
  return lists.map(function (list) {
    var url = listUrl(baseUrl, list);
    return _react2.default.createElement(
      _li2.default,
      { path: url,
        key: url },
      _react2.default.createElement(
        _reactRouter.Link,
        { to: url, onClick: hideNav },
        list.name
      )
    );
  });
};
// jshint ignore:end

var TabsNav = exports.TabsNav = function (_React$Component) {
  _inherits(TabsNav, _React$Component);

  function TabsNav() {
    _classCallCheck(this, TabsNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(TabsNav).apply(this, arguments));
  }

  _createClass(TabsNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'nav nav-pills' },
        navLinks(this.props.baseUrl, this.props.lists)
      );
      // jshint ignore:end
    }
  }]);

  return TabsNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactNav).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        navLinks(this.props.baseUrl, this.props.lists, this.props.hideNav)
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../../index":191,"../li":41,"react":"react","react-router":"react-router"}],184:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_root2.default, { isLoaded: false, cols: 3, showStatus: true })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list/root":174,"react":"react"}],185:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pager = require('./pager');

var _pager2 = _interopRequireDefault(_pager);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPager',
    value: function getPager() {
      if (this.props.pages > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_pager2.default, this.props);
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_root2.default, { users: this.props.users,
          showStatus: true,
          cols: 3,
          isLoaded: true }),
        this.getPager()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list/root":174,"./pager":186,"react":"react"}],186:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _resetScroll = require('../../../utils/reset-scroll');

var _resetScroll2 = _interopRequireDefault(_resetScroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPreviousPage',
    value: function getPreviousPage() {
      if (this.props.previous || this.props.first) {
        /* jshint ignore:start */
        var url = this.props.baseUrl;
        if (this.props.previous) {
          url += this.props.previous + '/';
        }

        return _react2.default.createElement(
          'li',
          { className: 'previous' },
          _react2.default.createElement(
            _reactRouter.Link,
            { to: url, onClick: _resetScroll2.default },
            _react2.default.createElement(
              'span',
              { 'aria-hidden': 'true', className: 'material-icon' },
              'arrow_back'
            )
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getNextPage',
    value: function getNextPage() {
      if (this.props.next) {
        /* jshint ignore:start */
        var url = this.props.baseUrl + this.props.next + '/';
        return _react2.default.createElement(
          'li',
          { className: 'next' },
          _react2.default.createElement(
            _reactRouter.Link,
            { to: url, onClick: _resetScroll2.default },
            _react2.default.createElement(
              'span',
              { 'aria-hidden': 'true', className: 'material-icon' },
              'arrow_forward'
            )
          )
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getProgessBar',
    value: function getProgessBar() {
      var _this2 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'pager-progress-bar' },
        this.props.page_range.map(function (page) {
          var className = page === _this2.props.page ? 'active' : null;
          var url = _this2.props.baseUrl;

          if (page > 1) {
            url += page + '/';
          }

          return _react2.default.createElement(
            'li',
            { key: page, className: className },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: url, onClick: _resetScroll2.default },
              page
            )
          );
        })
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'pager-undercontent' },
        _react2.default.createElement(
          'nav',
          null,
          _react2.default.createElement(
            'ul',
            { className: 'pager' },
            this.getPreviousPage(),
            this.getNextPage()
          ),
          this.getProgessBar()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/reset-scroll":265,"react":"react","react-router":"react-router"}],187:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _listLoading = require('./list-loading');

var _listLoading2 = _interopRequireDefault(_listLoading);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;
      _this.setState(data);
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(page) {
      _polls2.default.start({
        poll: 'rank-users',
        url: _index2.default.get('USERS_API'),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('rank-users');
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle2.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls2.default.stop('rank-users');
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return 'rank-users-list rank-users-' + this.props.route.rank.css_class;
      } else {
        return 'rank-users-list';
      }
    }
  }, {
    key: 'getRankDescription',
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'rank-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.rank.description.html })
        );
        /* jshint ignore:end */
      } else {
          return null;
        }
    }
  }, {
    key: 'getComponent',
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          var baseUrl = _index2.default.get('USERS_LIST_URL') + this.props.route.rank.slug + '/';
          return _react2.default.createElement(_list2.default, _extends({ baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
          /* jshint ignore:end */
        } else {
            /* jshint ignore:start */
            return _react2.default.createElement(
              'p',
              { className: 'lead' },
              gettext("There are no users with this rank at the moment.")
            );
            /* jshint ignore:end */
          }
      } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listLoading2.default, null);
          /* jshint ignore:end */
        }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getRankDescription(),
          this.getComponent()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":191,"../../../reducers/users":241,"../../../services/page-title":249,"../../../services/polls":250,"../../../services/store":253,"../../page-lead":56,"./list":185,"./list-loading":184,"react":"react"}],188:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _root = require('./active-posters/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./rank/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-users-lists' },
        _react2.default.createElement(
          'div',
          { className: 'page-header tabbed' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'h1',
              { className: 'pull-left' },
              gettext("Users")
            ),
            _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.toggleNav,
              dropdown: this.state.dropdown })
          ),
          _react2.default.createElement(
            'div',
            { className: 'page-tabs hidden-xs hidden-sm' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(_navs.TabsNav, { lists: _index2.default.get('USERS_LISTS'),
                baseUrl: _index2.default.get('USERS_LIST_URL') })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { lists: _index2.default.get('USERS_LISTS'),
            baseUrl: _index2.default.get('USERS_LIST_URL'),
            hideNav: this.hideNav })
        ),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

function paths() {
  var paths = [];

  _index2.default.get('USERS_LISTS').forEach(function (item) {
    if (item.component === 'rank') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/:page/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
    } else if (item.component === 'active-posters') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.component + '/',
        component: (0, _reactRedux.connect)(select)(_root2.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../../index":191,"../dropdown-toggle":18,"../with-dropdown":189,"./active-posters/root":182,"./navs":183,"./rank/root":187,"react":"react","react-redux":"react-redux"}],189:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));

    _this.toggleNav = function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    };

    _this.hideNav = function () {
      _this.setState({
        dropdown: false
      });
    };

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getCompactNavClassName',

    /* jshint ignore:end */

    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return 'compact-nav open';
      } else {
        return 'compact-nav';
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],190:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _Object$getPrototypeO;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.toggle = function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.value) {
        return this.props.iconOn || 'check_box';
      } else {
        return this.props.iconOff || 'check_box_outline_blank';
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { type: "button",
          onClick: this.toggle,
          className: this.getClassName(),
          id: this.props.id || null,
          "aria-describedby": this.props['aria-describedby'] || null,
          disabled: this.props.disabled || false },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],191:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Misago = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _orderedList = require('./utils/ordered-list');

var _orderedList2 = _interopRequireDefault(_orderedList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Misago = exports.Misago = function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: 'addInitializer',
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,

        item: initializer.initializer,

        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: 'init',
    value: function init(context) {
      var _this = this;

      this._context = context;

      var initOrder = new _orderedList2.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors

  }, {
    key: 'has',
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: 'get',
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: 'pop',
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}();

// create  singleton


var misago = new Misago();

// expose it globally
global.misago = misago;

// and export it for tests and stuff
exports.default = misago;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":263}],192:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));
}

_index2.default.addInitializer({
  name: 'ajax',
  initializer: initializer
});

},{"../index":191,"../services/ajax":242}],193:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);
}

_index2.default.addInitializer({
  name: 'auth',
  initializer: initializer,
  after: 'store'
});

},{"../index":191,"../services/auth":243,"../services/local-storage":246,"../services/modal":248,"../services/store":253}],194:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'captcha',
  initializer: initializer
});

},{"../index":191,"../services/ajax":242,"../services/captcha":244,"../services/include":245,"../services/snackbar":252}],195:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _authMessage = require('../../components/auth-message');

var _authMessage2 = _interopRequireDefault(_authMessage);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');
}

_index2.default.addInitializer({
  name: 'component:auth-message',
  initializer: initializer,
  after: 'store'
});

},{"../../components/auth-message":1,"../../index":191,"../../utils/mount-component":262,"react-redux":"react-redux"}],196:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _bannedPage = require('../../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('BAN_MESSAGE')) {
    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);
  }
}

_index2.default.addInitializer({
  name: 'component:baned-page',
  initializer: initializer,
  after: 'store'
});

},{"../../index":191,"../../utils/banned-page":255}],197:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/categories/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('categories-mount')) {
    (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root2.default), 'categories-mount');
  }
}

_index2.default.addInitializer({
  name: 'component:reset-password-form',
  initializer: initializer,
  after: 'store'
});

},{"../../components/categories/root":9,"../../index":191,"../../utils/mount-component":262,"react-redux":"react-redux"}],198:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/options/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USER_OPTIONS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERCP_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:options',
  initializer: initializer,
  after: 'store'
});

},{"../../components/options/root":52,"../../index":191,"../../utils/routed-component":266}],199:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/profile/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('PROFILE') && context.has('PROFILE_PAGES')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('PROFILE').absolute_url,
      component: (0, _reactRedux.connect)(_root.select)(_root2.default),
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:profile',
  initializer: initializer,
  after: 'reducer:profile-hydrate'
});

},{"../../components/profile/root":101,"../../index":191,"../../utils/routed-component":266,"react-redux":"react-redux"}],200:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestActivationLink = require('../../components/request-activation-link');

var _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-activation-link-mount')) {
    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-activation-link',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-activation-link":105,"../../index":191,"../../utils/mount-component":262}],201:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestPasswordReset = require('../../components/request-password-reset');

var _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-password-reset-mount')) {
    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-password-reset',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-password-reset":106,"../../index":191,"../../utils/mount-component":262}],202:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _resetPasswordForm = require('../../components/reset-password-form');

var _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('reset-password-form-mount')) {
    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:reset-password-form',
  initializer: initializer,
  after: 'store'
});

},{"../../components/reset-password-form":107,"../../index":191,"../../utils/mount-component":262}],203:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../components/snackbar');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');
}

_index2.default.addInitializer({
  name: 'component:snackbar',
  initializer: initializer,
  after: 'snackbar'
});

},{"../../components/snackbar":111,"../../index":191,"../../utils/mount-component":262,"react-redux":"react-redux"}],204:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/thread/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('THREAD') && context.has('POSTS')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:thread',
  initializer: initializer,
  after: 'store'
});

},{"../../components/thread/root":128,"../../index":191,"../../utils/routed-component":266}],205:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/threads/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('THREADS') && context.has('CATEGORIES')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)(context.get('user'))
    });
  }
}

_index2.default.addInitializer({
  name: 'component:threads',
  initializer: initializer,
  after: 'store'
});

},{"../../components/threads/root":160,"../../index":191,"../../utils/routed-component":266}],206:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _root = require('../../components/user-menu/root');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');
}

_index2.default.addInitializer({
  name: 'component:user-menu',
  initializer: initializer,
  after: 'store'
});

},{"../../components/user-menu/root":165,"../../index":191,"../../utils/mount-component":262,"react-redux":"react-redux"}],207:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/users/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USERS_LISTS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERS_LIST_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:users',
  initializer: initializer,
  after: 'store'
});

},{"../../components/users/root":188,"../../index":191,"../../utils/routed-component":266}],208:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include2.default.init(context.get('STATIC_URL'));
}

_index2.default.addInitializer({
  name: 'include',
  initializer: initializer
});

},{"../index":191,"../services/include":245}],209:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage2.default.init('misago_');
}

_index2.default.addInitializer({
  name: 'local-storage',
  initializer: initializer
});

},{"../index":191,"../services/local-storage":246}],210:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('mobile-navbar-dropdown-mount');
  if (element) {
    _mobileNavbarDropdown2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'dropdown',
  initializer: initializer,
  before: 'store'
});

},{"../index":191,"../services/mobile-navbar-dropdown":247}],211:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('modal-mount');
  if (element) {
    _modal2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'modal',
  initializer: initializer,
  before: 'store'
});

},{"../index":191,"../services/modal":248}],212:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment2.default.locale($('html').attr('lang'));
}

_index2.default.addInitializer({
  name: 'moment',
  initializer: initializer
});

},{"../index":191,"moment":"moment"}],213:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle2.default.init(context.get('SETTINGS').forum_index_title, context.get('SETTINGS').forum_name);
}

_index2.default.addInitializer({
  name: 'page-title',
  initializer: initializer
});

},{"../index":191,"../services/page-title":249}],214:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _polls = require('../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls2.default.init(_ajax2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'polls',
  initializer: initializer
});

},{"../index":191,"../services/ajax":242,"../services/polls":250,"../services/snackbar":252}],215:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting2.default.init(_ajax2.default, _snackbar2.default, document.getElementById('posting-placeholder'));
}

_index2.default.addInitializer({
  name: 'posting',
  initializer: initializer
});

},{"../index":191,"../services/ajax":242,"../services/posting":251,"../services/snackbar":252}],216:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../../reducers/auth');

var _auth2 = _interopRequireDefault(_auth);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store2.default.addReducer('auth', _auth2.default, Object.assign({
    isAuthenticated: context.get('isAuthenticated'),
    isAnonymous: !context.get('isAuthenticated'),

    user: context.get('user')
  }, _auth.initialState));
}

_index2.default.addInitializer({
  name: 'reducer:auth',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/auth":231,"../../services/store":253}],217:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _posts = require('../../reducers/posts');

var _posts2 = _interopRequireDefault(_posts);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('POSTS')) {
    initialState = (0, _posts.hydrate)(_index2.default.get('POSTS'));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store2.default.addReducer('posts', _posts2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:posts',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/posts":233,"../../services/store":253}],218:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_index2.default.has('PROFILE')) {
    _store2.default.dispatch((0, _profile.hydrate)(_index2.default.get('PROFILE')));
  }
}

_index2.default.addInitializer({
  name: 'reducer:profile-hydrate',
  initializer: initializer,
  after: 'store'
});

},{"../../index":191,"../../reducers/profile":234,"../../services/store":253}],219:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _profile2 = _interopRequireDefault(_profile);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('profile', _profile2.default, {});
}

_index2.default.addInitializer({
  name: 'reducer:profile',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/profile":234,"../../services/store":253}],220:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var _selection2 = _interopRequireDefault(_selection);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('selection', _selection2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:selection',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/selection":235,"../../services/store":253}],221:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../reducers/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:snackbar',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/snackbar":236,"../../services/store":253}],222:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _thread = require('../../reducers/thread');

var _thread2 = _interopRequireDefault(_thread);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = (0, _thread.hydrate)(_index2.default.get('THREAD'));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('thread', _thread2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:thread',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/thread":237,"../../services/store":253}],223:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../reducers/threads');

var _threads2 = _interopRequireDefault(_threads);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('threads', _threads2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:threads',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/threads":238,"../../services/store":253}],224:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../../reducers/tick');

var _tick2 = _interopRequireDefault(_tick);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:tick',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/tick":239,"../../services/store":253}],225:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('username-history', _usernameHistory2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:username-history',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/username-history":240,"../../services/store":253}],226:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _users2 = _interopRequireDefault(_users);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('users', _users2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:users',
  initializer: initializer,
  before: 'store'
});

},{"../../index":191,"../../reducers/users":241,"../../services/store":253}],227:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar2.default.init(_store2.default);
}

_index2.default.addInitializer({
  name: 'snackbar',
  initializer: initializer,
  after: 'store'
});

},{"../index":191,"../services/snackbar":252,"../services/store":253}],228:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.init();
}

_index2.default.addInitializer({
  name: 'store',
  initializer: initializer,
  before: '_end'
});

},{"../index":191,"../services/store":253}],229:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../reducers/tick');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store2.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_index2.default.addInitializer({
  name: 'tick-start',
  initializer: initializer,
  after: 'store'
});

},{"../index":191,"../reducers/tick":239,"../services/store":253}],230:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn2.default.init(_include2.default);
}

_index2.default.addInitializer({
  name: 'zxcvbn',
  initializer: initializer
});

},{"../index":191,"../services/include":245,"../services/zxcvbn":254}],231:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = undefined;
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;

var _users = require('./users');

var initialState = exports.initialState = {
  signedIn: false,
  signedOut: false
};

var PATCH_USER = exports.PATCH_USER = 'PATCH_USER';
var SIGN_IN = exports.SIGN_IN = 'SIGN_IN';
var SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];

  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          'avatar_hash': action.avatarHash
        });
        return _newState;
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;

    default:
      return state;
  }
}

},{"./users":241}],232:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_POST = undefined;
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = exports.PATCH_POST = 'PATCH_POST';

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),
    updated_on: (0, _moment2.default)(json.updated_on),
    hidden_on: (0, _moment2.default)(json.hidden_on),

    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,

    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment2.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;

    default:
      return state;
  }
}

},{"./users":241,"moment":"moment"}],233:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = undefined;
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.unload = unload;
exports.default = posts;

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SELECT_POST = exports.SELECT_POST = 'SELECT_POST';
var DESELECT_POST = exports.DESELECT_POST = 'DESELECT_POST';
var DESELECT_POSTS = exports.DESELECT_POSTS = 'DESELECT_POSTS';
var LOAD_POSTS = exports.LOAD_POSTS = 'LOAD_POSTS';
var UNLOAD_POSTS = exports.UNLOAD_POSTS = 'UNLOAD_POSTS';

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];

  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function posts() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });

      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post2.default)(post, action);
      });

      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":232}],234:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = undefined;
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = exports.HYDRATE_PROFILE = 'HYDRATE_PROFILE';
var PATCH_PROFILE = exports.PATCH_PROFILE = 'PATCH_PROFILE';

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment2.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatar_hash: action.avatarHash
        });
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;

    default:
      return state;
  }
}

},{"./users":241,"moment":"moment"}],235:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = undefined;
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;

var _sets = require('../utils/sets');

var SELECT_ALL = exports.SELECT_ALL = 'SELECT_ALL';
var SELECT_NONE = exports.SELECT_NONE = 'SELECT_NONE';
var SELECT_ITEM = exports.SELECT_ITEM = 'SELECT_ITEM';

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":267}],236:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
var initialState = exports.initialState = {
  type: 'info',
  message: '',
  isVisible: false
};

var SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';
var HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],237:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = exports.BUSY_THREAD = 'BUSY_THREAD';
var RELEASE_THREAD = exports.RELEASE_THREAD = 'RELEASE_THREAD';
var REPLACE_THREAD = exports.REPLACE_THREAD = 'REPLACE_THREAD';
var UPDATE_THREAD = exports.UPDATE_THREAD = 'UPDATE_THREAD';

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment2.default)(json.started_on),
    last_post_on: (0, _moment2.default)(json.last_post_on),

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];

  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function thread() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_THREAD:
      return Object.assign({}, state, { isBusy: false });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],238:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.READ_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = undefined;
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.read = read;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = exports.APPEND_THREADS = 'APPEND_THREADS';
var DELETE_THREAD = exports.DELETE_THREAD = 'DELETE_THREAD';
var FILTER_THREADS = exports.FILTER_THREADS = 'FILTER_THREADS';
var HYDRATE_THREADS = exports.HYDRATE_THREADS = 'HYDRATE_THREADS';
var PATCH_THREAD = exports.PATCH_THREAD = 'PATCH_THREAD';
var READ_THREADS = exports.READ_THREADS = 'READ_THREADS';
var SORT_THREADS = exports.SORT_THREADS = 'SORT_THREADS';

var MODERATION_PERMISSIONS = exports.MODERATION_PERMISSIONS = ['can_announce', 'can_approve', 'can_close', 'can_hide', 'can_move', 'can_merge', 'can_pin', 'can_review'];

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function read(categoriesMap, category) {
  return {
    type: READ_THREADS,
    categoriesMap: categoriesMap,
    category: category
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment2.default)(thread.started_on),
    last_post_on: (0, _moment2.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique2.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;

    case READ_THREADS:
      return state.map(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          return Object.assign({}, item, {
            is_read: true
          });
        } else {
          return item;
        }
      });

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":257,"moment":"moment"}],239:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
var initialState = exports.initialState = {
  tick: 0
};

var TICK = exports.TICK = 'TICK';

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],240:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = undefined;
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = exports.ADD_NAME_CHANGE = 'ADD_NAME_CHANGE';
var APPEND_HISTORY = exports.APPEND_HISTORY = 'APPEND_HISTORY';
var HYDRATE_HISTORY = exports.HYDRATE_HISTORY = 'HYDRATE_HISTORY';

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment2.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000), // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment2.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            'avatar_hash': action.avatarHash
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            'username': action.username,
            'slug': action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":257,"./users":241,"moment":"moment"}],241:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = undefined;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = exports.APPEND_USERS = 'APPEND_USERS';
var HYDRATE_USERS = exports.HYDRATE_USERS = 'HYDRATE_USERS';
var UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';
var UPDATE_USERNAME = exports.UPDATE_USERNAME = 'UPDATE_USERNAME';

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment2.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment2.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment2.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatarHash) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatarHash: avatarHash
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  switch (action.type) {
    case APPEND_USERS:
      var mergedState = (0, _concatUnique2.default)(state, action.items.map(hydrateUser));

      return mergedState.sort(function (a, b) {
        if (a.username < b.username) {
          return -1;
        } else if (a.username > b.username) {
          return 1;
        } else {
          return 0;
        }
      });

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatar_hash = action.avatarHash;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":257,"moment":"moment"}],242:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ajax = exports.Ajax = function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: 'init',
    value: function init(cookieName) {
      this._cookieName = cookieName;
      this._csrfToken = this.getCsrfToken();
    }
  }, {
    key: 'getCsrfToken',
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + '\=([^;]*)');
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split('=')[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: 'request',
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            'X-CSRFToken': self._csrfToken
          },

          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: 'json',

          success: function success(data) {
            resolve(data);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }, {
    key: 'get',
    value: function get(url, params, lock) {
      var _this = this;

      if (params) {
        url += '?' + $.param(params);
      }

      if (lock) {
        var _ret = function () {
          var self = _this;

          // update url in existing lock?
          if (_this._locks[lock]) {
            _this._locks[lock].url = url;
          }

          // immediately dereference promise handlers without doing anything
          // we are already waiting for existing response to resolve
          if (_this._locks[lock] && _this._locks[lock].waiter) {
            return {
              v: {
                then: function then() {
                  return;
                }
              }
            };

            // return promise that will begin when original one resolves
          } else if (_this._locks[lock] && _this._locks[lock].wait) {
              _this._locks[lock].waiter = true;

              return {
                v: new Promise(function (resolve, reject) {
                  var wait = function wait(url) {
                    // keep waiting on promise
                    if (self._locks[lock].wait) {
                      window.setTimeout(function () {
                        wait(url);
                      }, 300);

                      // poll for new url
                    } else if (self._locks[lock].url !== url) {
                        wait(self._locks[lock].url);

                        // ajax backend for response
                      } else {
                          self._locks[lock].waiter = false;
                          self.request('GET', self._locks[lock].url).then(function (data) {
                            if (self._locks[lock].url === url) {
                              resolve(data);
                            } else {
                              self._locks[lock].waiter = true;
                              wait(self._locks[lock].url);
                            }
                          }, function (rejection) {
                            if (self._locks[lock].url === url) {
                              reject(rejection);
                            } else {
                              self._locks[lock].waiter = true;
                              wait(self._locks[lock].url);
                            }
                          });
                        }
                  };

                  window.setTimeout(function () {
                    wait(url);
                  }, 300);
                })
              };

              // setup new lock without waiter
            } else {
                _this._locks[lock] = {
                  url: url,
                  wait: true,
                  waiter: false
                };

                return {
                  v: new Promise(function (resolve, reject) {
                    self.request('GET', url).then(function (data) {
                      self._locks[lock].wait = false;
                      if (self._locks[lock].url === url) {
                        resolve(data);
                      }
                    }, function (rejection) {
                      self._locks[lock].wait = false;
                      if (self._locks[lock].url === url) {
                        reject(rejection);
                      }
                    });
                  })
                };
              }
        }();

        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
      } else {
        return this.request('GET', url);
      }
    }
  }, {
    key: 'post',
    value: function post(url, data) {
      return this.request('POST', url, data);
    }
  }, {
    key: 'patch',
    value: function patch(url, data) {
      return this.request('PATCH', url, data);
    }
  }, {
    key: 'put',
    value: function put(url, data) {
      return this.request('PUT', url, data);
    }
  }, {
    key: 'delete',
    value: function _delete(url) {
      return this.request('DELETE', url);
    }
  }, {
    key: 'upload',
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: 'POST',
          headers: {
            'X-CSRFToken': self._csrfToken
          },

          data: data,
          contentType: false,
          processData: false,

          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },

          success: function success(response) {
            resolve(response);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.default = new Ajax();

},{}],243:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Auth = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _auth = require('../reducers/auth');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Auth = exports.Auth = function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: 'init',
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: 'syncSession',
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set('auth', {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set('auth', {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: 'watchState',
    value: function watchState() {
      var _this = this;

      this._local.watch('auth', function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else {
          _this._store.dispatch((0, _auth.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: 'signIn',
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));
      this._local.set('auth', {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: 'signOut',
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: 'softSignOut',
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.default = new Auth();

},{"../reducers/auth":231}],244:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formGroup = require('../components/form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var BaseCaptcha = exports.BaseCaptcha = function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

var NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(NoCaptcha).apply(this, arguments));
  }

  _createClass(NoCaptcha, [{
    key: 'load',
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return null;
    }
  }, {
    key: 'component',
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

var QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(QACaptcha).apply(this, arguments));
  }

  _createClass(QACaptcha, [{
    key: 'load',
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get('CAPTCHA_API')).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));
          reject();
        });
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        { label: this.question, 'for': 'id_captcha',
          labelClass: kwargs.labelClass || "col-sm-4",
          controlClass: kwargs.controlClass || "col-sm-8",
          validation: kwargs.form.state.errors.captcha,
          helpText: this.helpText || null },
        _react2.default.createElement('input', { type: 'text', id: 'id_captcha', className: 'form-control',
          'aria-describedby': 'id_captcha_status',
          disabled: kwargs.form.state.isLoading,
          onChange: kwargs.form.bindInput('captcha'),
          value: kwargs.form.state.captcha })
      );
    }
    /* jshint ignore:end */

  }]);

  return QACaptcha;
}(BaseCaptcha);

var ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(ReCaptchaComponent).apply(this, arguments));
  }

  _createClass(ReCaptchaComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this4 = this;

      grecaptcha.render('recaptcha', {
        'sitekey': this.props.siteKey,
        'callback': function callback(response) {
          // fire fakey event to binding
          _this4.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('div', { id: 'recaptcha' });
      /* jshint ignore:end */
    }
  }]);

  return ReCaptchaComponent;
}(_react2.default.Component);

var ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(ReCaptcha).apply(this, arguments));
  }

  _createClass(ReCaptcha, [{
    key: 'load',
    value: function load() {
      this._include.include('https://www.google.com/recaptcha/api.js', true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        { label: gettext("Captcha"), 'for': 'id_captcha',
          labelClass: kwargs.labelClass || "col-sm-4",
          controlClass: kwargs.controlClass || "col-sm-8",
          validation: kwargs.form.state.errors.captcha,
          helpText: gettext("Please solve the quick test.") },
        _react2.default.createElement(ReCaptchaComponent, { siteKey: this._context.get('SETTINGS').recaptcha_site_key,
          binding: kwargs.form.bindInput('captcha') })
      );
    }
    /* jshint ignore:end */

  }]);

  return ReCaptcha;
}(BaseCaptcha);

var Captcha = exports.Captcha = function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      switch (context.get('SETTINGS').captcha_type) {
        case 'no':
          this._captcha = new NoCaptcha();
          break;

        case 'qa':
          this._captcha = new QACaptcha();
          break;

        case 're':
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy

  }, {
    key: 'load',
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: 'validator',
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: 'component',
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.default = new Captcha();

},{"../components/form-group":39,"react":"react"}],245:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Include = exports.Include = function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: 'init',
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: 'include',
    value: function include(script) {
      var remote = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: '_include',
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : '') + script,
        cache: true,
        dataType: 'script'
      });
    }
  }]);

  return Include;
}();

exports.default = new Include();

},{}],246:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var storage = window.localStorage;

var LocalStorage = exports.LocalStorage = function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: 'init',
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];

      window.addEventListener('storage', function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: 'set',
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: 'get',
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: 'watch',
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.default = new LocalStorage();

},{}],247:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MobileNavbarDropdown = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: 'init',
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: 'show',
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent2.default)(component, this._element.id);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'showConnected',
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent2.default)(component, this._element.id, true);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'hide',
    value: function hide() {
      $(this._element).removeClass('open');
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.default = new MobileNavbarDropdown();

},{"../utils/mount-component":262}],248:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Modal = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modal = exports.Modal = function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: 'init',
    value: function init(element) {
      var _this = this;

      this._element = element;

      this._modal = $(element).modal({ show: false });

      this._modal.on('hidden.bs.modal', function () {
        _reactDom2.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: 'show',
    value: function show(component) {
      (0, _mountComponent2.default)(component, this._element.id);
      this._modal.modal('show');
    }
  }, {
    key: 'hide',
    value: function hide() {
      this._modal.modal('hide');
    }
  }]);

  return Modal;
}();

exports.default = new Modal();

},{"../utils/mount-component":262,"react-dom":"react-dom"}],249:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PageTitle = exports.PageTitle = function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: 'init',
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: 'set',
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === 'string') {
        title = { title: title };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext('page: %(page)s'), {
          page: title.page
        }, true);

        finalTitle += ' (' + pageLabel + ')';
      }

      if (title.parent) {
        finalTitle += ' | ' + title.parent;
      }

      document.title = finalTitle + ' | ' + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.default = new PageTitle();

},{}],250:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Polls = exports.Polls = function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;

      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);

            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.default = new Polls();

},{}],251:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Posting = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _posting = require('../components/posting');

var _posting2 = _interopRequireDefault(_posting);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Posting = exports.Posting = function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    this.close = function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._placeholder.removeClass('slide-in');

        window.setTimeout(function () {
          _reactDom2.default.unmountComponentAtNode(document.getElementById('posting-mount'));
          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    };
  }

  _createClass(Posting, [{
    key: 'init',
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);

      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: 'open',
    value: function open(props) {
      if (this._isOpen === false) {
        this._isOpen = props.config;
        this._realOpen(props);
      } else if (this._isOpen !== props.config) {
        var changeForm = confirm(gettext("You are already working on other message. Do you want to discard it?"));
        if (changeForm) {
          this._isOpen = props.config;
          this._realOpen(props);
        }
      }
    }

    // jshint ignore:start

  }, {
    key: '_realOpen',

    // jshint ignore:end
    value: function _realOpen(props) {
      (0, _mountComponent2.default)(_react2.default.createElement(_posting2.default, props), 'posting-mount');

      this._placeholder.addClass('slide-in');

      $('html, body').animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.default = new Posting();

},{"../components/posting":61,"../utils/mount-component":262,"react":"react","react-dom":"react-dom"}],252:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _snackbar = require('../reducers/snackbar');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = exports.Snackbar = function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: 'init',
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: 'alert',
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));
        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    }

    // shorthands for message types

  }, {
    key: 'info',
    value: function info(message) {
      this.alert(message, 'info');
    }
  }, {
    key: 'success',
    value: function success(message) {
      this.alert(message, 'success');
    }
  }, {
    key: 'warning',
    value: function warning(message) {
      this.alert(message, 'warning');
    }
  }, {
    key: 'error',
    value: function error(message) {
      this.alert(message, 'error');
    }

    // shorthand for api errors

  }, {
    key: 'apiError',
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.default = new Snackbar();

},{"../reducers/snackbar":236}],253:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StoreWrapper = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _redux = require('redux');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StoreWrapper = exports.StoreWrapper = function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: 'addReducer',
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: 'init',
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: 'getStore',
    value: function getStore() {
      return this._store;
    }

    // Store API

  }, {
    key: 'getState',
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: 'dispatch',
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.default = new StoreWrapper();

},{"redux":"redux"}],254:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global zxcvbn */

var Zxcvbn = exports.Zxcvbn = function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      return zxcvbn(password, inputs).score;
    }
  }, {
    key: "load",
    value: function load() {
      if (typeof zxcvbn === "undefined") {
        this._include.include('misago/js/zxcvbn.js');
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.default = new Zxcvbn();

},{}],255:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (ban, changeState) {
  _reactDom2.default.render(
  /* jshint ignore:start */
  _react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,
      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })
  ),
  /* jshint ignore:end */
  document.getElementById('page-mount'));

  if (typeof changeState === 'undefined' || changeState) {
    var forumName = _index2.default.get('SETTINGS').forum_name;
    document.title = gettext("You are banned") + ' | ' + forumName;
    window.history.pushState({}, "", _index2.default.get('BANNED_URL'));
  }
};

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _bannedPage = require('../components/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:line

/* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
var select = function select(state) {
  return state.tick;
}; // jshint ignore:line
// jshint ignore:line


var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);
/* jshint ignore:end */

},{"../components/banned-page":3,"../index":191,"../services/store":253,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],256:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (list, rowWidth) {
  var padding = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];

  var rows = [];
  var row = [];

  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
};

},{}],257:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
};

},{}],258:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _class = function () {
  function _class(callback, count) {
    _classCallCheck(this, _class);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_class, [{
    key: "count",
    value: function count() {
      this._count -= 1;
      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _class;
}();

exports.default = _class;

},{}],259:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
};

var map = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#039;'
};

},{}],260:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + ' GB';
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + ' MB';
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + ' KB';
  } else {
    return roundSize(bytes) + ' B';
  }
};

exports.roundSize = roundSize;
function roundSize(value) {
  return value.toFixed(1);
}

},{}],261:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (str) {
  return URL_PATTERN.test($.trim(str));
};

var URL_PATTERN = new RegExp('^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$', 'i');

},{}],262:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (Component, rootElementId) {
  var connected = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];

  var rootElement = document.getElementById(rootElementId);

  /* jshint ignore:start */
  var finalComponent = Component.props ? Component : _react2.default.createElement(Component, null);
  /* jshint ignore:end */

  if (rootElement) {
    if (connected) {
      _reactDom2.default.render(
      /* jshint ignore:start */
      _react2.default.createElement(
        _reactRedux.Provider,
        { store: _store2.default.getStore() },
        finalComponent
      ),
      /* jshint ignore:end */
      rootElement);
    } else {
      /* jshint ignore:start */
      _reactDom2.default.render(finalComponent, rootElement);
      /* jshint ignore:end */
    }
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../services/store":253,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],263:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var OrderedList = function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,

        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === 'undefined') {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

exports.default = OrderedList;

},{}],264:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;
function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],265:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  window.scrollTo(0, 0);
};

},{}],266:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(_reactRouter.Router, { routes: routes, history: _reactRouter.browserHistory })
  ), rootElement);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _reactRouter = require('react-router');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById('page-mount'); // jshint ignore:start

},{"../services/store":253,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],267:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],268:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();

  if (subString.length <= 0) return 0;

  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
};

},{}],269:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp('^[0-9a-z]+$', 'i');

function required() {
  return function (value) {
    if ($.trim(value).length === 0) {
      return gettext("This field is required.");
    }
  };
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(settings) {
  var message = function message(limitValue) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", limitValue);
  };
  return this.minLength(settings.username_length_min, message);
}

function usernameMaxLength(settings) {
  var message = function message(limitValue) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", limitValue);
  };
  return this.maxLength(settings.username_length_max, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(settings) {
  var message = function message(limitValue) {
    return ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);
  };
  return this.minLength(settings.password_length_min, message);
}

},{}]},{},[191,192,193,194,208,209,210,211,212,213,214,215,227,228,229,230,195,196,197,198,199,200,201,202,203,204,205,206,207,216,217,218,219,220,221,222,223,224,225,226])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9hdmF0YXIuanMiLCJzcmMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnktc3ViY2F0ZWdvcmllcy5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2xhc3QtYWN0aXZpdHkuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL3JlYWQtaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL3N1YmNhdGVnb3J5LXN1YmNhdGVnb3JpZXMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3AuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnkuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9jb2RlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvZW1waGFzaXMuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9oci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2ltYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvbGluay5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL3F1b3RlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvc3RyaWtldHJvdWdoLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvc3Ryb25nLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvY29tcGxldGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9lcnJvci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvdXBsb2FkLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2xpc3QuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvdXBsb2FkLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9tYXJrdXAtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci90ZXh0VXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9mb3JtLWdyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2xpLmpzIiwic3JjL2NvbXBvbmVudHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cC5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvYWRpbmcuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvY2tlZC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9mb3J1bS1vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1lbWFpbC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtcGFzc3dvcmQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3BhZ2UtbGVhZC5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvZWRpdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3JlcGx5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9zdGFydC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvYXR0YWNobWVudHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2NvbnRhaW5lci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy92YWxpZGF0b3JzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2luZm8uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L21lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYXR0YWNobWVudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYm9keS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2Ryb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvc3BsaXQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvZmxhZ3MuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvZm9vdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3Qvd2F5cG9pbnQuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2Jhbi1kZXRhaWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3ctYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd3MuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2RlbGV0ZS1hY2NvdW50LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL25hdi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbmF2cy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsuanMiLCJzcmMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC5qcyIsInNyYy9jb21wb25lbnRzL3NlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL3NpZ24taW4uanMiLCJzcmMvY29tcG9uZW50cy9zbmFja2Jhci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvYnJlYWRjcnVtYnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9zdGF0cy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9zcGxpdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pcy12aXNpYmxlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcGFnaW5hdG9yLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JlcGx5LWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3N1YnNjcmlwdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC90b29sYmFyLXRvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2NhdGVnb3J5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NvbXBhY3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvZnVsbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZmxhZ3MuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2ljb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NhdGVnb3J5LXBpY2tlci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvY29tcGFyZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvY29udGFpbmVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2xpc3QtZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbWVyZ2UuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9zZWxlY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS9ndWVzdC1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS91c2VyLW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3VzZXItY2FyZC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzLWxpc3QvdXNlci1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbS1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LWxvYWRpbmcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL3BhZ2VyLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoLmpzIiwic3JjL2luZGV4LmpzIiwic3JjL2luaXRpYWxpemVycy9hamF4LmpzIiwic3JjL2luaXRpYWxpemVycy9hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9jYXB0Y2hhLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2F1dGgtbWVzc2FnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9jYXRlZ29yaWVzLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL29wdGlvbnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcHJvZmlsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluay5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm0uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdGhyZWFkLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3RocmVhZHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdXNlci1tZW51LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3VzZXJzLmpzIiwic3JjL2luaXRpYWxpemVycy9pbmNsdWRlLmpzIiwic3JjL2luaXRpYWxpemVycy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2RhbC5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9tZW50LWxvY2FsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcGFnZS10aXRsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcG9sbHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3Bvc3RpbmcuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Bvc3RzLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLWh5ZHJhdGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Byb2ZpbGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9zdG9yZS5qcyIsInNyYy9pbml0aWFsaXplcnMvdGljay1zdGFydC5qcyIsInNyYy9pbml0aWFsaXplcnMvenhjdmJuLmpzIiwic3JjL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvcmVkdWNlcnMvcG9zdC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9yZWR1Y2Vycy9zbmFja2Jhci5qcyIsInNyYy9yZWR1Y2Vycy90aHJlYWQuanMiLCJzcmMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9yZWR1Y2Vycy90aWNrLmpzIiwic3JjL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvc2VydmljZXMvYWpheC5qcyIsInNyYy9zZXJ2aWNlcy9hdXRoLmpzIiwic3JjL3NlcnZpY2VzL2NhcHRjaGEuanMiLCJzcmMvc2VydmljZXMvaW5jbHVkZS5qcyIsInNyYy9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24uanMiLCJzcmMvc2VydmljZXMvbW9kYWwuanMiLCJzcmMvc2VydmljZXMvcGFnZS10aXRsZS5qcyIsInNyYy9zZXJ2aWNlcy9wb2xscy5qcyIsInNyYy9zZXJ2aWNlcy9wb3N0aW5nLmpzIiwic3JjL3NlcnZpY2VzL3NuYWNrYmFyLmpzIiwic3JjL3NlcnZpY2VzL3N0b3JlLmpzIiwic3JjL3NlcnZpY2VzL3p4Y3Zibi5qcyIsInNyYy91dGlscy9iYW5uZWQtcGFnZS5qcyIsInNyYy91dGlscy9iYXRjaC5qcyIsInNyYy91dGlscy9jb25jYXQtdW5pcXVlLmpzIiwic3JjL3V0aWxzL2NvdW50ZG93bi5qcyIsInNyYy91dGlscy9lc2NhcGUtaHRtbC5qcyIsInNyYy91dGlscy9maWxlLXNpemUuanMiLCJzcmMvdXRpbHMvaXMtdXJsLmpzIiwic3JjL3V0aWxzL21vdW50LWNvbXBvbmVudC5qcyIsInNyYy91dGlscy9vcmRlcmVkLWxpc3QuanMiLCJzcmMvdXRpbHMvcmFuZG9tLmpzIiwic3JjL3V0aWxzL3Jlc2V0LXNjcm9sbC5qcyIsInNyYy91dGlscy9yb3V0ZWQtY29tcG9uZW50LmpzIiwic3JjL3V0aWxzL3NldHMuanMiLCJzcmMvdXRpbHMvc3RyaW5nLWNvdW50LmpzIiwic3JjL3V0aWxzL3ZhbGlkYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztRQzhDZ0I7O0FBOUNoQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJB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Q0FBZSxTQUFTLG1CQUFULEVBQThCLE9BQTdDLENBQVAsQ0FQMEM7Q0FBckM7O0FBVUEsU0FBUyxlQUFULEdBQTJCO0FBQ2hDLFNBQU8sVUFBUyxLQUFULEVBQWdCO0FBQ3JCLFFBQUksQ0FBQyxTQUFTLElBQVQsQ0FBYyxFQUFFLElBQUYsQ0FBTyxLQUFQLENBQWQsQ0FBRCxFQUErQjtBQUNqQyxhQUFPLFFBQVEsOERBQVIsQ0FBUCxDQURpQztLQUFuQztHQURLLENBRHlCO0NBQTNCOztBQVFBLFNBQVMsaUJBQVQsQ0FBMkIsUUFBM0IsRUFBcUM7QUFDMUMsTUFBSSxVQUFVLFNBQVYsT0FBVSxDQUFTLFVBQVQsRUFBcUI7QUFDakMsV0FBTyxTQUNMLGlFQURLLEVBRUwsa0VBRkssRUFHTCxVQUhLLENBQVAsQ0FEaUM7R0FBckIsQ0FENEI7QUFPMUMsU0FBTyxLQUFLLFNBQUwsQ0FBZSxTQUFTLG1CQUFULEVBQThCLE9BQTdDLENBQVAsQ0FQMEM7Q0FBckMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZWZyZXNoKCkge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfVxuXG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2lnbmVkSW4pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIllvdSBoYXZlIHNpZ25lZCBpbiBhcyAlKHVzZXJuYW1lKXMuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGJlZm9yZSBjb250aW51aW5nLlwiKSxcbiAgICAgICAge3VzZXJuYW1lOiB0aGlzLnByb3BzLnNpZ25lZEluLnVzZXJuYW1lfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNpZ25lZE91dCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3UgaGF2ZSBiZWVuIHNpZ25lZCBvdXQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGJlZm9yZSBjb250aW51aW5nLlwiKSxcbiAgICAgICAge3VzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWV9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2lnbmVkSW4gfHwgdGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIHJldHVybiBcImF1dGgtbWVzc2FnZSBzaG93XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImF1dGgtbWVzc2FnZVwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRNZXNzYWdlKCl9PC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5yZWZyZXNofT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVsb2FkIHBhZ2VcIil9XG4gICAgICAgICAgPC9idXR0b24+IDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi14cyBoaWRkZW4tc20gdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJvciBwcmVzcyBGNSBrZXkuXCIpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLmF1dGgudXNlcixcbiAgICBzaWduZWRJbjogc3RhdGUuYXV0aC5zaWduZWRJbixcbiAgICBzaWduZWRPdXQ6IHN0YXRlLmF1dGguc2lnbmVkT3V0XG4gIH07XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgQkFTRV9VUkwgPSAkKCdiYXNlJykuYXR0cignaHJlZicpICsgJ3VzZXItYXZhdGFyLyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGltZ1xuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ3VzZXItYXZhdGFyJ31cbiAgICAgIHNyYz17Z2V0U3JjKHByb3BzKX1cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVXNlciBhdmF0YXJcIil9XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNyYyhwcm9wcykge1xuICBjb25zdCBzaXplID0gcHJvcHMuc2l6ZSB8fCAxMDA7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICBsZXQgdXJsID0gQkFTRV9VUkw7XG5cbiAgaWYgKHByb3BzLnVzZXIgJiYgcHJvcHMudXNlci5pZCkge1xuICAgIC8vIGp1c3QgYXZhdGFyIGhhc2gsIHNpemUgYW5kIHVzZXIgaWRcbiAgICB1cmwgKz0gcHJvcHMudXNlci5hdmF0YXJfaGFzaCArICcvJyArIHNpemUgKyAnLycgKyBwcm9wcy51c2VyLmlkICsgJy5wbmcnO1xuICB9IGVsc2Uge1xuICAgIC8vIGp1c3QgYXBwZW5kIGF2YXRhciBzaXplIHRvIGZpbGUgdG8gcHJvZHVjZSBuby1hdmF0YXIgcGxhY2Vob2xkZXJcbiAgICB1cmwgKz0gc2l6ZSArICcucG5nJztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRSZWFzb25NZXNzYWdlKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5tZXNzYWdlLmh0bWwpIHtcbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxlYWRcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5tZXNzYWdlLmh0bWxcbiAgICAgICAgfX0gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMubWVzc2FnZS5wbGFpbn08L3A+O1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZXhwaXJlcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZXhwaXJlcy5pc0FmdGVyKG1vbWVudCgpKSkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzIG9uICUoZXhwaXJlc19vbilzLlwiKSwge1xuICAgICAgICAgICAgJ2V4cGlyZXNfb24nOiB0aGlzLnByb3BzLmV4cGlyZXMuZm9ybWF0KCdMTCwgTFQnKVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMucHJvcHMuZXhwaXJlcy5mcm9tTm93KClcbiAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gPGFiYnIgdGl0bGU9e3RpdGxlfT5cbiAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgPC9hYmJyPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaGFzIGV4cGlyZWQuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGlzIHBlcm1hbmVudC5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtZXJyb3IgcGFnZS1lcnJvci1iYW5uZWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5oaWdobGlnaHRfb2ZmPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRSZWFzb25NZXNzYWdlKCl9XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlLWZvb3Rub3RlXCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldEV4cGlyYXRpb25NZXNzYWdlKCl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9ICdidG4gJyArIHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgIGxldCBkaXNhYmxlZCA9IHRoaXMucHJvcHMuZGlzYWJsZWQ7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBidG4tbG9hZGluZyc7XG4gICAgICBkaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIHR5cGU9e3RoaXMucHJvcHMub25DbGljayA/ICdidXR0b24nIDogJ3N1Ym1pdCd9XG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGlja30+XG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIHt0aGlzLnByb3BzLmxvYWRpbmcgPyA8TG9hZGVyIC8+IDogbnVsbH1cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5cbkJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogXCJidG4tZGVmYXVsdFwiLFxuXG4gIHR5cGU6IFwic3VibWl0XCIsXG5cbiAgbG9hZGluZzogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZSxcblxuICBvbkNsaWNrOiBudWxsXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMYXN0QWN0aXZpdHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9sYXN0LWFjdGl2aXR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhZEljb24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9yZWFkLWljb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdGF0cyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3N0YXRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3ViY2F0ZWdvcnlTdWJjYXRlZ29yaWVzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3ViY2F0ZWdvcnktc3ViY2F0ZWdvcmllcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWJjYXRlZ29yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtIGNhdGVnb3J5LXN1YmNhdGVnb3J5IHN1YmNhdGVnb3J5LScgKyB0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gY2F0ZWdvcnktc3ViY2F0ZWdvcnknO1xuICAgIH1cbiAgfVxuXG4gIGdldERlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJzdWJjYXRlZ29yeS1kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMuY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbFxuICAgICAgICAgICAgICAgICAgfX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTdWJjYXRlZ29yaWVzKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubGVuZ3RoKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPFN1YmNhdGVnb3J5U3ViY2F0ZWdvcmllcyBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3J5LnN1YmNhdGVnb3JpZXN9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlLXJvd1wiPlxuICAgICAgICA8aDQ+XG4gICAgICAgICAgPFJlYWRJY29uIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPlxuICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5uYW1lfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9oND5cbiAgICAgICAgPFN0YXRzIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxMYXN0QWN0aXZpdHkgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG5cbiAgICAgIHt0aGlzLmdldERlc2NyaXB0aW9uKCl9XG4gICAgICB7dGhpcy5nZXRTdWJjYXRlZ29yaWVzKCl9XG5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgY2F0ZWdvcnktc3ViY2F0ZWdvcmllc1wiPlxuICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5KSA9PiB7XG4gICAgICAgIHJldHVybiA8U3ViY2F0ZWdvcnkgY2F0ZWdvcnk9e2NhdGVnb3J5fSBrZXk9e2NhdGVnb3J5LmlkfSAvPjtcbiAgICAgIH0pfVxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhdGVnb3J5U3ViY2F0ZWdvcmllcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5LXN1YmNhdGVnb3JpZXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMYXN0QWN0aXZpdHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9sYXN0LWFjdGl2aXR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhZEljb24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9yZWFkLWljb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdGF0cyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3N0YXRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICdwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWNhdGVnb3J5IHBhbmVsLWNhdGVnb3J5LScgKyB0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWNhdGVnb3J5JztcbiAgICB9XG4gIH1cblxuICBnZXRIZWFkaW5nQ2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gJ3BhbmVsLWhlYWRpbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3BhbmVsLWhlYWRpbmcgaGVhZGluZy1hbG9uZSc7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5kZXNjcmlwdGlvbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBjYXRlZ29yeS1kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMuY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbFxuICAgICAgICAgICAgICAgICAgfX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTdWJjYXRlZ29yaWVzKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubGVuZ3RoKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPENhdGVnb3J5U3ViY2F0ZWdvcmllcyBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3J5LnN1YmNhdGVnb3JpZXN9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBpZD17J3BhbmVsLWNhdGVnb3J5LScgKyB0aGlzLnByb3BzLmNhdGVnb3J5LmlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRIZWFkaW5nQ2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmctaW5ibG9ja1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZy10b3Atcm93XCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj5cbiAgICAgICAgICAgICAgPFJlYWRJY29uIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPlxuICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8U3RhdHMgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPExhc3RBY3Rpdml0eSBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RoaXMuZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpfVxuICAgICAge3RoaXMuZ2V0U3ViY2F0ZWdvcmllcygpfVxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgTEFTVF9QT1NURVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuY29uc3QgTEFTVF9QT1NURVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBUSFJFQURfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPiUodGhyZWFkKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVF9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYT4nO1xuXG5leHBvcnQgY2xhc3MgTGFzdFBvc3RNZXNzYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGFzdFBvc3RlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rlcl91cmwpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShMQVNUX1BPU1RFUl9VUkwsIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0ZXJfdXJsKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUE9TVEVSX1NQQU4sIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRMYXN0VGhyZWFkKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShUSFJFQURfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3RocmVhZF91cmwpLFxuICAgICAgdGhyZWFkOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRMYXN0UmVwbHlEYXRlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShMQVNUX1BPU1RfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3RfdXJsKSxcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0X29uLmZvcm1hdCgnTExMJykpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rfb24uZnJvbU5vdygpKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiY2F0ZWdvcnktbGFzdC1wb3N0XCJcbiAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBpbnRlcnBvbGF0ZShcbiAgICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcIkxhc3QgcG9zdCBpbiAlKHRocmVhZClzIGJ5ICUodXNlcilzICUoZGF0ZSlzXCIpKSwge1xuICAgICAgICB0aHJlYWQ6IHRoaXMuZ2V0TGFzdFRocmVhZCgpLFxuICAgICAgICBkYXRlOiB0aGlzLmdldExhc3RSZXBseURhdGUoKSxcbiAgICAgICAgdXNlcjogdGhpcy5nZXRMYXN0UG9zdGVyKClcbiAgICAgIH0sIHRydWUpfX0gLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW1wdHlNZXNzYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiY2F0ZWdvcnktdGhyZWFkLW1lc3NhZ2VcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZXJyb3Jfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAge2dldHRleHQoXCJUaGlzIGNhdGVnb3J5IGlzIGVtcHR5LlwiKX1cbiAgICA8L3A+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByaXZhdGVNZXNzYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiY2F0ZWdvcnktdGhyZWFkLW1lc3NhZ2VcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaXMgcHJpdmF0ZS4gWW91IGNhbiBzZWUgb25seSB5b3VyIG93biB0aHJlYWRzIHdpdGhpbiBpdC5cIil9XG4gICAgPC9wPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0ZWRNZXNzYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiY2F0ZWdvcnktdGhyZWFkLW1lc3NhZ2VcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgaGlnaGxpZ2h0X29mZlxuICAgICAgPC9zcGFuPlxuICAgICAge2dldHRleHQoXCJUaGlzIGNhdGVnb3J5IGlzIHByb3RlY3RlZC4gWW91IGNhbid0IGJyb3dzZSBpdCdzIGNvbnRlbnRzLlwiKX1cbiAgICA8L3A+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5jYXRlZ29yeS5hY2wuY2FuX3NlZV9hbGxfdGhyZWFkcykge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8UHJpdmF0ZU1lc3NhZ2UgLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGUpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExhc3RQb3N0TWVzc2FnZSBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8RW1wdHlNZXNzYWdlIC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPFByb3RlY3RlZE1lc3NhZ2UgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiAncmVhZC1zdGF0dXMgaXRlbS1yZWFkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdyZWFkLXN0YXR1cyBpdGVtLW5ldyc7XG4gICAgfVxuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbm8gbmV3IHBvc3RzLiAoY2xvc2VkKVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbmV3IHBvc3RzLiAoY2xvc2VkKVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5vIG5ldyBwb3N0cy5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19jbG9zZWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgICAgcmV0dXJuICdsb2NrX291dGxpbmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdsb2NrJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgICByZXR1cm4gJ2NoYXRfYnViYmxlX291dGxpbmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdjaGF0X2J1YmJsZSc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHRpdGxlPXt0aGlzLmdldFRpdGxlKCl9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhdGVnb3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuXG5sZXQgaHlkcmF0ZSA9IGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjYXRlZ29yeSwge1xuICAgIGxhc3RfcG9zdF9vbjogY2F0ZWdvcnkubGFzdF9wb3N0X29uID8gbW9tZW50KGNhdGVnb3J5Lmxhc3RfcG9zdF9vbikgOiBudWxsLFxuICAgIHN1YmNhdGVnb3JpZXM6IGNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubWFwKGh5ZHJhdGUpXG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjYXRlZ29yaWVzOiBtaXNhZ28uZ2V0KCdDQVRFR09SSUVTJykubWFwKGh5ZHJhdGUpXG4gICAgfTtcblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVNfQVBJJykpO1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICdjYXRlZ29yaWVzJyxcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiAxODAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB1cGRhdGUgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2F0ZWdvcmllczogZGF0YS5tYXAoaHlkcmF0ZSlcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3JpZXMtbGlzdFwiPlxuICAgICAge3RoaXMuc3RhdGUuY2F0ZWdvcmllcy5tYXAoZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuIDxDYXRlZ29yeSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+O1xuICAgICAgfSl9XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgICd0aWNrJzogc3RvcmUudGljay50aWNrLFxuICB9O1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VGhyZWFkc0NvdW50KCkge1xuICAgIGxldCBzdHJpbmcgPSBuZ2V0dGV4dChcbiAgICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkXCIsXG4gICAgICBcIiUodGhyZWFkcylzIHRocmVhZHNcIixcbiAgICAgIHRoaXMucHJvcHMuY2F0ZWdvcnkudGhyZWFkcyk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoc3RyaW5nLCB7XG4gICAgICAndGhyZWFkcyc6IHRoaXMucHJvcHMuY2F0ZWdvcnkudGhyZWFkc1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0UG9zdHNDb3VudCgpIHtcbiAgICBsZXQgc3RyaW5nID0gbmdldHRleHQoXG4gICAgICBcIiUocG9zdHMpcyBwb3N0XCIsXG4gICAgICBcIiUocG9zdHMpcyBwb3N0c1wiLFxuICAgICAgdGhpcy5wcm9wcy5jYXRlZ29yeS5wb3N0cyk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoc3RyaW5nLCB7XG4gICAgICAncG9zdHMnOiB0aGlzLnByb3BzLmNhdGVnb3J5LnBvc3RzXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgY2F0ZWdvcnktc3RhdHNcIj5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS10aHJlYWRzXCI+XG4gICAgICAgIHt0aGlzLmdldFRocmVhZHNDb3VudCgpfVxuICAgICAgPC9saT5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS1wb3N0c1wiPlxuICAgICAgICB7dGhpcy5nZXRQb3N0c0NvdW50KCl9XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFN1YmNhdGVnb3J5U3ViY2F0ZWdvcmllcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3N1YmNhdGVnb3J5LXN1YmNhdGVnb3JpZXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ViY2F0ZWdvcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gJ3N1YmNhdGVnb3J5IHN1YmNhdGVnb3J5LScgKyB0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdzdWJjYXRlZ29yeSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpPlxuICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmx9XG4gICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5uYW1lfVxuICAgICAgPC9hPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgc3ViY2F0ZWdvcmllcy1saXN0XCI+XG4gICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxTdWJjYXRlZ29yeSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+O1xuICAgICAgfSl9XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHNlbGVjdFxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ2Zvcm0tY29udHJvbCd9XG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICBpZD17cHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgIG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX1cbiAgICAgIHZhbHVlPXtwcm9wcy52YWx1ZX1cbiAgICA+XG4gICAgICB7cHJvcHMuY2hvaWNlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICBkaXNhYmxlZD17aXRlbS5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgICAgICAgIGtleT17aXRlbS52YWx1ZX1cbiAgICAgICAgICAgIHZhbHVlPXtpdGVtLnZhbHVlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsnLSAtICcucmVwZWF0KGl0ZW0ubGV2ZWwpICsgaXRlbS5sYWJlbH1cbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvc2VsZWN0PlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmNvbnN0IEJBU0VfVVJMID0gJCgnYmFzZScpLmF0dHIoJ2hyZWYnKSArICd1c2VyLWF2YXRhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGdldEF2YXRhclNpemUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3BfdG1wLnNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9vcmcuc2l6ZTtcbiAgICB9XG4gIH1cblxuICBnZXRBdmF0YXJTZWNyZXQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3BfdG1wLnNlY3JldDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX29yZy5zZWNyZXQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXZhdGFySGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy51cGxvYWQgfHwgdGhpcy5wcm9wcy51c2VyLmF2YXRhcl9oYXNoO1xuICB9XG5cbiAgZ2V0SW1hZ2VQYXRoKCkge1xuICAgIHJldHVybiBbXG4gICAgICBCQVNFX1VSTCxcbiAgICAgIHRoaXMuZ2V0QXZhdGFyU2VjcmV0KCkgKyAnOicgKyB0aGlzLmdldEF2YXRhckhhc2goKSxcbiAgICAgIHRoaXMucHJvcHMudXNlci5pZCArICcucG5nJ1xuICAgIF0uam9pbignLycpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgbGV0IGNyb3BpdCA9ICQoJy5jcm9wLWZvcm0nKTtcbiAgICBjcm9waXQud2lkdGgodGhpcy5nZXRBdmF0YXJTaXplKCkpO1xuXG4gICAgY3JvcGl0LmNyb3BpdCh7XG4gICAgICAnd2lkdGgnOiB0aGlzLmdldEF2YXRhclNpemUoKSxcbiAgICAgICdoZWlnaHQnOiB0aGlzLmdldEF2YXRhclNpemUoKSxcbiAgICAgICdpbWFnZVN0YXRlJzoge1xuICAgICAgICAnc3JjJzogdGhpcy5nZXRJbWFnZVBhdGgoKVxuICAgICAgfSxcbiAgICAgIG9uSW1hZ2VMb2FkZWQ6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICAgICAgLy8gY2VudGVyIHVwbG9hZGVkIGltYWdlXG4gICAgICAgICAgbGV0IHpvb21MZXZlbCA9IGNyb3BpdC5jcm9waXQoJ3pvb20nKTtcbiAgICAgICAgICBsZXQgaW1hZ2VTaXplID0gY3JvcGl0LmNyb3BpdCgnaW1hZ2VTaXplJyk7XG5cbiAgICAgICAgICAvLyBpcyBpdCB3aWRlciB0aGFuIHRhbGxlcj9cbiAgICAgICAgICBpZiAoaW1hZ2VTaXplLndpZHRoID4gaW1hZ2VTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXllZFdpZHRoID0gKGltYWdlU2l6ZS53aWR0aCAqIHpvb21MZXZlbCk7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0WCA9IChkaXNwbGF5ZWRXaWR0aCAtIHRoaXMuZ2V0QXZhdGFyU2l6ZSgpKSAvIC0yO1xuXG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgICd4Jzogb2Zmc2V0WCxcbiAgICAgICAgICAgICAgJ3knOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlU2l6ZS53aWR0aCA8IGltYWdlU2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5ZWRIZWlnaHQgPSAoaW1hZ2VTaXplLmhlaWdodCAqIHpvb21MZXZlbCk7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0WSA9IChkaXNwbGF5ZWRIZWlnaHQgLSB0aGlzLmdldEF2YXRhclNpemUoKSkgLyAtMjtcblxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdCgnb2Zmc2V0Jywge1xuICAgICAgICAgICAgICAneCc6IDAsXG4gICAgICAgICAgICAgICd5Jzogb2Zmc2V0WVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ29mZnNldCcsIHtcbiAgICAgICAgICAgICAgJ3gnOiAwLFxuICAgICAgICAgICAgICAneSc6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1c2UgcHJlc2VydmVkIGNyb3BcbiAgICAgICAgICBsZXQgY3JvcCA9IHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX29yZy5jcm9wO1xuICAgICAgICAgIGlmIChjcm9wKSB7XG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCd6b29tJywgY3JvcC56b29tKTtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ29mZnNldCcsIHtcbiAgICAgICAgICAgICAgJ3gnOiBjcm9wLngsXG4gICAgICAgICAgICAgICd5JzogY3JvcC55XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICQoJy5jcm9wLWZvcm0nKS5jcm9waXQoJ2Rpc2FibGUnKTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY3JvcEF2YXRhciA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG5cbiAgICBsZXQgYXZhdGFyVHlwZSA9IHRoaXMucHJvcHMudXBsb2FkID8gJ2Nyb3BfdG1wJyA6ICdjcm9wX29yZyc7XG4gICAgbGV0IGNyb3BpdCA9ICQoJy5jcm9wLWZvcm0nKTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIHtcbiAgICAgICdhdmF0YXInOiBhdmF0YXJUeXBlLFxuICAgICAgJ2Nyb3AnOiB7XG4gICAgICAgICdvZmZzZXQnOiBjcm9waXQuY3JvcGl0KCdvZmZzZXQnKSxcbiAgICAgICAgJ3pvb20nOiBjcm9waXQuY3JvcGl0KCd6b29tJylcbiAgICAgIH1cbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUoZGF0YS5hdmF0YXJfaGFzaCwgZGF0YS5vcHRpb25zKTtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZGF0YS5kZXRhaWwpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItY3JvcFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyb3AtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3JvcGl0LXByZXZpZXdcIj48L2Rpdj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgY2xhc3NOYW1lPVwiY3JvcGl0LWltYWdlLXpvb20taW5wdXRcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jcm9wQXZhdGFyfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnVwbG9hZCA/IGdldHRleHQoXCJTZXQgYXZhdGFyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiQ3JvcCBpbWFnZVwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGJhdGNoIGZyb20gJ21pc2Fnby91dGlscy9iYXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgR2FsbGVyeUl0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNlbGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdCh0aGlzLnByb3BzLmltYWdlKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uID09PSB0aGlzLnByb3BzLmltYWdlKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyIGJ0bi1kaXNhYmxlZCBhdmF0YXItc2VsZWN0ZWQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhciBhdmF0YXItc2VsZWN0ZWQnO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhciBidG4tZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdH0+XG4gICAgICA8aW1nIHNyYz17bWlzYWdvLmdldCgnTUVESUFfVVJMJykgKyB0aGlzLnByb3BzLmltYWdlfSAvPlxuICAgIDwvYnV0dG9uPlxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdhbGxlcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhcnMtZ2FsbGVyeVwiPlxuICAgICAgPGgzPnt0aGlzLnByb3BzLm5hbWV9PC9oMz5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJzLWdhbGxlcnktaW1hZ2VzXCI+XG4gICAgICAgIHtiYXRjaCh0aGlzLnByb3BzLmltYWdlcywgNCwgbnVsbCkubWFwKChyb3csIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyb3dcIiBrZXk9e2l9PlxuICAgICAgICAgICAge3Jvdy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIiBrZXk9e2l9PlxuICAgICAgICAgICAgICAgIHtpdGVtID8gPEdhbGxlcnlJdGVtIGltYWdlPXtpdGVtfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdD17dGhpcy5wcm9wcy5zZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA6IDxkaXYgY2xhc3NOYW1lPVwiYmxhbmstYXZhdGFyXCIgLz59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnc2VsZWN0aW9uJzogbnVsbCxcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNlbGVjdCA9IChpbWFnZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0aW9uOiBpbWFnZVxuICAgIH0pO1xuICB9O1xuXG4gIHNhdmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmF2YXRhciwge1xuICAgICAgYXZhdGFyOiAnZ2FsbGVyaWVzJyxcbiAgICAgIGltYWdlOiB0aGlzLnN0YXRlLnNlbGVjdGlvblxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHJlc3BvbnNlLmF2YXRhcl9oYXNoLCByZXNwb25zZS5vcHRpb25zKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWdhbGxlcnlcIj5cblxuICAgICAgICB7dGhpcy5wcm9wcy5vcHRpb25zLmdhbGxlcmllcy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPEdhbGxlcnkgbmFtZT17aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXM9e2l0ZW0uaW1hZ2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMuc3RhdGUuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdD17dGhpcy5zZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aX0gLz47XG4gICAgICAgIH0pfVxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnNhdmV9XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc2VsZWN0aW9uID8gZ2V0dGV4dChcIlNhdmUgY2hvaWNlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJTZWxlY3QgYXZhdGFyXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY2FsbEFwaShhdmF0YXJUeXBlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmF2YXRhciwge1xuICAgICAgYXZhdGFyOiBhdmF0YXJUeXBlXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbCk7XG4gICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUocmVzcG9uc2UuYXZhdGFyX2hhc2gsIHJlc3BvbnNlLm9wdGlvbnMpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNldEdyYXZhdGFyID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaSgnZ3JhdmF0YXInKTtcbiAgfTtcblxuICBzZXRHZW5lcmF0ZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKCdnZW5lcmF0ZWQnKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRHcmF2YXRhckJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmdyYXZhdGFyKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnNldEdyYXZhdGFyfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdyYXZhdGFyXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiRG93bmxvYWQgbXkgR3JhdmF0YXJcIil9XG4gICAgICA8L0J1dHRvbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDcm9wQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9vcmcpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0Nyb3B9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItY3JvcFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlJlLWNyb3AgdXBsb2FkZWQgaW1hZ2VcIil9XG4gICAgICA8L0J1dHRvbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVcGxvYWRCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd1VwbG9hZH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci11cGxvYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJVcGxvYWQgbmV3IGltYWdlXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0R2FsbGVyeUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmdhbGxlcmllcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93R2FsbGVyeX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nYWxsZXJ5XCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiUGljayBhdmF0YXIgZnJvbSBnYWxsZXJ5XCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXZhdGFyUHJldmlldygpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IHVzZXJQZXZpZXcgPSB7XG4gICAgICBpZDogdGhpcy5wcm9wcy51c2VyLmlkLFxuICAgICAgYXZhdGFyX2hhc2g6IHRoaXMucHJvcHMub3B0aW9ucy5hdmF0YXJfaGFzaFxuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItcHJldmlldyBwcmV2aWV3LWxvYWRpbmdcIj5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt1c2VyUGV2aWV3fSBzaXplPVwiMjAwXCIgLz5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXdcIj5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt1c2VyUGV2aWV3fSBzaXplPVwiMjAwXCIgLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1pbmRleFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNVwiPlxuXG4gICAgICAgICAge3RoaXMuZ2V0QXZhdGFyUHJldmlldygpfVxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC03XCI+XG5cbiAgICAgICAgICB7dGhpcy5nZXRHcmF2YXRhckJ1dHRvbigpfVxuXG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnNldEdlbmVyYXRlZH1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdlbmVyYXRlXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkdlbmVyYXRlIG15IGluZGl2aWR1YWwgYXZhdGFyXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAge3RoaXMuZ2V0Q3JvcEJ1dHRvbigpfVxuICAgICAgICAgIHt0aGlzLmdldFVwbG9hZEJ1dHRvbigpfVxuICAgICAgICAgIHt0aGlzLmdldEdhbGxlcnlCdXR0b24oKX1cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXJJbmRleCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyQ3JvcCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3AnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXJVcGxvYWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci91cGxvYWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXJHYWxsZXJ5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvZ2FsbGVyeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHVwZGF0ZUF2YXRhciB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgQ2hhbmdlQXZhdGFyRXJyb3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRFcnJvclJlYXNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yZWFzb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogdGhpcy5wcm9wcy5yZWFzb259fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHJlbW92ZV9jaXJjbGVfb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIHt0aGlzLmdldEVycm9yUmVhc29uKCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmF2YXRhcikudGhlbigob3B0aW9ucykgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdjb21wb25lbnQnOiBBdmF0YXJJbmRleCxcbiAgICAgICAgJ29wdGlvbnMnOiBvcHRpb25zLFxuICAgICAgICAnZXJyb3InOiBudWxsXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNob3dFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93RXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGVycm9yXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd0luZGV4ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckluZGV4XG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd1VwbG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJVcGxvYWRcbiAgICB9KTtcbiAgfTtcblxuICBzaG93Q3JvcCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJDcm9wXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd0dhbGxlcnkgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFyR2FsbGVyeVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbXBsZXRlRmxvdyA9IChhdmF0YXJIYXNoLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQXZhdGFyKHRoaXMucHJvcHMudXNlciwgYXZhdGFySGFzaCkpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFySW5kZXgsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Qm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPENoYW5nZUF2YXRhckVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3IuZGV0YWlsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbj17dGhpcy5zdGF0ZS5lcnJvci5yZWFzb259IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPHRoaXMuc3RhdGUuY29tcG9uZW50IG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZT17dGhpcy5jb21wbGV0ZUZsb3d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnNob3dFcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5kZXg9e3RoaXMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDcm9wPXt0aGlzLnNob3dDcm9wfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dVcGxvYWQ9e3RoaXMuc2hvd1VwbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93R2FsbGVyeT17dGhpcy5zaG93R2FsbGVyeX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TG9hZGVyIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICBpZiAodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1jaGFuZ2UtYXZhdGFyXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1jaGFuZ2UtYXZhdGFyXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgYXZhdGFyXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLmdldEJvZHkoKX1cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgICd1c2VyJzogc3RhdGUuYXV0aC51c2VyXG4gIH07XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhckNyb3AgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBmaWxlU2l6ZSBmcm9tICdtaXNhZ28vdXRpbHMvZmlsZS1zaXplJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaW1hZ2UnOiBudWxsLFxuICAgICAgJ3ByZXZpZXcnOiBudWxsLFxuICAgICAgJ3Byb2dyZXNzJzogMCxcbiAgICAgICd1cGxvYWRlZCc6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIHZhbGlkYXRlRmlsZShpbWFnZSkge1xuICAgIGlmIChpbWFnZS5zaXplID4gdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5saW1pdCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJTZWxlY3RlZCBmaWxlIGlzIHRvbyBiaWcuICglKGZpbGVzaXplKXMpXCIpLCB7XG4gICAgICAgICdmaWxlc2l6ZSc6IGZpbGVTaXplKGltYWdlLnNpemUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICBsZXQgaW52YWxpZFR5cGVNc2cgPSBnZXR0ZXh0KFwiU2VsZWN0ZWQgZmlsZSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmFsbG93ZWRfbWltZV90eXBlcy5pbmRleE9mKGltYWdlLnR5cGUpID09PSAtMSkge1xuICAgICAgcmV0dXJuIGludmFsaWRUeXBlTXNnO1xuICAgIH1cblxuICAgIGxldCBleHRlbnNpb25Gb3VuZCA9IGZhbHNlO1xuICAgIGxldCBsb3dlcmVkRmlsZW5hbWUgPSBpbWFnZS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5hbGxvd2VkX2V4dGVuc2lvbnMubWFwKGZ1bmN0aW9uKGV4dGVuc2lvbikge1xuICAgICAgaWYgKGxvd2VyZWRGaWxlbmFtZS5zdWJzdHIoZXh0ZW5zaW9uLmxlbmd0aCAqIC0xKSA9PT0gZXh0ZW5zaW9uKSB7XG4gICAgICAgIGV4dGVuc2lvbkZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghZXh0ZW5zaW9uRm91bmQpIHtcbiAgICAgIHJldHVybiBpbnZhbGlkVHlwZU1zZztcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHBpY2tGaWxlID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdmF0YXItaGlkZGVuLXVwbG9hZCcpLmNsaWNrKCk7XG4gIH07XG5cbiAgdXBsb2FkRmlsZSA9ICgpID0+IHtcbiAgICBsZXQgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXZhdGFyLWhpZGRlbi11cGxvYWQnKS5maWxlc1swXTtcblxuICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB0aGlzLnZhbGlkYXRlRmlsZShpbWFnZSk7XG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgc25hY2tiYXIuZXJyb3IodmFsaWRhdGlvbkVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGltYWdlLFxuICAgICAgJ3ByZXZpZXcnOiBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlKSxcbiAgICAgICdwcm9ncmVzcyc6IDBcbiAgICB9KTtcblxuICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZGF0YS5hcHBlbmQoJ2F2YXRhcicsICd1cGxvYWQnKTtcbiAgICBkYXRhLmFwcGVuZCgnaW1hZ2UnLCBpbWFnZSk7XG5cbiAgICBhamF4LnVwbG9hZCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIGRhdGEsIChwcm9ncmVzcykgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHByb2dyZXNzXG4gICAgICB9KTtcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ29wdGlvbnMnOiBkYXRhLm9wdGlvbnMsXG4gICAgICAgICd1cGxvYWRlZCc6IGRhdGEuZGV0YWlsXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmluZm8oZ2V0dGV4dChcIllvdXIgaW1hZ2UgaGFzIGJlZW4gdXBsb2FkZWQgYW5kIHlvdSBtYXkgbm93IGNyb3AgaXQuXCIpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG4gICAgICAgICAgJ2ltYWdlJzogbnVsbCxcbiAgICAgICAgICAncHJvZ3Jlc3MnOiAwXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRVcGxvYWRSZXF1aXJlbWVudHMob3B0aW9ucykge1xuICAgIGxldCBleHRlbnNpb25zID0gb3B0aW9ucy5hbGxvd2VkX2V4dGVuc2lvbnMubWFwKGZ1bmN0aW9uKGV4dGVuc2lvbikge1xuICAgICAgcmV0dXJuIGV4dGVuc2lvbi5zdWJzdHIoMSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUoZmlsZXMpcyBmaWxlcyBzbWFsbGVyIHRoYW4gJShsaW1pdClzXCIpLCB7XG4gICAgICAgICdmaWxlcyc6IGV4dGVuc2lvbnMuam9pbignLCAnKSxcbiAgICAgICAgJ2xpbWl0JzogZmlsZVNpemUob3B0aW9ucy5saW1pdClcbiAgICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0VXBsb2FkQnV0dG9uKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci11cGxvYWRcIj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcGljay1maWxlXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpY2tGaWxlfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2dldHRleHQoXCJTZWxlY3QgZmlsZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRVcGxvYWRSZXF1aXJlbWVudHModGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZCl9XG4gICAgICAgIDwvcD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFVwbG9hZFByb2dyZXNzTGFiZWwoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHByb2dyZXNzKXMgJSBjb21wbGV0ZVwiKSwge1xuICAgICAgICAncHJvZ3Jlc3MnOiB0aGlzLnN0YXRlLnByb2dyZXNzXG4gICAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFVwbG9hZFByb2dyZXNzKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci11cGxvYWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1cGxvYWQtcHJvZ3Jlc3NcIj5cbiAgICAgICAgICA8aW1nIHNyYz17dGhpcy5zdGF0ZS5wcmV2aWV3fSAvPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzcy1iYXJcIiByb2xlPVwicHJvZ3Jlc3NiYXJcIlxuICAgICAgICAgICAgICAgICBhcmlhLXZhbHVlbm93PVwie3RoaXMuc3RhdGUucHJvZ3Jlc3N9XCJcbiAgICAgICAgICAgICAgICAgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwiMTAwXCJcbiAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogdGhpcy5zdGF0ZS5wcm9ncmVzcyArICclJ319PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+e3RoaXMuZ2V0VXBsb2FkUHJvZ3Jlc3NMYWJlbCgpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlclVwbG9hZCgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgIGlkPVwiYXZhdGFyLWhpZGRlbi11cGxvYWRcIlxuICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlbi1maWxlLXVwbG9hZFwiXG4gICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudXBsb2FkRmlsZX0gLz5cbiAgICAgIHt0aGlzLnN0YXRlLmltYWdlID8gdGhpcy5nZXRVcGxvYWRQcm9ncmVzcygpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0VXBsb2FkQnV0dG9uKCl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshIXRoaXMuc3RhdGUuaW1hZ2V9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXJDcm9wKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPEF2YXRhckNyb3Agb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZD17dGhpcy5zdGF0ZS51cGxvYWRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZT17dGhpcy5wcm9wcy5vbkNvbXBsZXRlfVxuICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3I9e3RoaXMucHJvcHMuc2hvd0Vycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5kZXg9e3RoaXMucHJvcHMuc2hvd0luZGV4fSAvPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKHRoaXMuc3RhdGUudXBsb2FkZWQgPyB0aGlzLnJlbmRlckNyb3AoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMucmVuZGVyVXBsb2FkKCkpO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kcm9wZG93bikge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1kcm9wZG93bi10b2dnbGUgb3BlbiBoaWRkZW4tbWQgaGlkZGVuLWxnXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tYWxpZ25lZCBidG4taWNvbiBidG4tZHJvcGRvd24tdG9nZ2xlIGhpZGRlbi1tZCBoaWRkZW4tbGdcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5kcm9wZG93biA/ICd0cnVlJyA6ICdmYWxzZSd9PlxuICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBtZW51XG4gICAgICA8L2k+XG4gICAgPC9idXR0b24+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5yZXBsYWNlU2VsZWN0aW9uKHRoaXMucHJvcHMuZXhlY0FjdGlvbik7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17J2J0biAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydENvZGV9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIkluc2VydCBjb2RlXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIGNvZGVcbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydENvZGUoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIGNvbnN0IHN5bnRheCA9ICQudHJpbShwcm9tcHQoZ2V0dGV4dChcIkVudGVyIG5hbWUgb2Ygc3ludGF4IG9mIHlvdXIgY29kZSAob3B0aW9uYWwpXCIpICsgJzonKSk7XG4gIHJlcGxhY2UoXCJcXG5cXG5gYGBcIiArIHN5bnRheCArICdcXG4nICsgc2VsZWN0aW9uICsgXCJcXG5gYGBcXG5cXG5cIik7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e21ha2VFbXBoYXNpc31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiRW1waGFzZSBzZWxlY3Rpb25cIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgZW1waGFzaXNcbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFbXBoYXNpcyhzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCcqJyArIHNlbGVjdGlvbiArICcqJyk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2FjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17aW5zZXJ0SHJ9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIkluc2VydCBob3Jpem9udGFsIHJ1bGVyXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIGhyXG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRIcihzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgcmVwbGFjZSgnXFxuXFxuLSAtIC0gLSAtXFxuXFxuJyk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydEltYWdlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgaW1hZ2VcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgaW1hZ2VcbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEltYWdlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayB0byBpbWFnZVwiKSArICc6JywgdXJsKSk7XG4gIGxhYmVsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgaW1hZ2UgbGFiZWwgKG9wdGlvbmFsKVwiKSArICc6JywgbGFiZWwpKTtcblxuICBpZiAodXJsLmxlbmd0aCkge1xuICAgIGlmIChsYWJlbC5sZW5ndGggPiAwKSB7XG4gICAgICByZXBsYWNlKCchWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKCchKCcgKyB1cmwgKyAnKScpO1xuICAgIH1cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcbmltcG9ydCBpc1VybCBmcm9tICdtaXNhZ28vdXRpbHMvaXMtdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRMaW5rfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgbGlua1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICBsaW5rXG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRMaW5rKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayBhZGRyZXNzXCIpICsgJzonLCB1cmwpKTtcbiAgbGFiZWwgPSAkLnRyaW0ocHJvbXB0KGdldHRleHQoXCJFbnRlciBsaW5rIGxhYmVsIChvcHRpb25hbClcIikgKyAnOicsIGxhYmVsKSk7XG5cbiAgaWYgKHVybC5sZW5ndGgpIHtcbiAgICBpZiAobGFiZWwubGVuZ3RoID4gMCkge1xuICAgICAgcmVwbGFjZSgnWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKHVybCk7XG4gICAgfVxuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydFF1b3RlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgcXVvdGVcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgcXVvdGVcbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFF1b3RlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgYXV0aG9yID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgaW1hZ2UgbGFiZWwgKG9wdGlvbmFsKVwiKSArICc6JywgYXV0aG9yKSk7XG4gIGlmIChhdXRob3IubGVuZ3RoICYmIGF1dGhvclswXSAhPT0gJ0AnKSB7XG4gICAgYXV0aG9yID0gJ0AnICsgYXV0aG9yO1xuICB9XG5cbiAgaWYgKGF1dGhvcikge1xuICAgIHJlcGxhY2UoJ1xcblxcbltxdW90ZT1cIicgKyBhdXRob3IgKyAnXCJdXFxuJyArIHNlbGVjdGlvbiArICdcXG5bL3F1b3RlXVxcblxcbicpO1xuICB9IGVsc2Uge1xuICAgIHJlcGxhY2UoJ1xcblxcbltxdW90ZT1dXFxuJyArIHNlbGVjdGlvbiArICdcXG5bL3F1b3RlXVxcblxcbicpO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e21ha2VTdHJpa2V0cm91Z2h9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlN0cmlrZXRyb3VnaCBzZWxlY3Rpb25cIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgc3RyaWtldHJvdWdoXG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU3RyaWtldHJvdWdoKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBpZiAoc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgIHJlcGxhY2UoJ35+JyArIHNlbGVjdGlvbiArICd+ficpO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e21ha2VTdHJvbmd9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIkJvbGRlciBzZWxlY3Rpb25cIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgYm9sZFxuICAgIDwvQWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN0cm9uZyhzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCcqKicgKyBzZWxlY3Rpb24gKyAnKionKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuaW1wb3J0IGZvcm1hdEZpbGVzaXplIGZyb20gJ21pc2Fnby91dGlscy9maWxlLXNpemUnO1xuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+JztcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uSW5zZXJ0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVwbGFjZVNlbGVjdGlvbih0aGlzLmluc2VydEF0dGFjaG1lbnQpO1xuICB9O1xuXG4gIGluc2VydEF0dGFjaG1lbnQgPSAoc2VsZWN0aW9uLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMucHJvcHMuaXRlbTtcblxuICAgIGlmIChpdGVtLmlzX2ltYWdlKSB7XG4gICAgICBpZiAoaXRlbS51cmwudGh1bWIpIHtcbiAgICAgICAgcmVwbGFjZSgnWyFbJyArIGl0ZW0uZmlsZW5hbWUgKyAnXSgnICsgaXRlbS51cmwudGh1bWIgKyAnKV0oJyArIGl0ZW0udXJsLmluZGV4ICsgJyknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcGxhY2UoJ1shWycgKyBpdGVtLmZpbGVuYW1lICsgJ10oJyArIGl0ZW0udXJsLmluZGV4ICsgJyldKCcgKyBpdGVtLnVybC5pbmRleCArICcpJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2UoJ1snICsgaXRlbS5maWxlbmFtZSArICddKCcgKyBpdGVtLnVybC5pbmRleCArICcpJyk7XG4gICAgfVxuICB9O1xuXG4gIG9uUmVtb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlSXRlbSh7XG4gICAgICBpc1JlbW92ZWQ6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBvblVuZG8gPSAoKSA9PiB7XG4gICAgdGhpcy51cGRhdGVJdGVtKHtcbiAgICAgIGlzUmVtb3ZlZDogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICB1cGRhdGVJdGVtID0gKG5ld1N0YXRlKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZEF0dGFjaG1lbnRzID0gdGhpcy5wcm9wcy5hdHRhY2htZW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLnByb3BzLml0ZW0uaWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIG5ld1N0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh1cGRhdGVkQXR0YWNobWVudHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWNvbXBsZXRlXCI+XG4gICAgICAgIDxQcmV2aWV3IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICA8QWN0aW9uc1xuICAgICAgICAgIG9uSW5zZXJ0PXt0aGlzLm9uSW5zZXJ0fVxuICAgICAgICAgIG9uUmVtb3ZlPXt0aGlzLm9uUmVtb3ZlfVxuICAgICAgICAgIG9uVW5kbz17dGhpcy5vblVuZG99XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZGV0YWlsc1wiPlxuICAgICAgICAgIDxGaWxlbmFtZSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICA8RGV0YWlscyB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aWV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlzX2ltYWdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxJbWFnZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEljb24gey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEltYWdlKHByb3BzKSB7XG4gIGNvbnN0IHRodW1ibmFpbFVybCA9IHByb3BzLml0ZW0udXJsLnRodW1iIHx8IHByb3BzLml0ZW0udXJsLmluZGV4O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1pbWFnZVwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyAnP3NodmE9MSd9XG4gICAgICAgIHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiBcInVybCgnXCIgKyB0aHVtYm5haWxVcmwgKyBcIj9zaHZhPTEnKVwifX1cbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSWNvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtaWNvblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBpbnNlcnRfZHJpdmVfZmlsZVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlsZW5hbWUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8aDQ+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyAnP3NodmE9MSd9XG4gICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICA+XG4gICAgICAgIHtwcm9wcy5pdGVtLmZpbGVuYW1lfVxuICAgICAgPC9hPlxuICAgIDwvaDQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZXRhaWxzKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLml0ZW0udXJsLnVwbG9hZGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cmwudXBsb2FkZXIpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlZF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVkX29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIiUoZmlsZXR5cGUpcywgJShzaXplKXMsIHVwbG9hZGVkIGJ5ICUodXBsb2FkZXIpcyAlKHVwbG9hZGVkX29uKXMuXCIpKSwge1xuICAgIGZpbGV0eXBlOiBwcm9wcy5pdGVtLmZpbGV0eXBlLFxuICAgIHNpemU6IGZvcm1hdEZpbGVzaXplKHByb3BzLml0ZW0uc2l6ZSksXG4gICAgdXBsb2FkZXI6IHVzZXIsXG4gICAgdXBsb2FkZWRfb246IGRhdGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY3Rpb25zKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgZWRpdG9yLWF0dGFjaG1lbnQtYWN0aW9uc1wiPlxuICAgICAgPEluc2VydCB7Li4ucHJvcHN9IC8+XG4gICAgICA8UmVtb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbmRvIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5zZXJ0KHByb3BzKSB7XG4gIGlmICghIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uSW5zZXJ0fVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJJbnNlcnRcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlKHByb3BzKSB7XG4gIGlmICghIXByb3BzLml0ZW0uaXNSZW1vdmVkICYmIHByb3BzLml0ZW0uYWNsLmNhbl9kZWxldGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25SZW1vdmV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmRvKHByb3BzKSB7XG4gIGlmICghcHJvcHMuaXRlbS5pc1JlbW92ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25VbmRvfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJVbmRvIHJlbW92YWxcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPlxuICApO1xufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IFNUUk9ORyA9ICc8c3Ryb25nPiUobmFtZSlzPC9zdHJvbmc+JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGZpbHRlcmVkQXR0YWNobWVudHMgPSB0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0ua2V5ICE9PSB0aGlzLnByb3BzLml0ZW0ua2V5O1xuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZShmaWx0ZXJlZEF0dGFjaG1lbnRzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBpbnRlcnBvbGF0ZShTVFJPTkcsIHtcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5pdGVtLmZpbGVuYW1lKVxuICAgIH0sIHRydWUpO1xuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiRXJyb3IgdXBsb2FkaW5nICUoZmlsZW5hbWUpc1wiKSwge1xuICAgICAgZmlsZW5hbWUsXG4gICAgICBwcm9ncmVzczogdGhpcy5wcm9wcy5pdGVtLnByb2dyZXNzICsgJyUnXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZXJyb3ItaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHdhcm5pbmdcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8aDQgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRpdGxlICsgJzonfX0gLz5cbiAgICAgICAgICA8cD57dGhpcy5wcm9wcy5pdGVtLmVycm9yfTwvcD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGlzbWlzc1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn07IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdHRhY2htZW50Q29tcGxldGUgZnJvbSAnLi9jb21wbGV0ZSc7XG5pbXBvcnQgQXR0YWNobWVudEVycm9yIGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IEF0dGFjaG1lbnRVcGxvYWQgZnJvbSAnLi91cGxvYWQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLml0ZW0uaWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEF0dGFjaG1lbnRDb21wbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5pdGVtLmVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBdHRhY2htZW50RXJyb3Igey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBdHRhY2htZW50VXBsb2FkIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IFNUUk9ORyA9ICc8c3Ryb25nPiUobmFtZSlzPC9zdHJvbmc+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgZmlsZW5hbWUgPSBpbnRlcnBvbGF0ZShTVFJPTkcsIHtcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0uZmlsZW5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiVXBsb2FkaW5nICUoZmlsZW5hbWUpcy4uLiAlKHByb2dyZXNzKXNcIiksIHtcbiAgICBmaWxlbmFtZSxcbiAgICBwcm9ncmVzczogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ1xuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC11cGxvYWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1wcm9ncmVzc1wiXG4gICAgICAgICAgc3R5bGU9e3t3aWR0aDogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ319XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwXG4gICAgICAgIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXVwbG9hZC1tZXNzYWdlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgICAgLz5cbiAgICA8L2xpPlxuICApO1xufTsiLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0JztcbmltcG9ydCBVcGxvYWRlciBmcm9tICcuL3VwbG9hZGVyJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFtaXNhZ28uZ2V0KCd1c2VyJykuYWNsLm1heF9hdHRhY2htZW50X3NpemUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudHNcIj5cbiAgICAgIDxMaXN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVcGxvYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdHRhY2htZW50IGZyb20gJy4vYXR0YWNobWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgZWRpdG9yLWF0dGFjaG1lbnRzLWxpc3RcIj5cbiAgICAgIHtwcm9wcy5hdHRhY2htZW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8QXR0YWNobWVudCBpdGVtPXtpdGVtfSBrZXk9e2l0ZW0uaWQgfHwgaXRlbS5rZXl9IHsuLi5wcm9wc30gLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gICk7XG59O1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0b3ItdXBsb2FkLWZpZWxkJykuY2xpY2soKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCFtaXNhZ28uZ2V0KCd1c2VyJykuYWNsLm1heF9hdHRhY2htZW50X3NpemUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17J2J0biAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KCdVcGxvYWQgZmlsZScpfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGZpbGVfdXBsb2FkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cbn07XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB1cGxvYWQgPSB7XG4gICAgICBpZDogbnVsbCxcbiAgICAgIGtleTogZ2V0UmFuZG9tS2V5KCksXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZmlsZW5hbWU6IGZpbGUubmFtZVxuICAgIH07XG5cbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoW3VwbG9hZF0uY29uY2F0KHRoaXMucHJvcHMuYXR0YWNobWVudHMpKTtcblxuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgndXBsb2FkJywgZmlsZSk7XG5cbiAgICBhamF4LnVwbG9hZChtaXNhZ28uZ2V0KCdBVFRBQ0hNRU5UU19BUEknKSwgZGF0YSwgKHByb2dyZXNzKSA9PiB7XG4gICAgICB1cGxvYWQucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBkYXRhLnVwbG9hZGVkX29uID0gbW9tZW50KGRhdGEudXBsb2FkZWRfb24pO1xuICAgICAgT2JqZWN0LmFzc2lnbih1cGxvYWQsIGRhdGEpO1xuICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgdXBsb2FkLmVycm9yID0gcmVqZWN0aW9uLmRldGFpbDtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxpbnB1dFxuICAgICAgICBpZD1cImVkaXRvci11cGxvYWQtZmllbGRcIlxuICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgLz5cbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tS2V5KCkge1xuICByZXR1cm4gJ3VwbGQtJyArIE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29kZSBmcm9tICcuL2FjdGlvbnMvY29kZSc7XG5pbXBvcnQgRW1waGFzaXMgZnJvbSAnLi9hY3Rpb25zL2VtcGhhc2lzJztcbmltcG9ydCBIciBmcm9tICcuL2FjdGlvbnMvaHInO1xuaW1wb3J0IEltYWdlIGZyb20gJy4vYWN0aW9ucy9pbWFnZSc7XG5pbXBvcnQgTGluayBmcm9tICcuL2FjdGlvbnMvbGluayc7XG5pbXBvcnQgU3RyaWtldHJvdWdoIGZyb20gJy4vYWN0aW9ucy9zdHJpa2V0cm91Z2gnO1xuaW1wb3J0IFN0cm9uZyBmcm9tICcuL2FjdGlvbnMvc3Ryb25nJztcbmltcG9ydCBRdW90ZSBmcm9tICcuL2FjdGlvbnMvcXVvdGUnO1xuaW1wb3J0IEF0dGFjaG1lbnRzRWRpdG9yIGZyb20gJy4vYXR0YWNobWVudHMnO1xuaW1wb3J0IFVwbG9hZCBmcm9tICcuL2F0dGFjaG1lbnRzL3VwbG9hZC1idXR0b24vJztcbmltcG9ydCBNYXJrdXBQcmV2aWV3IGZyb20gJy4vbWFya3VwLXByZXZpZXcnO1xuaW1wb3J0ICogYXMgdGV4dFV0aWxzIGZyb20gJy4vdGV4dFV0aWxzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgb25QcmV2aWV3Q2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNQcmV2aWV3TG9hZGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1BBUlNFX01BUktVUF9BUEknKSwge3Bvc3Q6IHRoaXMucHJvcHMudmFsdWV9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBtb2RhbC5zaG93KFxuICAgICAgICA8TWFya3VwUHJldmlldyBtYXJrdXA9e2RhdGEucGFyc2VkfSAvPlxuICAgICAgKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUHJldmlld0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUHJldmlld0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZXBsYWNlU2VsZWN0aW9uID0gKG9wZXJhdGlvbikgPT4ge1xuICAgIG9wZXJhdGlvbih0ZXh0VXRpbHMuZ2V0U2VsZWN0aW9uVGV4dCgpLCB0aGlzLl9yZXBsYWNlU2VsZWN0aW9uKTtcbiAgfTtcblxuICBfcmVwbGFjZVNlbGVjdGlvbiA9IChuZXdWYWx1ZSkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIHZhbHVlOiB0ZXh0VXRpbHMucmVwbGFjZShuZXdWYWx1ZSlcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWJvcmRlclwiPlxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgIGlkPVwiZWRpdG9yLXRleHRhcmVhXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICByb3dzPVwiOVwiXG4gICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1mb290ZXJcIj5cbiAgICAgICAgICA8U3Ryb25nXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEVtcGhhc2lzXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFN0cmlrZXRyb3VnaFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxIclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFF1b3RlXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPENvZGVcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8VXBsb2FkXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25QcmV2aWV3Q2xpY2t9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlByZXZpZXdcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnN1Ym1pdExhYmVsIHx8IGdldHRleHQoXCJQb3N0XCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNhbmNlbH1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxQcm90ZWN0XG4gICAgICAgICAgICBjYW5Qcm90ZWN0PXt0aGlzLnByb3BzLmNhblByb3RlY3R9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgb25Qcm90ZWN0PXt0aGlzLnByb3BzLm9uUHJvdGVjdH1cbiAgICAgICAgICAgIG9uVW5wcm90ZWN0PXt0aGlzLnByb3BzLm9uVW5wcm90ZWN0fVxuICAgICAgICAgICAgcHJvdGVjdD17dGhpcy5wcm9wcy5wcm90ZWN0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QXR0YWNobWVudHNFZGl0b3JcbiAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5wcm9wcy5hdHRhY2htZW50c31cbiAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdChwcm9wcykge1xuICBpZiAocHJvcHMuY2FuUHJvdGVjdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMucHJvdGVjdCA/IHByb3BzLm9uVW5wcm90ZWN0IDogcHJvcHMub25Qcm90ZWN0fVxuICAgICAgICB0aXRsZT17cHJvcHMucHJvdGVjdCA/IGdldHRleHQoJ1Byb3RlY3RlZCcpIDogZ2V0dGV4dCgnUHJvdGVjdCcpfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtwcm9wcy5wcm90ZWN0ID8gJ2xvY2snIDogJ2xvY2tfb3V0bGluZSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXAnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUHJldmlldyBtZXNzYWdlXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbWFya3VwLXByZXZpZXdcIj5cbiAgICAgICAgICA8TWlzYWdvTWFya3VwIG1hcmt1cD17cHJvcHMubWFya3VwfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsImV4cG9ydCBjb25zdCB0ZXh0YXJlYUlkID0gJ2VkaXRvci10ZXh0YXJlYSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0YXJlYSgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRhcmVhSWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZXh0YXJlYUlkKS52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIHtcbiAgICBzdGFydCxcbiAgICBlbmRcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpIHtcbiAgY29uc3QgY3RybCA9IGdldFRleHRhcmVhKCk7XG4gIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICBjdHJsLmZvY3VzKCk7XG4gICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICBjb25zdCBsZW5ndGggPSByYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1jdHJsLnZhbHVlLmxlbmd0aCk7XG4gICAgcmV0dXJuIGdldFNlbGVjdGlvblJhbmdlKHJhbmdlLnRleHQubGVuZ3RoIC0gbGVuZ3RoLCByYW5nZS50ZXh0Lmxlbmd0aCk7XG4gIH0gZWxzZSBpZiAoY3RybC5zZWxlY3Rpb25TdGFydCB8fCBjdHJsLnNlbGVjdGlvblN0YXJ0ID09ICcwJykge1xuICAgIHJldHVybiBnZXRTZWxlY3Rpb25SYW5nZShjdHJsLnNlbGVjdGlvblN0YXJ0LCBjdHJsLnNlbGVjdGlvbkVuZCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblRleHQoKSB7XG4gIGNvbnN0IHJhbmdlID0gZ2V0U2VsZWN0aW9uKCk7XG4gIHJldHVybiAkLnRyaW0oZ2V0VmFsdWUoKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCkpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uUmFuZ2UpIHtcbiAgY29uc3QgY3RybCA9IGdldFRleHRhcmVhKCk7XG4gIGlmIChjdHJsLnNldFNlbGVjdGlvblJhbmdlKSB7XG4gICAgY3RybC5mb2N1cygpO1xuICAgIGN0cmwuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uUmFuZ2Uuc3RhcnQsIHNlbGVjdGlvblJhbmdlLmVuZCk7XG4gIH0gZWxzZSBpZiAoY3RybC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICBjb25zdCByYW5nZSA9IGN0cmwuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzZWxlY3Rpb25SYW5nZS5zdGFydCk7XG4gICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgc2VsZWN0aW9uUmFuZ2UuZW5kKTtcbiAgICByYW5nZS5zZWxlY3QoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX3JlcGxhY2UobXlSYW5nZSwgcmVwbGFjZW1lbnQpIHtcbiAgY29uc3QgY3RybCA9IGdldFRleHRhcmVhKCk7XG4gIGNvbnN0IHRleHQgPSBjdHJsLnZhbHVlO1xuICBjb25zdCBzdGFydFRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBteVJhbmdlLnN0YXJ0KTtcbiAgY3RybC52YWx1ZSA9IHRleHQuc3Vic3RyaW5nKDAsIG15UmFuZ2Uuc3RhcnQpICsgcmVwbGFjZW1lbnQgKyB0ZXh0LnN1YnN0cmluZyhteVJhbmdlLmVuZCk7XG4gIHNldFNlbGVjdGlvbihnZXRTZWxlY3Rpb25SYW5nZShzdGFydFRleHQubGVuZ3RoICsgcmVwbGFjZW1lbnQubGVuZ3RoLCBzdGFydFRleHQubGVuZ3RoICsgcmVwbGFjZW1lbnQubGVuZ3RoKSk7XG4gIHJldHVybiBjdHJsLnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShyZXBsYWNlbWVudCkge1xuICByZXR1cm4gX3JlcGxhY2UoZ2V0U2VsZWN0aW9uKCksIHJlcGxhY2VtZW50KTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgaXNWYWxpZGF0ZWQoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnByb3BzLnZhbGlkYXRpb24gIT09IFwidW5kZWZpbmVkXCI7XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBoYXMtZmVlZGJhY2snO1xuICAgICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICBjbGFzc05hbWUgKz0gJyBoYXMtc3VjY2Vzcyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGFzc05hbWUgKz0gJyBoYXMtZXJyb3InO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lO1xuICB9XG5cbiAgZ2V0RmVlZGJhY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdGlvbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiaGVscC1ibG9jayBlcnJvcnNcIj5cbiAgICAgICAge3RoaXMucHJvcHMudmFsaWRhdGlvbi5tYXAoKGVycm9yLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxwIGtleT17dGhpcy5wcm9wcy5mb3IgKyAnRmVlZGJhY2tJdGVtJyArIGl9PntlcnJvcn08L3A+O1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEZlZWRiYWNrSWNvbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBmb3JtLWNvbnRyb2wtZmVlZGJhY2tcIlxuICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGtleT17dGhpcy5wcm9wcy5mb3IgKyAnRmVlZGJhY2tJY29uJ30+XG4gICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24gPyAnY2xlYXInIDogJ2NoZWNrJ31cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRGZWVkYmFja0Rlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWRhdGVkKCkpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBpZD17dGhpcy5wcm9wcy5mb3IgKyAnX3N0YXR1cyd9IGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAge3RoaXMucHJvcHMudmFsaWRhdGlvbiA/IGdldHRleHQoJyhlcnJvciknKSA6IGdldHRleHQoJyhzdWNjZXNzKScpfVxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPnt0aGlzLnByb3BzLmhlbHBUZXh0fTwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8bGFiZWwgY2xhc3NOYW1lPXsnY29udHJvbC1sYWJlbCAnICsgKHRoaXMucHJvcHMubGFiZWxDbGFzcyB8fCAnJyl9XG4gICAgICAgICAgICAgaHRtbEZvcj17dGhpcy5wcm9wcy5mb3IgfHwgJyd9PlxuICAgICAgICB7dGhpcy5wcm9wcy5sYWJlbCArICc6J31cbiAgICAgIDwvbGFiZWw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jb250cm9sQ2xhc3MgfHwgJyd9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAge3RoaXMuZ2V0RmVlZGJhY2tJY29uKCl9XG4gICAgICAgIHt0aGlzLmdldEZlZWRiYWNrRGVzY3JpcHRpb24oKX1cbiAgICAgICAge3RoaXMuZ2V0RmVlZGJhY2soKX1cbiAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAge3RoaXMucHJvcHMuZXh0cmEgfHwgbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxubGV0IHZhbGlkYXRlUmVxdWlyZWQgPSByZXF1aXJlZCgpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHZhbGlkYXRlKCkge1xuICAgIGxldCBlcnJvcnMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc3RhdGUudmFsaWRhdG9ycykge1xuICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdG9ycyA9IHtcbiAgICAgIHJlcXVpcmVkOiB0aGlzLnN0YXRlLnZhbGlkYXRvcnMucmVxdWlyZWQgfHwgdGhpcy5zdGF0ZS52YWxpZGF0b3JzLFxuICAgICAgb3B0aW9uYWw6IHRoaXMuc3RhdGUudmFsaWRhdG9ycy5vcHRpb25hbCB8fCB7fVxuICAgIH07XG5cbiAgICBsZXQgdmFsaWRhdGVkRmllbGRzID0gW107XG5cbiAgICAvLyBhZGQgcmVxdWlyZWQgZmllbGRzIHRvIHZhbGlkYXRpb25cbiAgICBmb3IgKGxldCBuYW1lIGluIHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgIGlmICh2YWxpZGF0b3JzLnJlcXVpcmVkLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZFtuYW1lXSkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgb3B0aW9uYWwgZmllbGRzIHRvIHZhbGlkYXRpb25cbiAgICBmb3IgKGxldCBuYW1lIGluIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgIGlmICh2YWxpZGF0b3JzLm9wdGlvbmFsLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgICAgdmFsaWRhdG9ycy5vcHRpb25hbFtuYW1lXSkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBmaWVsZHMgdmFsdWVzXG4gICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0ZWRGaWVsZHMpIHtcbiAgICAgIGxldCBuYW1lID0gdmFsaWRhdGVkRmllbGRzW2ldO1xuICAgICAgbGV0IGZpZWxkRXJyb3JzID0gdGhpcy52YWxpZGF0ZUZpZWxkKG5hbWUsIHRoaXMuc3RhdGVbbmFtZV0pO1xuXG4gICAgICBpZiAoZmllbGRFcnJvcnMgPT09IG51bGwpIHtcbiAgICAgICAgZXJyb3JzW25hbWVdID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoZmllbGRFcnJvcnMpIHtcbiAgICAgICAgZXJyb3JzW25hbWVdID0gZmllbGRFcnJvcnM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxuXG4gIGlzVmFsaWQoKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBmb3IgKGxldCBmaWVsZCBpbiBlcnJvcnMpIHtcbiAgICAgIGlmIChlcnJvcnMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgIGlmIChlcnJvcnNbZmllbGRdICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YWxpZGF0ZUZpZWxkKG5hbWUsIHZhbHVlKSB7XG4gICAgbGV0IGVycm9ycyA9IFtdO1xuICAgIGlmICghdGhpcy5zdGF0ZS52YWxpZGF0b3JzKSB7XG4gICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH1cblxuICAgIGxldCB2YWxpZGF0b3JzID0ge1xuICAgICAgcmVxdWlyZWQ6ICh0aGlzLnN0YXRlLnZhbGlkYXRvcnMucmVxdWlyZWQgfHwgdGhpcy5zdGF0ZS52YWxpZGF0b3JzKVtuYW1lXSxcbiAgICAgIG9wdGlvbmFsOiAodGhpcy5zdGF0ZS52YWxpZGF0b3JzLm9wdGlvbmFsIHx8IHt9KVtuYW1lXVxuICAgIH07XG5cbiAgICBsZXQgcmVxdWlyZWRFcnJvciA9IHZhbGlkYXRlUmVxdWlyZWQodmFsdWUpIHx8IGZhbHNlO1xuXG4gICAgaWYgKHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgIGlmIChyZXF1aXJlZEVycm9yKSB7XG4gICAgICAgIGVycm9ycyA9IFtyZXF1aXJlZEVycm9yXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0b3JzLnJlcXVpcmVkW2ldKHZhbHVlKTtcbiAgICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0aW9uRXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA/IGVycm9ycyA6IG51bGw7XG4gICAgfSBlbHNlIGlmIChyZXF1aXJlZEVycm9yID09PSBmYWxzZSAmJiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRvcnMub3B0aW9uYWxbaV0odmFsdWUpO1xuICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA/IGVycm9ycyA6IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlOyAvLyBmYWxzZSA9PT0gZmllbGQgd2Fzbid0IHZhbGlkYXRlZFxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBiaW5kSW5wdXQgPSAobmFtZSkgPT4ge1xuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlVmFsdWUobmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgY2hhbmdlVmFsdWUgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBsZXQgbmV3U3RhdGUgPSB7XG4gICAgICBbbmFtZV06IHZhbHVlXG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1FcnJvcnMgPSB0aGlzLnN0YXRlLmVycm9ycyB8fCB7fTtcbiAgICBmb3JtRXJyb3JzW25hbWVdID0gdGhpcy52YWxpZGF0ZUZpZWxkKG5hbWUsIG5ld1N0YXRlW25hbWVdKTtcbiAgICBuZXdTdGF0ZS5lcnJvcnMgPSBmb3JtRXJyb3JzO1xuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gIH07XG5cbiAgY2xlYW4oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgIC8vIHdlIGRvbid0IHJlbG9hZCBwYWdlIG9uIHN1Ym1pc3Npb25zXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNsZWFuKCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogdHJ1ZX0pO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLnNlbmQoKTtcblxuICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNMb2FkaW5nOiBmYWxzZX0pO1xuICAgICAgICAgIHRoaXMuaGFuZGxlU3VjY2VzcyhzdWNjZXNzKTtcbiAgICAgICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlamVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNMb2FkaW5nOiBmYWxzZX0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzQWN0aXZlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzQ29udHJvbGxlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaXNBY3RpdmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YodGhpcy5wcm9wcy5wYXRoKSA9PT0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuICh0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJykgKyAnICcrICh0aGlzLnByb3BzLmFjdGl2ZUNsYXNzTmFtZSB8fCAnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgIDwvbGk+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcImxvYWRlclwifT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGVyLXNwaW5uaW5nLXdoZWVsXCI+PC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHByb3BzLm1hcmt1cH19IC8+XG4gICk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFBhbmVsTWVzc2FnZSB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPlxuICAgICAgICB7dGhpcy5wcm9wcy5oZWxwVGV4dH1cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uIHx8ICdpbmZvX291dGxpbmUnfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFuZWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxQYW5lbExvYWRlciAvPlxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5uZXh0X29uKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIllvdSB3aWxsIGJlIGFibGUgdG8gY2hhbmdlIHlvdXIgdXNlcm5hbWUgJShuZXh0X2NoYW5nZSlzLlwiKSxcbiAgICAgICAgICB7J25leHRfY2hhbmdlJzogdGhpcy5wcm9wcy5vcHRpb25zLm5leHRfb24uZnJvbU5vdygpfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiWW91IGhhdmUgdXNlZCB1cCBhdmFpbGFibGUgbmFtZSBjaGFuZ2VzLlwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPFBhbmVsTWVzc2FnZSBtZXNzYWdlPXtnZXR0ZXh0KFwiWW91IGNhbid0IGNoYW5nZSB5b3VyIHVzZXJuYW1lIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17dGhpcy5nZXRIZWxwVGV4dCgpfSAvPlxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VybmFtZTogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgoe1xuICAgICAgICAgICAgdXNlcm5hbWVfbGVuZ3RoX21pbjogcHJvcHMub3B0aW9ucy5sZW5ndGhfbWluXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aCh7XG4gICAgICAgICAgICB1c2VybmFtZV9sZW5ndGhfbWF4OiBwcm9wcy5vcHRpb25zLmxlbmd0aF9tYXhcbiAgICAgICAgICB9KVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGxldCBwaHJhc2VzID0gW107XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdCA+IDApIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGNhbiBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKGNoYW5nZXNfbGVmdClzIG1vcmUgdGltZS5cIixcbiAgICAgICAgXCJZb3UgY2FuIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUoY2hhbmdlc19sZWZ0KXMgbW9yZSB0aW1lcy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdCk7XG5cbiAgICAgIHBocmFzZXMucHVzaChpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICdjaGFuZ2VzX2xlZnQnOiB0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0XG4gICAgICB9LCB0cnVlKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZSA+IDApIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiVXNlZCBjaGFuZ2VzIHJlZGVlbSBhZnRlciAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyBkYXkuXCIsXG4gICAgICAgIFwiVXNlZCBjaGFuZ2VzIHJlZGVlbSBhZnRlciAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyBkYXlzLlwiLFxuICAgICAgICB0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmUpO1xuXG4gICAgICBwaHJhc2VzLnB1c2goaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnbmFtZV9jaGFuZ2VzX2V4cGlyZSc6IHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZVxuICAgICAgfSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwaHJhc2VzLmxlbmd0aCA/IHBocmFzZXMuam9pbignICcpIDogbnVsbDtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgaWYgKGVycm9ycy51c2VybmFtZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnVzZXJuYW1lWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGlmICh0aGlzLnN0YXRlLnVzZXJuYW1lLnRyaW0oKSA9PT0gdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJZb3VyIG5ldyB1c2VybmFtZSBpcyBzYW1lIGFzIGN1cnJlbnQgb25lLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC51c2VybmFtZSwge1xuICAgICAgJ3VzZXJuYW1lJzogdGhpcy5zdGF0ZS51c2VybmFtZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAndXNlcm5hbWUnOiAnJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5jb21wbGV0ZShzdWNjZXNzLnVzZXJuYW1lLCBzdWNjZXNzLnNsdWcsIHN1Y2Nlc3Mub3B0aW9ucyk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgdXNlcm5hbWVcIil9IGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXt0aGlzLmdldEhlbHBUZXh0KCl9PlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTRcIj5cblxuICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGb3JtTG9hZGluZyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvYWRpbmcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtTG9ja2VkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9ja2VkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3Rvcnkvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgYWRkTmFtZUNoYW5nZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVVc2VybmFtZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaV91cmwudXNlcm5hbWUpLFxuICAgICAgYWpheC5nZXQobWlzYWdvLmdldCgnVVNFUk5BTUVfQ0hBTkdFU19BUEknKSwge3VzZXI6IHRoaXMucHJvcHMudXNlci5pZH0pXG4gICAgXSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhWzFdLnJlc3VsdHMpKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgY2hhbmdlc19sZWZ0OiBkYXRhWzBdLmNoYW5nZXNfbGVmdCxcbiAgICAgICAgICBsZW5ndGhfbWluOiBkYXRhWzBdLmxlbmd0aF9taW4sXG4gICAgICAgICAgbGVuZ3RoX21heDogZGF0YVswXS5sZW5ndGhfbWF4LFxuICAgICAgICAgIG5leHRfb246IGRhdGFbMF0ubmV4dF9vbiA/IG1vbWVudChkYXRhWzBdLm5leHRfb24pIDogbnVsbCxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ29tcGxldGUgPSAodXNlcm5hbWUsIHNsdWcsIG9wdGlvbnMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgYWRkTmFtZUNoYW5nZSh7IHVzZXJuYW1lLCBzbHVnIH0sIHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy51c2VyKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVVc2VybmFtZSh0aGlzLnByb3BzLnVzZXIsIHVzZXJuYW1lLCBzbHVnKSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHVzZXJuYW1lIGhhcyBiZWVuIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LlwiKSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q2hhbmdlRm9ybSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPiAwKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxGb3JtIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlPXt0aGlzLm9uQ29tcGxldGV9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPEZvcm1Mb2NrZWQgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtTG9hZGluZyAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIHt0aGlzLmdldENoYW5nZUZvcm0oKX1cbiAgICAgIDxVc2VybmFtZUhpc3RvcnkgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXM9e3RoaXMucHJvcHNbJ3VzZXJuYW1lLWhpc3RvcnknXX0gLz5cbiAgICA8L2Rpdj5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvYXV0aCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnaXNfaGlkaW5nX3ByZXNlbmNlJzogcHJvcHMudXNlci5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICAnbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8nOiBwcm9wcy51c2VyLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgJ3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMnOiBwcm9wcy51c2VyLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICAnc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcyc6IHByb3BzLnVzZXIuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcyxcblxuICAgICAgJ2Vycm9ycyc6IHt9XG4gICAgfTtcblxuICAgIHRoaXMucHJpdmF0ZVRocmVhZEludml0ZXNDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdoZWxwX291dGxpbmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiRXZlcnlib2R5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdkb25lX2FsbCcsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJVc2VycyBJIGZvbGxvd1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnaGlnaGxpZ2h0X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb2JvZHlcIilcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgdGhpcy5zdWJzY3JpYmVUb0Nob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3N0YXJfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdzdGFyX2hhbGYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90aWZ5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdzdGFyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdGlmeSB3aXRoIGUtbWFpbFwiKVxuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwub3B0aW9ucywge1xuICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiB0aGlzLnN0YXRlLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOiB0aGlzLnN0YXRlLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogdGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgIH0pKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIGZvcnVtIG9wdGlvbnMgaGF2ZSBiZWVuIGNoYW5nZWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJQbGVhc2UgcmVsb2FkIHBhZ2UgYW5kIHRyeSBhZ2Fpbi5cIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkZvcnVtIG9wdGlvbnNcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZm9ydW0gb3B0aW9uc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiUHJpdmFjeSBzZXR0aW5nc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2VcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiSWYgeW91IGhpZGUgeW91ciBwcmVzZW5jZSwgb25seSBtZW1iZXJzIHdpdGggcGVybWlzc2lvbiB0byBzZWUgaGlkZGVuIHVzZXJzIHdpbGwgc2VlIHdoZW4geW91IGFyZSBvbmxpbmUuXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICA8WWVzTm9Td2l0Y2ggaWQ9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9uPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cInZpc2liaWxpdHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2UgZnJvbSBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiU2hvdyBteSBwcmVzZW5jZSB0byBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfaGlkaW5nX3ByZXNlbmNlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2V9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlByaXZhdGUgdGhyZWFkIGludml0YXRpb25zXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8nKX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b31cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnByaXZhdGVUaHJlYWRJbnZpdGVzQ2hvaWNlc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiQXV0b21hdGljIHN1YnNjcmlwdGlvbnNcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWRzIEkgc3RhcnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICA8U2VsZWN0IGlkPVwiaWRfc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcycpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdWJzY3JpYmVUb0Nob2ljZXN9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZHMgSSByZXBseSB0b1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzJyl9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc31cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN1YnNjcmliZVRvQ2hvaWNlc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLXNtLW9mZnNldC00XCI+XG5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9saSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBTaWRlTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICB7dGhpcy5wcm9wcy5vcHRpb25zLm1hcCgob3B0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiA8TGluayB0bz17dGhpcy5wcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIlxuICAgICAgICAgICAgICAgICAgICAga2V5PXtvcHRpb24uY29tcG9uZW50fT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7b3B0aW9uLmljb259XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtvcHRpb24ubmFtZX1cbiAgICAgICAgPC9MaW5rPjtcbiAgICAgIH0pfVxuICAgIDwvZGl2PjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0TmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gPExpIHBhdGg9e3RoaXMucHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAgICAga2V5PXtvcHRpb24uY29tcG9uZW50fT5cbiAgICAgICAgICA8TGluayB0bz17dGhpcy5wcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmhpZGVOYXZ9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICB7b3B0aW9uLmljb259XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L0xpPjtcbiAgICAgIH0pfVxuICAgIDwvdWw+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBTaWRlTmF2LCBDb21wYWN0TmF2IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2hhbmdlRm9ydW1PcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZm9ydW0tb3B0aW9ucyc7XG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvcm9vdCc7XG5pbXBvcnQgQ2hhbmdlU2lnbkluQ3JlZGVudGlhbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL3Jvb3QnO1xuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tICdtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1vcHRpb25zXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwicHVsbC1sZWZ0XCI+e2dldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpfTwvaDE+XG5cbiAgICAgICAgICA8RHJvcGRvd25Ub2dnbGUgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd249e3RoaXMuc3RhdGUuZHJvcGRvd259IC8+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENvbXBhY3ROYXZDbGFzc05hbWUoKX0+XG5cbiAgICAgICAgPENvbXBhY3ROYXYgb3B0aW9ucz17bWlzYWdvLmdldCgnVVNFUl9PUFRJT05TJyl9XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKX1cbiAgICAgICAgICAgICAgICAgICAgaGlkZU5hdj17dGhpcy5oaWRlTmF2fSAvPlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cblxuICAgICAgICAgICAgPFNpZGVOYXYgb3B0aW9ucz17bWlzYWdvLmdldCgnVVNFUl9PUFRJT05TJyl9XG4gICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyl9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgJ3VzZXJuYW1lLWhpc3RvcnknOiBzdG9yZVsndXNlcm5hbWUtaGlzdG9yeSddXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJykgKyAnZm9ydW0tb3B0aW9ucy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlRm9ydW1PcHRpb25zKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ2NoYW5nZS11c2VybmFtZS8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlVXNlcm5hbWUpXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJykgKyAnc2lnbi1pbi1jcmVkZW50aWFscy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlU2lnbkluQ3JlZGVudGlhbHMpXG4gICAgfVxuICBdO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld19lbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X2VtYWlsOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICAgIF0sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5uZXdfZW1haWwudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aFxuICAgIF07XG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLm5ld19lbWFpbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLm5ld19lbWFpbFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuY2hhbmdlX2VtYWlsLCB7XG4gICAgICBuZXdfZW1haWw6IHRoaXMuc3RhdGUubmV3X2VtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmQsXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBuZXdfZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgfSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5ld19lbWFpbCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ubmV3X2VtYWlsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBlLW1haWwgYWRkcmVzc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGUtbWFpbFwiKX0gZm9yPVwiaWRfbmV3X2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX25ld19lbWFpbFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnbmV3X2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmV3X2VtYWlsfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiWW91ciBjdXJyZW50IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLXNtLW9mZnNldC00XCI+XG5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBlLW1haWxcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV3X3Bhc3N3b3JkOiAnJyxcbiAgICAgIHJlcGVhdF9wYXNzd29yZDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X3Bhc3N3b3JkOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5wYXNzd29yZE1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpKVxuICAgICAgICBdLFxuICAgICAgICByZXBlYXRfcGFzc3dvcmQ6IFtdLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5wYXNzd29yZC50cmltKCkubGVuZ3RoXG4gICAgXTtcblxuICAgIGlmIChsZW5ndGhzLmluZGV4T2YoMCkgIT09IC0xKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmlsbCBvdXQgYWxsIGZpZWxkcy5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChlcnJvcnMubmV3X3Bhc3N3b3JkKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMubmV3X3Bhc3N3b3JkWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQudHJpbSgpICE9PSB0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZC50cmltKCkpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJOZXcgcGFzc3dvcmRzIGFyZSBkaWZmZXJlbnQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5jaGFuZ2VfcGFzc3dvcmQsIHtcbiAgICAgIG5ld19wYXNzd29yZDogdGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmV3X3Bhc3N3b3JkOiAnJyxcbiAgICAgIHJlcGVhdF9wYXNzd29yZDogJycsXG4gICAgICBwYXNzd29yZDogJydcbiAgICB9KTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubmV3X3Bhc3N3b3JkKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5uZXdfcGFzc3dvcmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBhc3N3b3JkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgcGFzc3dvcmRcIil9IGZvcj1cImlkX25ld19wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfbmV3X3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCduZXdfcGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmR9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiUmVwZWF0IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9yZXBlYXRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX3JlcGVhdF9wYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncmVwZWF0X3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiWW91ciBjdXJyZW50IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLXNtLW9mZnNldC00XCI+XG5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFuZ2VFbWFpbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLWVtYWlsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2hhbmdlUGFzc3dvcmQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1wYXNzd29yZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiQ2hhbmdlIGVtYWlsIG9yIHBhc3N3b3JkXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxDaGFuZ2VFbWFpbCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgICA8Q2hhbmdlUGFzc3dvcmQgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuXG4gICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlLWxpbmVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHdhcm5pbmdcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KCdGT1JHT1RURU5fUEFTU1dPUkRfVVJMJyl9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIGZvcmdvdHRlbiBwYXNzd29yZFwiKX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0cmluZ0NvdW50IGZyb20gJ21pc2Fnby91dGlscy9zdHJpbmctY291bnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jb3B5ICYmIHRoaXMucHJvcHMuY29weS5sZW5ndGgpIHtcbiAgICAgIGlmIChzdHJpbmdDb3VudCh0aGlzLnByb3BzLmNvcHksICc8cCcpID09PSAxICYmIHRoaXMucHJvcHMuY29weS5pbmRleE9mKCc8YnInKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuICdwYWdlLWxlYWQgbGVhZCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICdwYWdlLWxlYWQnO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNvcHkgJiYgdGhpcy5wcm9wcy5jb3B5Lmxlbmd0aCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMuY29weVxuICAgICAgfX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtYm9keS1sb2FkaW5nXCI+XG4gICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cImxvYWRlciBsb2FkZXItc3BhY2VkXCIgLz5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPlxuICAgICAgICB7dGhpcy5wcm9wcy5oZWxwVGV4dH1cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtbWVzc2FnZS1ib2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuaWNvbiB8fCAnaW5mb19vdXRsaW5lJ31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgICB7dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgenhjdmJuIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy96eGN2Ym4nO1xuXG5leHBvcnQgY29uc3QgU1RZTEVTID0gW1xuICAncHJvZ3Jlc3MtYmFyLWRhbmdlcicsXG4gICdwcm9ncmVzcy1iYXItd2FybmluZycsXG4gICdwcm9ncmVzcy1iYXItd2FybmluZycsXG4gICdwcm9ncmVzcy1iYXItcHJpbWFyeScsXG4gICdwcm9ncmVzcy1iYXItc3VjY2Vzcydcbl07XG5cbmV4cG9ydCBjb25zdCBMQUJFTFMgPSBbXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHZlcnkgd2Vhay5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHdlYWsuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyBhdmVyYWdlLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgc3Ryb25nLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgdmVyeSBzdHJvbmcuXCIpXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5fc2NvcmUgPSAwO1xuICAgIHRoaXMuX3Bhc3N3b3JkID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dHMgPSBbXTtcbiAgfVxuXG4gIGdldFNjb3JlKHBhc3N3b3JkLCBpbnB1dHMpIHtcbiAgICBsZXQgY2FjaGVTdGFsZSA9IGZhbHNlO1xuXG4gICAgaWYgKHBhc3N3b3JkLnRyaW0oKSAhPT0gdGhpcy5fcGFzc3dvcmQpIHtcbiAgICAgIGNhY2hlU3RhbGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpbnB1dHMubGVuZ3RoICE9PSB0aGlzLl9pbnB1dHMubGVuZ3RoKSB7XG4gICAgICBjYWNoZVN0YWxlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRzLm1hcCgodmFsdWUsIGkpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSAhPT0gdGhpcy5faW5wdXRzW2ldKSB7XG4gICAgICAgICAgY2FjaGVTdGFsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjYWNoZVN0YWxlKSB7XG4gICAgICB0aGlzLl9zY29yZSA9IHp4Y3Zibi5zY29yZVBhc3N3b3JkKHBhc3N3b3JkLCBpbnB1dHMpO1xuICAgICAgdGhpcy5fcGFzc3dvcmQgPSBwYXNzd29yZC50cmltKCk7XG4gICAgICB0aGlzLl9pbnB1dHMgPSBpbnB1dHMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50cmltKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fc2NvcmU7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCBzY29yZSA9IHRoaXMuZ2V0U2NvcmUodGhpcy5wcm9wcy5wYXNzd29yZCwgdGhpcy5wcm9wcy5pbnB1dHMpO1xuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiaGVscC1ibG9jayBwYXNzd29yZC1zdHJlbmd0aFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJwcm9ncmVzcy1iYXIgXCIgKyBTVFlMRVNbc2NvcmVdfVxuICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6ICgyMCArICgyMCAqIHNjb3JlKSkgKyAnJSd9fVxuICAgICAgICAgICAgIHJvbGU9XCJwcm9ncmVzcy1iYXJcIlxuICAgICAgICAgICAgIGFyaWEtdmFsdWVub3c9e3Njb3JlfVxuICAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgICBhcmlhLXZhbHVlbWF4PVwiNFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgIHtMQUJFTFNbc2NvcmVdfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21hbGxcIj5cbiAgICAgICAge0xBQkVMU1tzY29yZV19XG4gICAgICA8L3A+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gJy4vdXRpbHMvYXR0YWNobWVudHMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgICAgcHJvdGVjdDogZmFsc2UsXG5cbiAgICAgIGNhblByb3RlY3Q6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnKS50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbG9hZFN1Y2Nlc3MgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgcG9zdDogZGF0YS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmh5ZHJhdGUoZGF0YS5hdHRhY2htZW50cyksXG4gICAgICBwcm90ZWN0OiBkYXRhLmlzX3Byb3RlY3RlZCxcblxuICAgICAgY2FuUHJvdGVjdDogZGF0YS5jYW5fcHJvdGVjdFxuICAgIH0pO1xuICB9O1xuXG4gIGxvYWRFcnJvciA9IChyZWplY3Rpb24pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pO1xuICB9O1xuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIGNoYW5nZXM/XCIpKTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uUHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBvblVucHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnB1dCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpLFxuICAgICAgcHJvdGVjdDogdGhpcy5zdGF0ZS5wcm90ZWN0XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJSZXBseSBoYXMgYmVlbiBlZGl0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5jYXRlZ29yeSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uY2F0ZWdvcnlbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24udGl0bGUpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnRpdGxlWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnBvc3QpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBvc3RbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IG1ldGhvZD1cIlBPU1RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG5cbiAgICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICAgIGNhblByb3RlY3Q9e3RoaXMuc3RhdGUuY2FuUHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvblByb3RlY3Q9e3RoaXMub25Qcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgb25VbnByb3RlY3Q9e3RoaXMub25VbnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBwcm90ZWN0PXt0aGlzLnN0YXRlLnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIkVkaXQgcmVwbHlcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcmVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU3RhcnQgZnJvbSAnLi9zdGFydCc7XG5pbXBvcnQgUmVwbHkgZnJvbSAnLi9yZXBseSc7XG5pbXBvcnQgRWRpdCBmcm9tICcuL2VkaXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMubW9kZSA9PT0gJ1NUQVJUJykge1xuICAgIHJldHVybiAoXG4gICAgICA8U3RhcnQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gJ1JFUExZJykge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVwbHkgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gJ0VESVQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxFZGl0IHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBFZGl0b3IgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL3V0aWxzL2NvbnRhaW5lcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJy4vdXRpbHMvbG9hZGVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vdXRpbHMvbWVzc2FnZSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tICcuL3V0aWxzL2F0dGFjaG1lbnRzJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGdldFBvc3RWYWxpZGF0b3JzIH0gZnJvbSAnLi91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuXG4gICAgICBwb3N0OiAnJyxcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLmNvbmZpZywgdGhpcy5wcm9wcy5jb250ZXh0IHx8IG51bGwpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QgPyAoJ1txdW90ZT1cIicgKyAgZGF0YS5wb3N0ZXIgKyAnXCJdXFxuJyArIGRhdGEucG9zdCArICdcXG5bL3F1b3RlXScpIDogJydcbiAgICB9KTtcbiAgfTtcblxuICBsb2FkRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0Vycm9yZWQ6IHJlamVjdGlvbi5kZXRhaWxcbiAgICB9KTtcbiAgfTtcblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB5b3VyIHJlcGx5P1wiKSk7XG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBvblBvc3RDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwb3N0JywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gKGF0dGFjaG1lbnRzKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHJlcGx5IGhhcyBiZWVuIHBvc3RlZC5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4O1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmNhdGVnb3J5KSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5jYXRlZ29yeVswXSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi50aXRsZSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24udGl0bGVbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9zdCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9zdFswXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cblxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBPcHRpb25zIGZyb20gJy4vdXRpbHMvb3B0aW9ucyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tICcuL3V0aWxzL2F0dGFjaG1lbnRzJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGdldFBvc3RWYWxpZGF0b3JzLCBnZXRUaXRsZVZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHNob3dPcHRpb25zOiBmYWxzZSxcbiAgICAgIGNhdGVnb3J5T3B0aW9uczogbnVsbCxcblxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY2F0ZWdvcnk6IHByb3BzLmNhdGVnb3J5IHx8IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgICAgY2xvc2U6IGZhbHNlLFxuICAgICAgaGlkZTogZmFsc2UsXG4gICAgICBwaW46IDAsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpLFxuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLmNvbmZpZykudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcik7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxvYWRTdWNjZXNzID0gKGRhdGEpID0+IHtcbiAgICBsZXQgY2F0ZWdvcnkgPSBudWxsO1xuICAgIGxldCBzaG93T3B0aW9ucyA9IGZhbHNlO1xuICAgIGxldCBjYXRlZ29yeU9wdGlvbnMgPSBudWxsO1xuXG4gICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgLy8gcGljayBmaXJzdCBjYXRlZ29yeSB0aGF0IGFsbG93cyBwb3N0aW5nIGFuZCBpZiBpdCBtYXksIG92ZXJyaWRlIGl0IHdpdGggaW5pdGlhbCBvbmVcbiAgICAgIGlmIChpdGVtLnBvc3QgIT09IGZhbHNlICYmICghY2F0ZWdvcnkgfHwgaXRlbS5pZCA9PSB0aGlzLnN0YXRlLmNhdGVnb3J5KSkge1xuICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWQ7XG4gICAgICAgIGNhdGVnb3J5T3B0aW9ucyA9IGl0ZW0ucG9zdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0ucG9zdCAmJiAoaXRlbS5wb3N0LmNsb3NlIHx8IGl0ZW0ucG9zdC5oaWRlIHx8IGl0ZW0ucG9zdC5waW4pKSB7XG4gICAgICAgIHNob3dPcHRpb25zID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgc2hvd09wdGlvbnMsXG5cbiAgICAgIGNhdGVnb3JpZXMsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIGNhdGVnb3J5T3B0aW9uc1xuICAgIH0pO1xuICB9O1xuXG4gIGxvYWRFcnJvciA9IChyZWplY3Rpb24pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pO1xuICB9O1xuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIHRocmVhZD9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25UaXRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3RpdGxlJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnN0YXRlLmNhdGVnb3JpZXMuZmluZCgoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC52YWx1ZSA9PSBpdGVtLnZhbHVlO1xuICAgIH0pO1xuXG4gICAgLy8gaWYgc2VsZWN0ZWQgcGluIGlzIGdyZWF0ZXIgdGhhbiBhbGxvd2VkLCByZWR1Y2UgaXRcbiAgICBsZXQgcGluID0gdGhpcy5zdGF0ZS5waW47XG4gICAgaWYgKGNhdGVnb3J5LnBvc3QucGluICYmIGNhdGVnb3J5LnBvc3QucGluIDwgcGluKSB7XG4gICAgICBwaW4gPSBjYXRlZ29yeS5wb3N0LnBpbjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5pZCxcbiAgICAgIGNhdGVnb3J5T3B0aW9uczogY2F0ZWdvcnkucG9zdCxcblxuICAgICAgcGluXG4gICAgfSk7XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcblxuICBvbkNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2Nsb3NlJywgdHJ1ZSk7XG4gIH07XG5cbiAgb25PcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2Nsb3NlJywgZmFsc2UpO1xuICB9O1xuXG4gIG9uUGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncGluJywgMik7XG4gIH07XG5cbiAgb25QaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3BpbicsIDEpO1xuICB9O1xuXG4gIG9uVW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncGluJywgMCk7XG4gIH07XG5cbiAgb25IaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2hpZGUnLCAxKTtcbiAgfTtcblxuICBvblVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdoaWRlJywgMCk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy50aXRsZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnRpdGxlWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKSxcbiAgICAgIGNsb3NlOiB0aGlzLnN0YXRlLmNsb3NlLFxuICAgICAgaGlkZTogdGhpcy5zdGF0ZS5oaWRlLFxuICAgICAgcGluOiB0aGlzLnN0YXRlLnBpblxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB0aHJlYWQgaGFzIGJlZW4gcG9zdGVkLlwiKSk7XG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmw7XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24uY2F0ZWdvcnkpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmNhdGVnb3J5WzBdKTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnRpdGxlKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi50aXRsZVswXSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5wb3N0KSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wb3N0WzBdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1mb3JtXCIgd2l0aEZpcnN0Um93PXt0cnVlfT5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnNob3dPcHRpb25zID8gJ2NvbC1tZC02JyA6ICdjb2wtbWQtOCd9PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J2NvbC1tZC00J30+XG4gICAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgICAgICAgY2xvc2U9e3RoaXMuc3RhdGUuY2xvc2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGhpZGU9e3RoaXMuc3RhdGUuaGlkZX1cbiAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uQ2xvc2V9XG4gICAgICAgICAgICAgICAgb25IaWRlPXt0aGlzLm9uSGlkZX1cbiAgICAgICAgICAgICAgICBvbk9wZW49e3RoaXMub25PcGVufVxuICAgICAgICAgICAgICAgIG9uUGluR2xvYmFsbHk9e3RoaXMub25QaW5HbG9iYWxseX1cbiAgICAgICAgICAgICAgICBvblBpbkxvY2FsbHk9e3RoaXMub25QaW5Mb2NhbGx5fVxuICAgICAgICAgICAgICAgIG9uVW5oaWRlPXt0aGlzLm9uVW5oaWRlfVxuICAgICAgICAgICAgICAgIG9uVW5waW49e3RoaXMub25VbnBpbn1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9uc31cbiAgICAgICAgICAgICAgICBwaW49e3RoaXMuc3RhdGUucGlufVxuICAgICAgICAgICAgICAgIHNob3dPcHRpb25zPXt0aGlzLnN0YXRlLnNob3dPcHRpb25zfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuXG4gICAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e2dldHRleHQoXCJQb3N0IHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW4oYXR0YWNobWVudHMpIHtcbiAgY29uc3QgY29tcGxldGVkQXR0YWNobWVudHMgPSBhdHRhY2htZW50cy5maWx0ZXIoKGF0dGFjaG1lbnQpID0+IHtcbiAgICByZXR1cm4gYXR0YWNobWVudC5pZCAmJiAhYXR0YWNobWVudC5pc1JlbW92ZWQ7XG4gIH0pO1xuXG4gIHJldHVybiBjb21wbGV0ZWRBdHRhY2htZW50cy5tYXAoKGEpID0+IHsgcmV0dXJuIGEuaWQ7IH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShhdHRhY2htZW50cykge1xuICByZXR1cm4gYXR0YWNobWVudHMubWFwKChhdHRhY2htZW50KSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGF0dGFjaG1lbnQsIHtcbiAgICAgIHVwbG9hZGVkX29uOiBtb21lbnQoYXR0YWNobWVudC51cGxvYWRlZF9vbilcbiAgICB9KTtcbiAgfSk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1sb2FkZXJcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGVycm9yX291dGxpbmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgb25DbGljaz17cG9zdGluZy5jbG9zZX0+XG4gICAgICAgICAge2dldHRleHQoXCJEaXNtaXNzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvQ29udGFpbmVyPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5zaG93T3B0aW9ucykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0yIHBvc3Rpbmctb3B0aW9uc1wiPlxuICAgICAgICA8UGluT3B0aW9uc1xuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvblBpbkdsb2JhbGx5PXtwcm9wcy5vblBpbkdsb2JhbGx5fVxuICAgICAgICAgIG9uUGluTG9jYWxseT17cHJvcHMub25QaW5Mb2NhbGx5fVxuICAgICAgICAgIG9uVW5waW49e3Byb3BzLm9uVW5waW59XG4gICAgICAgICAgcGluPXtwcm9wcy5waW59XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5waW59XG4gICAgICAgIC8+XG4gICAgICAgIDxIaWRlT3B0aW9uc1xuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBoaWRlPXtwcm9wcy5oaWRlfVxuICAgICAgICAgIG9uSGlkZT17cHJvcHMub25IaWRlfVxuICAgICAgICAgIG9uVW5oaWRlPXtwcm9wcy5vblVuaGlkZX1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLmhpZGV9XG4gICAgICAgIC8+XG4gICAgICAgIDxDbG9zZU9wdGlvbnNcbiAgICAgICAgICBjbG9zZT17cHJvcHMuY2xvc2V9XG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xvc2U9e3Byb3BzLm9uQ2xvc2V9XG4gICAgICAgICAgb25PcGVuPXtwcm9wcy5vbk9wZW59XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5jbG9zZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENsb3NlT3B0aW9ucyhwcm9wcykge1xuICBpZiAocHJvcHMuc2hvdykge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMuY2xvc2UgPyBwcm9wcy5vbk9wZW4gOiBwcm9wcy5vbkNsb3NlfVxuICAgICAgICB0aXRsZT17cHJvcHMuY2xvc2UgPyBnZXR0ZXh0KCdDbG9zZWQnKSA6IGdldHRleHQoJ09wZW4nKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMuY2xvc2UgPyAnbG9jaycgOiAnbG9ja19vdXRsaW5lJ31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZU9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKHByb3BzLnNob3cpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmhpZGUgPyBwcm9wcy5vblVuaGlkZSA6IHByb3BzLm9uSGlkZX1cbiAgICAgICAgdGl0bGU9e3Byb3BzLmhpZGUgPyBnZXR0ZXh0KCdIaWRkZW4nKSA6IGdldHRleHQoJ05vdCBoaWRkZW4nKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMuaGlkZSA/ICd2aXNpYmlsaXR5X29mZicgOiAndmlzaWJpbGl0eSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBpbk9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKHByb3BzLnNob3cpIHtcbiAgICBsZXQgaWNvbiA9IG51bGw7XG4gICAgbGV0IG9uQ2xpY2sgPSBudWxsO1xuICAgIGxldCB0b29sdGlwID0gbnVsbDtcblxuICAgIHN3aXRjaCAocHJvcHMucGluKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGljb24gPSAncmFkaW9fYnV0dG9uX3VuY2hlY2tlZCc7XG4gICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkxvY2FsbHk7XG4gICAgICAgIHRvb2x0aXAgPSBnZXR0ZXh0KFwiVW5waW5uZWRcIik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGljb24gPSAnaW5mb19vdXRsaW5lJztcbiAgICAgICAgb25DbGljayA9IHByb3BzLm9uUGluR2xvYmFsbHk7XG4gICAgICAgIHRvb2x0aXAgPSBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIik7XG5cbiAgICAgICAgaWYgKHByb3BzLnNob3cgPT0gMikge1xuICAgICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkdsb2JhbGx5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblVucGluO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaWNvbiA9ICdpbmZvJztcbiAgICAgICAgb25DbGljayA9IHByb3BzLm9uVW5waW47XG4gICAgICAgIHRvb2x0aXAgPSBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXt0b29sdGlwfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtpY29ufVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IiwiaW1wb3J0IHsgbWF4TGVuZ3RoLCBtaW5MZW5ndGggfSBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZVZhbGlkYXRvcnMoKSB7XG4gIHJldHVybiBbXG4gICAgZ2V0VGl0bGVMZW5ndGhNaW4oKSxcbiAgICBnZXRUaXRsZUxlbmd0aE1heCgpXG4gIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0VmFsaWRhdG9ycygpIHtcbiAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykucG9zdF9sZW5ndGhfbWF4KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHZhbGlkYXRlUG9zdExlbmd0aE1pbigpLFxuICAgICAgdmFsaWRhdGVQb3N0TGVuZ3RoTWF4KClcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXG4gICAgICB2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKVxuICAgIF07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlTGVuZ3RoTWluKCkge1xuICByZXR1cm4gbWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykudGhyZWFkX3RpdGxlX2xlbmd0aF9taW4sIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRocmVhZCB0aXRsZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgXCJUaHJlYWQgdGl0bGUgc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlTGVuZ3RoTWF4KCkge1xuICByZXR1cm4gbWF4TGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykudGhyZWFkX3RpdGxlX2xlbmd0aF9tYXgsIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRocmVhZCB0aXRsZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiVGhyZWFkIHRpdGxlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIGxpbWl0VmFsdWUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgfSwgdHJ1ZSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQb3N0TGVuZ3RoTWluKCkge1xuICByZXR1cm4gbWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykucG9zdF9sZW5ndGhfbWluLCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIGxpbWl0VmFsdWUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgfSwgdHJ1ZSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQb3N0TGVuZ3RoTWF4KCkge1xuICByZXR1cm4gbWF4TGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykucG9zdF9sZW5ndGhfbWF4IHx8IDEwMDAwMDAsIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlBvc3RlZCBtZXNzYWdlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QuYWNsKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZXZlbnQtY29udHJvbHNcIj5cbiAgICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShhY2wpIHtcbiAgcmV0dXJuIGFjbC5jYW5faGlkZTtcbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc19oaWRkZW46IHRydWUsXG4gICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHRoaXMucHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLnBvc3QudXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogdGhpcy5wcm9wcy51c2VyLmFic29sdXRlX3VybFxuICAgICAgfSlcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcCA9IHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IHRydWV9O1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4LCBbb3BdKS50aGVuKChwYXRjaCkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHBhdGNoKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcCA9IHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IGZhbHNlfTtcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCwgW29wXSkudGhlbigocGF0Y2gpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc19oaWRkZW46IHRydWVcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlY2lzaW9uID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGRlbGV0ZSB0aGlzIGV2ZW50PyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIikpO1xuICAgIGlmIChkZWNpc2lvbikge1xuICAgICAgdGhpcy5kZWxldGUoKVxuICAgIH1cbiAgfTtcblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgpLnRoZW4oKCkgPT4ge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiRXZlbnQgaGFzIGJlZW4gZGVsZXRlZC5cIikpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBJQ09OID0ge1xuICBjaGFuZ2VkX3RpdGxlOiAnZWRpdCcsXG5cbiAgcGlubmVkX2dsb2JhbGx5OiAnYm9va21hcmsnLFxuICBwaW5uZWRfbG9jYWxseTogJ2Jvb2ttYXJrX2JvcmRlcicsXG4gIHVucG9pbm5lZDogJ3Bhbm9yYW1hX2Zpc2hfZXllJyxcblxuICBtb3ZlZDogJ2Fycm93X2ZvcndhcmQnLFxuICBtZXJnZWQ6ICdjYWxsX21lcmdlJyxcblxuICBhcHByb3ZlZDogJ2RvbmUnLFxuXG4gIG9wZW5lZDogJ2xvY2tfb3BlbicsXG4gIGNsb3NlZDogJ2xvY2tfb3V0bGluZScsXG5cbiAgdW5oaWQ6ICd2aXNpYmlsaXR5JyxcbiAgaGlkOiAndmlzaWJpbGl0eV9vZmYnXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF2YXRhclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7SUNPTltwcm9wcy5wb3N0LmV2ZW50X3R5cGVdfVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuaW1wb3J0IEluZm8gZnJvbSAnLi9pbmZvJztcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vbWVzc2FnZSc7XG5pbXBvcnQgV2F5cG9pbnQgZnJvbSAnLi4vd2F5cG9pbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gJ2V2ZW50JztcbiAgaWYgKHByb3BzLnBvc3QuaXNEZWxldGVkKSB7XG4gICAgY2xhc3NOYW1lID0gJ2hpZGUnO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuICYmICFwcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdldmVudCBwb3N0LWhpZGRlbic7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBpZD17J3Bvc3QtJyArIHByb3BzLnBvc3QuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib3JkZXJcIj5cblxuICAgICAgICA8SWNvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgICAgICA8TWVzc2FnZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPEluZm8gey4uLnByb3BzfSAvPlxuICAgICAgICA8L1dheXBvaW50PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuaW1wb3J0IENvbnRyb2xzIGZyb20gJy4vY29udHJvbHMnO1xuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+JztcbmNvbnN0IERBVEVfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2E+JztcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZSBldmVudC1pbmZvXCI+XG4gICAgICA8SGlkZGVuIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPElwIHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICBsZXQgdXNlciA9IG51bGw7XG4gICAgaWYgKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSkge1xuICAgICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZyb21Ob3coKSlcbiAgICB9LCB0cnVlKTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJIaWRkZW4gYnkgJShldmVudF9ieSlzICUoZXZlbnRfb24pcy5cIikpLCB7XG4gICAgICBldmVudF9ieTogdXNlcixcbiAgICAgIGV2ZW50X29uOiBkYXRlXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImV2ZW50LWhpZGRlbi1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3Rlcihwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyLmFic29sdXRlX3VybCksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKERBVEVfVVJMLCB7XG4gICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmluZGV4KSxcbiAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3RlZF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJCeSAlKGV2ZW50X2J5KXMgJShldmVudF9vbilzLlwiKSksIHtcbiAgICBldmVudF9ieTogdXNlcixcbiAgICBldmVudF9vbjogZGF0ZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJldmVudC1wb3N0ZXJzXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSXAocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVzZXIuYWNsLmNhbl9zZWVfdXNlcnNfaXBzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJldmVudC1pcFwiPlxuICAgICAgICA8YWJiciB0aXRsZT17cHJvcHMucG9zdC5wb3N0ZXJfaXB9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSVAgcmVjb3JkZWRcIil9XG4gICAgICAgIDwvYWJicj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBNRVNTQUdFID0ge1xuICBwaW5uZWRfZ2xvYmFsbHk6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGdsb2JhbGx5LlwiKSxcbiAgcGlubmVkX2xvY2FsbHk6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGxvY2FsbHkuXCIpLFxuICB1bnBpbm5lZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiB1bnBpbm5lZC5cIiksXG5cbiAgYXBwcm92ZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gYXBwcm92ZWQuXCIpLFxuXG4gIG9wZW5lZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBvcGVuZWQuXCIpLFxuICBjbG9zZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gY2xvc2VkLlwiKSxcblxuICB1bmhpZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiByZXZlYWxlZC5cIiksXG4gIGhpZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIGhpZGRlbi5cIiksXG59XG5cbmNvbnN0IEZST01fQ0FURUdPUlkgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKG5hbWUpczwvYT4nXG5jb25zdCBPTERfVElUTEUgPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShvbGRfdGl0bGUpczwvc3Bhbj4nO1xuY29uc3QgTUVSR0VEX1RIUkVBRCA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKG1lcmdlZF90aHJlYWQpczwvc3Bhbj4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoTUVTU0FHRVtwcm9wcy5wb3N0LmV2ZW50X3R5cGVdKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIj5cbiAgICAgICAge01FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXX1cbiAgICAgIDwvcD5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ2NoYW5nZWRfdGl0bGUnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDaGFuZ2VkVGl0bGUgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAnbW92ZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb3ZlZCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdtZXJnZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNZXJnZWQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZWRUaXRsZShwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJUaHJlYWQgdGl0bGUgaGFzIGJlZW4gY2hhbmdlZCBmcm9tICUob2xkX3RpdGxlKXMuXCIpKTtcbiAgY29uc3Qgb2xkVGl0bGUgPSBpbnRlcnBvbGF0ZShPTERfVElUTEUsIHtcbiAgICBvbGRfdGl0bGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0Lm9sZF90aXRsZSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIG9sZF90aXRsZTogb2xkVGl0bGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW92ZWQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1vdmVkIGZyb20gJShmcm9tX2NhdGVnb3J5KXMuXCIpKTtcbiAgY29uc3QgZnJvbUNhdGVnb3J5ID0gaW50ZXJwb2xhdGUoRlJPTV9DQVRFR09SWSwge1xuICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQuZnJvbV9jYXRlZ29yeS51cmwpLFxuICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LmZyb21fY2F0ZWdvcnkubmFtZSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIGZyb21fY2F0ZWdvcnk6IGZyb21DYXRlZ29yeVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZXJnZWQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiVGhlICUobWVyZ2VkX3RocmVhZClzIHRocmVhZCBoYXMgYmVlbiBtZXJnZWQgaW50byB0aGlzIHRocmVhZC5cIikpO1xuICBjb25zdCBtZXJnZWRUaHJlYWQgPSBpbnRlcnBvbGF0ZShNRVJHRURfVEhSRUFELCB7XG4gICAgbWVyZ2VkX3RocmVhZDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQubWVyZ2VkX3RocmVhZClcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIG1lcmdlZF90aHJlYWQ6IG1lcmdlZFRocmVhZFxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50JztcbmltcG9ydCBQb3N0IGZyb20gJy4vcG9zdCc7XG5pbXBvcnQgUG9zdFByZXZpZXcgZnJvbSAnLi9wb3N0L3ByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgICAge3Byb3BzLnBvc3RzLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxMaXN0SXRlbSBrZXk9e3Bvc3QuaWR9IHBvc3Q9e3Bvc3R9IHsuLi5wcm9wc30gLz47XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICAgIDxQb3N0UHJldmlldyAvPlxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaXN0SXRlbShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19ldmVudCkge1xuICAgIHJldHVybiA8RXZlbnQgey4uLnByb3BzfSAvPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPFBvc3Qgey4uLnByb3BzfSAvPjtcbiAgfVxufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5pbXBvcnQgZm9ybWF0RmlsZXNpemUgZnJvbSAnbWlzYWdvL3V0aWxzL2ZpbGUtc2l6ZSc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5hdHRhY2htZW50ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0ZCBjbGFzc05hbWU9XCJjb2wtbWQtNlwiPlxuICAgICAgICAmbmJzcDtcbiAgICAgIDwvdGQ+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHRkIGNsYXNzTmFtZT1cImNvbC1tZC02XCI+XG4gICAgICA8QXR0YWNobWVudFByZXZpZXcgey4uLnByb3BzfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnRcIj5cbiAgICAgICAgPGEgaHJlZj17cHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXh9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICB7cHJvcHMuYXR0YWNobWVudC5maWxlbmFtZX1cbiAgICAgICAgPC9hPlxuICAgICAgICA8QXR0YWNobWVudERldGFpbHMgey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC90ZD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRQcmV2aWV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy5hdHRhY2htZW50LmlzX2ltYWdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50LXByZXZpZXdcIj5cbiAgICAgICAgPEF0dGFjaG1lbnRUaHVtYm5haWwgey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtcHJldmlld1wiPlxuICAgICAgICA8QXR0YWNobWVudEljb24gey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YSBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH0gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgaW5zZXJ0X2RyaXZlX2ZpbGVcbiAgICA8L2E+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50VGh1bWJuYWlsKHByb3BzKSB7XG4gIGNvbnN0IHVybCA9IHByb3BzLmF0dGFjaG1lbnQudXJsLnRodW1iIHx8IHByb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4O1xuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJwb3N0LXRodW1ibmFpbFwiXG4gICAgICBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH1cbiAgICAgIHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiAndXJsKFwiJyArIGVzY2FwZUh0bWwodXJsKSArICdcIiknfX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudERldGFpbHMocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMuYXR0YWNobWVudC51cmwudXBsb2FkZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVybC51cGxvYWRlciksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShEQVRFX0FCQlIsIHtcbiAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVkX29uLmZvcm1hdCgnTExMJykpLFxuICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiJShmaWxldHlwZSlzLCAlKHNpemUpcywgdXBsb2FkZWQgYnkgJSh1cGxvYWRlcilzICUodXBsb2FkZWRfb24pcy5cIikpLCB7XG4gICAgZmlsZXR5cGU6IHByb3BzLmF0dGFjaG1lbnQuZmlsZXR5cGUsXG4gICAgc2l6ZTogZm9ybWF0RmlsZXNpemUocHJvcHMuYXR0YWNobWVudC5zaXplKSxcbiAgICB1cGxvYWRlcjogdXNlcixcbiAgICB1cGxvYWRlZF9vbjogZGF0ZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtZGVzY3JpcHRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgIC8+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBiYXRjaCBmcm9tICdtaXNhZ28vdXRpbHMvYmF0Y2gnO1xuaW1wb3J0IEF0dGFjaG1lbnQgZnJvbSAnLi9hdHRhY2htZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFpc1Zpc2libGUocHJvcHMucG9zdCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIHBvc3QtYXR0YWNobWVudHNcIj5cbiAgICAgIDx0Ym9keT5cbiAgICAgICAge2JhdGNoKHByb3BzLnBvc3QuYXR0YWNobWVudHMsIDIsIG51bGwpLm1hcCgocm93KSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gcm93Lm1hcCgoYSkgPT4ge3JldHVybiBhID8gYS5pZCA6IDA7fSkuam9pbignXycpO1xuICAgICAgICAgIHJldHVybiA8Um93IGtleT17a2V5fSByb3c9e3Jvd30gLz47XG4gICAgICAgIH0pfVxuICAgICAgPC90Ym9keT5cbiAgICA8L3RhYmxlPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKHBvc3QpIHtcbiAgcmV0dXJuICghcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pICYmIHBvc3QuYXR0YWNobWVudHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSb3cocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dHIgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICB7cHJvcHMucm93Lm1hcCgoYXR0YWNobWVudCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxBdHRhY2htZW50XG4gICAgICAgICAgICBhdHRhY2htZW50PXthdHRhY2htZW50fVxuICAgICAgICAgICAga2V5PXthdHRhY2htZW50ID8gYXR0YWNobWVudC5pZCA6IDB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvdHI+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBXYXlwb2ludCBmcm9tICcuLi93YXlwb2ludCc7XG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXAnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgSElEREVOX0JZX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5jb25zdCBISURERU5fQllfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgSElEREVOX09OID0gJzxhYmJyIGNsYXNzPVwibGFzdC10aXRsZVwiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gPEhpZGRlbiB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuY29udGVudCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QuY29udGVudH0gLz5cbiAgICA8L1dheXBvaW50PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLnBvc3QuaGlkZGVuX2J5KSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKEhJRERFTl9CWV9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShISURERU5fQllfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKEhJRERFTl9PTiwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZvcm1hdCgnTExMJykpLFxuICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIkhpZGRlbiBieSAlKGhpZGRlbl9ieSlzICUoaGlkZGVuX29uKXMuXCIpKSwge1xuICAgIGhpZGRlbl9ieTogdXNlcixcbiAgICBoaWRkZW5fb246IGRhdGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1ib2R5LWhpZGRlblwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPntnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIGhpZGRlbi4gWW91IGNhbm5vdCBub3Qgc2VlIGl0cyBjb250ZW50cy5cIil9PC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgICA8L1dheXBvaW50PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZChwcm9wcykge1xuIHJldHVybiAoXG4gICAgPFdheXBvaW50IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtYm9keS1pbnZhbGlkXCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e2dldHRleHQoXCJUaGlzIHBvc3QncyBjb250ZW50cyBjYW5ub3QgYmUgZGlzcGxheWVkLlwiKX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+e2dldHRleHQoXCJUaGlzIGVycm9yIGlzIGNhdXNlZCBieSBpbnZhbGlkIHBvc3QgY29udGVudCBtYW5pcHVsYXRpb24uXCIpfTwvcD5cbiAgICA8L1dheXBvaW50PlxuICApO1xufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfdW5hcHByb3ZlZDogZmFsc2VcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy11bmFwcHJvdmVkJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc191bmFwcHJvdmVkOiBwcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWRcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RlY3QocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfcHJvdGVjdGVkOiB0cnVlXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtcHJvdGVjdGVkJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3Byb3RlY3RlZDogcHJvcHMucG9zdC5pc19wcm90ZWN0ZWRcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19wcm90ZWN0ZWQ6IGZhbHNlXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtcHJvdGVjdGVkJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19wcm90ZWN0ZWQ6IHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgIHVybDogT2JqZWN0LmFzc2lnbihwcm9wcy5wb3N0LnVybCwge1xuICAgICAgaGlkZGVuX2J5OiBwcm9wcy51c2VyLmFic29sdXRlX3VybFxuICAgIH0pXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2hpZGRlbjogcHJvcHMucG9zdC5pc19oaWRkZW4sXG4gICAgaGlkZGVuX29uOiBwcm9wcy5wb3N0LmhpZGRlbl9vbixcbiAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICB1cmw6IHByb3BzLnBvc3QudXJsXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZGUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfaGlkZGVuOiBmYWxzZVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IGZhbHNlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfaGlkZGVuOiBwcm9wcy5wb3N0LmlzX2hpZGRlblxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHByb3BzLnBvc3QuYXBpLmluZGV4LCBvcHMpLnRoZW4oKG5ld1N0YXRlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCBuZXdTdGF0ZSkpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCBwcmV2aW91c1N0YXRlKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcG9zdD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgfSkpO1xuXG4gIGFqYXguZGVsZXRlKHByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKCgpID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJQb3N0IGhhcyBiZWVuIGRlbGV0ZWQuXCIpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgIH0pKTtcbiAgfSk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0ICogYXMgbW9kZXJhdGlvbiBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IE1vdmVNb2RhbCBmcm9tICcuL21vdmUnO1xuaW1wb3J0IFNwbGl0TW9kYWwgZnJvbSAnLi9zcGxpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgQXBwcm92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5hcHByb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fYXBwcm92ZSAmJiB0aGlzLnByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BsaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8U3BsaXRNb2RhbCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbW92ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnByb3RlY3QodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0ICYmICF0aGlzLnByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5wcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3QgJiYgdGhpcy5wcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZSBwcm90ZWN0aW9uXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmhpZGUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9oaWRlICYmICF0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVuaGlkZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3VuaGlkZSAmJiB0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucmVtb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fZGVsZXRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEcm9wZG93biBmcm9tICcuL2Ryb3Bkb3duJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0LmFjbCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgZXhwYW5kX21vcmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8RHJvcGRvd24gey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGFjbCkge1xuICByZXR1cm4gKFxuICAgIGFjbC5jYW5fYXBwcm92ZSB8fFxuICAgIGFjbC5jYW5faGlkZSB8fFxuICAgIGFjbC5jYW5fcHJvdGVjdCB8fFxuICAgIGFjbC5jYW5fdW5oaWRlIHx8XG4gICAgYWNsLmNhbl9kZWxldGUgfHxcbiAgICBhY2wuY2FuX21vdmVcbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVybC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgbGluayB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLm1vdmUsIHtcbiAgICAgIHRocmVhZF91cmw6IHRoaXMuc3RhdGUudXJsLFxuICAgICAgcG9zdHM6IFt0aGlzLnByb3BzLnBvc3QuaWRdXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdCB3YXMgbW92ZWQgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTGluayB0byB0aHJlYWQgeW91IHdhbnQgdG8gbW92ZSBwb3N0IHRvXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSBwb3N0XCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgcG9zdFwiKX08L2g0PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFBvc3RpbmdDb25maWcgey4uLnByb3BzfSBGb3JtPXtNb2RlcmF0aW9uRm9ybX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RpbmdDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldCgnVEhSRUFEX0VESVRPUl9VUkwnKSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgIHBvc3Q6IGl0ZW0ucG9zdFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGNhdGVnb3JpZXNcbiAgICAgIH0pXG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGVyYXRpb25Gb3JtIHsuLi50aGlzLnByb3BzfSBjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBwcm9wcy5jYXRlZ29yaWVzLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWQoKVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5JyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiBmYWxzZSxcbiAgICAgICAgJ2ljb24nOiAnbG9ja19vdXRsaW5lJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiB0cnVlLFxuICAgICAgICAnaWNvbic6ICdsb2NrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5hY2wgPSB7fTtcbiAgICB0aGlzLnByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5wb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWNsW2NhdGVnb3J5LmlkXSA9IHtcbiAgICAgICAgICBjYW5fcGluX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QucGluLFxuICAgICAgICAgIGNhbl9jbG9zZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmNsb3NlLFxuICAgICAgICAgIGNhbl9oaWRlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuaGlkZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLnNwbGl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkLFxuICAgICAgcG9zdHM6IFt0aGlzLnByb3BzLnBvc3QuaWRdXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3Qgd2FzIHNwbGl0IGludG8gbmV3IHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IChldikgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgfTtcblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3JlbW92ZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmtfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpLFxuICAgICAgfVxuICAgIF07XG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgICd2YWx1ZSc6IDIsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzO1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnd2VpZ2h0Jyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGRlbicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2Nsb3NlZCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX0+XG4gICAgICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3RpdGxlJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jYXRlZ29yeX0+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTcGxpdCBwb3N0XCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvTW9kYWw+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZGVyKCkge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgIDwvTW9kYWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnJvcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRoaXMgcG9zdCBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiU3BsaXQgcG9zdCBpbnRvIG5ldyB0aHJlYWRcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnSGlkZGVuKHByb3BzKSB7XG4gIGlmIChpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXN0YXR1cy1tZXNzYWdlIHBvc3Qtc3RhdHVzLWhpZGRlblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgIDxwPntnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIGhpZGRlbi4gT25seSB1c2VycyB3aXRoIHBlcm1pc3Npb24gbWF5IHNlZSBpdHMgY29udGVudHMuXCIpfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmxhZ1VuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXN0YXR1cy1tZXNzYWdlIHBvc3Qtc3RhdHVzLXVuYXBwcm92ZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPHA+e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgdW5hcHByb3ZlZC4gT25seSB1c2VycyB3aXRoIHBlcm1pc3Npb24gdG8gYXBwcm92ZSBwb3N0cyBhbmQgaXRzIGF1dGhvciBtYXkgc2VlIGl0cyBjb250ZW50cy5cIil9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChpc1Zpc2libGUocHJvcHMucG9zdCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXIgcG9zdC1mb290ZXJcIj5cbiAgICAgICAgPExpa2VzIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPExpa2Ugey4uLnByb3BzfSAvPlxuICAgICAgICA8UmVwbHkgey4uLnByb3BzfSAvPlxuICAgICAgICA8RWRpdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gKCFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikgJiYgKFxuICAgIHBvc3QuYWNsLmNhbl9yZXBseSB8fFxuICAgIHBvc3QuYWNsLmNhbl9lZGl0IHx8XG4gICAgcG9zdC5hY2wuY2FuX3NlZV9saWtlcyB8fFxuICAgIHBvc3QuYWNsLmNhbl9saWtlXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlcyhwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcykge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpa2VzIHB1bGwtbGVmdFwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj5cbiAgICAgICAgTGlrZXNcbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuYWNsLmNhbl9saWtlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlrZSBwdWxsLWxlZnRcIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiTGlrZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlcGx5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1JFUExZJyxcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG5cbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcmVwbHk6IHRoaXMucHJvcHMucG9zdC5pZFxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcmVwbHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBwdWxsLXJpZ2h0XCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlcGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6ICdFRElUJyxcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleFxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fZWRpdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IHB1bGwtcmlnaHRcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbnRyb2xzIGZyb20gJy4vY29udHJvbHMnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICcuL3NlbGVjdCc7XG5pbXBvcnQge1N0YXR1c0ljb24sIGdldFN0YXR1c0NsYXNzTmFtZSwgZ2V0U3RhdHVzRGVzY3JpcHRpb259IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmcgcG9zdC1oZWFkaW5nXCI+XG4gICAgICA8UG9zdGVyU3RhdHVzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlclJhbmsgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlZE9uIHsuLi5wcm9wc30gLz5cbiAgICAgIDxTZWxlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPENvbnRyb2xzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0ZWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5yZWFkTGFiZWwgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyU3RhdHVzKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtnZXRTdGF0dXNDbGFzc05hbWUocHJvcHMucG9zdC5wb3N0ZXIuc3RhdHVzKX1cbiAgICAgIHRpdGxlPXtnZXRTdGF0dXNEZXNjcmlwdGlvbihwcm9wcy5wb3N0LnBvc3RlciwgcHJvcHMucG9zdC5wb3N0ZXIuc3RhdHVzKX1cbiAgICA+XG4gICAgICA8U3RhdHVzSWNvblxuICAgICAgICBzdGF0dXM9e3Byb3BzLnBvc3QucG9zdGVyLnN0YXR1c31cbiAgICAgICAgdXNlcj17cHJvcHMucG9zdC5wb3N0ZXJ9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cHJvcHMucG9zdC5wb3N0ZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAge3Byb3BzLnBvc3QucG9zdGVyLnVzZXJuYW1lfVxuICAgICAgPC9hPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPntwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lfTwvc3Ryb25nPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RlclJhbmsocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyKSB7XG4gICAgaWYgKCFwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmlzX2RlZmF1bHQpIHtcbiAgICAgIGNvbnN0IHJhbmtDbGFzcyA9ICdsYWJlbC0nICsgKHByb3BzLnBvc3QucG9zdGVyLnJhbmsuY3NzX2NsYXNzIHx8ICdkZWZhdWx0Jyk7XG5cbiAgICAgIGlmIChwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmlzX3RhYikge1xuICAgICAgICByZXR1cm4gPGEgaHJlZj17cHJvcHMucG9zdC5wb3N0ZXIucmFuay5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT17J2xhYmVsICcgKyByYW5rQ2xhc3N9PlxuICAgICAgICAgIHtwcm9wcy5wb3N0LnBvc3Rlci5zaG9ydF90aXRsZX1cbiAgICAgICAgPC9hPjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9eydsYWJlbCAnICsgcmFua0NsYXNzfT5cbiAgICAgICAgICB7cHJvcHMucG9zdC5wb3N0ZXIuc2hvcnRfdGl0bGV9XG4gICAgICAgIDwvc3Bhbj47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsOyAvLyB3ZSBkb24ndCBkaXNwbGF5IGRlZmF1bHQgcmFua3NcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstbmFtZSBpdGVtLXRpdGxlXCI+XG4gICAgICB7Z2V0dGV4dChcIlVucmVnaXN0ZXJlZFwiKX1cbiAgICA8L3NwYW4+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbihwcm9wcykge1xuICBjb25zdCB0b29sdGlwID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcInBvc3RlZCAlKHBvc3RlZF9vbilzXCIpLCB7XG4gICAgJ3Bvc3RlZF9vbic6IHByb3BzLnBvc3QucG9zdGVkX29uLmZvcm1hdCgnTEwsIExUJylcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSwge1xuICAgICdwb3N0ZWRfb24nOiBwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KClcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIDxhIGhyZWY9e3Byb3BzLnBvc3QudXJsLmluZGV4fSBjbGFzc05hbWU9XCJwb3N0ZWQtb25cIiB0aXRsZT17dG9vbHRpcH0+XG4gICAge21lc3NhZ2V9XG4gIDwvYT47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbnJlYWRMYWJlbChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3QuaXNfcmVhZCkge1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC13YXJuaW5nIHB1bGwtcmlnaHRcIj5cbiAgICAgIHtnZXR0ZXh0KFwiTmV3XCIpfVxuICAgIDwvc3Bhbj47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3RlZExhYmVsKHByb3BzKSB7XG4gIGNvbnN0IHBvc3RBdXRob3IgPSBwcm9wcy5wb3N0LnBvc3RlciAmJiBwcm9wcy5wb3N0LnBvc3Rlci5pZCA9PT0gcHJvcHMudXNlci5pZDtcbiAgY29uc3QgaGFzQWNsID0gcHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3Q7XG4gIGNvbnN0IGlzVmlzaWJsZSA9IHByb3BzLnVzZXIuaWQgJiYgcHJvcHMucG9zdC5pc19wcm90ZWN0ZWQgJiYgKHBvc3RBdXRob3IgfHwgaGFzQWNsKTtcblxuICBpZiAoIWlzVmlzaWJsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgY2xhc3NOYW1lPVwibGFiZWwgbGFiZWwtZGVmYXVsdCBwdWxsLXJpZ2h0XCJcbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIHByb3RlY3RlZCBhbmQgbWF5IG5vdCBiZSBlZGl0ZWQuXCIpfVxuICAgID5cbiAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdGVkXCIpfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IEF0dGFjaG1lbnRzIGZyb20gJy4vYXR0YWNobWVudHMnO1xuaW1wb3J0IEJvZHkgZnJvbSAnLi9ib2R5JztcbmltcG9ydCB7IEZsYWdIaWRkZW4sIEZsYWdVbmFwcHJvdmVkIH0gZnJvbSAnLi9mbGFncyc7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gJ3Bvc3QnO1xuICBpZiAocHJvcHMucG9zdC5pc0RlbGV0ZWQpIHtcbiAgICBjbGFzc05hbWUgPSAnaGlkZSc7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ3Bvc3QgcG9zdC1oaWRkZW4nO1xuICB9XG5cbiAgaWYgKCFwcm9wcy5wb3N0LmlzX3JlYWQpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBwb3N0LW5ldyc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBpZD17J3Bvc3QtJyArIHByb3BzLnBvc3QuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib3JkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF2YXRhclwiPlxuICAgICAgICAgIDxQb3N0ZXJBdmF0YXIgcG9zdD17cHJvcHMucG9zdH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICAgIDxIZWFkZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEZsYWdIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEZsYWdVbmFwcHJvdmVkIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDxCb2R5IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDxBdHRhY2htZW50cyB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICA8Rm9vdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyQXZhdGFyKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBocmVmPXtwcm9wcy5wb3N0LnBvc3Rlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICA8QXZhdGFyIHNpemU9ezEwMH0gdXNlcj17cHJvcHMucG9zdC5wb3N0ZXJ9IC8+XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPEF2YXRhciBzaXplPXsxMDB9IC8+O1xuICB9XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzPVwicG9zdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvcmRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXZhdGFyXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZyBwb3N0LWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cIm1pc2Fnby1tYXJrdXBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCJ9fT4mbmJzcDs8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwifX0+Jm5ic3A7PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIn19PiZuYnNwOzwvcD5cbiAgICAgICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNWaXNpYmxlIH0gZnJvbSAnLi9jb250cm9scyc7XG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNTZWxlY3RlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3QodGhpcy5wcm9wcy5wb3N0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnNlbGVjdCh0aGlzLnByb3BzLnBvc3QpKTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgfHwgaXNWaXNpYmxlKHRoaXMucHJvcHMucG9zdC5hY2wpKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LmlzU2VsZWN0ZWQgPyAnY2hlY2tfYm94JyA6ICdjaGVja19ib3hfb3V0bGluZV9ibGFuayd9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKlxuICBTdXBlciBuYWl2ZSBhbmQgZGUtZmFjdG8gcGxhY2Vob2xkZXIgaW1wbGVtZW50YXRpb24gZm9yIHJlYWRpbmcgcG9zdHMgb24gc2Nyb2xsXG4gICovXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmKHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgICByZXR1cm47IC8vIGRvbid0IHJlZ2lzdGVyIHJlYWQgdHJhY2tlclxuICAgIH1cblxuICAgICQoJyNwb3N0LScgKyB0aGlzLnByb3BzLnBvc3QuaWQpLndheXBvaW50KHtcbiAgICAgIGhhbmRsZXI6IChkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2Rvd24nIHx8IHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWZ0ZXIgMTUwMG1zIGZsYWcgcG9zdCBhcyByZWFkXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICAgICAgaXNfcmVhZDogdHJ1ZVxuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnBvc3QuYXBpLnJlYWQpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH0sXG4gICAgICBvZmZzZXQ6ICdib3R0b20taW4tdmlldydcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYW5lbExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1BST0ZJTEVfQkFOJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoJ1BST0ZJTEVfQkFOJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnByb2ZpbGUuYXBpX3VybC5iYW4pO1xuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGJhbikge1xuICAgIGlmIChiYW4uZXhwaXJlc19vbikge1xuICAgICAgYmFuLmV4cGlyZXNfb24gPSBtb21lbnQoYmFuLmV4cGlyZXNfb24pO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGJhblxuICAgIH07XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ2Jhbi1kZXRhaWxzJyxcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuICAgICAgZXJyb3I6IHRoaXMuZXJyb3JcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGJhbikgPT4ge1xuICAgIGlmIChiYW4uZXhwaXJlc19vbikge1xuICAgICAgYmFuLmV4cGlyZXNfb24gPSBtb21lbnQoYmFuLmV4cGlyZXNfb24pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgYmFuXG4gICAgfSk7XG4gIH07XG5cbiAgZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgZXJyb3I6IGVycm9yLmRldGFpbCxcbiAgICAgIGJhbjogbnVsbFxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkJhbiBkZXRhaWxzXCIpLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHBvbGxzLnN0b3AoJ2Jhbi1kZXRhaWxzJyk7XG4gIH1cblxuICBnZXRVc2VyTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4udXNlcl9tZXNzYWdlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1tZXNzYWdlIGJhbi11c2VyLW1lc3NhZ2VcIj5cbiAgICAgICAgPGg0PntnZXR0ZXh0KFwiVXNlci1zaG93biBiYW4gbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlYWRcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgX19odG1sOiB0aGlzLnN0YXRlLmJhbi51c2VyX21lc3NhZ2UuaHRtbFxuICAgICAgICAgIH19IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTdGFmZk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLnN0YWZmX21lc3NhZ2UpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLW1lc3NhZ2UgYmFuLXN0YWZmLW1lc3NhZ2VcIj5cbiAgICAgICAgPGg0PntnZXR0ZXh0KFwiVGVhbS1zaG93biBiYW4gbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlYWRcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgX19odG1sOiB0aGlzLnN0YXRlLmJhbi5zdGFmZl9tZXNzYWdlLmh0bWxcbiAgICAgICAgICB9fSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uaXNBZnRlcihtb21lbnQoKSkpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyBvbiAlKGV4cGlyZXNfb24pcy5cIiksIHtcbiAgICAgICAgICAgICdleHBpcmVzX29uJzogdGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyAlKGV4cGlyZXNfb24pcy5cIiksIHtcbiAgICAgICAgICAgICdleHBpcmVzX29uJzogdGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5mcm9tTm93KClcbiAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gPGFiYnIgdGl0bGU9e3RpdGxlfT5cbiAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgPC9hYmJyPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaGFzIGV4cGlyZWQuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcydzIGJhbiBpcyBwZXJtYW5lbnQuXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGFuZWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbikge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuYmFuKS5sZW5ndGgpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgICB7dGhpcy5nZXRVc2VyTWVzc2FnZSgpfVxuICAgICAgICAgIHt0aGlzLmdldFN0YWZmTWVzc2FnZSgpfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1leHBpcmVzXCI+XG4gICAgICAgICAgICA8aDQ+e2dldHRleHQoXCJCYW4gZXhwaXJhdGlvblwiKX08L2g0PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRFeHBpcmF0aW9uTWVzc2FnZSgpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgIDxQYW5lbE1lc3NhZ2UgbWVzc2FnZT17Z2V0dGV4dChcIk5vIGJhbiBpcyBhY3RpdmUgYXQgdGhlIG1vbWVudC5cIil9IC8+XG4gICAgICAgIDwvZGl2PjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICA8UGFuZWxNZXNzYWdlIGljb249XCJlcnJvcl9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgIDxQYW5lbExvYWRlciAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtYmFuLWRldGFpbHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkJhbiBkZXRhaWxzXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLmdldFBhbmVsQm9keSgpfVxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAnIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3dpbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAnIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3cnO1xuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuICdmYXZvcml0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnZmF2b3JpdGVfYm9yZGVyJztcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkZvbGxvd2luZ1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJGb2xsb3dcIik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBhY3Rpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgICAgaXNfZm9sbG93ZWQ6IGZhbHNlLFxuICAgICAgICBmb2xsb3dlcnM6IHRoaXMucHJvcHMucHJvZmlsZS5mb2xsb3dlcnMgLSAxXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgICAgaXNfZm9sbG93ZWQ6IHRydWUsXG4gICAgICAgIGZvbGxvd2VyczogdGhpcy5wcm9wcy5wcm9maWxlLmZvbGxvd2VycyArIDFcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwuZm9sbG93KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKGRhdGEpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxCdXR0b24gY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFjdGlvbn0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgPC9CdXR0b24+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWFyY2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VhcmNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc2V0U3BlY2lhbFByb3BzKCk7XG5cbiAgICBpZiAobWlzYWdvLmhhcyh0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSkpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AodGhpcy5QUkVMT0FERURfREFUQV9LRVkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG4gIH1cblxuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSAnUFJPRklMRV9GT0xMT1dFUlMnO1xuICAgIHRoaXMuVElUTEUgPSBnZXR0ZXh0KCdGb2xsb3dlcnMnKTtcbiAgICB0aGlzLkFQSV9GSUxURVIgPSAnZm9sbG93ZXJzJztcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiAnJyxcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogJycsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfTtcblxuICAgIHRoaXMubG9hZFVzZXJzKCk7XG4gIH1cblxuICBsb2FkVXNlcnMocGFnZT0xLCBzZWFyY2g9bnVsbCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1VTRVJTX0FQSScpLCB7XG4gICAgICBbdGhpcy5BUElfRklMVEVSXTogdGhpcy5wcm9wcy5wcm9maWxlLmlkLFxuICAgICAgbmFtZTogc2VhcmNoLFxuICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgfSwgJ3VzZXItJyArIHRoaXMuQVBJX0ZJTFRFUikudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5USVRMRSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRVc2Vycyh0aGlzLnN0YXRlLnBhZ2UgKyAxLCB0aGlzLnN0YXRlLnNlYXJjaCk7XG4gIH07XG5cbiAgc2VhcmNoID0gKGV2KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkVXNlcnMoMSwgZXYudGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KCdMb2FkaW5nLi4uJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBoYXZlICUodXNlcnMpcyBmb2xsb3dlci5cIixcbiAgICAgICAgXCJZb3UgaGF2ZSAlKHVzZXJzKXMgZm9sbG93ZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyAlKHVzZXJzKXMgZm9sbG93ZXIuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyAlKHVzZXJzKXMgZm9sbG93ZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlNlYXJjaCByZXR1cm5lZCBubyB1c2VycyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiWW91IGhhdmUgbm8gZm9sbG93ZXJzLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaGFzIG5vIGZvbGxvd2Vycy5cIiksIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1vcmUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvbiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfT5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoZ2V0dGV4dChcIlNob3cgbW9yZSAoJShtb3JlKXMpXCIpLCB7XG4gICAgICAgICAgICAnbW9yZSc6IHRoaXMuc3RhdGUubW9yZVxuICAgICAgICAgIH0sIHRydWUpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldExpc3RCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkICYmIHRoaXMuc3RhdGUuY291bnQgPT09IDApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfVxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICA8VXNlcnNMaXN0IGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgICAgICAgIHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfVxuICAgICAgICAgICAgICAgICAgIHNob3dSYW5rPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgIGNvbHM9ezJ9IC8+XG5cbiAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuICdwcm9maWxlLScgKyB0aGlzLkFQSV9GSUxURVI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG5cbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICAgICAgPC9oMz5cblxuICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZWFyY2h9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJTZWFyY2ggaGlzdG9yeS4uLlwiKX0gLz5cbiAgICAgIDwvbmF2PlxuXG4gICAgICB7dGhpcy5nZXRMaXN0Qm9keSgpfVxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dlcnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvbGxvd2VycyB7XG4gIHNldFNwZWNpYWxQcm9wcygpIHtcbiAgICB0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSA9ICdQUk9GSUxFX0ZPTExPV1MnO1xuICAgIHRoaXMuVElUTEUgPSBnZXR0ZXh0KCdGb2xsb3dzJyk7XG4gICAgdGhpcy5BUElfRklMVEVSID0gJ2ZvbGxvd3MnO1xuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dCgnTG9hZGluZy4uLicpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaWQgPT09IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3UgYXJlIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJZb3UgYXJlIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaXMgZm9sbG93aW5nICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBpcyBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlNlYXJjaCByZXR1cm5lZCBubyB1c2VycyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiWW91IGFyZSBub3QgZm9sbG93aW5nIGFueSB1c2Vycy5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG5vdCBmb2xsb3dpbmcgYW55IHVzZXJzLlwiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RlcmF0aW9uTmF2IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9uYXYnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzSWNvbiwgU3RhdHVzTGFiZWwgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0dXMtZGlzcGxheVwiPlxuICAgICAgPFN0YXR1cyB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9IHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c30+XG4gICAgICAgIDxTdGF0dXNJY29uIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfSAvPlxuICAgICAgICA8U3RhdHVzTGFiZWwgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsXCIgLz5cbiAgICAgIDwvU3RhdHVzPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRVc2VyUmFuaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuaXNfdGFiKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItcmFua1wiPlxuICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnByb2ZpbGUucmFuay5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsubmFtZX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItcmFua1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+e3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLm5hbWV9PC9zcGFuPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnRpdGxlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS50aXRsZX1cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLnRpdGxlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLnRpdGxlfVxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRKb2luZWRPbigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkpvaW5lZCBvbiAlKGpvaW5lZF9vbilzXCIpLCB7XG4gICAgICAnam9pbmVkX29uJzogdGhpcy5wcm9wcy5wcm9maWxlLmpvaW5lZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBsZXQgYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkpvaW5lZCAlKGpvaW5lZF9vbilzXCIpLCB7XG4gICAgICAnam9pbmVkX29uJzogdGhpcy5wcm9wcy5wcm9maWxlLmpvaW5lZF9vbi5mcm9tTm93KClcbiAgICB9LCB0cnVlKTtcblxuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci1qb2luZWQtb25cIj5cbiAgICAgIDxhYmJyIHRpdGxlPXt0aXRsZX0+XG4gICAgICAgIHthZ2V9XG4gICAgICA8L2FiYnI+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldEVtYWlsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuZW1haWwpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci1lbWFpbFwiPlxuICAgICAgICA8YSBocmVmPXsnbWFpbHRvOicgKyB0aGlzLnByb3BzLnByb2ZpbGUuZW1haWx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEZvbGxvd0J1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEZvbGxvd0J1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWFsaWduZWQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tYWxpZ25lZCBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1tb2RlcmF0ZSBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB0b25hbGl0eVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8TW9kZXJhdGlvbk5hdiBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybjxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwicHVsbC1sZWZ0XCI+XG4gICAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+e3RoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZX08L3NwYW4+XG4gICAgICAgICAgICA8L2gxPlxuXG4gICAgICAgICAgICB7dGhpcy5nZXRGb2xsb3dCdXR0b24oKX1cbiAgICAgICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cblxuICAgICAgICAgICAgPERyb3Bkb3duVG9nZ2xlIHRvZ2dsZU5hdj17dGhpcy5wcm9wcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd249e3RoaXMucHJvcHMuZHJvcGRvd259IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItc3RhdHNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOSBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclJhbmsoKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyVGl0bGUoKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRKb2luZWRPbigpfVxuICAgICAgICAgICAgICAgIHt0aGlzLmdldEVtYWlsKCl9XG4gICAgICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGFsTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXIgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgaXNfYXZhdGFyX2xvY2tlZDogJycsXG4gICAgICBhdmF0YXJfbG9ja191c2VyX21lc3NhZ2U6ICcnLFxuICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogJydcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwubW9kZXJhdGVfYXZhdGFyKS50aGVuKChvcHRpb25zKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG5cbiAgICAgICAgaXNfYXZhdGFyX2xvY2tlZDogb3B0aW9ucy5pc19hdmF0YXJfbG9ja2VkLFxuICAgICAgICBhdmF0YXJfbG9ja191c2VyX21lc3NhZ2U6IG9wdGlvbnMuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlIHx8ICcnLFxuICAgICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiBvcHRpb25zLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2UgfHwgJydcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IodGhpcy52YWxpZGF0ZSgpLnVzZXJuYW1lWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwubW9kZXJhdGVfYXZhdGFyLCB7XG4gICAgICBpc19hdmF0YXJfbG9ja2VkOiB0aGlzLnN0YXRlLmlzX2F2YXRhcl9sb2NrZWQsXG4gICAgICBhdmF0YXJfbG9ja191c2VyX21lc3NhZ2U6IHRoaXMuc3RhdGUuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlLFxuICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogdGhpcy5zdGF0ZS5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQXZhdGFyKHRoaXMucHJvcHMucHJvZmlsZSwgYXBpUmVzcG9uc2UuYXZhdGFyX2hhc2gpKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJBdmF0YXIgY29udHJvbHMgaGF2ZSBiZWVuIGNoYW5nZWQuXCIpKTtcbiAgfVxuXG4gIGdldEZvcm1Cb2R5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJMb2NrIGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIkxvY2tpbmcgdXNlciBhdmF0YXIgd2lsbCBwcm9oaWJpdCB1c2VyIGZyb20gY2hhbmdpbmcgaGlzIGF2YXRhciBhbmQgd2lsbCByZXNldCBoaXMvaGVyIGF2YXRhciB0byBkZWZhdWx0IG9uZS5cIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfYXZhdGFyX2xvY2tlZFwiPlxuICAgICAgICAgIDxZZXNOb1N3aXRjaCBpZD1cImlkX2lzX2F2YXRhcl9sb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgIGljb25Pbj1cImxvY2tfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJsb2NrX29wZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGlzYWxsb3cgdXNlciBmcm9tIGNoYW5naW5nIGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJBbGxvdyB1c2VyIHRvIGNoYW5nZSBhdmF0YXJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfYXZhdGFyX2xvY2tlZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19hdmF0YXJfbG9ja2VkfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVXNlciBtZXNzYWdlXCIpfVxuICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiT3B0aW9uYWwgbWVzc2FnZSBmb3IgdXNlciBleHBsYWluaW5nIHdoeSBoZS9zaGUgaXMgcHJvaGliaXRlZCBmb3JtIGNoYW5naW5nIGF2YXRhci5cIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCI+XG4gICAgICAgICAgPHRleHRhcmVhIGlkPVwiaWRfYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlJyl9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZX0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlN0YWZmIG1lc3NhZ2VcIil9XG4gICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJPcHRpb25hbCBtZXNzYWdlIGZvciBmb3J1bSB0ZWFtIG1lbWJlcnMgZXhwbGFpbmluZyB3aHkgdXNlciBpcyBwcm9oaWJpdGVkIGZvcm0gY2hhbmdpbmcgYXZhdGFyLlwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCI+XG4gICAgICAgICAgPHRleHRhcmVhIGlkPVwiaWRfYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2F2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2UnKX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZX0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybUJvZHkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtYXZhdGFyLWNvbnRyb2xzXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1hdmF0YXItY29udHJvbHNcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJBdmF0YXIgY29udHJvbHNcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgYWRkTmFtZUNoYW5nZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVVc2VybmFtZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIHVzZXJuYW1lOiAnJyxcbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKSksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLm1vZGVyYXRlX3VzZXJuYW1lKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih0aGlzLnZhbGlkYXRlKCkudXNlcm5hbWVbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5tb2RlcmF0ZV91c2VybmFtZSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXJuYW1lOiAnJ1xuICAgIH0pO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goYWRkTmFtZUNoYW5nZShcbiAgICAgIGFwaVJlc3BvbnNlLCB0aGlzLnByb3BzLnByb2ZpbGUsIHRoaXMucHJvcHMudXNlcikpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVVzZXJuYW1lKFxuICAgICAgdGhpcy5wcm9wcy5wcm9maWxlLCBhcGlSZXNwb25zZS51c2VybmFtZSwgYXBpUmVzcG9uc2Uuc2x1ZykpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVXNlcm5hbWUgaGFzIGJlZW4gY2hhbmdlZC5cIikpO1xuICB9XG5cbiAgZ2V0Rm9ybUJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyB1c2VybmFtZVwiKX0gZm9yPVwiaWRfdXNlcm5hbWVcIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX3VzZXJuYW1lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3VzZXJuYW1lJyl9XG4gICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGb3JtQm9keSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZW5hbWUtdXNlclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVuYW1lLXVzZXJcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgY291bnRkb3duOiA1LFxuICAgICAgY29uZmlybTogZmFsc2UsXG5cbiAgICAgIHdpdGhfY29udGVudDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwuZGVsZXRlKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY291bnRkb3duKCk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvdW50ZG93biA9ICgpID0+IHtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudGRvd24gPiAxKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNvdW50ZG93bjogdGhpcy5zdGF0ZS5jb3VudGRvd24gLSAxLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb3VudGRvd24oKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuY29uZmlybSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb25maXJtOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5kZWxldGUsIHtcbiAgICAgIHdpdGhfY29udGVudDogdGhpcy5zdGF0ZS53aXRoX2NvbnRlbnRcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgcG9sbHMuc3RvcCgndXNlci1wcm9maWxlJyk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS53aXRoX2NvbnRlbnQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlbGV0ZWQ6IGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBhY2NvdW50LCB0aHJlYWRzLCBwb3N0cyBhbmQgb3RoZXIgY29udGVudCBoYXMgYmVlbiBkZWxldGVkLlwiKSwge1xuICAgICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LCB0cnVlKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlbGV0ZWQ6IGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBhY2NvdW50IGhhcyBiZWVuIGRlbGV0ZWQgYW5kIG90aGVyIGNvbnRlbnQgaGFzIGJlZW4gaGlkZGVuLlwiKSwge1xuICAgICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LCB0cnVlKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0QnV0dG9uTGFiZWwoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29uZmlybSkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJEZWxldGUgJSh1c2VybmFtZSlzXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiUGxlYXNlIHdhaXQuLi4gKCUoY291bnRkb3duKXNzKVwiKSwge1xuICAgICAgICAnY291bnRkb3duJzogdGhpcy5zdGF0ZS5jb3VudGRvd25cbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEZvcm0oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXIgY29udGVudFwiKX1cbiAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2l0aF9jb250ZW50XCI+XG4gICAgICAgICAgPFllc05vU3dpdGNoIGlkPVwiaWRfd2l0aF9jb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGVsZXRlIHRvZ2V0aGVyIHdpdGggdXNlcidzIGFjY291bnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiSGlkZSBhZnRlciBkZWxldGluZyB1c2VyJ3MgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3aXRoX2NvbnRlbnQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2l0aF9jb250ZW50fSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jb25maXJtfT5cbiAgICAgICAgICB7dGhpcy5nZXRCdXR0b25MYWJlbCgpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RGVsZXRlZEJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMuc3RhdGUuaXNEZWxldGVkfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyl9PlxuICAgICAgICAgICAge2dldHRleHQoXCJSZXR1cm4gdG8gdXNlcnMgbGlzdFwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzRGVsZXRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREZWxldGVkQm9keSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yIHx8IHRoaXMuc3RhdGUuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1kZWxldGUtYWNjb3VudFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtZGVsZXRlLWFjY291bnRcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJEZWxldGUgdXNlciBhY2NvdW50XCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhckNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGVsZXRlQWNjb3VudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xubGV0IHNlbGVjdCA9IGZ1bmN0aW9uKHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLFxuICAgIHByb2ZpbGU6IHN0b3JlLnByb2ZpbGUsXG4gIH07XG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dBdmF0YXJEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQXZhdGFyQ29udHJvbHMpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRBdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlX2F2YXRhcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0F2YXRhckRpYWxvZ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgcG9ydHJhaXRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBdmF0YXIgY29udHJvbHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd1JlbmFtZURpYWxvZyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VVc2VybmFtZSkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFJlbmFtZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fcmVuYW1lKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93UmVuYW1lRGlhbG9nfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjcmVkaXRfY2FyZFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93RGVsZXRlRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKERlbGV0ZUFjY291bnQpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2RlbGV0ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0RlbGV0ZURpYWxvZ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGUgYWNjb3VudFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiIHJvbGU9XCJtZW51XCI+XG4gICAgICB7dGhpcy5nZXRBdmF0YXJCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldFJlbmFtZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlciBoaWRkZW4tbWQgaGlkZGVuLWxnXCIgLz5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1idXR0b25zIGhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVOYXZ9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIG1lbnVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNZW51XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbGknOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFNpZGVOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXRhKG1ldGEpIHtcbiAgICBpZiAobWV0YSkge1xuICAgICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlXCI+e3RoaXMucHJvcHMucHJvZmlsZVttZXRhLmF0dHJdfTwvc3Bhbj47XG4gICAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgIHt0aGlzLnByb3BzLnBhZ2VzLm1hcCgocGFnZSkgPT4ge1xuICAgICAgICByZXR1cm4gPExpbmsgdG89e3RoaXMucHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICBrZXk9e3BhZ2UuY29tcG9uZW50fT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7cGFnZS5pY29ufVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgIHt0aGlzLmdldE1ldGEocGFnZS5tZXRhKX1cbiAgICAgICAgPC9MaW5rPjtcbiAgICAgIH0pfVxuICAgIDwvZGl2PjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0TmF2IGV4dGVuZHMgU2lkZU5hdiB7XG4gIHNob3dTcGVjaWFsT3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93IHx8IHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlO1xuICB9XG5cbiAgZ2V0Rm9sbG93QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9mb2xsb3cpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Rm9sbG93QnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vZGVyYXRpb25CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZU1vZGVyYXRpb259PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgdG9uYWxpdHlcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICA8L2J1dHRvbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTcGVjaWFsT3B0aW9ucygpIHtcbiAgICBpZiAodGhpcy5zaG93U3BlY2lhbE9wdGlvbnMoKSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1idXR0b25zXCI+XG4gICAgICAgIHt0aGlzLmdldEZvbGxvd0J1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNb2RlcmF0aW9uQnV0dG9uKCl9XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgIHt0aGlzLmdldFNwZWNpYWxPcHRpb25zKCl9XG4gICAgICB7dGhpcy5zaG93U3BlY2lhbE9wdGlvbnMoKSA/IDxsaSBjbGFzc05hbWU9XCJkaXZpZGVyXCIgLz4gOiBudWxsfVxuICAgICAge3RoaXMucHJvcHMucGFnZXMubWFwKChwYWdlKSA9PiB7XG4gICAgICAgIHJldHVybiA8TGkgcGF0aD17dGhpcy5wcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH0+XG4gICAgICAgICAgPExpbmsgdG89e3RoaXMucHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuaGlkZU5hdn0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIHtwYWdlLmljb259XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgICAge3RoaXMuZ2V0TWV0YShwYWdlLm1ldGEpfVxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9MaT47XG4gICAgICB9KX1cbiAgICA8L3VsPjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJhbkRldGFpbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9iYW4tZGV0YWlscyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd2VycyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd3MgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEhlYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2hlYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgU2lkZU5hdiwgQ29tcGFjdE5hdiB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbmF2cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tICdtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wcm9maWxlLmFwaV91cmwucm9vdCk7XG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ3VzZXItcHJvZmlsZScsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB1cGRhdGUgPSAoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YSkpO1xuICB9O1xuXG4gIHRvZ2dsZU5hdiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcm9wZG93biA9PT0gJ3BhZ2VzJykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRyb3Bkb3duOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcm9wZG93bjogJ3BhZ2VzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHRvZ2dsZU1vZGVyYXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJvcGRvd24gPT09ICdtb2RlcmF0aW9uJykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRyb3Bkb3duOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcm9wZG93bjogJ21vZGVyYXRpb24nXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0TmF2RHJvcGRvd24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJvcGRvd24gPT09ICdwYWdlcycpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Q29tcGFjdE5hdiBwYWdlcz17bWlzYWdvLmdldCgnUFJPRklMRV9QQUdFUycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1BST0ZJTEUnKS5hYnNvbHV0ZV91cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZU1vZGVyYXRpb249e3RoaXMudG9nZ2xlTW9kZXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTmF2PXt0aGlzLmhpZGVOYXZ9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZHJvcGRvd24gPT09ICdtb2RlcmF0aW9uJykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxNb2RlcmF0aW9uTmF2IHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVOYXY9e3RoaXMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVOYXY9e3RoaXMuaGlkZU5hdn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgY29uc3QgYmFzZUNsYXNzID0gJ3BhZ2UgcGFnZS11c2VyLXByb2ZpbGUnO1xuICAgIGlmIChmYWxzZSAmJiB0aGlzLnByb3BzLnByb2ZpbGUucmFuay5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xhc3MgKyAnIHBhZ2UtdXNlci1wcm9maWxlLScgKyB0aGlzLnByb3BzLnByb2ZpbGUucmFuay5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBiYXNlQ2xhc3M7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuXG4gICAgICA8SGVhZGVyIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICB0b2dnbGVOYXY9e3RoaXMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICB0b2dnbGVNb2RlcmF0aW9uPXt0aGlzLnRvZ2dsZU1vZGVyYXRpb259IC8+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENvbXBhY3ROYXZDbGFzc05hbWUoKX0+XG4gICAgICAgIHt0aGlzLmdldE5hdkRyb3Bkb3duKCl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXNpZGUtYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzaXplPVwiNDAwXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8U2lkZU5hdiBwYWdlcz17bWlzYWdvLmdldCgnUFJPRklMRV9QQUdFUycpfVxuICAgICAgICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldCgnUFJPRklMRScpLmFic29sdXRlX3VybH1cbiAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj5cblxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlcixcbiAgICAndXNlcnMnOiBzdG9yZS51c2VycyxcbiAgICAncHJvZmlsZSc6IHN0b3JlLnByb2ZpbGUsXG4gICAgJ3VzZXJuYW1lLWhpc3RvcnknOiBzdG9yZVsndXNlcm5hbWUtaGlzdG9yeSddXG4gIH07XG59XG5cbmNsYXNzIFBsYWNlaG9sZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgIDxwPntcIkhlbGxvLCBJJ20gcGxhY2Vob2xkZXIgZm9yIFwiICsgdGhpcy5wcm9wcy5yb3V0ZS5uYW1lfTwvcD5cbiAgICA8L2Rpdj47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufVxuXG5jb25zdCBDT01QT05FTlRTID0ge1xuICAncG9zdHMnOiBQbGFjZWhvbGRlcixcbiAgJ3RocmVhZHMnOiBQbGFjZWhvbGRlcixcbiAgJ2ZvbGxvd2Vycyc6IEZvbGxvd2VycyxcbiAgJ2ZvbGxvd3MnOiBGb2xsb3dzLFxuICAndXNlcm5hbWUtaGlzdG9yeSc6IFVzZXJuYW1lSGlzdG9yeSxcbiAgJ2Jhbi1kZXRhaWxzJzogQmFuRGV0YWlsc1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBsZXQgcGF0aHMgPSBbXTtcblxuICBtaXNhZ28uZ2V0KCdQUk9GSUxFX1BBR0VTJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgcGF0aHMucHVzaChPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdQUk9GSUxFJykuYWJzb2x1dGVfdXJsICsgaXRlbS5jb21wb25lbnQgKyAnLycsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDT01QT05FTlRTW2l0ZW0uY29tcG9uZW50XSksXG4gICAgfSkpO1xuICB9KTtcblxuICByZXR1cm4gcGF0aHM7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWFyY2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VhcmNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3Rvcnkvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1BST0ZJTEVfTkFNRV9ISVNUT1JZJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoJ1BST0ZJTEVfTkFNRV9ISVNUT1JZJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpO1xuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiAnJyxcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogJycsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfTtcblxuICAgIHRoaXMubG9hZENoYW5nZXMoKTtcbiAgfVxuXG4gIGxvYWRDaGFuZ2VzKHBhZ2U9MSwgc2VhcmNoPW51bGwpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdVU0VSTkFNRV9DSEFOR0VTX0FQSScpLCB7XG4gICAgICB1c2VyOiB0aGlzLnByb3BzLnByb2ZpbGUuaWQsXG4gICAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICAgIHBhZ2U6IHBhZ2UgfHwgMVxuICAgIH0sICdzZWFyY2gtdXNlcm5hbWUtaGlzdG9yeScpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJVc2VybmFtZSBoaXN0b3J5XCIpLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZENoYW5nZXModGhpcy5zdGF0ZS5wYWdlICsgMSwgdGhpcy5zdGF0ZS5zZWFyY2gpO1xuICB9O1xuXG4gIHNlYXJjaCA9IChldikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiB0cnVlLFxuXG4gICAgICBzZWFyY2g6IGV2LnRhcmdldC52YWx1ZSxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZENoYW5nZXMoMSwgZXYudGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KCdMb2FkaW5nLi4uJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKGNoYW5nZXMpcyB1c2VybmFtZSBjaGFuZ2UuXCIsXG4gICAgICAgIFwiRm91bmQgJShjaGFuZ2VzKXMgdXNlcm5hbWUgY2hhbmdlcy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICdjaGFuZ2VzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaWQgPT09IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3VyIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWUuXCIsXG4gICAgICAgIFwiWW91ciB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lcy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICdjaGFuZ2VzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZS5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lcy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgJ2NoYW5nZXMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlNlYXJjaCByZXR1cm5lZCBubyB1c2VybmFtZSBjaGFuZ2VzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJObyBuYW1lIGNoYW5nZXMgaGF2ZSBiZWVuIHJlY29yZGVkIGZvciB5b3VyIGFjY291bnQuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBuZXZlciBjaGFuZ2VkLlwiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubW9yZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9PlxuICAgICAgICAgIHtpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiU2hvdyBvbGRlciAoJShtb3JlKXMpXCIpLCB7XG4gICAgICAgICAgICAnbW9yZSc6IHRoaXMuc3RhdGUubW9yZVxuICAgICAgICAgIH0sIHRydWUpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS11c2VybmFtZS1oaXN0b3J5XCI+XG5cbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICAgICAgPC9oMz5cblxuICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZWFyY2h9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJTZWFyY2ggaGlzdG9yeS4uLlwiKX0gLz5cbiAgICAgIDwvbmF2PlxuXG4gICAgICA8VXNlcm5hbWVIaXN0b3J5IGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgICAgICAgICAgICBlbXB0eU1lc3NhZ2U9e3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXM9e3RoaXMucHJvcHNbJ3VzZXJuYW1lLWhpc3RvcnknXX0gLz5cblxuICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWdpc3Rlck1vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3JlZ2lzdGVyLmpzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHp4Y3ZibiBmcm9tICdtaXNhZ28vc2VydmljZXMvenhjdmJuJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuICAgICAgJ2lzTG9hZGVkJzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93UmVnaXN0ZXJNb2RhbCA9ICgpID0+IHtcbiAgICBpZiAobWlzYWdvLmdldCgnU0VUVElOR1MnKS5hY2NvdW50X2FjdGl2YXRpb24gPT09ICdjbG9zZWQnKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJOZXcgcmVnaXN0cmF0aW9ucyBhcmUgY3VycmVudGx5IGRpc2FibGVkLlwiKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBtb2RhbC5zaG93KFJlZ2lzdGVyTW9kYWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGNhcHRjaGEubG9hZCgpLFxuICAgICAgICB6eGN2Ym4ubG9hZCgpXG4gICAgICBdKS50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG4gICAgICAgICAgICAnaXNMb2FkZWQnOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kYWwuc2hvdyhSZWdpc3Rlck1vZGFsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lICsgKHRoaXMuc3RhdGUuaXNMb2FkaW5nID8gJyBidG4tbG9hZGluZycgOiAnJyk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dSZWdpc3Rlck1vZGFsfVxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J2J0biAnICsgdGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH0+XG4gICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfVxuICAgICAge3RoaXMuc3RhdGUuaXNMb2FkaW5nID8gPExvYWRlciAvPiA6IG51bGwgfVxuICAgIDwvYnV0dG9uPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUGFzc3dvcmRTdHJlbmd0aCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IGF1dGggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2F1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBjYXB0Y2hhIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9jYXB0Y2hhJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgY2xhc3MgUmVnaXN0ZXJGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVzZXJuYW1lOiAnJyxcbiAgICAgIGVtYWlsOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgIGNhcHRjaGE6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNYXhMZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKSlcbiAgICAgICAgXSxcbiAgICAgICAgZW1haWw6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLmVtYWlsKClcbiAgICAgICAgXSxcbiAgICAgICAgcGFzc3dvcmQ6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnBhc3N3b3JkTWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykpXG4gICAgICAgIF0sXG4gICAgICAgIGNhcHRjaGE6IGNhcHRjaGEudmFsaWRhdG9yKClcbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxuICAgICAgY2FwdGNoYTogdGhpcy5zdGF0ZS5jYXB0Y2hhXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgICAgbW9kYWwuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGdldExlZ2FsRm9vdE5vdGUoKSB7XG4gICAgaWYgKG1pc2Fnby5nZXQoJ1RFUk1TX09GX1NFUlZJQ0VfVVJMJykpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8YSBocmVmPXttaXNhZ28uZ2V0KCdURVJNU19PRl9TRVJWSUNFX1VSTCcpfVxuICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICB7Z2V0dGV4dChcIkJ5IHJlZ2lzdGVyaW5nIHlvdSBhZ3JlZSB0byBzaXRlJ3MgdGVybXMgYW5kIGNvbmRpdGlvbnMuXCIpfVxuICAgICAgPC9hPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXJlZ2lzdGVyXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZm9ybS1ob3Jpem9udGFsXCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJVc2VybmFtZVwiKX0gZm9yPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnVzZXJuYW1lfT5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfdXNlcm5hbWVfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJFLW1haWxcIil9IGZvcj1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5lbWFpbH0+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiaWRfZW1haWxcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX2VtYWlsX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiUGFzc3dvcmRcIil9IGZvcj1cImlkX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE9ezxQYXNzd29yZFN0cmVuZ3RoIHBhc3N3b3JkPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19IC8+fSA+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9wYXNzd29yZF9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAge2NhcHRjaGEuY29tcG9uZW50KHtcbiAgICAgICAgICAgICAgZm9ybTogdGhpcyxcbiAgICAgICAgICAgICAgbGFiZWxDbGFzczogXCJjb2wtc20tNFwiLFxuICAgICAgICAgICAgICBjb250cm9sQ2xhc3M6IFwiY29sLXNtLThcIlxuICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0TGVnYWxGb290Tm90ZSgpfVxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJSZWdpc3RlciBhY2NvdW50XCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWdpc3RlckNvbXBsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGVhZCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAndXNlcicpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgeW91IG5lZWQgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICdhZG1pbicpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgYm9hcmQgYWRtaW5pc3RyYXRvciB3aWxsIGhhdmUgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIik7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3Vic2NyaXB0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICd1c2VyJykge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJXZSBoYXZlIHNlbnQgYW4gZS1tYWlsIHRvICUoZW1haWwpcyB3aXRoIGxpbmsgdGhhdCB5b3UgaGF2ZSB0byBjbGljayB0byBhY3RpdmF0ZSB5b3VyIGFjY291bnQuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAnYWRtaW4nKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIldlIHdpbGwgc2VuZCBhbiBlLW1haWwgdG8gJShlbWFpbClzIHdoZW4gdGhpcyB0YWtlcyBwbGFjZS5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZWdpc3RlclwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUmVnaXN0cmF0aW9uIGNvbXBsZXRlXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMZWFkKCksXG4gICAgICAgICAgICAgICAgeyd1c2VybmFtZSc6IHRoaXMucHJvcHMudXNlcm5hbWV9LCB0cnVlKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJzY3JpcHQoKSxcbiAgICAgICAgICAgICAgICB7J2VtYWlsJzogdGhpcy5wcm9wcy5lbWFpbH0sIHRydWUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcGxldGVSZWdpc3RyYXRpb24gPSAoYXBpUmVzcG9uc2UpID0+IHtcbiAgICBpZiAoYXBpUmVzcG9uc2UuYWN0aXZhdGlvbiA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICAgIGF1dGguc2lnbkluKGFwaVJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiA8UmVnaXN0ZXJDb21wbGV0ZSBhY3RpdmF0aW9uPXt0aGlzLnN0YXRlLmNvbXBsZXRlLmFjdGl2YXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU9e3RoaXMuc3RhdGUuY29tcGxldGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw9e3RoaXMuc3RhdGUuY29tcGxldGUuZW1haWx9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPFJlZ2lzdGVyRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZVJlZ2lzdHJhdGlvbn0vPjtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0TGlua0Zvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnZW1haWwnOiAnJyxcblxuICAgICAgJ3ZhbGlkYXRvcnMnOiB7XG4gICAgICAgICdlbWFpbCc6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLmVtYWlsKClcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1NFTkRfQUNUSVZBVElPTl9BUEknKSwge1xuICAgICAgJ2VtYWlsJzogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKFsnYWxyZWFkeV9hY3RpdmUnLCAnaW5hY3RpdmVfYWRtaW4nXS5pbmRleE9mKHJlamVjdGlvbi5jb2RlKSA+IC0xKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtYWN0aXZhdGlvbi1saW5rXCI+XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VuZCBsaW5rXCIpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rU2VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJBY3RpdmF0aW9uIGxpbmsgd2FzIHNlbnQgdG8gJShlbWFpbClzXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5wcm9wcy51c2VyLmVtYWlsXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGluayB3ZWxsLWRvbmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9uZS1tZXNzYWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZSgpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBhbm90aGVyIGxpbmtcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgfSk7XG4gIH07XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gPExpbmtTZW50IHVzZXI9e3RoaXMuc3RhdGUuY29tcGxldGV9IGNhbGxiYWNrPXt0aGlzLnJlc2V0fSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxSZXF1ZXN0TGlua0Zvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9IC8+O1xuICAgIH07XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUmVxdWVzdFJlc2V0Rm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG5cbiAgICAgICdlbWFpbCc6ICcnLFxuXG4gICAgICAndmFsaWRhdG9ycyc6IHtcbiAgICAgICAgJ2VtYWlsJzogW1xuICAgICAgICAgIHZhbGlkYXRvcnMuZW1haWwoKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnU0VORF9QQVNTV09SRF9SRVNFVF9BUEknKSwge1xuICAgICAgJ2VtYWlsJzogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKFsnaW5hY3RpdmVfdXNlcicsICdpbmFjdGl2ZV9hZG1pbiddLmluZGV4T2YocmVqZWN0aW9uLmNvZGUpID4gLTEpIHtcbiAgICAgIHRoaXMucHJvcHMuc2hvd0luYWN0aXZlUGFnZShyZWplY3Rpb24pO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIj5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiWW91ciBlLW1haWwgYWRkcmVzc1wiKX1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAge2dldHRleHQoXCJTZW5kIGxpbmtcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtTZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlJlc2V0IHBhc3N3b3JkIGxpbmsgd2FzIHNlbnQgdG8gJShlbWFpbClzXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5wcm9wcy51c2VyLmVtYWlsXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0IHdlbGwtZG9uZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb25lLW1lc3NhZ2VcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjaGVja1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7dGhpcy5nZXRNZXNzYWdlKCl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5jYWxsYmFja30+XG4gICAgICAgICAge2dldHRleHQoXCJSZXF1ZXN0IGFub3RoZXIgbGlua1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWNjb3VudEluYWN0aXZlUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEFjdGl2YXRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICdpbmFjdGl2ZV91c2VyJykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwPlxuICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KCdSRVFVRVNUX0FDVElWQVRJT05fVVJMJyl9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWN0aXZhdGUgeW91ciBhY2NvdW50LlwiKX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW1lc3NhZ2UgcGFnZS1tZXNzYWdlLWluZm8gcGFnZS1mb3Jnb3R0ZW4tcGFzc3dvcmQtaW5hY3RpdmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIllvdXIgYWNjb3VudCBpcyBpbmFjdGl2ZS5cIil9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIHt0aGlzLmdldEFjdGl2YXRlQnV0dG9uKCl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBsZXRlID0gKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogYXBpUmVzcG9uc2VcbiAgICB9KTtcbiAgfTtcblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dJbmFjdGl2ZVBhZ2UoYXBpUmVzcG9uc2UpIHtcbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8QWNjb3VudEluYWN0aXZlUGFnZSBhY3RpdmF0aW9uPXthcGlSZXNwb25zZS5jb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17YXBpUmVzcG9uc2UuZGV0YWlsfSAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50JylcbiAgICApO1xuICB9XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDxMaW5rU2VudCB1c2VyPXt0aGlzLnN0YXRlLmNvbXBsZXRlfSBjYWxsYmFjaz17dGhpcy5yZXNldH0gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8UmVxdWVzdFJlc2V0Rm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5hY3RpdmVQYWdlPXt0aGlzLnNob3dJbmFjdGl2ZVBhZ2V9IC8+O1xuICAgIH07XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IFNpZ25Jbk1vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NpZ24taW4uanMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IGF1dGggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2F1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUmVzZXRQYXNzd29yZEZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAncGFzc3dvcmQnOiAnJyxcblxuICAgICAgJ3ZhbGlkYXRvcnMnOiB7XG4gICAgICAgICdwYXNzd29yZCc6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnBhc3N3b3JkTWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcih0aGlzLnN0YXRlLmVycm9ycy5wYXNzd29yZFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgbmV3IHBhc3N3b3JkLlwiKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ0NIQU5HRV9QQVNTV09SRF9BUEknKSwge1xuICAgICAgJ3Bhc3N3b3JkJzogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXNldC1wYXNzd29yZFwiPlxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiRW50ZXIgbmV3IHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBwYXNzd29yZFwiKX1cbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRDaGFuZ2VkUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMsIHlvdXIgcGFzc3dvcmQgaGFzIGJlZW4gY2hhbmdlZCBzdWNjZXNzZnVsbHkuXCIpLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBzaG93U2lnbkluKCkge1xuICAgIG1vZGFsLnNob3coU2lnbkluTW9kYWwpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtbWVzc2FnZSBwYWdlLW1lc3NhZ2Utc3VjY2VzcyBwYWdlLWZvcmdvdHRlbi1wYXNzd29yZC1jaGFuZ2VkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGNoZWNrXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRNZXNzYWdlKCl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJZb3Ugd2lsbCBoYXZlIHRvIHNpZ24gaW4gdXNpbmcgbmV3IHBhc3N3b3JkIGJlZm9yZSBjb250aW51aW5nLlwiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW59PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcGxldGUgPSAoYXBpUmVzcG9uc2UpID0+IHtcbiAgICBhdXRoLnNvZnRTaWduT3V0KCk7XG5cbiAgICAvLyBudWtlIFwicmVkaXJlY3RfdG9cIiBmaWVsZCBzbyB3ZSBkb24ndCBlbmRcbiAgICAvLyBjb21pbmcgYmFjayB0byBlcnJvciBwYWdlIGFmdGVyIHNpZ24gaW5cbiAgICAkKCcjaGlkZGVuLWxvZ2luLWZvcm0gaW5wdXRbbmFtZT1cInJlZGlyZWN0X3RvXCJdJykucmVtb3ZlKCk7XG5cbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8UGFzc3dvcmRDaGFuZ2VkUGFnZSB1c2VyPXthcGlSZXNwb25zZX0gLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1tb3VudCcpXG4gICAgKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8UmVzZXRQYXNzd29yZEZvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9IC8+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBcImZvcm0tc2VhcmNoIFwiICsgdGhpcy5wcm9wcy5jbGFzc05hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImZvcm0tc2VhcmNoXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGdldHRleHQoXCJTZWFyY2guLi5cIil9IC8+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHNlYXJjaFxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDaG9pY2UoKSB7XG4gICAgbGV0IGNob2ljZSA9IG51bGw7XG4gICAgdGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udmFsdWUgPT09IHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgY2hvaWNlID0gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2hvaWNlO1xuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDaG9pY2UoKS5pY29uO1xuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkubGFiZWw7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNoYW5nZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLXNlbGVjdC1ncm91cFwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWxlY3QgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17dGhpcy5wcm9wc1snYXJpYS1kZXNjcmliZWRieSddIHx8IG51bGx9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8IGZhbHNlfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8bGkga2V5PXtpfT5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jaGFuZ2UoaXRlbS52YWx1ZSl9PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAge2l0ZW0uaWNvbn1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7aXRlbS5sYWJlbH1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvbGk+O1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuICAgICAgJ3Nob3dBY3RpdmF0aW9uJzogZmFsc2UsXG5cbiAgICAgICd1c2VybmFtZSc6ICcnLFxuICAgICAgJ3Bhc3N3b3JkJzogJycsXG5cbiAgICAgICd2YWxpZGF0b3JzJzoge1xuICAgICAgICAndXNlcm5hbWUnOiBbXSxcbiAgICAgICAgJ3Bhc3N3b3JkJzogW11cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGJvdGggZmllbGRzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdBVVRIX0FQSScpLCB7XG4gICAgICAndXNlcm5hbWUnOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgJ3Bhc3N3b3JkJzogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBsZXQgZm9ybSA9ICQoJyNoaWRkZW4tbG9naW4tZm9ybScpO1xuXG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VybmFtZVwiIC8+Jyk7XG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiAvPicpO1xuXG4gICAgLy8gZmlsbCBvdXQgZm9ybSB3aXRoIHVzZXIgY3JlZGVudGlhbHMgYW5kIHN1Ym1pdCBpdCwgdGhpcyB3aWxsIHRlbGxcbiAgICAvLyBNaXNhZ28gdG8gcmVkaXJlY3QgdXNlciBiYWNrIHRvIHJpZ2h0IHBhZ2UsIGFuZCB3aWxsIHRyaWdnZXIgYnJvd3NlcidzXG4gICAgLy8ga2V5IHJpbmcgZmVhdHVyZVxuICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLnZhbChhamF4LmdldENzcmZUb2tlbigpKTtcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnZhbCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKHRoaXMuc3RhdGUudXNlcm5hbWUpO1xuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJykudmFsKHRoaXMuc3RhdGUucGFzc3dvcmQpO1xuICAgIGZvcm0uc3VibWl0KCk7XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24uY29kZSA9PT0gJ2luYWN0aXZlX2FkbWluJykge1xuICAgICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gJ2luYWN0aXZlX3VzZXInKSB7XG4gICAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdzaG93QWN0aXZhdGlvbic6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5jb2RlID09PSAnYmFubmVkJykge1xuICAgICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgbW9kYWwuaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbik7XG4gICAgICBtb2RhbC5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0QWN0aXZhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zaG93QWN0aXZhdGlvbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1JFUVVFU1RfQUNUSVZBVElPTl9VUkwnKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWJsb2NrXCI+XG4gICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIGFjY291bnRcIil9XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc20gbW9kYWwtc2lnbi1pblwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiU2lnbiBpblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3VzZXJuYW1lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiVXNlcm5hbWUgb3IgZS1tYWlsXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3VzZXJuYW1lJyl9XG4gICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiaWRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiUGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0QWN0aXZhdGlvbkJ1dHRvbigpfVxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnRk9SR09UVEVOX1BBU1NXT1JEX1VSTCcpfVxuICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICAge2dldHRleHQoXCJGb3Jnb3QgcGFzc3dvcmQ/XCIpfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuY29uc3QgVFlQRVNfQ0xBU1NFUyA9IHtcbiAgJ2luZm8nOiAnYWxlcnQtaW5mbycsXG4gICdzdWNjZXNzJzogJ2FsZXJ0LXN1Y2Nlc3MnLFxuICAnd2FybmluZyc6ICdhbGVydC13YXJuaW5nJyxcbiAgJ2Vycm9yJzogJ2FsZXJ0LWRhbmdlcidcbn07XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5leHBvcnQgY2xhc3MgU25hY2tiYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRTbmFja2JhckNsYXNzKCkge1xuICAgIGxldCBzbmFja2JhckNsYXNzID0gJ2FsZXJ0cy1zbmFja2Jhcic7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNWaXNpYmxlKSB7XG4gICAgICBzbmFja2JhckNsYXNzICs9ICcgaW4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2JhckNsYXNzICs9ICcgb3V0JztcbiAgICB9XG4gICAgcmV0dXJuIHNuYWNrYmFyQ2xhc3M7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRTbmFja2JhckNsYXNzKCl9PlxuICAgICAgPHAgY2xhc3NOYW1lPXsnYWxlcnQgJyArIFRZUEVTX0NMQVNTRVNbdGhpcy5wcm9wcy50eXBlXX0+XG4gICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuc25hY2tiYXI7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gQnJlYWRjcnVtYihwcm9wcykge1xuICByZXR1cm4gPGxpPlxuICAgIDxhIGhyZWY9e3Byb3BzLm5vZGUuYWJzb2x1dGVfdXJsfT57cHJvcHMubm9kZS5uYW1lfTwvYT5cbiAgPC9saT47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtYnJlYWRjcnVtYnNcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPG9sIGNsYXNzTmFtZT1cImJyZWFkY3J1bWJcIj5cbiAgICAgICAge3Byb3BzLnBhdGgubWFwKChpdGVtKSA9PiA8QnJlYWRjcnVtYiBrZXk9e2l0ZW0uaWR9IG5vZGU9e2l0ZW19IC8+KX1cbiAgICAgIDwvb2w+XG4gICAgPC9kaXY+XG4gIDwvZGl2Pjtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCcmVhZGNydW1icyBmcm9tICcuL2JyZWFkY3J1bWJzJztcbmltcG9ydCB7IGlzTW9kZXJhdGlvblZpc2libGUsIE1vZGVyYXRpb25Db250cm9scyB9IGZyb20gJy4uL21vZGVyYXRpb24vdGhyZWFkJztcbmltcG9ydCBTdGF0cyBmcm9tICcuL3N0YXRzJztcbmltcG9ydCBUaXRsZSBmcm9tICcuL3RpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXIgd2l0aC1zdGF0cyB3aXRoLWJyZWFkY3J1bWJzXCI+XG4gICAgPEJyZWFkY3J1bWJzIHBhdGg9e3Byb3BzLnRocmVhZC5wYXRofSAvPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICA8VGl0bGUgdGhyZWFkPXtwcm9wcy50aHJlYWR9IHVzZXI9e3Byb3BzLnVzZXJ9IC8+XG4gICAgICA8TW9kZXJhdGlvblxuICAgICAgICBwb3N0cz17cHJvcHMucG9zdHN9XG4gICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICB1c2VyPXtwcm9wcy51c2VyfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgICA8U3RhdHMgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gIDwvZGl2Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGVyYXRpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVzZXIuaWQgJiYgaXNNb2RlcmF0aW9uVmlzaWJsZShwcm9wcy50aHJlYWQpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIHB1bGwtcmlnaHRcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGRpc2FibGU9e3Byb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAgIHVzZXI9e3Byb3BzLnVzZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgTEFTVF9QT1NURVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuY29uc3QgTEFTVF9QT1NURVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBMQVNUX1JFUExZID0gJzxhYmJyIGNsYXNzPVwibGFzdC10aXRsZVwiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5cbmV4cG9ydCBmdW5jdGlvbiBXZWlnaHQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC53ZWlnaHQgPT0gMikge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1nbG9iYWxseVwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBib29rbWFya1xuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSBpZiAocHJvcHMudGhyZWFkLndlaWdodCA9PSAxKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGlubmVkLWxvY2FsbHlcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgYm9va21hcmtfYm9yZGVyXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCkge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgcmVtb3ZlX2NpcmNsZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkXCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2UgaWYgKHByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cykge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWQtcG9zdHNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgcmVtb3ZlX2NpcmNsZV9vdXRsaW5lXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlVuYXBwcm92ZWQgcG9zdHNcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzSGlkZGVuKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfaGlkZGVuKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtaGlkZGVuXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIkhpZGRlblwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNDbG9zZWQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc19jbG9zZWQpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1jbG9zZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIkNsb3NlZFwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbGllcyhwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHJlcGxpZXMpcyByZXBseVwiLCBcIiUocmVwbGllcylzIHJlcGxpZXNcIiwgcHJvcHMudGhyZWFkLnJlcGxpZXMpO1xuICBjb25zdCBsZWdlbmQgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7J3JlcGxpZXMnOiBwcm9wcy50aHJlYWQucmVwbGllc30sIHRydWUpO1xuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXJlcGxpZXNcIj5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICBmb3J1bVxuICAgIDwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAge2xlZ2VuZH1cbiAgICA8L3NwYW4+XG4gIDwvbGk+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5KHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3RlciksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShMQVNUX1BPU1RFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShMQVNUX1JFUExZLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcImxhc3QgcmVwbHkgYnkgJSh1c2VyKXMgJShkYXRlKXNcIikpLCB7XG4gICAgZGF0ZSwgdXNlclxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5XCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fS8+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItc3RhdHNcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgIDxXZWlnaHQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxVbmFwcHJvdmVkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8SXNIaWRkZW4gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxJc0Nsb3NlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPFJlcGxpZXMgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxMYXN0UmVwbHkgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICA8L2Rpdj47XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCB7IGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6IHByb3BzLnRocmVhZC50aXRsZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogZ2V0VGl0bGVWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgb25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd0aXRsZScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25FZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFZGl0aW5nOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudGl0bGUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHRocmVhZCB0aXRsZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAge29wOiAncmVwbGFjZScsIHBhdGg6ICd0aXRsZScsIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlfVxuICAgIF0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShkYXRhKSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0VkaXRpbmcnOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc29sZS5sb2cocmVqZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJwdWxsLWxlZnQgdGl0bGUtZWRpdC1mb3JtXCI+XG4gICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9IG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfSAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkNoYW5nZSB0aXRsZVwiKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfY2lyY2xlPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FuY2VsPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fZWRpdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLWxlZnQgdGl0bGUtZWRpdGFibGVcIj5cbiAgICAgICAgICA8aDE+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy50aHJlYWQudGl0bGV9XG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkVkaXR9XG4gICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkVkaXQgdGl0bGVcIil9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZWRpdDwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtbGVmdFwiPlxuICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy50aHJlYWQudGl0bGV9PC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0cyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwcm92ZShwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX3VuYXBwcm92ZWQ6IGZhbHNlXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3BzID0gW1xuICAgICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtdW5hcHByb3ZlZCcsICd2YWx1ZSc6IGZhbHNlfVxuICAgIF07XG5cbiAgICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgICAgaXNfdW5hcHByb3ZlZDogc2VsZWN0aW9uLmlzX3VuYXBwcm92ZWRcbiAgICB9O1xuXG4gICAgcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RlY3QocHJvcHMpIHtcbiAgcHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICBpc19wcm90ZWN0ZWQ6IGZhbHNlXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3BzID0gW1xuICAgICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtcHJvdGVjdGVkJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX3Byb3RlY3RlZDogc2VsZWN0aW9uLmlzX3Byb3RlY3RlZFxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wcm90ZWN0KHByb3BzKSB7XG4gIHByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXByb3RlY3RlZCcsICd2YWx1ZSc6IGZhbHNlfVxuICAgIF07XG5cbiAgICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgICAgaXNfcHJvdGVjdGVkOiBzZWxlY3Rpb24uaXNfcHJvdGVjdGVkXG4gICAgfTtcblxuICAgIHBhdGNoKHNlbGVjdGlvbiwgb3BzLCBwcmV2aW91c1N0YXRlKTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlKHByb3BzKSB7XG4gIHByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHNlbGVjdGlvbi51cmwsIHtcbiAgICAgICAgaGlkZGVuX2J5OiBwcm9wcy51c2VyLmFic29sdXRlX3VybFxuICAgICAgfSlcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcHMgPSBbXG4gICAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiB0cnVlfVxuICAgIF07XG5cbiAgICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgICAgaXNfaGlkZGVuOiBzZWxlY3Rpb24uaXNfaGlkZGVuLFxuICAgICAgaGlkZGVuX29uOiBzZWxlY3Rpb24uaGlkZGVuX29uLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHNlbGVjdGlvbi5oaWRkZW5fYnlfbmFtZSxcbiAgICAgIHVybDogc2VsZWN0aW9uLnVybFxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5oaWRlKHByb3BzKSB7XG4gIHByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNfaGlkZGVuOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IGZhbHNlfVxuICAgIF07XG5cbiAgICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgICAgaXNfaGlkZGVuOiBzZWxlY3Rpb24uaXNfaGlkZGVuXG4gICAgfTtcblxuICAgIHBhdGNoKHNlbGVjdGlvbiwgb3BzLCBwcmV2aW91c1N0YXRlKTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHNlbGVjdGlvbi5hcGkuaW5kZXgsIG9wcykudGhlbigobmV3U3RhdGUpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwgbmV3U3RhdGUpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCBwcmV2aW91c1N0YXRlKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBtZXJnZSBzZWxlY3RlZCBwb3N0cz8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9wcy5zZWxlY3Rpb24uc2xpY2UoMSkubWFwKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuICB9KTtcblxuICBhamF4LnBvc3QocHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tZXJnZSwge1xuICAgIHBvc3RzOiBwcm9wcy5zZWxlY3Rpb24ubWFwKChwb3N0KSA9PiBwb3N0LmlkKVxuICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChkYXRhLCBwb3N0Lmh5ZHJhdGUoZGF0YSkpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHByb3BzLnNlbGVjdGlvbi5zbGljZSgxKS5tYXAoKHNlbGVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShwcm9wcykge1xuICBsZXQgY29uZmlybWVkID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZWxlY3RlZCBwb3N0cz8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcblxuICAgIGFqYXguZGVsZXRlKHNlbGVjdGlvbi5hcGkuaW5kZXgpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCAqIGFzIG1vZGVyYXRpb24gZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCBNb3ZlTW9kYWwgZnJvbSAnLi9tb3ZlJztcbmltcG9ydCBTcGxpdE1vZGFsIGZyb20gJy4vc3BsaXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgIDxBcHByb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNZXJnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8U3BsaXQgey4uLnByb3BzfSAvPlxuICAgICAgPFByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVucHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmFwcHJvdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fYXBwcm92ZTtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lcmdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLm1lcmdlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3Rpb24ubGVuZ3RoIDwgMiB8fCAhdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tZXJnZV9wb3N0cykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlTW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BsaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8U3BsaXRNb2RhbCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21vdmU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5wcm90ZWN0KHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX3Byb3RlY3Q7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlByb3RlY3RcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbnByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5wcm90ZWN0KHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX3Byb3RlY3Q7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVucHJvdGVjdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uaGlkZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9oaWRlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVuaGlkZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl91bmhpZGU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5yZW1vdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fZGVsZXRlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEcm9wZG93biBmcm9tICcuL2Ryb3Bkb3duJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkIHx8ICFpc1Zpc2libGUocHJvcHMudGhyZWFkLCBwcm9wcy5wb3N0cy5yZXN1bHRzKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0aW9uID0gcHJvcHMucG9zdHMucmVzdWx0cy5maWx0ZXIoKHBvc3QpID0+IHtcbiAgICByZXR1cm4gcG9zdC5pc1NlbGVjdGVkO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodCBkcm9wdXBcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3Rpb24ubGVuZ3RofVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJQb3N0cyBvcHRpb25zXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8RHJvcGRvd24gc2VsZWN0aW9uPXtzZWxlY3Rpb259IHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZSh0aHJlYWQsIHBvc3RzKSB7XG4gIGlmICh0aHJlYWQuYWNsLmNhbl9tZXJnZV9wb3N0cyAmJiBwb3N0cy5sZW5ndGggPiAxKSB7XG4gICAgLy8gZmFzdCB0ZXN0OiBzaG93IG1vZGVyYXRpb24gbWVudSBpZiB3ZSBjYW4gbWVyZ2UgcG9zdHNcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHNsb3cgdGVzdDogc2hvdyBtb2RlcmF0aW9uIGlmIGFueSBvZiBwb3N0cyBoYXMgbW9kZXJhdGlvbiBvcHRpb25zXG4gIGxldCB2aXNpYmxlID0gZmFsc2U7XG4gIHBvc3RzLmZvckVhY2goKHBvc3QpID0+IHtcbiAgICBpZiAoIXBvc3QuaXNfZXZlbnQpIHtcbiAgICAgIGNvbnN0IHNob3dNb2RlcmF0aW9uID0gKFxuICAgICAgICBwb3N0LmFjbC5jYW5fYXBwcm92ZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fZGVsZXRlIHx8XG4gICAgICAgICghcG9zdC5pc19oaWRkZW4gJiYgcG9zdC5hY2wuY2FuX2hpZGUpIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9tb3ZlIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgICAgIChwb3N0LmlzX2hpZGRlbiAmJiBwb3N0LmFjbC5jYW5fdW5oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fdW5wcm90ZWN0XG4gICAgICApO1xuXG4gICAgICBpZiAoc2hvd01vZGVyYXRpb24pIHtcbiAgICAgICAgdmlzaWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHZpc2libGU7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tb3ZlLCB7XG4gICAgICB0aHJlYWRfdXJsOiB0aGlzLnN0YXRlLnVybCxcbiAgICAgIHBvc3RzOiB0aGlzLnByb3BzLnNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHBvc3QuaWQpXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdHMgd2VyZSBtb3ZlZCB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3VybCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtb3ZlIHBvc3RzIHRvXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSBwb3N0c1wiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHBvc3RzXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdUSFJFQURfRURJVE9SX1VSTCcpKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXG4gICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSlcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kZXJhdGlvbkZvcm0gey4uLnRoaXMucHJvcHN9IGNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9uRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IHByb3BzLmNhdGVnb3JpZXMsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICBpc19oaWRkZW46IDAsXG4gICAgICBpc19jbG9zZWQ6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZCgpXG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHknLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHlfb2ZmJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IGZhbHNlLFxuICAgICAgICAnaWNvbic6ICdsb2NrX291dGxpbmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IHRydWUsXG4gICAgICAgICdpY29uJzogJ2xvY2snLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmFjbCA9IHt9O1xuICAgIHRoaXMucHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY2xbY2F0ZWdvcnkuaWRdID0ge1xuICAgICAgICAgIGNhbl9waW5fdGhyZWFkczogY2F0ZWdvcnkucG9zdC5waW4sXG4gICAgICAgICAgY2FuX2Nsb3NlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuY2xvc2UsXG4gICAgICAgICAgY2FuX2hpZGVfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5oaWRlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuc3BsaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWQsXG4gICAgICBwb3N0czogdGhpcy5wcm9wcy5zZWxlY3Rpb24ubWFwKChwb3N0KSA9PiBwb3N0LmlkKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0cyB3ZXJlIHNwbGl0IGludG8gbmV3IHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IChldikgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgfTtcblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3JlbW92ZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmtfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpLFxuICAgICAgfVxuICAgIF07XG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgICd2YWx1ZSc6IDIsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzO1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnd2VpZ2h0Jyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGRlbicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2Nsb3NlZCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX0+XG4gICAgICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3RpdGxlJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jYXRlZ29yeX0+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTcGxpdCBwb3N0c1wiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L01vZGFsPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICA8L01vZGFsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRXJyb3IocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSBzZWxlY3RlZCBwb3N0cyBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiU3BsaXQgcG9zdHMgaW50byBuZXcgdGhyZWFkXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1lcmdlTW9kYWwgZnJvbSAnLi9tZXJnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vdmVNb2RhbCBmcm9tICcuL21vdmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY2FsbEFwaSA9IChvcHMsIHN1Y2Nlc3NNZXNzYWdlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICAvLyBieSB0aGUgY2hhbmNlIHVwZGF0ZSB0aHJlYWQgYWNsIHRvb1xuICAgIG9wcy5wdXNoKHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogdHJ1ZX0pO1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShkYXRhKSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAyXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgZ2xvYmFsbHkuXCIpKTtcbiAgfTtcblxuICBwaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGxvY2FsbHkuXCIpKTtcbiAgfTtcblxuICB1bnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHVucGlubmVkLlwiKSk7XG4gIH07XG5cbiAgYXBwcm92ZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtdW5hcHByb3ZlZCcsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gYXBwcm92ZWQuXCIpKTtcbiAgfTtcblxuICBvcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG9wZW5lZC5cIikpO1xuICB9O1xuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gY2xvc2VkLlwiKSk7XG4gIH07XG5cbiAgdW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1oaWRkZW4nLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1hZGUgdmlzaWJsZS5cIikpO1xuICB9O1xuXG4gIGhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWhpZGRlbicsXG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIGhpZGRlbi5cIikpO1xuICB9O1xuXG4gIG1vdmUgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlTW9kYWxcbiAgICAgICAgcG9zdHM9e3RoaXMucHJvcHMucG9zdHN9XG4gICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAvPlxuICAgICk7XG4gIH07XG5cbiAgbWVyZ2UgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNZXJnZU1vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgKTtcbiAgfTtcblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgdGhyZWFkP1wiKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKTtcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGRlbGV0ZWQuXCIpKVxuICAgICAgd2luZG93LmxvY2F0aW9uID0gdGhpcy5wcm9wcy50aHJlYWQuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfTtcblxuICBnZXRQaW5HbG9iYWxseUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0IDwgMiAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbiA9PSAyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkdsb2JhbGx5fT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIGdsb2JhbGx5XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGluTG9jYWxseUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ICE9PSAxICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluID4gMCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5waW5Mb2NhbGx5fT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIGxvY2FsbHlcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVbnBpbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID4gMCAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbiA+IDApIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudW5waW59PlxuICAgICAgICAgICAge2dldHRleHQoXCJVbnBpblwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbW92ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5tb3ZlfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1lcmdlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21lcmdlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm1lcmdlfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2VcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRBcHByb3ZlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hcHByb3ZlfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE9wZW5CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2Nsb3NlZCAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2Nsb3NlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9wZW59PlxuICAgICAgICAgICAge2dldHRleHQoXCJPcGVuXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jbG9zZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5oaWRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19oaWRkZW4gJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVuaGlkZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEhpZGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc19oaWRkZW4gJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhpZGV9PlxuICAgICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2hpZGUgPT0gMikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5kZWxldGV9PlxuICAgICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgIHt0aGlzLmdldFBpbkdsb2JhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFBpbkxvY2FsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5waW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TW92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNZXJnZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRBcHByb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE9wZW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0Q2xvc2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5oaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgTW9kZXJhdGlvbkNvbnRyb2xzIGZyb20gJy4vY29udHJvbHMnO1xuaW1wb3J0IGlzTW9kZXJhdGlvblZpc2libGUgZnJvbSAnLi9pcy12aXNpYmxlJztcblxuZXhwb3J0IHsgTW9kZXJhdGlvbkNvbnRyb2xzLCBpc01vZGVyYXRpb25WaXNpYmxlIH07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGhyZWFkKSB7XG4gIHJldHVybiAoXG4gICAgKHRocmVhZC5hY2wuY2FuX2FwcHJvdmUgJiYgdGhyZWFkLmlzX3VuYXBwcm92ZWQpIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fY2xvc2UgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9oaWRlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fbW92ZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX3BpblxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgLy8gZnJlZXplIHRocmVhZFxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpO1xuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkubWVyZ2UsIHtcbiAgICAgIHRocmVhZF91cmw6IHRoaXMuc3RhdGUudXJsXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWVyZ2VkIHdpdGggb3RoZXIgb25lLlwiKSk7XG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmw7XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1lcmdlIHdpdGhcIil9XG4gICAgICAgICAgICAgICAgaGVscF90ZXh0PXtnZXR0ZXh0KFwiTWVyZ2Ugd2lsbCBkZWxldGUgY3VycmVudCB0aHJlYWQgYW5kIG1vdmUgaXRzIGNvbnRlbnRzIHRvIHRoZSB0aHJlYWQgc3BlY2lmaWVkIGhlcmUuXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX0+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfVVJMJykpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGxldCBjYXRlZ29yeSA9IG51bGw7XG5cbiAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAvLyBwaWNrIGZpcnN0IGNhdGVnb3J5IHRoYXQgYWxsb3dzIHBvc3RpbmcgYW5kIGlmIGl0IG1heSwgb3ZlcnJpZGUgaXQgd2l0aCBpbml0aWFsIG9uZVxuICAgICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAhY2F0ZWdvcnkpIHtcbiAgICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICB2YWx1ZTogaXRlbS5pZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnY2F0ZWdvcnknLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeX0sXG4gICAgXSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIC8vIHJlZnJlc2ggdGhyZWFkIGFuZCBkaXNwbGF5ZWQgcG9zdHNcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMsIHtwYWdlOiB0aGlzLnByb3BzLnBvc3RzLnBhZ2V9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEucG9zdF9zZXQpKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuXG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbW92ZWQuXCIpKTtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjYXRlZ29yeScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfY2F0ZWdvcnlcIiBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX0+XG4gICAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX0+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbExvYWRpbmcgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsTG9hZGluZyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbE1lc3NhZ2UocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRoaXMgdGhyZWFkIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPG5hdiBjbGFzc05hbWU9XCJtaXNhZ28tcGFnaW5hdGlvbiBwdWxsLWxlZnRcIj5cbiAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgIDxNb3JlIG1vcmU9e3Byb3BzLnBvc3RzLm1vcmV9IC8+XG4gIDwvbmF2Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5wYWdlcyA+IDEpIHtcbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cInBhZ2luYXRpb25cIj5cbiAgICAgIDxGaXJzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPFByZXZpb3VzUGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPExhc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlyc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5maXJzdCkge1xuICAgIHJldHVybiA8bGk+XG4gICAgICA8TGluayB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleH0gdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJkaXNhYmxlZFwiPlxuICAgICAgPHNwYW4gdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSAnJztcbiAgICBpZiAocHJvcHMucG9zdHMucHJldmlvdXMpIHtcbiAgICAgIHByZXZpb3VzVXJsID0gcHJvcHMucG9zdHMucHJldmlvdXMgKyAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIDxsaT5cbiAgICAgIDxMaW5rIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgcHJldmlvdXNVcmx9IHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJkaXNhYmxlZFwiPlxuICAgICAgPHNwYW4gdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTmV4dFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLm1vcmUpIHtcbiAgICBsZXQgbmV4dFVybCA9ICcnO1xuICAgIGlmIChwcm9wcy5wb3N0cy5uZXh0KSB7XG4gICAgICBuZXh0VXJsID0gcHJvcHMucG9zdHMubmV4dCArICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gPGxpPlxuICAgICAgPExpbmsgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBuZXh0VXJsfSB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgIDxzcGFuIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5sYXN0KSB7XG4gICAgcmV0dXJuIDxsaT5cbiAgICAgIDxMaW5rIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgcHJvcHMucG9zdHMubGFzdCArICcvJ30gdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgIDxzcGFuIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9yZShwcm9wcykge1xuICBsZXQgbWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKG1vcmUpcyBtb3JlIHBvc3QgaW4gdGhpcyB0aHJlYWQuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKG1vcmUpcyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiLFxuICAgICAgcHJvcHMubW9yZSk7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsnbW9yZSc6IHByb3BzLm1vcmV9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoZXJlIGFyZSBubyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiKTtcbiAgfVxuXG4gIHJldHVybiA8cD57bWVzc2FnZX08L3A+O1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ2J0biBidG4tc3VjY2Vzcyd9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGF0XG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlJlcGx5XCIpfVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBSb3V0ZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWQvcm91dGUnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3Bvc3RzJzogc3RvcmUucG9zdHMsXG4gICAgJ3RocmVhZCc6IHN0b3JlLnRocmVhZCxcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGNvbnN0IHRocmVhZCA9IG1pc2Fnby5nZXQoJ1RIUkVBRCcpO1xuICBjb25zdCBiYXNlUGF0aCA9IHRocmVhZC51cmwuaW5kZXgucmVwbGFjZSh0aHJlYWQuc2x1ZyArICctJyArIHRocmVhZC5waywgJzpzbHVnJyk7XG5cbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogYmFzZVBhdGggKyAnOnBhZ2UvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH1cbiAgXTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBvc3RzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vaGVhZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUGFnaW5hdG9yIGZyb20gJy4vcGFnaW5hdG9yJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVwbHlCdXR0b24gZnJvbSAnLi9yZXBseS1idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdWJzY3JpcHRpb24gZnJvbSAnLi9zdWJzY3JpcHRpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUb29sYmFyVG9wIGZyb20gJy4vdG9vbGJhci10b3AnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBQb3N0c01vZGVyYXRpb24gZnJvbSAnLi9tb2RlcmF0aW9uL3Bvc3RzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKTtcbiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wUG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgc2hvdWxkRmV0Y2hEYXRhKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgICBjb25zdCBwYWdlID0gKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxO1xuICAgICAgcmV0dXJuIHBhZ2UgIT0gdGhpcy5wcm9wcy5wb3N0cy5wYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnVubG9hZCgpKTtcblxuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCwge1xuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxXG4gICAgfSwgJ3Bvc3RzJykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZ0FwaSgpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAndGhyZWFkLXBvc3RzJyxcblxuICAgICAgdXJsOiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG5cbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIGRlbGF5ZWQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHN0b3BQb2xsaW5nQXBpKCkge1xuICAgIHBvbGxzLnN0b3AoJ3RocmVhZC1wb3N0cycpO1xuICB9XG5cbiAgc2V0UGFnZVRpdGxlKCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG4gICAgICBwYWdlOiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxKSAqIDFcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSk7XG5cbiAgICB0aGlzLnNldFBhZ2VUaXRsZSgpO1xuICB9O1xuXG4gIG9wZW5SZXBseUZvcm0gPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6ICdSRVBMWScsXG5cbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy50aHJlYWQuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtdGhyZWFkXCI+XG4gICAgICA8SGVhZGVyIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICA8VG9vbGJhclRvcCBvcGVuUmVwbHlGb3JtPXt0aGlzLm9wZW5SZXBseUZvcm19IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICA8UG9zdHNMaXN0IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItYm90dG9tXCI+XG4gICAgICAgICAgPFBhZ2luYXRvciB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICA8UmVwbHkgb25DbGljaz17dGhpcy5vcGVuUmVwbHlGb3JtfSB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxTdWJzY3JpcHRpb24gY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodCBkcm9wdXBcIiB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICA8UG9zdHNNb2RlcmF0aW9uIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXItZml4XCIgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXBseUJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgdG9vbGJhci1yaWdodFwiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICAvPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtnZXRJY29uKHByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24pfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXRMYWJlbChwcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oc3Vic2NyaXB0aW9uKSB7XG4gIGlmIChzdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gJ3N0YXInO1xuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gJ3N0YXJfaGFsZic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICdzdGFyX2JvcmRlcic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExhYmVsKHN1YnNjcmlwdGlvbikge1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJFLW1haWxcIik7XG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRW5hYmxlZFwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkRpc2FibGVkXCIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEcm9wZG93bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgIDxEaXNhYmxlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFbmFibGUgey4uLnByb3BzfSAvPlxuICAgICAgPEVtYWlsIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgRGlzYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgbnVsbCwgJ3Vuc3Vic2NyaWJlJyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHN0YXJfYm9yZGVyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5zdWJzY3JpYmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVuYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIGZhbHNlLCAnbm90aWZ5Jyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHN0YXJfaGFsZlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW1haWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIHRydWUsICdlbWFpbCcpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlIHdpdGggZS1tYWlsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUodGhyZWFkLCBuZXdTdGF0ZSwgdmFsdWUpIHtcbiAgY29uc3Qgb2xkU3RhdGUgPSB7XG4gICAgc3Vic2NyaXB0aW9uOiB0aHJlYWQuc3Vic2NyaXB0aW9uXG4gIH07XG5cbiAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy51cGRhdGUoe1xuICAgIHN1YnNjcmlwdGlvbjogbmV3U3RhdGVcbiAgfSkpO1xuXG4gIGFqYXgucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnc3Vic2NyaXB0aW9uJywgdmFsdWU6IHZhbHVlfVxuICBdKS50aGVuKChmaW5hbFN0YXRlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy51cGRhdGUoZmluYWxTdGF0ZSkpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy51cGRhdGUob2xkU3RhdGUpKTtcbiAgfSk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZXBseUJ1dHRvbiBmcm9tICcuL3JlcGx5LWJ1dHRvbic7XG5pbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gJy4vc3Vic2NyaXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZVwiPlxuICAgICAgICA8R290b05ldyB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9VbmFwcHJvdmVkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8R290b0xhc3QgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxSZXBseSBvcGVuUmVwbHlGb3JtPXtwcm9wcy5vcGVuUmVwbHlGb3JtfSB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPFN1YnNjcmlwdGlvbk1lbnUgey4uLnByb3BzfSAvPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9OZXcocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc19uZXcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiB0aXRsZT17Z2V0dGV4dCgnR28gdG8gZmlyc3QgbmV3IHBvc3QnKX0+XG4gICAgICAgICAge2dldHRleHQoXCJOZXdcIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b1VuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cyAmJiBwcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC51bmFwcHJvdmVkX3Bvc3R9IGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIHRpdGxlPXtnZXR0ZXh0KCdHbyB0byBmaXJzdCB1bmFwcHJvdmVkIHBvc3QnKX0+XG4gICAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9MYXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9IGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIHRpdGxlPXtnZXR0ZXh0KCdHbyB0byBsYXN0IHBvc3QnKX0+XG4gICAgICAgIHtnZXR0ZXh0KFwiTGFzdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWVudShwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInB1bGwtcmlnaHRcIj5cbiAgICAgIDxTdWJzY3JpcHRpb24gY2xhc3NOYW1lPVwiZHJvcGRvd24gdG9vbGJhci1yaWdodFwiIHsuLi5wcm9wc30gLz5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInB1bGwtcmlnaHRcIj5cbiAgICAgICAgPFJlcGx5QnV0dG9uIG9uQ2xpY2s9e3Byb3BzLm9wZW5SZXBseUZvcm19IC8+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgbGV0IGxhYmVsID0gbmdldHRleHQoXG4gICAgICBcIlRoZXJlIGlzICUodGhyZWFkcylzIG5ldyBvciB1cGRhdGVkIHRocmVhZC4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgaXQuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKHRocmVhZHMpcyBuZXcgb3IgdXBkYXRlZCB0aHJlYWRzLiBDbGljayB0aGlzIG1lc3NhZ2UgdG8gc2hvdyB0aGVtLlwiLFxuICAgICAgdGhpcy5wcm9wcy5kaWZmU2l6ZSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobGFiZWwsIHtcbiAgICAgIHRocmVhZHM6IHRoaXMucHJvcHMuZGlmZlNpemVcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIHRocmVhZHMtZGlmZi1tZXNzYWdlXCI+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5hcHBseURpZmZ9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgY2FjaGVkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGlmZi1tZXNzYWdlXCI+XG4gICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZSgpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEaWZmTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9kaWZmLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXREaWZmTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaWZmU2l6ZSA+IDApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8RGlmZk1lc3NhZ2UgZGlmZlNpemU9e3RoaXMucHJvcHMuZGlmZlNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RGlmZj17dGhpcy5wcm9wcy5hcHBseURpZmZ9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkcy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7dGhpcy5nZXREaWZmTWVzc2FnZSgpfVxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRocmVhZFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9wcmV2aWV3JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8VGhyZWFkUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEaWZmTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9kaWZmLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9yZWFkeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldERpZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpZmZTaXplID4gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxEaWZmTWVzc2FnZSBkaWZmU2l6ZT17dGhpcy5wcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIHt0aGlzLmdldERpZmZNZXNzYWdlKCl9XG4gICAgICAgIHt0aGlzLnByb3BzLnRocmVhZHMubWFwKCh0aHJlYWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gPFRocmVhZCBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2hvd09wdGlvbnM9e3RoaXMucHJvcHMuc2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17dGhpcy5wcm9wcy5zZWxlY3Rpb24uaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMucHJvcHMuYnVzeVRocmVhZHMuaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0aHJlYWQuaWR9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnByb3BzLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy50aHJlYWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMubGlzdH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmU2l6ZT17dGhpcy5wcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93T3B0aW9ucz17dGhpcy5wcm9wcy5zaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5wcm9wcy5idXN5VGhyZWFkc30gLz47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSBkaWZmU2l6ZT17dGhpcy5wcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvTGlzdEVtcHR5PjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPjtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXJsKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybCArIHRoaXMucHJvcHMubGlzdC5wYXRoO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICd0aHJlYWQtY2F0ZWdvcnkgdGhyZWFkLWNhdGVnb3J5LScgKyB0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICd0aHJlYWQtY2F0ZWdvcnknO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxMaW5rIHRvPXt0aGlzLmdldFVybCgpfSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICA8L0xpbms+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhdGVnb3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvY2F0ZWdvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRQYXRoKCkge1xuICAgIGxldCB0b3AgPSB0aGlzLnByb3BzLmNhdGVnb3JpZXNbdGhpcy5wcm9wcy50aHJlYWQudG9wX2NhdGVnb3J5XTtcbiAgICBsZXQgYm90dG9tID0gdGhpcy5wcm9wcy5jYXRlZ29yaWVzW3RoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5XTtcblxuICAgIGlmICh0b3AgJiYgYm90dG9tICYmIHRvcC5pZCAhPT0gYm90dG9tLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1wYXRoXCI+XG4gICAgICAgIDxDYXRlZ29yeSBjYXRlZ29yeT17Ym90dG9tfSBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0b3ApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBhdGhcIj5cbiAgICAgICAgPENhdGVnb3J5IGNhdGVnb3J5PXt0b3B9IGxpc3Q9e3RoaXMucHJvcHMubGlzdH0gLz5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVwbGllc0NvdW50KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1yZXBsaWVzLWNvdW50XCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZvcnVtXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7dGhpcy5wcm9wcy50aHJlYWQucmVwbGllc31cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TGFzdFJlcGx5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5LWNsb2NrXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHNjaGVkdWxlXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7dGhpcy5wcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZyb21Ob3coKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1jb21wYWN0IGxpc3QtaW5saW5lXCI+XG4gICAgICB7dGhpcy5nZXRQYXRoKCl9XG4gICAgICB7dGhpcy5nZXRSZXBsaWVzQ291bnQoKX1cbiAgICAgIHt0aGlzLmdldExhc3RSZXBseSgpfVxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhdGVnb3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvY2F0ZWdvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgTEFTVF9SRVBMWV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYT4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE5ld0xhYmVsKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfcmVhZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbmV3LXBvc3RzXCJcbiAgICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCB1bnJlYWQgcG9zdFwiKX0+XG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY29tbWVudFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJOZXcgcG9zdHNcIil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFBpbm5lZExhYmVsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDIpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1nbG9iYWxseVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYm9va21hcmtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDEpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBib29rbWFya19ib3JkZXJcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5hcHByb3ZlZExhYmVsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuYXBwcm92ZWRcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZCBwb3N0c1wiKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIaWRkZW5MYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1oaWRkZW5cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGRlblwiKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbG9zZWRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1jbG9zZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGxvY2tfb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZWRcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGF0aCgpIHtcbiAgICBsZXQgdG9wID0gdGhpcy5wcm9wcy5jYXRlZ29yaWVzW3RoaXMucHJvcHMudGhyZWFkLnRvcF9jYXRlZ29yeV07XG4gICAgbGV0IGJvdHRvbSA9IHRoaXMucHJvcHMuY2F0ZWdvcmllc1t0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeV07XG5cbiAgICBpZiAodG9wICYmIGJvdHRvbSAmJiB0b3AuaWQgIT09IGJvdHRvbS5pZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGF0aFwiPlxuICAgICAgICA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e3RvcH0gbGlzdD17dGhpcy5wcm9wcy5saXN0fSAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYXRoLXNlcGFyYXRvciBtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYXJyb3dfZm9yd2FyZFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxDYXRlZ29yeSBjYXRlZ29yeT17Ym90dG9tfSBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0b3ApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBhdGhcIj5cbiAgICAgICAgPENhdGVnb3J5IGNhdGVnb3J5PXt0b3B9IGxpc3Q9e3RoaXMucHJvcHMubGlzdH0gLz5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVwbGllc0NvdW50KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUocmVwbGllcylzIHJlcGx5XCIsXG4gICAgICAgIFwiJShyZXBsaWVzKXMgcmVwbGllc1wiLFxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZC5yZXBsaWVzKTtcblxuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXJlcGxpZXNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZm9ydW1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICAgcmVwbGllczogdGhpcy5wcm9wcy50aHJlYWQucmVwbGllcyxcbiAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldExhc3RSZXBseURhdGUoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUkVQTFlfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdCksXG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZnJvbU5vdygpKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0TGFzdFBvc3RlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfVVJMLCB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMudGhyZWFkLmxhc3RfcG9zdGVyX25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUE9TVEVSX1NQQU4sIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFzdFJlcGx5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5XCJcbiAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBpbnRlcnBvbGF0ZShcbiAgICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcImxhc3QgcmVwbHkgYnkgJSh1c2VyKXMgJShkYXRlKXNcIikpLCB7XG4gICAgICAgIGRhdGU6IHRoaXMuZ2V0TGFzdFJlcGx5RGF0ZSgpLFxuICAgICAgICB1c2VyOiB0aGlzLmdldExhc3RQb3N0ZXIoKVxuICAgICAgfSwgdHJ1ZSl9fSAvPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1mdWxsIGxpc3QtaW5saW5lXCI+XG4gICAgICB7dGhpcy5nZXROZXdMYWJlbCgpfVxuICAgICAge3RoaXMuZ2V0UGlubmVkTGFiZWwoKX1cbiAgICAgIHt0aGlzLmdldFVuYXBwcm92ZWRMYWJlbCgpfVxuICAgICAge3RoaXMuZ2V0SGlkZGVuTGFiZWwoKX1cbiAgICAgIHt0aGlzLmdldENsb3NlZExhYmVsKCl9XG4gICAgICB7dGhpcy5nZXRQYXRoKCl9XG4gICAgICB7dGhpcy5nZXRSZXBsaWVzQ291bnQoKX1cbiAgICAgIHt0aGlzLmdldExhc3RSZXBseSgpfVxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFBpbm5lZEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGJvb2ttYXJrXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBib29rbWFya19ib3JkZXJcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuYXBwcm92ZWRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHJlbW92ZV9jaXJjbGVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEhpZGRlbkljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2hpZGRlbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1oaWRkZW5cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbG9zZWRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtY2xvc2VkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBsb2NrX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1mbGFnc1wiPlxuICAgICAge3RoaXMuZ2V0UGlubmVkSWNvbigpfVxuICAgICAge3RoaXMuZ2V0VW5hcHByb3ZlZEljb24oKX1cbiAgICAgIHt0aGlzLmdldEhpZGRlbkljb24oKX1cbiAgICAgIHt0aGlzLmdldENsb3NlZEljb24oKX1cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gJ3JlYWQtc3RhdHVzIGl0ZW0tcmVhZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncmVhZC1zdGF0dXMgaXRlbS1uZXcnO1xuICAgIH1cbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgdGhyZWFkIGhhcyBubyBuZXcgcG9zdHMuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgdGhyZWFkIGhhcyBuZXcgcG9zdHMuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiAnY2hhdF9idWJibGVfb3V0bGluZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnY2hhdF9idWJibGUnO1xuICAgIH1cbiAgfVxuXG4gIGdldFVybCgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdDtcbiAgICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxhIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gaHJlZj17dGhpcy5nZXRVcmwoKX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2E+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFN1YnNjcmlwdGlvbkNvbXBhY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN1YnNjcmlwdGlvbkZ1bGwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vZnVsbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHRvZ2dsZVNlbGVjdGlvbiA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuaXRlbSh0aGlzLnByb3BzLnRocmVhZC5pZCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFNlbGVjdFRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzU2VsZWN0ZWRcbiAgICAgICAgICAgICAgPyAnY2hlY2tfYm94J1xuICAgICAgICAgICAgICA6ICdjaGVja19ib3hfb3V0bGluZV9ibGFuayd9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc1NlbGVjdGVkXG4gICAgICAgICAgICAgID8gZ2V0dGV4dChcIlNlbGVjdGVkXCIpXG4gICAgICAgICAgICAgIDogZ2V0dGV4dChcIlNlbGVjdFwiKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1vcHRpb25zXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAge3RoaXMuZ2V0U2VsZWN0VG9nZ2xlKCl9XG4gICAgICAgIDxTdWJzY3JpcHRpb25GdWxsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfSAvPlxuICAgICAgICA8U3Vic2NyaXB0aW9uQ29tcGFjdCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbk9uTW9iaWxlKSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSB0aHJlYWQtcHJldmlldyBoaWRkZW4teHMgaGlkZGVuLXNtJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkLXByZXZpZXcnO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmVhZC1zdGF0dXMgaXRlbS1yZWFkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2hhdF9idWJibGVfb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLW1haW5cIj5cblxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNjAsIDIwMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1jb21wYWN0IGxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgyMCwgNzApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWxzLWZ1bGwgbGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDE1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMTAwLCAyNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGV0YWlsc0NvbXBhY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NvbXBhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBEZXRhaWxzRnVsbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvZnVsbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZsYWdzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZmxhZ3MnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBJY29uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvaWNvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRocmVhZE9wdGlvbnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9vcHRpb25zJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0J1c3kpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TG9hZGVyIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxJY29uIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNob3dPcHRpb25zKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPFRocmVhZE9wdGlvbnMgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5pc0J1c3l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17dGhpcy5wcm9wcy5pc1NlbGVjdGVkfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBsZXQgc3R5bGVzID0gWydsaXN0LWdyb3VwLWl0ZW0nXTtcblxuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICBzdHlsZXMucHVzaCgndGhyZWFkLXJlYWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzLnB1c2goJ3RocmVhZC1uZXcnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5pc0J1c3kpIHtcbiAgICAgIHN0eWxlcy5wdXNoKCd0aHJlYWQtYnVzeScpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5pc1NlbGVjdGVkKSB7XG4gICAgICBzdHlsZXMucHVzaCgndGhyZWFkLXNlbGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd09wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgICBzdHlsZXMucHVzaCgndGhyZWFkLW9wcy10d28nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKCd0aHJlYWQtb3BzLW9uZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXMuam9pbignICcpO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgPEZsYWdzIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RoaXMuZ2V0T3B0aW9ucygpfVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1tYWluXCI+XG5cbiAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy50aHJlYWQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnRocmVhZC50aXRsZX1cbiAgICAgICAgPC9hPlxuXG4gICAgICAgIDxEZXRhaWxzRnVsbCBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuXG4gICAgICAgIDxEZXRhaWxzQ29tcGFjdCBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN1YnNjcmlwdGlvbkZ1bGwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vZnVsbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE9wdGlvbnNNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFN1YnNjcmlwdGlvbkZ1bGwge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dPcHRpb25zID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE9wdGlvbnNNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPik7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd09wdGlvbnN9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGVnZW5kKCl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE9wdGlvbnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vb3B0aW9ucyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuICdzdGFyJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiAnc3Rhcl9oYWxmJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdzdGFyX2JvcmRlcic7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGVnZW5kKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiRS1tYWlsXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJFbmFibGVkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkRpc2FibGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLXN1YnNjcmliZSBidG4tc3Vic2NyaWJlLWZ1bGwgZHJvcGRvd24tdG9nZ2xlXCI7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLXN1YnNjcmliZSBidG4tc3Vic2NyaWJlLWhhbGYgZHJvcGRvd24tdG9nZ2xlXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tc3Vic2NyaWJlIGRyb3Bkb3duLXRvZ2dsZVwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0TGVnZW5kKCl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8T3B0aW9ucyBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBPcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHN1YnNjcmlwdGlvblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8T3B0aW9ucyBjbGFzc05hbWU9XCJtb2RhbC1tZW51XCIgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0vPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuY29uc3QgU1RBVEVfVVBEQVRFUyA9IHtcbiAgJ3Vuc3Vic2NyaWJlJzogbnVsbCxcbiAgJ25vdGlmeSc6IGZhbHNlLFxuICAnZW1haWwnOiB0cnVlXG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2V0U3Vic2NyaXB0aW9uID0gKG5ld1N0YXRlKSA9PiB7XG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGxldCBvbGRTdGF0ZSA9IHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbjtcblxuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbbmV3U3RhdGVdXG4gICAgfSkpO1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnc3Vic2NyaXB0aW9uJywgdmFsdWU6IG5ld1N0YXRlfVxuICAgIF0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICAgIHN1YnNjcmlwdGlvbjogU1RBVEVfVVBEQVRFU1tvbGRTdGF0ZV1cbiAgICAgIH0pKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oJ3Vuc3Vic2NyaWJlJyk7XG4gIH07XG5cbiAgbm90aWZ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKCdub3RpZnknKTtcbiAgfTtcblxuICBlbWFpbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbignZW1haWwnKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVuc3Vic2NyaWJlfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2JvcmRlclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuc3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm5vdGlmeX0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3Rhcl9oYWxmXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmVtYWlsfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlIHdpdGggZS1tYWlsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBTdWJjYXRlZ29yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVybCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5saXN0UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsICsgdGhpcy5wcm9wcy5saXN0UGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaT5cbiAgICAgIDxMaW5rIHRvPXt0aGlzLmdldFVybCgpfSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICAgIDwvTGluaz5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgY2F0ZWdvcnktcGlja2VyXCI+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBtb3JlX3ZlcnRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIkdvIHRvXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBjYXRlZ29yaWVzLW1lbnVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlcy5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF0pIHtcbiAgICAgICAgICAgIHJldHVybiA8U3ViY2F0ZWdvcnkgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RQYXRoPXt0aGlzLnByb3BzLmxpc3QucGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZH0gLz47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKSB7XG4gIGlmIChhLmxhc3RfcG9zdCA+IGIubGFzdF9wb3N0KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGEubGFzdF9wb3N0IDwgYi5sYXN0X3Bvc3QpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUdsb2JhbFdlaWdodChhLCBiKSB7XG4gIGlmIChhLndlaWdodCA9PT0gMiAmJiBhLndlaWdodCA+IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGIud2VpZ2h0ID09PSAyICYmIGEud2VpZ2h0IDwgYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlV2VpZ2h0KGEsIGIpIHtcbiAgaWYgKGEud2VpZ2h0ID4gYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoYS53ZWlnaHQgPCBiLndlaWdodCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYik7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhZ2VMZWFkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRvb2xiYXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5kZXNjcmlwdGlvbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFRvb2xiYXJMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0xvYWRlZCkge1xuICAgICAgbGV0IGxhYmVsID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgICBsYWJlbCA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkIGZvdW5kLlwiLFxuICAgICAgICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkcyBmb3VuZC5cIixcbiAgICAgICAgICB0aGlzLnByb3BzLnRocmVhZHNDb3VudCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50KSB7XG4gICAgICAgIGxhYmVsID0gbmdldHRleHQoXG4gICAgICAgICAgXCJUaGVyZSBpcyAlKHRocmVhZHMpcyB0aHJlYWQgaW4gdGhpcyBjYXRlZ29yeS5cIixcbiAgICAgICAgICBcIlRoZXJlIGFyZSAlKHRocmVhZHMpcyB0aHJlYWRzIGluIHRoaXMgY2F0ZWdvcnkuXCIsXG4gICAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzQ291bnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFiZWwgPSBuZ2V0dGV4dChcbiAgICAgICAgICBcIlRoZXJlIGlzICUodGhyZWFkcylzIHRocmVhZCBvbiBvdXIgZm9ydW1zLlwiLFxuICAgICAgICAgIFwiVGhlcmUgYXJlICUodGhyZWFkcylzIHRocmVhZHMgb24gb3VyIGZvcnVtcy5cIixcbiAgICAgICAgICB0aGlzLnByb3BzLnRocmVhZHNDb3VudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShsYWJlbCwge1xuICAgICAgICB0aHJlYWRzOiB0aGlzLnByb3BzLnRocmVhZHNDb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTG9hZGluZyB0aHJlYWRzLi4uXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldERpc2FibGVUb29sYmFyKCkge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5pc0xvYWRlZCB8fCB0aGlzLnByb3BzLmlzQnVzeSB8fCB0aGlzLnByb3BzLmJ1c3lUaHJlYWRzLmxlbmd0aDtcbiAgfVxuXG4gIGdldFRvb2xiYXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3ViY2F0ZWdvcmllcy5sZW5ndGggfHwgdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPFRvb2xiYXIgc3ViY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuXG4gICAgICAgICAgICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVyYXRpb249e3RoaXMucHJvcHMubW9kZXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbFRocmVhZHM9e3RoaXMucHJvcHMuc2VsZWN0QWxsVGhyZWFkc31cbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3ROb25lVGhyZWFkcz17dGhpcy5wcm9wcy5zZWxlY3ROb25lVGhyZWFkc31cblxuICAgICAgICAgICAgICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMucHJvcHMuYWRkVGhyZWFkc31cbiAgICAgICAgICAgICAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVRocmVhZD17dGhpcy5wcm9wcy5kZWxldGVUaHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnByb3BzLnVwZGF0ZVRocmVhZH1cblxuICAgICAgICAgICAgICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLmdldERpc2FibGVUb29sYmFyKCl9XG4gICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfT5cbiAgICAgICAge3RoaXMuZ2V0VG9vbGJhckxhYmVsKCl9XG4gICAgICA8L1Rvb2xiYXI+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAge3RoaXMuZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpfVxuICAgICAge3RoaXMuZ2V0VG9vbGJhcigpfVxuXG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBUYWJzTmF2IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9uYXZzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyByZWFkIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbWFya0FzUmVhZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuYXBpX3VybC5yZWFkKS50aGVuKCgpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHJlYWQodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwLCB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5KSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkcyBoYXZlIGJlZW4gbWFya2VkIGFzIHJlYWQuXCIpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgc3RhcnRUaHJlYWQgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6ICdTVEFSVCcsXG5cbiAgICAgIGNvbmZpZzogbWlzYWdvLmdldCgnVEhSRUFEX0VESVRPUl9BUEknKSxcbiAgICAgIHN1Ym1pdDogbWlzYWdvLmdldCgnVEhSRUFEU19BUEknKSxcblxuICAgICAgY2F0ZWdvcnk6IHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWRcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRHb0JhY2tCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnByb3BzLmNhdGVnb3JpZXNbdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnRdO1xuXG4gICAgICByZXR1cm4gPExpbmsgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1nby1iYWNrIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgdG89e3BhcmVudC5hYnNvbHV0ZV91cmwgKyB0aGlzLnByb3BzLnJvdXRlLmxpc3QucGF0aH0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBrZXlib2FyZF9hcnJvd19sZWZ0XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvTGluaz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTdGFydFRocmVhZEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWFsaWduZWQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnN0YXJ0VGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgY2hhdFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiU3RhcnQgdGhyZWFkXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWFya0FzUmVhZEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm1hcmtBc1JlYWR9XG4gICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHBsYXlsaXN0X2FkZF9jaGVja1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiTWFyayBhcyByZWFkXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29tcGFjdE5hdlRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5saXN0cy5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPERyb3Bkb3duVG9nZ2xlIHRvZ2dsZU5hdj17dGhpcy5wcm9wcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duPXt0aGlzLnByb3BzLmRyb3Bkb3dufSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFRhYnNOYXYoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUubGlzdHMubGVuZ3RoID4gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxUYWJzTmF2IGJhc2VVcmw9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICBsaXN0cz17dGhpcy5wcm9wcy5yb3V0ZS5saXN0c30gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUubGlzdHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuICdwYWdlLWhlYWRlciB0YWJiZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3BhZ2UtaGVhZGVyJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICB7dGhpcy5nZXRHb0JhY2tCdXR0b24oKX1cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInB1bGwtbGVmdFwiPnt0aGlzLnByb3BzLnRpdGxlfTwvaDE+XG5cbiAgICAgICAge3RoaXMuZ2V0U3RhcnRUaHJlYWRCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TWFya0FzUmVhZEJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRDb21wYWN0TmF2VG9nZ2xlKCl9XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RoaXMuZ2V0VGFic05hdigpfVxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubGlzdC50eXBlID09PSAnYWxsJykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkuc3BlY2lhbF9yb2xlXG4gICAgICAgICAgICA/IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBvbiB0aGlzIGZvcnVtLi4uIHlldCFcIilcbiAgICAgICAgICAgIDogZ2V0dGV4dChcIlRoZXJlIGFyZSBubyB0aHJlYWRzIGluIHRoaXMgY2F0ZWdvcnkuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiV2h5IG5vdCBzdGFydCBvbmUgeW91cnNlbGY/XCIpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAge2dldHRleHQoXCJObyB0aHJlYWRzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYSB3ZXJlIGZvdW5kLlwiKX1cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEVycm9yc01vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lcmdlVGhyZWFkcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbWVyZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb3ZlVGhyZWFkcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbW92ZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ291bnRkb3duIGZyb20gJ21pc2Fnby91dGlscy9jb3VudGRvd24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNhbGxBcGkgPSAob3BzLCBzdWNjZXNzTWVzc2FnZSwgb25TdWNjZXNzPW51bGwpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCBjb3VudGRvd24gPSBuZXcgQ291bnRkb3duKCgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSk7XG4gICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMucHJvcHMudGhyZWFkcy5sZW5ndGgpO1xuXG4gICAgLy8gdXBkYXRlIHRocmVhZCBhY2wgdG9nZXRoZXIgd2l0aCBpdHMgc3RhdGVcbiAgICBvcHMucHVzaCh7b3A6ICdhZGQnLCBwYXRoOiAnYWNsJywgdmFsdWU6IHRydWV9KTtcblxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG5cbiAgICAgIGFqYXgucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgb3BzKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRlVGhyZWFkKGRhdGEpO1xuICAgICAgICBjb3VudGRvd24uY291bnQoKTtcbiAgICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgIHRocmVhZDogdGhyZWFkLFxuICAgICAgICAgIGVycm9yczogW3JlamVjdGlvbi5kZXRhaWxdXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvdW50ZG93bi5jb3VudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAyXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBwaW5uZWQgZ2xvYmFsbHkuXCIpKTtcbiAgfTtcblxuICBwaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgcGlubmVkIGxvY2FsbHkuXCIpKTtcbiAgfTtcblxuICB1bnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHVucGlubmVkLlwiKSk7XG4gIH07XG5cbiAgYXBwcm92ZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtdW5hcHByb3ZlZCcsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgYXBwcm92ZWQuXCIpKTtcbiAgfTtcblxuICBvcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIG9wZW5lZC5cIikpO1xuICB9O1xuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgY2xvc2VkLlwiKSk7XG4gIH07XG5cbiAgdW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1oaWRkZW4nLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHVuaGlkZGVuLlwiKSk7XG4gIH07XG5cbiAgaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtaGlkZGVuJyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGhpZGRlbi5cIikpO1xuICB9O1xuXG4gIG1vdmUgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlVGhyZWFkcyBjYWxsQXBpPXt0aGlzLmNhbGxBcGl9XG4gICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgKTtcbiAgfTtcblxuICBtZXJnZSA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21lcmdlKSB7XG4gICAgICAgIGVycm9ycy5hcHBlbmQoe1xuICAgICAgICAgICdpZCc6IHRocmVhZC5pZCxcbiAgICAgICAgICAndGl0bGUnOiB0aHJlYWQudGl0bGUsXG4gICAgICAgICAgJ2Vycm9ycyc6IFtcbiAgICAgICAgICAgIGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIG1lcmdlIHRoaXMgdGhyZWFkIHdpdGggb3RoZXJzLlwiKVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oXG4gICAgICAgIGdldHRleHQoXCJZb3UgaGF2ZSB0byBzZWxlY3QgYXQgbGVhc3QgdHdvIHRocmVhZHMgdG8gbWVyZ2UuXCIpKTtcbiAgICB9IGVsc2UgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17ZXJyb3JzfSAvPik7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGFsLnNob3coPE1lcmdlVGhyZWFkcyB7Li4udGhpcy5wcm9wc30gLz4pO1xuICAgIH1cbiAgfTtcblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHNlbGVjdGVkIHRocmVhZHM/XCIpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGNvdW50ZG93biA9IG5ldyBDb3VudGRvd24oKCkgPT4ge1xuICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBkZWxldGVkLlwiKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVuZnJlZXplIG5vbi1kZWxldGVkIHRocmVhZHNcbiAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZWR1Y2Ugc2VsZWN0aW9uIHRvIG5vbi1kZWxldGVkIHRocmVhZHNcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwodGhpcy5wcm9wcy50aHJlYWRzLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgICAgfSkpKTtcbiAgICB9LCB0aGlzLnByb3BzLnRocmVhZHMubGVuZ3RoKTtcblxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG5cbiAgICAgIGFqYXguZGVsZXRlKHRocmVhZC5hcGkuaW5kZXgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICAgICAgY291bnRkb3duLmNvdW50KCk7XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0aHJlYWQ6IHRocmVhZCxcbiAgICAgICAgICBlcnJvcnM6IFtyZWplY3Rpb24uZGV0YWlsXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb3VudGRvd24uY291bnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFBpbkdsb2JhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbiA9PSAyKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX0+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gdGhyZWFkcyBnbG9iYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluID4gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluTG9jYWxseX0+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gdGhyZWFkcyBsb2NhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluID4gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudW5waW59PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fbW92ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZX0+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9tZXJnZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubWVyZ2V9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fYXBwcm92ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX0+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vcGVufT5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9wZW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZX0+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5oaWRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2hpZGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVuaGlkZX0+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEhpZGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5faGlkZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGlkZX0+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5faGlkZSA9PSAyKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5kZWxldGV9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICB7dGhpcy5nZXRQaW5HbG9iYWxseUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0UGluTG9jYWxseUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0VW5waW5CdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE1vdmVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE1lcmdlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRBcHByb3ZlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRPcGVuQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRDbG9zZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0VW5oaWRlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRIaWRlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXREZWxldGVCdXR0b24oKX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZEVycm9ycyhwcm9wcykge1xuICByZXR1cm4gPGxpPlxuICAgIDxoNT57cHJvcHMudGhyZWFkLnRpdGxlfTwvaDU+XG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pdGVtLWVycm9yc1wiPlxuICAgICAge3Byb3BzLmVycm9ycy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxsaSBrZXk9e2l9PntpdGVtfTwvbGk+XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICA8L2xpPjtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIlxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlRocmVhZHMgbW9kZXJhdGlvblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkVycm9ycyB3ZXJlIGVuY291bnRlcmVkIHdoZW4gcGVyZm9ybWluZyBtb2RlcmF0aW9uIGFjdGlvbiBvbiBvbmUgb3IgbW9yZSB0aHJlYWRzOlwiKX1cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWVycm9yZWQtaXRlbXNcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmVycm9ycy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIDxUaHJlYWRFcnJvcnNcbiAgICAgICAgICAgICAgICBlcnJvcnM9e2l0ZW0uZXJyb3JzfVxuICAgICAgICAgICAgICAgIGtleT17aXRlbS50aHJlYWQuaWR9XG4gICAgICAgICAgICAgICAgdGhyZWFkPXtpdGVtLnRocmVhZH1cbiAgICAgICAgICAgICAgLz47XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3VsPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGZpbHRlclRocmVhZHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBFcnJvcnNNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkKClcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLmFjbCA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzKSB7XG4gICAgICBpZiAoIXByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjbCA9IHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXNbaV07XG4gICAgICB0aGlzLmFjbFthY2wuaWRdID0gYWNsO1xuICAgIH1cblxuICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzID0gW107XG4gICAgcHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LmxldmVsID4gMCkge1xuICAgICAgICBjb25zdCBhY2wgPSB0aGlzLmFjbFtjYXRlZ29yeS5pZF07XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fCAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsIC0gMSxcbiAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eV9vZmYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogZmFsc2UsXG4gICAgICAgICdpY29uJzogJ2xvY2tfb3V0bGluZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogdHJ1ZSxcbiAgICAgICAgJ2ljb24nOiAnbG9jaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnTUVSR0VfVEhSRUFEU19BUEknKSwge1xuICAgICAgdG9wX2NhdGVnb3J5OiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkLFxuICAgICAgdGhyZWFkczogdGhpcy5wcm9wcy50aHJlYWRzLm1hcCgodGhyZWFkKSA9PiB0aHJlYWQuaWQpLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIC8vIHVuZnJlZXplIGFuZCByZW1vdmUgbWVyZ2VkIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICB9KTtcblxuICAgIC8vIGRlc2VsZWN0IGFsbCB0aHJlYWRzXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSk7XG5cbiAgICAvLyBhcHBlbmQgbWVyZ2VkIHRocmVhZCwgZmlsdGVyIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLmFkZFRocmVhZHMoW2FwaVJlc3BvbnNlXSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApKTtcblxuICAgIC8vIGhpZGUgbW9kYWxcbiAgICBtb2RhbC5oaWRlKCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAncmVtb3ZlJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIiksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdib29rbWFya19ib3JkZXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIiksXG4gICAgICB9XG4gICAgXTtcblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmsnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXM7XG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3ZWlnaHQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGRlbicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19jbG9zZWQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJGb3JtKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX0+XG4gICAgICAgICAgPGlucHV0IGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndGl0bGUnKX1cbiAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9PlxuICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuY2F0ZWdvcnlDaG9pY2VzfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyQ2FudE1lcmdlTWVzc2FnZSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRocmVhZHMgYmVjYXVzZSB0aGVyZSBhcmUgbm8gY2F0ZWdvcmllcyB5b3UgYXJlIGFsbG93ZWQgdG8gbW92ZSB0aGVtIHRvLlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBuZWVkIHBlcm1pc3Npb24gdG8gc3RhcnQgdGhyZWFkcyBpbiBjYXRlZ29yeSB0byBiZSBhYmxlIHRvIG1lcmdlIHRocmVhZHMgdG8gaXQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiAnbW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3J5ID8gdGhpcy5yZW5kZXJGb3JtKCkgOiB0aGlzLnJlbmRlckNhbnRNZXJnZU1lc3NhZ2UoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZmlsdGVyVGhyZWFkcyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgIH07XG5cbiAgICBjb25zdCBhY2xzID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWNsID0gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllc1tpXTtcbiAgICAgIGFjbHNbYWNsLmlkXSA9IGFjbDtcbiAgICB9XG5cbiAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcyA9IFtdO1xuICAgIHByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5sZXZlbCA+IDApIHtcbiAgICAgICAgY29uc3QgYWNsID0gYWNsc1tjYXRlZ29yeS5pZF07XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fCAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsIC0gMSxcbiAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGhhbmRsZVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgIC8vIHdlIGRvbid0IHJlbG9hZCBwYWdlIG9uIHN1Ym1pc3Npb25zXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIGNvbnN0IG9uU3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBmaWx0ZXJUaHJlYWRzKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnksIHRoaXMucHJvcHMuY2F0ZWdvcmllc01hcCkpO1xuXG4gICAgICAvLyBkZXNlbGVjdCB0aHJlYWRzIG1vdmVkIG91dHNpZGUgb2YgdmlzaWJsZSBzY29wZVxuICAgICAgY29uc3Qgc3RvcmVTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBjb25zdCBsZWZ0VGhyZWFkcyA9IHN0b3JlU3RhdGUudGhyZWFkcy5tYXAoKHRocmVhZCkgPT4gKHRocmVhZC5pZCkpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0LmFsbChzdG9yZVN0YXRlLnNlbGVjdGlvbi5maWx0ZXIoKHRocmVhZCkgPT4ge1xuICAgICAgICByZXR1cm4gbGVmdFRocmVhZHMuaW5kZXhPZih0aHJlYWQpICE9PSAtMTtcbiAgICAgIH0pKSk7XG4gICAgfTtcblxuICAgIHRoaXMucHJvcHMuY2FsbEFwaShbXG4gICAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ2NhdGVnb3J5JywgdmFsdWU6IHRoaXMuc3RhdGUuY2F0ZWdvcnl9LFxuICAgICAge29wOiAnYWRkJywgcGF0aDogJ3RvcC1jYXRlZ29yeScsIHZhbHVlOiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkfSxcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnZmxhdHRlbi1jYXRlZ29yaWVzJywgdmFsdWU6IG51bGx9LFxuICAgICAge29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiB0cnVlfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgbW92ZWQuXCIpLCBvblN1Y2Nlc3MpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiAnbW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRm9ybSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX25ld19jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9uZXdfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2NhdGVnb3J5Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmNhdGVnb3J5Q2hvaWNlc30gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXJDYW50TW92ZU1lc3NhZ2UoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aHJlYWRzIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGNhdGVnb3JpZXMgeW91IGFyZSBhbGxvd2VkIHRvIG1vdmUgdGhlbSB0by5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIHN0YXJ0IHRocmVhZHMgaW4gY2F0ZWdvcnkgdG8gYmUgYWJsZSB0byBtb3ZlIHRocmVhZHMgdG8gaXQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3J5ID8gdGhpcy5yZW5kZXJGb3JtKCkgOiB0aGlzLnJlbmRlckNhbnRNb3ZlTWVzc2FnZSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2VsZWN0QWxsID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwodGhpcy5wcm9wcy50aHJlYWRzLm1hcChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICAgIHJldHVybiB0aHJlYWQuaWQ7XG4gICAgfSkpKTtcbiAgfTtcblxuICBzZWxlY3ROb25lID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0QWxsfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGFsbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3ROb25lfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94X291dGxpbmVfYmxhbms8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTZWxlY3Qgbm9uZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xpJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuLy8ganNoaW50IGlnbm9yZTpzdGFydFxubGV0IG5hdkxpbmtzID0gZnVuY3Rpb24oYmFzZVVybCwgYWN0aXZlLCBsaXN0cywgaGlkZU5hdikge1xuICAgIHJldHVybiBsaXN0cy5tYXAoZnVuY3Rpb24obGlzdCkge1xuICAgICAgcmV0dXJuIDxMaSBpc0NvbnRyb2xsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtsaXN0LnBhdGggPT09IGFjdGl2ZS5wYXRofVxuICAgICAgICAgICAgICAgICBrZXk9e2Jhc2VVcmwgKyBsaXN0LnBhdGh9PlxuICAgICAgICA8TGluayB0bz17YmFzZVVybCArIGxpc3QucGF0aH0gb25DbGljaz17aGlkZU5hdn0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGhpZGRlbi1zbVwiPntsaXN0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi1tZCBoaWRkZW4tbGdcIj57bGlzdC5sb25nTmFtZX08L3NwYW4+XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvTGk+O1xuICB9KTtcbn07XG4vLyBqc2hpbnQgaWdub3JlOmVuZFxuXG5leHBvcnQgY2xhc3MgVGFic05hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCI+XG4gICAgICAgICAge25hdkxpbmtzKHRoaXMucHJvcHMuYmFzZVVybCwgdGhpcy5wcm9wcy5saXN0LCB0aGlzLnByb3BzLmxpc3RzLCB0aGlzLnByb3BzLmhpZGVOYXYpfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3ROYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICB7bmF2TGlua3ModGhpcy5wcm9wcy5iYXNlVXJsLCB0aGlzLnByb3BzLmxpc3QsIHRoaXMucHJvcHMubGlzdHMsIHRoaXMucHJvcHMuaGlkZU5hdil9XG4gICAgPC91bD47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufSIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUm91dGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb3V0ZSc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAnc2VsZWN0aW9uJzogc3RvcmUuc2VsZWN0aW9uLFxuICAgICd0aHJlYWRzJzogc3RvcmUudGhyZWFkcyxcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdHModXNlcikge1xuICBsZXQgbGlzdHMgPSBbXG4gICAge1xuICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICBwYXRoOiAnJyxcbiAgICAgIG5hbWU6IGdldHRleHQoXCJBbGxcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIkFsbCB0aHJlYWRzXCIpXG4gICAgfVxuICBdO1xuXG4gIGlmICh1c2VyLmlkKSB7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAnbXknLFxuICAgICAgcGF0aDogJ215LycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiTXlcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIk15IHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICduZXcnLFxuICAgICAgcGF0aDogJ25ldy8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIk5ld1wiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiTmV3IHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICd1bnJlYWQnLFxuICAgICAgcGF0aDogJ3VucmVhZC8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIlVucmVhZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiVW5yZWFkIHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICdzdWJzY3JpYmVkJyxcbiAgICAgIHBhdGg6ICdzdWJzY3JpYmVkLycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZCB0aHJlYWRzXCIpXG4gICAgfSk7XG5cbiAgICBpZiAodXNlci5hY2wuY2FuX3NlZV91bmFwcHJvdmVkX2NvbnRlbnRfbGlzdHMpIHtcbiAgICAgIGxpc3RzLnB1c2goe1xuICAgICAgICB0eXBlOiAndW5hcHByb3ZlZCcsXG4gICAgICAgIHBhdGg6ICd1bmFwcHJvdmVkLycsXG4gICAgICAgIG5hbWU6IGdldHRleHQoXCJVbmFwcHJvdmVkXCIpLFxuICAgICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlVuYXBwcm92ZWQgY29udGVudFwiKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxpc3RzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHModXNlcikge1xuICBsZXQgbGlzdHMgPSBnZXRMaXN0cyh1c2VyKTtcbiAgbGV0IHJvdXRlcyA9IFtdO1xuICBsZXQgY2F0ZWdvcmllc01hcCA9IHt9O1xuXG4gIG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVMnKS5mb3JFYWNoKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgbGlzdHMuZm9yRWFjaChmdW5jdGlvbihsaXN0KSB7XG4gICAgICBjYXRlZ29yaWVzTWFwW2NhdGVnb3J5LmlkXSA9IGNhdGVnb3J5O1xuXG4gICAgICByb3V0ZXMucHVzaCh7XG4gICAgICAgIHBhdGg6IGNhdGVnb3J5LmFic29sdXRlX3VybCArIGxpc3QucGF0aCxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUm91dGUpLFxuXG4gICAgICAgIGNhdGVnb3JpZXM6IG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVMnKSxcbiAgICAgICAgY2F0ZWdvcmllc01hcCxcbiAgICAgICAgY2F0ZWdvcnksXG5cbiAgICAgICAgbGlzdHMsXG4gICAgICAgIGxpc3RcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcm91dGVzO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbXBhcmVHbG9iYWxXZWlnaHQsIGNvbXBhcmVXZWlnaHQgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDb250YWluZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb250YWluZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IENvbXBhY3ROYXYgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL25hdnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGRpZmZUaHJlYWRzLCBnZXRNb2RlcmF0aW9uQWN0aW9ucywgZ2V0UGFnZVRpdGxlLCBnZXRUaXRsZSB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvdXRpbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWRzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3Qvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRocmVhZHNMaXN0RW1wdHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBhcHBlbmQsIGRlbGV0ZVRocmVhZCwgaHlkcmF0ZSwgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCAqIGFzIHNldHMgZnJvbSAnbWlzYWdvL3V0aWxzL3NldHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc01vdW50ZWQ6IHRydWUsXG5cbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIGRpZmY6IHtcbiAgICAgICAgcmVzdWx0czogW11cbiAgICAgIH0sXG5cbiAgICAgIG1vZGVyYXRpb246IFtdLFxuICAgICAgYnVzeVRocmVhZHM6IFtdLFxuXG4gICAgICBkcm9wZG93bjogZmFsc2UsXG4gICAgICBzdWJjYXRlZ29yaWVzOiBbXSxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9O1xuXG4gICAgbGV0IGNhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeSgpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1RIUkVBRFMnKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEoY2F0ZWdvcnksIG1pc2Fnby5nZXQoJ1RIUkVBRFMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKGNhdGVnb3J5KTtcbiAgICB9XG4gIH1cblxuICBnZXRDYXRlZ29yeSgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuc3BlY2lhbF9yb2xlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGNhdGVnb3J5LCBkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZSwge1xuICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoZGF0YS5yZXN1bHRzKSxcblxuICAgICAgc3ViY2F0ZWdvcmllczogZGF0YS5zdWJjYXRlZ29yaWVzLFxuXG4gICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKGNhdGVnb3J5KTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YShjYXRlZ29yeSkge1xuICAgIHRoaXMubG9hZFRocmVhZHMoY2F0ZWdvcnkpO1xuICB9XG5cbiAgbG9hZFRocmVhZHMoY2F0ZWdvcnksIHBhZ2U9MSkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRFNfQVBJJyksIHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgIGxpc3Q6IHRoaXMucHJvcHMucm91dGUubGlzdC50eXBlLFxuICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgfSwgJ3RocmVhZHMnKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIC8vIHVzZXIgY2hhbmdlZCByb3V0ZSBiZWZvcmUgbG9hZGluZyBjb21wbGV0aW9uXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMsIHRoaXMuZ2V0U29ydGluZygpKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgICBtb2RlcmF0aW9uOiBnZXRNb2RlcmF0aW9uQWN0aW9ucyhzdG9yZS5nZXRTdGF0ZSgpLnRocmVhZHMpLFxuXG4gICAgICAgIHN1YmNhdGVnb3JpZXM6IGRhdGEuc3ViY2F0ZWdvcmllcyxcblxuICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZyhjYXRlZ29yeSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhjYXRlZ29yeSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICd0aHJlYWRzJyxcbiAgICAgIHVybDogbWlzYWdvLmdldCgnVEhSRUFEU19BUEknKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICBsaXN0OiB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZVxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy5wb2xsUmVzcG9uc2VcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVEhSRUFEUycpKSB7XG4gICAgICAvLyB1bmxpa2UgaW4gb3RoZXIgY29tcG9uZW50cywgcm91dGVzIGFyZSByb290IGNvbXBvbmVudHMgZm9yIHRocmVhZHNcbiAgICAgIC8vIHNvIHdlIGNhbid0IGRpc3BhdGNoIHN0b3JlIGFjdGlvbiBmcm9tIGNvbnN0cnVjdG9yXG4gICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKG1pc2Fnby5wb3AoJ1RIUkVBRFMnKS5yZXN1bHRzKSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0YXRlLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgIHBvbGxzLnN0b3AoJ3RocmVhZHMnKTtcbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIHJldHVybiBnZXRUaXRsZSh0aGlzLnByb3BzLnJvdXRlKTtcbiAgfVxuXG4gIHNldFBhZ2VUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCB8fCAhbWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgICB0aXRsZS5zZXQoZ2V0UGFnZVRpdGxlKHRoaXMucHJvcHMucm91dGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0U29ydGluZygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5zcGVjaWFsX3JvbGUpIHtcbiAgICAgIHJldHVybiBjb21wYXJlR2xvYmFsV2VpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29tcGFyZVdlaWdodDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cbiAgLy8gQUpBWFxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRUaHJlYWRzKHRoaXMuZ2V0Q2F0ZWdvcnkoKSwgdGhpcy5zdGF0ZS5wYWdlICsgMSk7XG4gIH07XG5cbiAgcG9sbFJlc3BvbnNlID0gKGRhdGEpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRpZmY6IE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIHtcbiAgICAgICAgcmVzdWx0czogZGlmZlRocmVhZHModGhpcy5wcm9wcy50aHJlYWRzLCBkYXRhLnJlc3VsdHMpXG4gICAgICB9KVxuICAgIH0pO1xuICB9O1xuXG4gIGFkZFRocmVhZHMgPSAodGhyZWFkcykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZCh0aHJlYWRzLCB0aGlzLmdldFNvcnRpbmcoKSkpO1xuICB9O1xuXG4gIGFwcGx5RGlmZiA9ICgpID0+IHtcbiAgICB0aGlzLmFkZFRocmVhZHModGhpcy5zdGF0ZS5kaWZmLnJlc3VsdHMpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZShPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmRpZmYsIHtcbiAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKHN0b3JlLmdldFN0YXRlKCkudGhyZWFkcyksXG5cbiAgICAgIGRpZmY6IHtcbiAgICAgICAgcmVzdWx0czogW11cbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgLy8gVGhyZWFkIHN0YXRlIHV0aWxzXG5cbiAgZnJlZXplVGhyZWFkID0gKHRocmVhZCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24oY3VycmVudFN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXN5VGhyZWFkczogc2V0cy50b2dnbGUoY3VycmVudFN0YXRlLmJ1c3lUaHJlYWRzLCB0aHJlYWQpXG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIHVwZGF0ZVRocmVhZCA9ICh0aHJlYWQpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh0aHJlYWQsIHRocmVhZCwgdGhpcy5nZXRTb3J0aW5nKCkpKTtcbiAgfTtcblxuICBkZWxldGVUaHJlYWQgPSAodGhyZWFkKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZGVsZXRlVGhyZWFkKHRocmVhZCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENvbXBhY3ROYXYoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUubGlzdHMubGVuZ3RoID4gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENvbXBhY3ROYXZDbGFzc05hbWUoKX0+XG4gICAgICAgIDxDb21wYWN0TmF2IGJhc2VVcmw9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgIGxpc3RzPXt0aGlzLnByb3BzLnJvdXRlLmxpc3RzfVxuICAgICAgICAgICAgICAgICAgICBoaWRlTmF2PXt0aGlzLmhpZGVOYXZ9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1vcmUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvbiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeSB8fCB0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNob3cgbW9yZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9ICdwYWdlIHBhZ2UtdGhyZWFkcyc7XG4gICAgY2xhc3NOYW1lICs9ICcgcGFnZS10aHJlYWRzLScgKyB0aGlzLnByb3BzLnJvdXRlLmxpc3Q7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBwYWdlLScgKyB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cblxuICAgICAgPEhlYWRlciBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgICAgICB0b2dnbGVOYXY9e3RoaXMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuXG4gICAgICB7dGhpcy5nZXRDb21wYWN0TmF2KCl9XG5cbiAgICAgIDxDb250YWluZXIgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuXG4gICAgICAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICAgICAgICAgdGhyZWFkc0NvdW50PXt0aGlzLnN0YXRlLmNvdW50fVxuXG4gICAgICAgICAgICAgICAgIG1vZGVyYXRpb249e3RoaXMuc3RhdGUubW9kZXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cblxuICAgICAgICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc31cbiAgICAgICAgICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5hZGRUaHJlYWRzfVxuICAgICAgICAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMudXBkYXRlVGhyZWFkfVxuXG4gICAgICAgICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fT5cblxuICAgICAgICA8VGhyZWFkc0xpc3QgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cblxuICAgICAgICAgICAgICAgICAgICAgZGlmZlNpemU9e3RoaXMuc3RhdGUuZGlmZi5yZXN1bHRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgIGFwcGx5RGlmZj17dGhpcy5hcHBseURpZmZ9XG5cbiAgICAgICAgICAgICAgICAgICAgIHNob3dPcHRpb25zPXshIXRoaXMucHJvcHMudXNlci5pZH1cblxuICAgICAgICAgICAgICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc30+XG4gICAgICAgICAgPFRocmVhZHNMaXN0RW1wdHkgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fSAvPlxuICAgICAgICA8L1RocmVhZHNMaXN0PlxuXG4gICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cblxuICAgICAgPC9Db250YWluZXI+XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5UGlja2VyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY2F0ZWdvcnktcGlja2VyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kZXJhdGlvbkNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9jb250cm9scyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdGlvbkNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDYXRlZ29yeVBpY2tlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+XG4gICAgICAgIDxDYXRlZ29yeVBpY2tlciBjaG9pY2VzPXt0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzaG93TW9kZXJhdGlvbk9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudXNlci5pZCAmJiB0aGlzLnByb3BzLm1vZGVyYXRpb24uYWxsb3c7XG4gIH1cblxuICBnZXRTZWxlY3Rpb25CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHQgZHJvcGRvd25cIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc2VsZWN0X2FsbFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPFNlbGVjdGlvbkNvbnRyb2xzIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9IC8+XG5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFNlbGVjdGVkVGhyZWFkcygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy50aHJlYWRzLmZpbHRlcigodGhyZWFkKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3Rpb24uaW5kZXhPZih0aHJlYWQuaWQpID49IDA7XG4gICAgfSk7XG4gIH1cblxuICBnZXRNb2RlcmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnNob3dNb2RlcmF0aW9uT3B0aW9ucygpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgIXRoaXMucHJvcHMuc2VsZWN0aW9uLmxlbmd0aH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5wcm9wcy5mcmVlemVUaHJlYWR9XG4gICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5wcm9wcy5tb2RlcmF0aW9ufVxuICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMuZ2V0U2VsZWN0ZWRUaHJlYWRzKCl9XG4gICAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnByb3BzLnVwZGF0ZVRocmVhZH1cbiAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgIC8+XG5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhciB3aXRoLWpzXCI+XG4gICAgICB7dGhpcy5nZXRDYXRlZ29yeVBpY2tlcigpfVxuICAgICAgPHAgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0IGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L3A+XG4gICAgICB7dGhpcy5nZXRTZWxlY3Rpb25CdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VUaXRsZShyb3V0ZSkge1xuICBpZiAocm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZSxcbiAgICAgICAgcGFyZW50OiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUuY2F0ZWdvcnkubmFtZVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZSxcbiAgICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVGhyZWFkc1wiKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IGdldHRleHQoXCJUaHJlYWRzXCIpXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGUocm91dGUpIHtcbiAgaWYgKHJvdXRlLmNhdGVnb3J5LmxldmVsKSB7XG4gICAgcmV0dXJuIHJvdXRlLmNhdGVnb3J5Lm5hbWU7XG4gIH0gZWxzZSBpZiAobWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGUpIHtcbiAgICAgIHJldHVybiBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9uYW1lO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIlRocmVhZHNcIik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGhyZWFkQ2hhbmdlZChjdXJyZW50LCBmcm9tRGIpIHtcbiAgcmV0dXJuIFtcbiAgICBjdXJyZW50LnRpdGxlID09PSBmcm9tRGIudGl0bGUsXG4gICAgY3VycmVudC53ZWlnaHQgPT09IGZyb21EYi53ZWlnaHQsXG4gICAgY3VycmVudC5jYXRlZ29yeSA9PT0gZnJvbURiLmNhdGVnb3J5LFxuICAgIGN1cnJlbnQudG9wX2NhdGVnb3J5ID09PSBmcm9tRGIudG9wX2NhdGVnb3J5LFxuICAgIGN1cnJlbnQubGFzdF9wb3N0ID09PSBmcm9tRGIubGFzdF9wb3N0LFxuICAgIGN1cnJlbnQubGFzdF9wb3N0ZXJfbmFtZSA9PT0gZnJvbURiLmxhc3RfcG9zdGVyX25hbWVcbiAgXS5pbmRleE9mKGZhbHNlKSA+PSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlmZlRocmVhZHMoY3VycmVudCwgZnJvbURiKSB7XG4gIGxldCBjdXJyZW50TWFwID0ge307XG4gIGN1cnJlbnQuZm9yRWFjaChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBjdXJyZW50TWFwW3RocmVhZC5pZF0gPSB0aHJlYWQ7XG4gIH0pO1xuXG4gIHJldHVybiBmcm9tRGIuZmlsdGVyKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGlmIChjdXJyZW50TWFwW3RocmVhZC5pZF0pIHtcbiAgICAgIHJldHVybiBpc1RocmVhZENoYW5nZWQoY3VycmVudE1hcFt0aHJlYWQuaWRdLCB0aHJlYWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZXJhdGlvbkFjdGlvbnModGhyZWFkcykge1xuICBsZXQgbW9kZXJhdGlvbiA9IHtcbiAgICBhbGxvdzogZmFsc2UsXG5cbiAgICBjYW5fYXBwcm92ZTogMCxcbiAgICBjYW5fY2xvc2U6IDAsXG4gICAgY2FuX2hpZGU6IDAsXG4gICAgY2FuX21lcmdlOiAwLFxuICAgIGNhbl9tb3ZlOiAwLFxuICAgIGNhbl9waW46IDBcbiAgfTtcblxuICB0aHJlYWRzLmZvckVhY2goZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgaWYgKHRocmVhZC5pc191bmFwcHJvdmVkICYmIHRocmVhZC5hY2wuY2FuX2FwcHJvdmUgPiBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlID0gdGhyZWFkLmFjbC5jYW5fYXBwcm92ZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fY2xvc2UgPiBtb2RlcmF0aW9uLmNhbl9jbG9zZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fY2xvc2UgPSB0aHJlYWQuYWNsLmNhbl9jbG9zZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5faGlkZSA+IG1vZGVyYXRpb24uY2FuX2hpZGUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2hpZGUgPSB0aHJlYWQuYWNsLmNhbl9oaWRlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9tZXJnZSA+IG1vZGVyYXRpb24uY2FuX21lcmdlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSA9IHRocmVhZC5hY2wuY2FuX21lcmdlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9tb3ZlID4gbW9kZXJhdGlvbi5jYW5fbW92ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fbW92ZSA9IHRocmVhZC5hY2wuY2FuX21vdmU7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX3BpbiA+IG1vZGVyYXRpb24uY2FuX3Bpbikge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluID0gdGhyZWFkLmFjbC5jYW5fcGluO1xuICAgIH1cblxuICAgIG1vZGVyYXRpb24uYWxsb3cgPSAoXG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5faGlkZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fbWVyZ2UgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX21vdmUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX3BpblxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiBtb2RlcmF0aW9uO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlZ2lzdGVyQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3JlZ2lzdGVyLWJ1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNpZ25Jbk1vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NpZ24taW4uanMnO1xuaW1wb3J0IGRyb3Bkb3duIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgY2xhc3MgR3Vlc3RNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd1NpZ25Jbk1vZGFsKCkge1xuICAgIG1vZGFsLnNob3coU2lnbkluTW9kYWwpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgdXNlci1kcm9wZG93biBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgICAgICAgIHJvbGU9XCJtZW51XCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZ3Vlc3QtcHJldmlld1wiPlxuICAgICAgICA8aDQ+e2dldHRleHQoXCJZb3UgYXJlIGJyb3dzaW5nIGFzIGd1ZXN0LlwiKX08L2g0PlxuICAgICAgICA8cD5cbiAgICAgICAgICB7Z2V0dGV4dCgnU2lnbiBpbiBvciByZWdpc3RlciB0byBzdGFydCBhbmQgcGFydGljaXBhdGUgaW4gZGlzY3Vzc2lvbnMuJyl9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH0+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuXG4gICAgICAgICAgICA8UmVnaXN0ZXJCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICAgICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHdWVzdE5hdiBleHRlbmRzIEd1ZXN0TWVudSB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibmF2IG5hdi1ndWVzdFwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIG5hdmJhci1idG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH0+XG4gICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPFJlZ2lzdGVyQnV0dG9uIGNsYXNzTmFtZT1cIm5hdmJhci1idG4gYnRuLXByaW1hcnlcIj5cbiAgICAgICAge2dldHRleHQoXCJSZWdpc3RlclwiKX1cbiAgICAgIDwvUmVnaXN0ZXJCdXR0b24+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RHdWVzdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dHdWVzdE1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvdyhHdWVzdE1lbnUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93R3Vlc3RNZW51fT5cbiAgICAgIDxBdmF0YXIgc2l6ZT1cIjY0XCIgLz5cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEd1ZXN0TmF2LCBDb21wYWN0R3Vlc3ROYXYgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLW1lbnUvZ3Vlc3QtbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBVc2VyTmF2LCBDb21wYWN0VXNlck5hdn0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1tZW51L3VzZXItbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gPFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxHdWVzdE5hdiAvPjtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiA8Q29tcGFjdFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxDb21wYWN0R3Vlc3ROYXYgLz47XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuYXV0aDtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VBdmF0YXJNb2RhbCwgeyBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgZHJvcGRvd24gZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24nO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5cbmV4cG9ydCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGxvZ291dCgpIHtcbiAgICBsZXQgZGVjaXNpb24gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2lnbiBvdXQ/XCIpKTtcbiAgICBpZiAoZGVjaXNpb24pIHtcbiAgICAgICQoJyNoaWRkZW4tbG9nb3V0LWZvcm0nKS5zdWJtaXQoKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VBdmF0YXIoKSB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQ2hhbmdlQXZhdGFyTW9kYWwpKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHVzZXItZHJvcGRvd24gZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgICAgICAgICByb2xlPVwibWVudVwiPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWhlYWRlclwiPlxuICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIudXNlcm5hbWV9PC9zdHJvbmc+XG4gICAgICA8L2xpPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YWNjb3VudF9jaXJjbGU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTZWUgeW91ciBwcm9maWxlXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyl9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lX2FsbDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBvcHRpb25zXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuY2hhbmdlQXZhdGFyfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cG9ydHJhaXQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2dvdXR9PlxuICAgICAgICAgICAge2dldHRleHQoXCJMb2cgb3V0XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cInVsIG5hdiBuYXZiYXItbmF2IG5hdi11c2VyXCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cbiAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNjRcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICAgIDxVc2VyTWVudSB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFVzZXJNZW51KHN0YXRlKSB7XG4gIHJldHVybiB7dXNlcjogc3RhdGUuYXV0aC51c2VyfTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RVc2VyTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd1VzZXJNZW51KCkge1xuICAgIGRyb3Bkb3duLnNob3dDb25uZWN0ZWQoJ3VzZXItbWVudScsIGNvbm5lY3Qoc2VsZWN0VXNlck1lbnUpKFVzZXJNZW51KSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dVc2VyTWVudX0+XG4gICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT1cIjY0XCIgLz5cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzcygpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzQ2xhc3NOYW1lKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzcygpfT5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhdHVzSWNvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuICdyZW1vdmVfY2lyY2xlX291dGxpbmUnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2hlbHBfb3V0bGluZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2xhYmVsJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2xhYmVsX291dGxpbmUnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gJ2xlbnMnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgICAgcmV0dXJuICdwYW5vcmFtYV9maXNoX2V5ZSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBzdGF0dXMtaWNvblwiPlxuICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNMYWJlbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHAoKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJCYW5uZWRcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiSGlkZGVuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPbmxpbmUgKGhpZGRlbilcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPZmZsaW5lIChoaWRkZW4pXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9ubGluZVwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT2ZmbGluZVwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwic3RhdHVzLWxhYmVsXCJ9XG4gICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmdldEhlbHAoKX0+XG4gICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzQ2xhc3NOYW1lKHN0YXR1cykge1xuICBsZXQgY2xhc3NOYW1lID0gJyc7XG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgY2xhc3NOYW1lID0gJ2Jhbm5lZCc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvbmxpbmUnO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lKSB7XG4gICAgY2xhc3NOYW1lID0gJ29ubGluZSc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICBjbGFzc05hbWUgPSAnb2ZmbGluZSc7XG4gIH1cblxuICByZXR1cm4gJ3VzZXItc3RhdHVzIHVzZXItJyArIGNsYXNzTmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHVzZXIsIHN0YXR1cykge1xuICBpZiAoc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgIGlmIChzdGF0dXMuYmFubmVkX3VudGlsKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBiYW5uZWQgdW50aWwgJShiYW5fZXhwaXJlcylzXCIpLCB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICBiYW5fZXhwaXJlczogc3RhdHVzLmJhbm5lZF91bnRpbC5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgYmFubmVkXCIpLCB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGhpZGluZyBwcmVzZW5jZVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG9ubGluZSAoaGlkZGVuKVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzIChoaWRkZW4pXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBvbmxpbmVcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuT25Nb2JpbGUpIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtIGhpZGRlbi14cyBoaWRkZW4tc20nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoODAsIDE0MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyVXNlckF2YXRhcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxhIGhyZWY9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhci13cmFwcGVyXCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieX0gc2l6ZT1cIjEwMFwiIC8+XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIj5cbiAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclVzZXJuYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGEgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXNlcm5hbWV9XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnlfdXNlcm5hbWV9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCIga2V5PXt0aGlzLnByb3BzLmNoYW5nZS5pZH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj5cbiAgICAgICAge3RoaXMucmVuZGVyVXNlckF2YXRhcigpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdXRob3JcIj5cbiAgICAgICAge3RoaXMucmVuZGVyVXNlcm5hbWUoKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2VcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib2xkLXVzZXJuYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLm9sZF91c2VybmFtZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYXJyb3dfZm9yd2FyZFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ldy11c2VybmFtZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5uZXdfdXNlcm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtZGF0ZVwiPlxuICAgICAgICA8YWJiciB0aXRsZT17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mb3JtYXQoJ0xMTCcpfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mcm9tTm93KCl9XG4gICAgICAgIDwvYWJicj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmVtcHR5TWVzc2FnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJObyBuYW1lIGNoYW5nZXMgaGF2ZSBiZWVuIHJlY29yZGVkIGZvciB5b3VyIGFjY291bnQuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAge3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFuZ2VQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1wcmV2aWV3XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8Q2hhbmdlUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFuZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInVzZXJuYW1lLWhpc3RvcnkgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZXMubWFwKChjaGFuZ2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gPENoYW5nZSBjaGFuZ2U9e2NoYW5nZX0ga2V5PXtjaGFuZ2UuaWR9IC8+O1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtZW1wdHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXJlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgY2hhbmdlcz17dGhpcy5wcm9wcy5jaGFuZ2VzfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0RW1wdHkgZW1wdHlNZXNzYWdlPXt0aGlzLnByb3BzLmVtcHR5TWVzc2FnZX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVXNlckNhcmQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC91c2VyLWNhcmQnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3QvdXNlci1wcmV2aWV3JyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBiYXRjaCBmcm9tICdtaXNhZ28vdXRpbHMvYmF0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgcmV0dXJuIG5leHRQcm9wcy5pc0xvYWRlZDtcbiAgfVxuXG4gIGdldFBhZ2VyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhZ2VzID4gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxQYWdlciB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBcInVzZXJzLWNhcmRzLWxpc3QgXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIHVpLXJlYWR5XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcInVzZXJzLWNhcmRzLWxpc3QgdWktcmVhZHlcIjtcbiAgICB9XG4gIH1cblxuICBnZXRDb2xDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuIFwiY29sLW1kLVwiICsgKDEyIC8gdGhpcy5wcm9wcy5jb2xzKTtcbiAgfVxuXG4gIGdldEJvZHkoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiBiYXRjaCh0aGlzLnByb3BzLnVzZXJzLCB0aGlzLnByb3BzLmNvbHMpLm1hcCgocm93LCByKSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIGtleT17cn0+XG4gICAgICAgICAge3Jvdy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb2xDbGFzc05hbWUoKX0ga2V5PXt1c2VyLmlkfT5cbiAgICAgICAgICAgICAgPFVzZXJDYXJkIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzPXt0aGlzLnByb3BzLnNob3dTdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93UmFuaz17dGhpcy5wcm9wcy5zaG93UmFua30gLz5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+O1xuICAgICAgfSk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBsZXQgcm93ID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvcHMuY29sczsgaSArKykge1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHJvdy5wdXNoKHRoaXMuZ2V0Q29sQ2xhc3NOYW1lKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5wdXNoKHRoaXMuZ2V0Q29sQ2xhc3NOYW1lKCkgKyAnIGhpZGRlbi14cyBoaWRkZW4tc20nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge3Jvdy5tYXAoKGNsYXNzTmFtZSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBrZXk9e2l9PlxuICAgICAgICAgICAgPFVzZXJQcmV2aWV3IHNob3dTdGF0dXM9e3RoaXMucHJvcHMuc2hvd1N0YXR1c30gLz5cbiAgICAgICAgICA8L2Rpdj47XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInVzZXJzLWNhcmRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIHt0aGlzLmdldEJvZHkoKX1cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd1N0YXR1cykge1xuICAgICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPFN0YXR1cyB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30+XG4gICAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30gLz5cbiAgICAgICAgICA8U3RhdHVzTGFiZWwgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbFwiIC8+XG4gICAgICAgIDwvU3RhdHVzPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNob3dSYW5rKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VyLnJhbmsuaXNfdGFiKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5yYW5rLmFic29sdXRlX3VybH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgcmFuay1uYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMudXNlci5yYW5rLm5hbWV9XG4gICAgICAgIDwvYT47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHJhbmstbmFtZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXIucmFuay5uYW1lfVxuICAgICAgICA8L3NwYW4+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj57dGhpcy5wcm9wcy51c2VyLnRpdGxlfTwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VySm9pbmVkT24oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgb24gJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMudXNlci5qb2luZWRfb24uZm9ybWF0KCdMTCwgTFQnKVxuICAgIH0sIHRydWUpO1xuXG4gICAgbGV0IGFnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMudXNlci5qb2luZWRfb24uZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1qb2luZWQtb25cIiB0aXRsZT17dGl0bGV9PlxuICAgICAge2FnZX1cbiAgICA8L3NwYW4+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRQb3N0c0NvdW50KCkge1xuICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUocG9zdHMpcyBwb3N0XCIsXG4gICAgICBcIiUocG9zdHMpcyBwb3N0c1wiLFxuICAgICAgdGhpcy5wcm9wcy51c2VyLnBvc3RzKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAncG9zdHMnOiB0aGlzLnByb3BzLnVzZXIucG9zdHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFRocmVhZHNDb3VudCgpIHtcbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHRocmVhZHMpcyB0aHJlYWRcIixcbiAgICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkc1wiLFxuICAgICAgdGhpcy5wcm9wcy51c2VyLnRocmVhZHMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICd0aHJlYWRzJzogdGhpcy5wcm9wcy51c2VyLnRocmVhZHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldEZvbGxvd2Vyc0NvdW50KCkge1xuICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUoZm9sbG93ZXJzKXMgZm9sbG93ZXJcIixcbiAgICAgIFwiJShmb2xsb3dlcnMpcyBmb2xsb3dlcnNcIixcbiAgICAgIHRoaXMucHJvcHMudXNlci5mb2xsb3dlcnMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICdmb2xsb3dlcnMnOiB0aGlzLnByb3BzLnVzZXIuZm9sbG93ZXJzXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICd1c2VyLWNhcmQgdXNlci1jYXJkLScgKyB0aGlzLnByb3BzLnVzZXIucmFuay5jc3NfY2xhc3MgKyAnIHVpLXJlYWR5JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICd1c2VyLWNhcmQgdWktcmVhZHknO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWJnLWltYWdlXCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNDAwXCIgY2xhc3NOYW1lPVwiYmctaW1hZ2VcIiAvPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWJnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiPlxuICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2g0PlxuXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1c2VyLXN1YnNjcmlwdFwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgIHt0aGlzLmdldFJhbmtOYW1lKCl9XG4gICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VySm9pbmVkT24oKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXN0YXRzXCI+XG5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXBvc3RzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0UG9zdHNDb3VudCgpfVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci10aHJlYWRzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VGhyZWFkc0NvdW50KCl9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWZvbGxvd2Vycy1jb3VudFwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldEZvbGxvd2Vyc0NvdW50KCl9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd1N0YXR1cykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAmbmJzcDtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSd1c2VyLWNhcmQgdWktcHJldmlldyc+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1iZy1pbWFnZVwiPlxuICAgICAgICA8QXZhdGFyIHNpemU9XCI0MDBcIiBjbGFzc05hbWU9XCJiZy1pbWFnZVwiIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDYwLCAxNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVzZXItc3Vic2NyaXB0XCI+XG5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cblxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcG9zdHMtY291bnRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNDAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci10aHJlYWRzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDQwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItZm9sbG93ZXJzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDQwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJObyB1c2VycyBoYXZlIHBvc3RlZCBhbnkgbmV3IG1lc3NhZ2VzIGR1cmluZyBsYXN0ICUoZGF5cylzIGRheXMuXCIpLFxuICAgICAgeydkYXlzJzogdGhpcy5wcm9wcy50cmFja2VkUGVyaW9kfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyLWF2YXRhclwiPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0IGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwifX0+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua2VkIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsXCI+XG4gICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtcmFuay1cIiArIHRoaXMucHJvcHMucmFuay5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiO1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8U3RhdHVzIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfT5cbiAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9IC8+XG4gICAgICAgIDxTdGF0dXNMYWJlbCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgaGlkZGVuLXhzIGhpZGRlbi1zbVwiIC8+XG4gICAgICA8L1N0YXR1cz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1zdGF0dXNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJhbmsuaXNfdGFiKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBsZXQgcmFua1VybCA9IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyB0aGlzLnByb3BzLnJhbmsuc2x1ZyArICcvJztcbiAgICAgIHJldHVybiA8TGluayB0bz17cmFua1VybH0gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucmFuay5uYW1lfVxuICAgICAgPC9MaW5rPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWUgaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5yYW5rLm5hbWV9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnRpdGxlfVxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNTBcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1kZXRhaWxzXCI+XG4gICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgIHt0aGlzLmdldFJhbmtOYW1lKCl9XG4gICAgICAgICAge3RoaXMuZ2V0VXNlclRpdGxlKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICA8c3Ryb25nPiN7dGhpcy5wcm9wcy5jb3VudGVyfTwvc3Ryb25nPlxuICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLm1ldGEuc2NvcmV9PC9zdHJvbmc+XG4gICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy10b3RhbFwiPlxuICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIucG9zdHN9PC9zdHJvbmc+XG4gICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJdGVtUHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0tcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkIHVpLXByZXZpZXdcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDIyMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcHJldmlld1wiPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPEl0ZW1QcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGVhZE1lc3NhZ2UoKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHBvc3RlcnMpcyBtb3N0IGFjdGl2ZSBwb3N0ZXIgZnJvbSBsYXN0ICUoZGF5cylzIGRheXMuXCIsXG4gICAgICAgIFwiJShwb3N0ZXJzKXMgbW9zdCBhY3RpdmUgcG9zdGVycyBmcm9tIGxhc3QgJShkYXlzKXMgZGF5cy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy5jb3VudCk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgcG9zdGVyczogdGhpcy5wcm9wcy5jb3VudCxcbiAgICAgIGRheXM6IHRoaXMucHJvcHMudHJhY2tlZFBlcmlvZFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGVhZE1lc3NhZ2UoKX1cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcmVhZHlcIj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMudXNlcnMubWFwKCh1c2VyLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8TGlzdEl0ZW0gdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5rPXt1c2VyLnJhbmt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcj17aSArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfSAvPjtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtcmVhZHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVVNFUlMnKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnVVNFUlMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICB0cmFja2VkUGVyaW9kOiBkYXRhLnRyYWNrZWRfcGVyaW9kLFxuICAgICAgY291bnQ6IGRhdGEuY291bnRcbiAgICB9O1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZygpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAnYWN0aXZlLXBvc3RlcnMnLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGlzdDogJ2FjdGl2ZSdcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgdHJhY2tlZFBlcmlvZDogZGF0YS50cmFja2VkX3BlcmlvZCxcbiAgICAgIGNvdW50OiBkYXRhLmNvdW50XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLmV4dHJhLm5hbWUsXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcCgnYWN0aXZlLXBvc3RlcnMnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrZWRQZXJpb2Q9e3RoaXMuc3RhdGUudHJhY2tlZFBlcmlvZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ9e3RoaXMuc3RhdGUuY291bnR9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExpc3RQcmV2aWV3IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xpJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuLy8ganNoaW50IGlnbm9yZTpzdGFydFxubGV0IGxpc3RVcmwgPSBmdW5jdGlvbihiYXNlVXJsLCBsaXN0KSB7XG4gIGxldCB1cmwgPSBiYXNlVXJsO1xuICBpZiAobGlzdC5jb21wb25lbnQgPT09ICdyYW5rJykge1xuICAgIHVybCArPSBsaXN0LnNsdWc7XG4gIH0gZWxzZSB7XG4gICAgdXJsICs9IGxpc3QuY29tcG9uZW50O1xuICB9XG4gIHJldHVybiB1cmwgKyAnLyc7XG59O1xuXG5sZXQgbmF2TGlua3MgPSBmdW5jdGlvbihiYXNlVXJsLCBsaXN0cywgaGlkZU5hdikge1xuICAgIHJldHVybiBsaXN0cy5tYXAoZnVuY3Rpb24obGlzdCkge1xuICAgICAgbGV0IHVybCA9IGxpc3RVcmwoYmFzZVVybCwgbGlzdCk7XG4gICAgICByZXR1cm4gPExpIHBhdGg9e3VybH1cbiAgICAgICAgICAgICAgICAga2V5PXt1cmx9PlxuICAgICAgICA8TGluayB0bz17dXJsfSBvbkNsaWNrPXtoaWRlTmF2fT5cbiAgICAgICAgICB7bGlzdC5uYW1lfVxuICAgICAgICA8L0xpbms+XG4gICAgICA8L0xpPjtcbiAgfSk7XG59O1xuLy8ganNoaW50IGlnbm9yZTplbmRcblxuZXhwb3J0IGNsYXNzIFRhYnNOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiPlxuICAgICAge25hdkxpbmtzKHRoaXMucHJvcHMuYmFzZVVybCwgdGhpcy5wcm9wcy5saXN0cyl9XG4gICAgPC91bD47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgIHtuYXZMaW5rcyh0aGlzLnByb3BzLmJhc2VVcmwsIHRoaXMucHJvcHMubGlzdHMsIHRoaXMucHJvcHMuaGlkZU5hdil9XG4gICAgPC91bD47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8VXNlcnNMaXN0IGlzTG9hZGVkPXtmYWxzZX0gY29scz17M30gc2hvd1N0YXR1cz17dHJ1ZX0gLz5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYWdlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL3BhZ2VyJyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9yb290JyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRQYWdlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYWdlcyA+IDEpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8UGFnZXIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFVzZXJzTGlzdCB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgICAgICAgICAgc2hvd1N0YXR1cz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgY29scz17M31cbiAgICAgICAgICAgICAgICAgaXNMb2FkZWQ9e3RydWV9IC8+XG5cbiAgICAgIHt0aGlzLmdldFBhZ2VyKCl9XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHJlc2V0U2Nyb2xsIGZyb20gJ21pc2Fnby91dGlscy9yZXNldC1zY3JvbGwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRQcmV2aW91c1BhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJldmlvdXMgfHwgdGhpcy5wcm9wcy5maXJzdCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgbGV0IHVybCA9IHRoaXMucHJvcHMuYmFzZVVybDtcbiAgICAgIGlmICh0aGlzLnByb3BzLnByZXZpb3VzKSB7XG4gICAgICAgIHVybCArPSB0aGlzLnByb3BzLnByZXZpb3VzICsgJy8nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInByZXZpb3VzXCI+XG4gICAgICAgIDxMaW5rIHRvPXt1cmx9IG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfT5cbiAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBhcnJvd19iYWNrXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE5leHRQYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm5leHQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIGxldCB1cmwgPSB0aGlzLnByb3BzLmJhc2VVcmwgKyB0aGlzLnByb3BzLm5leHQgKyAnLyc7XG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cIm5leHRcIj5cbiAgICAgICAgPExpbmsgdG89e3VybH0gb25DbGljaz17cmVzZXRTY3JvbGx9PlxuICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UHJvZ2Vzc0JhcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJwYWdlci1wcm9ncmVzcy1iYXJcIj5cbiAgICAgIHt0aGlzLnByb3BzLnBhZ2VfcmFuZ2UubWFwKChwYWdlKSA9PiB7XG4gICAgICAgIGxldCBjbGFzc05hbWUgPSBwYWdlID09PSB0aGlzLnByb3BzLnBhZ2UgPyAnYWN0aXZlJyA6IG51bGw7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLnByb3BzLmJhc2VVcmw7XG5cbiAgICAgICAgaWYgKHBhZ2UgPiAxKSB7XG4gICAgICAgICAgdXJsICs9IHBhZ2UgKyAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gPGxpIGtleT17cGFnZX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICAgIDxMaW5rIHRvPXt1cmx9IG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfT5cbiAgICAgICAgICAgIHtwYWdlfVxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9saT47XG4gICAgICB9KX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlci11bmRlcmNvbnRlbnRcIj5cbiAgICAgIDxuYXY+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJwYWdlclwiPlxuICAgICAgICAgIHt0aGlzLmdldFByZXZpb3VzUGFnZSgpfVxuICAgICAgICAgIHt0aGlzLmdldE5leHRQYWdlKCl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIHt0aGlzLmdldFByb2dlc3NCYXIoKX1cbiAgICAgIDwvbmF2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYWdlTGVhZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYWdlLWxlYWQnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0JyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0TG9hZGluZyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QtbG9hZGluZycgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1VTRVJTJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoJ1VTRVJTJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnBhcmFtcy5wYWdlIHx8IDEpO1xuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgIH0pO1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBzdGFydFBvbGxpbmcocGFnZSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICdyYW5rLXVzZXJzJyxcbiAgICAgIHVybDogbWlzYWdvLmdldCgnVVNFUlNfQVBJJyksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJhbms6IHRoaXMucHJvcHMucm91dGUucmFuay5pZCxcbiAgICAgICAgcGFnZTogcGFnZVxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB1cGRhdGUgPSAoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG5cbiAgICBkYXRhLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICB0aGlzLnNldFN0YXRlKGRhdGEpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLm5hbWUsXG4gICAgICBwYWdlOiB0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IG51bGwsXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcCgncmFuay11c2VycycpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSAhPT0gbmV4dFByb3BzLnBhcmFtcy5wYWdlKSB7XG4gICAgICB0aXRsZS5zZXQoe1xuICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLm5hbWUsXG4gICAgICAgIHBhZ2U6IG5leHRQcm9wcy5wYXJhbXMucGFnZSB8fCBudWxsLFxuICAgICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBwb2xscy5zdG9wKCdyYW5rLXVzZXJzJyk7XG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZyhuZXh0UHJvcHMucGFyYW1zLnBhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICdyYW5rLXVzZXJzLWxpc3QgcmFuay11c2Vycy0nICsgdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdyYW5rLXVzZXJzLWxpc3QnO1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmRlc2NyaXB0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyYW5rLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgIDxQYWdlTGVhZCBjb3B5PXt0aGlzLnByb3BzLnJvdXRlLnJhbmsuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbXBvbmVudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgbGV0IGJhc2VVcmwgPSBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpICsgdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLnNsdWcgKyAnLyc7XG4gICAgICAgIHJldHVybiA8TGlzdCBiYXNlVXJsPXtiYXNlVXJsfVxuICAgICAgICAgICAgICAgICAgICAgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5zdGF0ZX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJUaGVyZSBhcmUgbm8gdXNlcnMgd2l0aCB0aGlzIHJhbmsgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TGlzdExvYWRpbmcgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIHt0aGlzLmdldFJhbmtEZXNjcmlwdGlvbigpfVxuICAgICAgICB7dGhpcy5nZXRDb21wb25lbnQoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgVGFic05hdiwgQ29tcGFjdE5hdiB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL25hdnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBY3RpdmVQb3N0ZXJzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSYW5rIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL3Jhbmsvcm9vdCc7XG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24nO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXVzZXJzLWxpc3RzXCI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXIgdGFiYmVkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwicHVsbC1sZWZ0XCI+e2dldHRleHQoXCJVc2Vyc1wiKX08L2gxPlxuXG4gICAgICAgICAgPERyb3Bkb3duVG9nZ2xlIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duPXt0aGlzLnN0YXRlLmRyb3Bkb3dufSAvPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFicyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICAgICAgPFRhYnNOYXYgbGlzdHM9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RTJyl9XG4gICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpfSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCl9PlxuXG4gICAgICAgIDxDb21wYWN0TmF2IGxpc3RzPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUUycpfVxuICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpfVxuICAgICAgICAgICAgICAgICAgICBoaWRlTmF2PXt0aGlzLmhpZGVOYXZ9IC8+XG5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlcixcbiAgICAndXNlcnMnOiBzdG9yZS51c2Vyc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGxldCBwYXRocyA9IFtdO1xuXG4gIG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RTJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKGl0ZW0uY29tcG9uZW50ID09PSAncmFuaycpIHtcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpICsgaXRlbS5zbHVnICsgJy86cGFnZS8nLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSYW5rKSxcbiAgICAgICAgcmFuazogaXRlbVxuICAgICAgfSk7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSArIGl0ZW0uc2x1ZyArICcvJyxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUmFuayksXG4gICAgICAgIHJhbms6IGl0ZW1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXRlbS5jb21wb25lbnQgPT09ICdhY3RpdmUtcG9zdGVycycpe1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyBpdGVtLmNvbXBvbmVudCArICcvJyxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQWN0aXZlUG9zdGVycyksXG4gICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGhzO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkcm9wZG93bjogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB0b2dnbGVOYXYgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcm9wZG93bjogIXRoaXMuc3RhdGUuZHJvcGRvd25cbiAgICB9KTtcbiAgfTtcblxuICBoaWRlTmF2ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcGRvd246IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q29tcGFjdE5hdkNsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcm9wZG93bikge1xuICAgICAgcmV0dXJuICdjb21wYWN0LW5hdiBvcGVuJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdjb21wYWN0LW5hdic7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4teWVzLW5vIGJ0bi15ZXMtbm8tb25cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi15ZXMtbm8gYnRuLXllcy1uby1vZmZcIjtcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pY29uT24gfHwgJ2NoZWNrX2JveCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmljb25PZmYgfHwgJ2NoZWNrX2JveF9vdXRsaW5lX2JsYW5rJztcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWxPbiB8fCBnZXR0ZXh0KFwieWVzXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYWJlbE9mZiB8fCBnZXR0ZXh0KFwibm9cIik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB0b2dnbGUgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICB0YXJnZXQ6IHtcbiAgICAgICAgdmFsdWU6ICF0aGlzLnByb3BzLnZhbHVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10gfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgPC9idXR0b24+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgT3JkZXJlZExpc3QgZnJvbSAnbWlzYWdvL3V0aWxzL29yZGVyZWQtbGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBNaXNhZ28ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplcnMgPSBbXTtcbiAgICB0aGlzLl9jb250ZXh0ID0ge307XG4gIH1cblxuICBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcikge1xuICAgIHRoaXMuX2luaXRpYWxpemVycy5wdXNoKHtcbiAgICAgIGtleTogaW5pdGlhbGl6ZXIubmFtZSxcblxuICAgICAgaXRlbTogaW5pdGlhbGl6ZXIuaW5pdGlhbGl6ZXIsXG5cbiAgICAgIGFmdGVyOiBpbml0aWFsaXplci5hZnRlcixcbiAgICAgIGJlZm9yZTogaW5pdGlhbGl6ZXIuYmVmb3JlXG4gICAgfSk7XG4gIH1cblxuICBpbml0KGNvbnRleHQpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcblxuICAgIHZhciBpbml0T3JkZXIgPSBuZXcgT3JkZXJlZExpc3QodGhpcy5faW5pdGlhbGl6ZXJzKS5vcmRlcmVkVmFsdWVzKCk7XG4gICAgaW5pdE9yZGVyLmZvckVhY2goaW5pdGlhbGl6ZXIgPT4ge1xuICAgICAgaW5pdGlhbGl6ZXIodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjb250ZXh0IGFjY2Vzc29yc1xuICBoYXMoa2V5KSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY29udGV4dFtrZXldO1xuICB9XG5cbiAgZ2V0KGtleSwgZmFsbGJhY2spIHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbGxiYWNrIHx8IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwb3Aoa2V5KSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2NvbnRleHRba2V5XTtcbiAgICAgIHRoaXMuX2NvbnRleHRba2V5XSA9IG51bGw7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59XG5cbi8vIGNyZWF0ZSAgc2luZ2xldG9uXG52YXIgbWlzYWdvID0gbmV3IE1pc2FnbygpO1xuXG4vLyBleHBvc2UgaXQgZ2xvYmFsbHlcbmdsb2JhbC5taXNhZ28gPSBtaXNhZ287XG5cbi8vIGFuZCBleHBvcnQgaXQgZm9yIHRlc3RzIGFuZCBzdHVmZlxuZXhwb3J0IGRlZmF1bHQgbWlzYWdvO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgYWpheC5pbml0KG1pc2Fnby5nZXQoJ0NTUkZfQ09PS0lFX05BTUUnKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdhamF4JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICdtaXNhZ28vc2VydmljZXMvbG9jYWwtc3RvcmFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBhdXRoLmluaXQoc3RvcmUsIHN0b3JhZ2UsIG1vZGFsKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2F1dGgnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTsiLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBjYXB0Y2hhLmluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY2FwdGNoYScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEF1dGhNZXNzYWdlLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F1dGgtbWVzc2FnZSc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoQXV0aE1lc3NhZ2UpLCAnYXV0aC1tZXNzYWdlLW1vdW50Jyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YXV0aC1tZXNzYWdlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ0JBTl9NRVNTQUdFJykpIHtcbiAgICBzaG93QmFubmVkUGFnZShjb250ZXh0LmdldCgnQkFOX01FU1NBR0UnKSwgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YmFuZWQtcGFnZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBDYXRlZ29yaWVzLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXMtbW91bnQnKSkge1xuICAgIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDYXRlZ29yaWVzKSwgJ2NhdGVnb3JpZXMtbW91bnQnKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnJlc2V0LXBhc3N3b3JkLWZvcm0nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBPcHRpb25zLCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdVU0VSX09QVElPTlMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKSxcbiAgICAgIGNvbXBvbmVudDogT3B0aW9ucyxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpvcHRpb25zJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFByb2ZpbGUsIHsgcGF0aHMsIHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnUFJPRklMRScpICYmIGNvbnRleHQuaGFzKCdQUk9GSUxFX1BBR0VTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KCdQUk9GSUxFJykuYWJzb2x1dGVfdXJsLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUHJvZmlsZSksXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6cHJvZmlsZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdyZWR1Y2VyOnByb2ZpbGUtaHlkcmF0ZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IFJlcXVlc3RBY3RpdmF0aW9uTGluayBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluayc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLW1vdW50JykpIHtcbiAgICBtb3VudChSZXF1ZXN0QWN0aXZhdGlvbkxpbmssICdyZXF1ZXN0LWFjdGl2YXRpb24tbGluay1tb3VudCcsIGZhbHNlKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnJlcXVlc3QtYWN0aXZhdGlvbi1saW5rJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgUmVxdWVzdFBhc3N3b3JkUmVzZXQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQtbW91bnQnKSkge1xuICAgIG1vdW50KFJlcXVlc3RQYXNzd29yZFJlc2V0LCAncmVxdWVzdC1wYXNzd29yZC1yZXNldC1tb3VudCcsIGZhbHNlKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnJlcXVlc3QtcGFzc3dvcmQtcmVzZXQnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBSZXNldFBhc3N3b3JkRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtcGFzc3dvcmQtZm9ybS1tb3VudCcpKSB7XG4gICAgbW91bnQoUmVzZXRQYXNzd29yZEZvcm0sICdyZXNldC1wYXNzd29yZC1mb3JtLW1vdW50JywgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6cmVzZXQtcGFzc3dvcmQtZm9ybScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IFNuYWNrYmFyLCBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zbmFja2Jhcic7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoU25hY2tiYXIpLCAnc25hY2tiYXItbW91bnQnKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpzbmFja2JhcicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzbmFja2Jhcidcbn0pO1xuIiwiaW1wb3J0IHsgcGF0aHMgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWQvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVEhSRUFEJykgJiYgY29udGV4dC5oYXMoJ1BPU1RTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6dGhyZWFkJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgeyBwYXRocyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVEhSRUFEUycpICYmIGNvbnRleHQuaGFzKCdDQVRFR09SSUVTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMoY29udGV4dC5nZXQoJ3VzZXInKSlcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnRocmVhZHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBVc2VyTWVudSwgQ29tcGFjdFVzZXJNZW51LCBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoVXNlck1lbnUpLCAndXNlci1tZW51LW1vdW50Jyk7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDb21wYWN0VXNlck1lbnUpLCAndXNlci1tZW51LWNvbXBhY3QtbW91bnQnKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp1c2VyLW1lbnUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBVc2VycywgeyBwYXRocyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ1VTRVJTX0xJU1RTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpLFxuICAgICAgY29tcG9uZW50OiBVc2VycyxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp1c2VycycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGluY2x1ZGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2luY2x1ZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGluY2x1ZGUuaW5pdChjb250ZXh0LmdldCgnU1RBVElDX1VSTCcpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2luY2x1ZGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmFnZS5pbml0KCdtaXNhZ29fJyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdsb2NhbC1zdG9yYWdlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBkcm9wZG93biBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93bic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2JpbGUtbmF2YmFyLWRyb3Bkb3duLW1vdW50Jyk7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgZHJvcGRvd24uaW5pdChlbGVtZW50KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnZHJvcGRvd24nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLW1vdW50Jyk7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgbW9kYWwuaW5pdChlbGVtZW50KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnbW9kYWwnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb21lbnQubG9jYWxlKCQoJ2h0bWwnKS5hdHRyKCdsYW5nJykpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnbW9tZW50JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgdGl0bGUuaW5pdChcbiAgICBjb250ZXh0LmdldCgnU0VUVElOR1MnKS5mb3J1bV9pbmRleF90aXRsZSxcbiAgICBjb250ZXh0LmdldCgnU0VUVElOR1MnKS5mb3J1bV9uYW1lXG4gICk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdwYWdlLXRpdGxlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBwb2xscy5pbml0KGFqYXgsIHNuYWNrYmFyKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3BvbGxzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgcG9zdGluZy5pbml0KGFqYXgsIHNuYWNrYmFyLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGluZy1wbGFjZWhvbGRlcicpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3Bvc3RpbmcnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcignYXV0aCcsIHJlZHVjZXIsIE9iamVjdC5hc3NpZ24oe1xuICAgIGlzQXV0aGVudGljYXRlZDogY29udGV4dC5nZXQoJ2lzQXV0aGVudGljYXRlZCcpLFxuICAgIGlzQW5vbnltb3VzOiAhY29udGV4dC5nZXQoJ2lzQXV0aGVudGljYXRlZCcpLFxuXG4gICAgdXNlcjogY29udGV4dC5nZXQoJ3VzZXInKVxuICB9LCBpbml0aWFsU3RhdGUpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6YXV0aCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgaWYgKG1pc2Fnby5oYXMoJ1BPU1RTJykpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoJ1BPU1RTJykpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigncG9zdHMnLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwb3N0cycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChtaXNhZ28uaGFzKCdQUk9GSUxFJykpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKG1pc2Fnby5nZXQoJ1BST0ZJTEUnKSkpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnByb2ZpbGUtaHlkcmF0ZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCdwcm9maWxlJywgcmVkdWNlciwge30pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwcm9maWxlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3NlbGVjdGlvbicsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6c2VsZWN0aW9uJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcignc25hY2tiYXInLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpzbmFja2JhcicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdUSFJFQUQnKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldCgnVEhSRUFEJykpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigndGhyZWFkJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGhyZWFkJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aHJlYWRzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp0aHJlYWRzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RpY2snO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aWNrJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGljaycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcigndXNlcm5hbWUtaGlzdG9yeScsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dXNlcm5hbWUtaGlzdG9yeScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3VzZXJzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp1c2VycycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzbmFja2Jhci5pbml0KHN0b3JlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3NuYWNrYmFyJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmluaXQoKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3N0b3JlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdfZW5kJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBkb1RpY2sgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGljayc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuY29uc3QgVElDS19QRVJJT0QgPSA1MCAqIDEwMDA7IC8vZG8gdGhlIHRpY2sgZXZlcnkgNTBzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZG9UaWNrKCkpO1xuICB9LCBUSUNLX1BFUklPRCk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd0aWNrLXN0YXJ0JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5pbXBvcnQgenhjdmJuIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy96eGN2Ym4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgenhjdmJuLmluaXQoaW5jbHVkZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd6eGN2Ym4nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcblxuZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHNpZ25lZEluOiBmYWxzZSxcbiAgc2lnbmVkT3V0OiBmYWxzZVxufTtcblxuZXhwb3J0IGNvbnN0IFBBVENIX1VTRVIgPSAnUEFUQ0hfVVNFUic7XG5leHBvcnQgY29uc3QgU0lHTl9JTiA9ICdTSUdOX0lOJztcbmV4cG9ydCBjb25zdCBTSUdOX09VVCA9ICdTSUdOX09VVCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1VTRVIsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9JTixcbiAgICB1c2VyXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KHNvZnQ9ZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSUdOX09VVCxcbiAgICBzb2Z0XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGU9aW5pdGlhbFN0YXRlLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9VU0VSOlxuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCBhY3Rpb24ucGF0Y2gpO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG5cbiAgICBjYXNlIFNJR05fSU46XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgc2lnbmVkSW46IGFjdGlvbi51c2VyXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0lHTl9PVVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbm9ueW1vdXM6IHRydWUsXG4gICAgICAgIHNpZ25lZE91dDogIWFjdGlvbi5zb2Z0XG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgJiYgc3RhdGUudXNlci5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCB7XG4gICAgICAgICAgJ2F2YXRhcl9oYXNoJzogYWN0aW9uLmF2YXRhckhhc2hcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCAmJiBzdGF0ZS51c2VyLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcbiAgICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBoeWRyYXRlVXNlciB9IGZyb20gJy4vdXNlcnMnO1xuXG5leHBvcnQgY29uc3QgUEFUQ0hfUE9TVCA9ICdQQVRDSF9QT1NUJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcbiAgICB1cGRhdGVkX29uOiBtb21lbnQoanNvbi51cGRhdGVkX29uKSxcbiAgICBoaWRkZW5fb246IG1vbWVudChqc29uLmhpZGRlbl9vbiksXG5cbiAgICBhdHRhY2htZW50czoganNvbi5hdHRhY2htZW50cyA/IGpzb24uYXR0YWNobWVudHMubWFwKGh5ZHJhdGVBdHRhY2htZW50KSA6IG51bGwsXG4gICAgcG9zdGVyOiBqc29uLnBvc3RlciA/IGh5ZHJhdGVVc2VyKGpzb24ucG9zdGVyKSA6IG51bGwsXG5cbiAgICBpc1NlbGVjdGVkOiBmYWxzZSxcbiAgICBpc0J1c3k6IGZhbHNlLFxuICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlQXR0YWNobWVudChqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgdXBsb2FkZWRfb246IG1vbWVudChqc29uLnVwbG9hZGVkX29uKVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBvc3QsIHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUE9TVCxcbiAgICBwb3N0LFxuICAgIHBhdGNoXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvc3Qoc3RhdGU9e30sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBpZiAoc3RhdGUuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24ucGF0Y2gpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBwb3N0UmVkdWNlciwgeyBQQVRDSF9QT1NULCBoeWRyYXRlIGFzIGh5ZHJhdGVQb3N0IH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuXG5leHBvcnQgY29uc3QgU0VMRUNUX1BPU1QgPSAnU0VMRUNUX1BPU1QnO1xuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1QgPSAnREVTRUxFQ1RfUE9TVCc7XG5leHBvcnQgY29uc3QgREVTRUxFQ1RfUE9TVFMgPSAnREVTRUxFQ1RfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IExPQURfUE9TVFMgPSAnTE9BRF9QT1NUUyc7XG5leHBvcnQgY29uc3QgVU5MT0FEX1BPU1RTID0gJ1VOTE9BRF9QT1NUUyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QocG9zdCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9QT1NULFxuICAgIHBvc3RcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0KHBvc3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERVNFTEVDVF9QT1NULFxuICAgIHBvc3RcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0QWxsKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFU0VMRUNUX1BPU1RTLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgcmVzdWx0czoganNvbi5yZXN1bHRzLm1hcChoeWRyYXRlUG9zdCksXG4gICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgaXNCdXN5OiBmYWxzZSxcbiAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQobmV3U3RhdGUsIGh5ZHJhdGVkPWZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogTE9BRF9QT1NUUyxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVubG9hZCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVTkxPQURfUE9TVFNcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdHMoc3RhdGU9e30sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNFTEVDVF9QT1NUOlxuICAgICAgY29uc3Qgc2VsZWN0ZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIGlmIChwb3N0LmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBvc3QsIHtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBzZWxlY3RlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVDpcbiAgICAgIGNvbnN0IGRlc2VsZXRlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRQb3N0c1xuICAgICAgfSk7XG5cbiAgICBjYXNlIERFU0VMRUNUX1BPU1RTOlxuICAgICAgY29uc3QgZGVzZWxldGVkQWxsUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRBbGxQb3N0c1xuICAgICAgfSk7XG5cbiAgICBjYXNlIExPQURfUE9TVFM6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVTkxPQURfUE9TVFM6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBjb25zdCByZWR1Y2VkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICByZXR1cm4gcG9zdFJlZHVjZXIocG9zdCwgYWN0aW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogcmVkdWNlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBVUERBVEVfQVZBVEFSLCBVUERBVEVfVVNFUk5BTUUsIGh5ZHJhdGVTdGF0dXMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuXG5leHBvcnQgY29uc3QgSFlEUkFURV9QUk9GSUxFID0gJ0hZRFJBVEVfUFJPRklMRSc7XG5leHBvcnQgY29uc3QgUEFUQ0hfUFJPRklMRSA9ICdQQVRDSF9QUk9GSUxFJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUocHJvZmlsZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfUFJPRklMRSxcbiAgICBwcm9maWxlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1BST0ZJTEUsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aChzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgSFlEUkFURV9QUk9GSUxFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5wcm9maWxlLCB7XG4gICAgICAgIGpvaW5lZF9vbjogbW9tZW50KGFjdGlvbi5wcm9maWxlLmpvaW5lZF9vbiksXG4gICAgICAgIHN0YXR1czogaHlkcmF0ZVN0YXR1cyhhY3Rpb24ucHJvZmlsZS5zdGF0dXMpXG4gICAgICB9KTtcblxuICAgIGNhc2UgUEFUQ0hfUFJPRklMRTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnBhdGNoKTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICBhdmF0YXJfaGFzaDogYWN0aW9uLmF2YXRhckhhc2hcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdG9nZ2xlIH0gZnJvbSAnbWlzYWdvL3V0aWxzL3NldHMnO1xuXG5leHBvcnQgY29uc3QgU0VMRUNUX0FMTCA9ICdTRUxFQ1RfQUxMJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RfTk9ORSA9ICdTRUxFQ1RfTk9ORSc7XG5leHBvcnQgY29uc3QgU0VMRUNUX0lURU0gPSAnU0VMRUNUX0lURU0nO1xuXG5leHBvcnQgZnVuY3Rpb24gYWxsKGl0ZW1zSWRzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0FMTCxcbiAgICBpdGVtczogaXRlbXNJZHNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX05PTkVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGl0ZW0oaXRlbUlkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0lURU0sXG4gICAgaXRlbTogaXRlbUlkXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbGVjdGlvbihzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX0FMTDpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXM7XG5cbiAgICBjYXNlIFNFTEVDVF9OT05FOlxuICAgICAgcmV0dXJuIFtdO1xuXG4gICAgY2FzZSBTRUxFQ1RfSVRFTTpcbiAgICAgIHJldHVybiB0b2dnbGUoc3RhdGUsIGFjdGlvbi5pdGVtKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJleHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdHlwZTogJ2luZm8nLFxuICBtZXNzYWdlOiAnJyxcbiAgaXNWaXNpYmxlOiBmYWxzZVxufTtcblxuZXhwb3J0IGNvbnN0IFNIT1dfU05BQ0tCQVIgPSAnU0hPV19TTkFDS0JBUic7XG5leHBvcnQgY29uc3QgSElERV9TTkFDS0JBUiA9ICdISURFX1NOQUNLQkFSJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dTbmFja2JhcihtZXNzYWdlLCB0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0hPV19TTkFDS0JBUixcbiAgICBtZXNzYWdlLFxuICAgIG1lc3NhZ2VUeXBlOiB0eXBlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlU25hY2tiYXIoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSElERV9TTkFDS0JBUlxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbmFja2JhcihzdGF0ZT1pbml0aWFsU3RhdGUsIGFjdGlvbj1udWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0hPV19TTkFDS0JBUikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBhY3Rpb24ubWVzc2FnZVR5cGUsXG4gICAgICBtZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgIH07XG4gIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IEhJREVfU05BQ0tCQVIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5leHBvcnQgY29uc3QgQlVTWV9USFJFQUQgPSAnQlVTWV9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFJFTEVBU0VfVEhSRUFEID0gJ1JFTEVBU0VfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBSRVBMQUNFX1RIUkVBRCA9ICdSRVBMQUNFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRCA9ICdVUERBVEVfVEhSRUFEJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHN0YXJ0ZWRfb246IG1vbWVudChqc29uLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KGpzb24ubGFzdF9wb3N0X29uKSxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXN5KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEJVU1lfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTEVBU0VfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfVEhSRUFELFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1RIUkVBRCxcbiAgICBkYXRhXG4gIH07XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyZWFkKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogdHJ1ZX0pO1xuXG4gICAgY2FzZSBSRUxFQVNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogZmFsc2V9KTtcblxuICAgIGNhc2UgUkVQTEFDRV9USFJFQUQ6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfVEhSRUFEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IGNvbmNhdFVuaXF1ZSBmcm9tICdtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZSc7XG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVEhSRUFEUyA9ICdBUFBFTkRfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgREVMRVRFX1RIUkVBRCA9ICdERUxFVEVfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBGSUxURVJfVEhSRUFEUyA9ICdGSUxURVJfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgSFlEUkFURV9USFJFQURTID0gJ0hZRFJBVEVfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgUEFUQ0hfVEhSRUFEID0gJ1BBVENIX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgUkVBRF9USFJFQURTID0gJ1JFQURfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgU09SVF9USFJFQURTID0gJ1NPUlRfVEhSRUFEUyc7XG5cbmV4cG9ydCBjb25zdCBNT0RFUkFUSU9OX1BFUk1JU1NJT05TID0gW1xuICAnY2FuX2Fubm91bmNlJyxcbiAgJ2Nhbl9hcHByb3ZlJyxcbiAgJ2Nhbl9jbG9zZScsXG4gICdjYW5faGlkZScsXG4gICdjYW5fbW92ZScsXG4gICdjYW5fbWVyZ2UnLFxuICAnY2FuX3BpbicsXG4gICdjYW5fcmV2aWV3J1xuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcywgc29ydGluZykge1xuIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1RIUkVBRFMsXG4gICAgaXRlbXMsXG4gICAgc29ydGluZ1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlVGhyZWFkKHRocmVhZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFTEVURV9USFJFQUQsXG4gICAgdGhyZWFkXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJUaHJlYWRzKGNhdGVnb3J5LCBjYXRlZ29yaWVzTWFwKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogRklMVEVSX1RIUkVBRFMsXG4gICAgY2F0ZWdvcnksXG4gICAgY2F0ZWdvcmllc01hcFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfVEhSRUFEUyxcbiAgICBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2godGhyZWFkLCBwYXRjaCwgc29ydGluZz1udWxsKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfVEhSRUFELFxuICAgIHRocmVhZCxcbiAgICBwYXRjaCxcbiAgICBzb3J0aW5nXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkKGNhdGVnb3JpZXNNYXAsIGNhdGVnb3J5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVBRF9USFJFQURTLFxuICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgY2F0ZWdvcnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnQoc29ydGluZykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNPUlRfVEhSRUFEUyxcbiAgICBzb3J0aW5nXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaHJlYWRNb2RlcmF0aW9uT3B0aW9ucyh0aHJlYWRfYWNsKSB7XG4gIGxldCBvcHRpb25zID0gW107XG4gIE1PREVSQVRJT05fUEVSTUlTU0lPTlMuZm9yRWFjaChmdW5jdGlvbihwZXJtKSB7XG4gICAgaWYgKHRocmVhZF9hY2xbcGVybV0pIHtcbiAgICAgIG9wdGlvbnMucHVzaChwZXJtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVUaHJlYWQodGhyZWFkKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aHJlYWQsIHtcbiAgICBzdGFydGVkX29uOiBtb21lbnQodGhyZWFkLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KHRocmVhZC5sYXN0X3Bvc3Rfb24pLFxuICAgIG1vZGVyYXRpb246IGdldFRocmVhZE1vZGVyYXRpb25PcHRpb25zKHRocmVhZC5hY2wpXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJlYWQoc3RhdGU9W10sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFQUEVORF9USFJFQURTOlxuICAgICAgY29uc3QgbWVyZ2VkU3RhdGUgPSBjb25jYXRVbmlxdWUoYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVGhyZWFkKSwgc3RhdGUpO1xuICAgICAgcmV0dXJuIG1lcmdlZFN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpO1xuXG4gICAgY2FzZSBERUxFVEVfVEhSRUFEOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkICE9PSBhY3Rpb24udGhyZWFkLmlkO1xuICAgICAgfSk7XG5cbiAgICBjYXNlIEZJTFRFUl9USFJFQURTOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1DYXRlZ29yeSA9IGFjdGlvbi5jYXRlZ29yaWVzTWFwW2l0ZW0uY2F0ZWdvcnldO1xuICAgICAgICBpZiAoaXRlbUNhdGVnb3J5LmxmdCA+PSBhY3Rpb24uY2F0ZWdvcnkubGZ0ICYmIGl0ZW1DYXRlZ29yeS5yZ2h0IDw9IGFjdGlvbi5jYXRlZ29yeS5yZ2h0KSB7XG4gICAgICAgICAgLy8gc2FtZSBvciBzdWIgY2F0ZWdvcnlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLndlaWdodCA9PSAyKSB7XG4gICAgICAgICAgLy8gZ2xvYmFsbHkgcGlubmVkXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdGhyZWFkIG1vdmVkIG91dHNpZGUgZGlzcGxheWVkIHNjb3BlLCBoaWRlIGl0XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGNhc2UgSFlEUkFURV9USFJFQURTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVRocmVhZCk7XG5cbiAgICBjYXNlIFBBVENIX1RIUkVBRDpcbiAgICAgIGNvbnN0IHBhdGNoZWRTdGF0ZSA9IHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24udGhyZWFkLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIGFjdGlvbi5wYXRjaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWN0aW9uLnNvcnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHBhdGNoZWRTdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRjaGVkU3RhdGU7XG5cbiAgICBjYXNlIFJFQURfVEhSRUFEUzpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBjb25zdCBpdGVtQ2F0ZWdvcnkgPSBhY3Rpb24uY2F0ZWdvcmllc01hcFtpdGVtLmNhdGVnb3J5XTtcbiAgICAgICAgaWYgKGl0ZW1DYXRlZ29yeS5sZnQgPj0gYWN0aW9uLmNhdGVnb3J5LmxmdCAmJiBpdGVtQ2F0ZWdvcnkucmdodCA8PSBhY3Rpb24uY2F0ZWdvcnkucmdodCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBpc19yZWFkOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY2FzZSBTT1JUX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUuc29ydChhY3Rpb24uc29ydGluZyk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHRpY2s6IDBcbn07XG5cbmV4cG9ydCBjb25zdCBUSUNLID0gJ1RJQ0snO1xuXG5leHBvcnQgZnVuY3Rpb24gZG9UaWNrKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFRJQ0tcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGljayhzdGF0ZT1pbml0aWFsU3RhdGUsIGFjdGlvbj1udWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gVElDSykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICB0aWNrOiBzdGF0ZS50aWNrICsgMVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQUREX05BTUVfQ0hBTkdFID0gJ0FERF9OQU1FX0NIQU5HRSc7XG5leHBvcnQgY29uc3QgQVBQRU5EX0hJU1RPUlkgPSAnQVBQRU5EX0hJU1RPUlknO1xuZXhwb3J0IGNvbnN0IEhZRFJBVEVfSElTVE9SWSA9ICdIWURSQVRFX0hJU1RPUlknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTmFtZUNoYW5nZShjaGFuZ2UsIHVzZXIsIGNoYW5nZWRCeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFERF9OQU1FX0NIQU5HRSxcbiAgICBjaGFuZ2UsXG4gICAgdXNlcixcbiAgICBjaGFuZ2VkQnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9ISVNUT1JZLFxuICAgIGl0ZW1zOiBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfSElTVE9SWSxcbiAgICBpdGVtczogaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVOYW1lY2hhbmdlKG5hbWVjaGFuZ2UpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG5hbWVjaGFuZ2UsIHtcbiAgICBjaGFuZ2VkX29uOiBtb21lbnQobmFtZWNoYW5nZS5jaGFuZ2VkX29uKVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcm5hbWUoc3RhdGU9W10sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFERF9OQU1FX0NIQU5HRTpcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHN0YXRlLnNsaWNlKCk7XG4gICAgICBuZXdTdGF0ZS51bnNoaWZ0KHtcbiAgICAgICAgaWQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCAvLyBqdXN0IHNtYWxsIGhheCBmb3IgZ2V0dGluZyBpZFxuICAgICAgICBjaGFuZ2VkX2J5OiBhY3Rpb24uY2hhbmdlZEJ5LFxuICAgICAgICBjaGFuZ2VkX2J5X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlZEJ5LnVzZXJuYW1lLFxuICAgICAgICBjaGFuZ2VkX29uOiBtb21lbnQoKSxcbiAgICAgICAgbmV3X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlLnVzZXJuYW1lLFxuICAgICAgICBvbGRfdXNlcm5hbWU6IGFjdGlvbi51c2VyLnVzZXJuYW1lXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcblxuICAgIGNhc2UgQVBQRU5EX0hJU1RPUlk6XG4gICAgICByZXR1cm4gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKSk7XG5cbiAgICBjYXNlIEhZRFJBVEVfSElTVE9SWTpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgIGlmIChpdGVtLmNoYW5nZWRfYnkgJiYgaXRlbS5jaGFuZ2VkX2J5LmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5jaGFuZ2VkX2J5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbS5jaGFuZ2VkX2J5LCB7XG4gICAgICAgICAgICAnYXZhdGFyX2hhc2gnOiBhY3Rpb24uYXZhdGFySGFzaFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgaWYgKGl0ZW0uY2hhbmdlZF9ieSAmJiBpdGVtLmNoYW5nZWRfYnkuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmNoYW5nZWRfYnkgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLmNoYW5nZWRfYnksIHtcbiAgICAgICAgICAgICd1c2VybmFtZSc6IGFjdGlvbi51c2VybmFtZSxcbiAgICAgICAgICAgICdzbHVnJzogYWN0aW9uLnNsdWdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQVBQRU5EX1VTRVJTID0gJ0FQUEVORF9VU0VSUyc7XG5leHBvcnQgY29uc3QgSFlEUkFURV9VU0VSUyA9ICdIWURSQVRFX1VTRVJTJztcbmV4cG9ydCBjb25zdCBVUERBVEVfQVZBVEFSID0gJ1VQREFURV9BVkFUQVInO1xuZXhwb3J0IGNvbnN0IFVQREFURV9VU0VSTkFNRSA9ICdVUERBVEVfVVNFUk5BTUUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9VU0VSUyxcbiAgICBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMsIHtcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrID8gbW9tZW50KHN0YXR1cy5sYXN0X2NsaWNrKSA6IG51bGwsXG4gICAgICBiYW5uZWRfdW50aWw6IHN0YXR1cy5iYW5uZWRfdW50aWwgPyBtb21lbnQoc3RhdHVzLmJhbm5lZF91bnRpbCkgOiBudWxsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVVc2VyKHVzZXIpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHVzZXIsIHtcbiAgICBqb2luZWRfb246IG1vbWVudCh1c2VyLmpvaW5lZF9vbiksXG4gICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKHVzZXIuc3RhdHVzKVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF2YXRhcih1c2VyLCBhdmF0YXJIYXNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX0FWQVRBUixcbiAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgYXZhdGFySGFzaFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVXNlcm5hbWUodXNlciwgdXNlcm5hbWUsIHNsdWcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVVNFUk5BTUUsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIHVzZXJuYW1lLFxuICAgIHNsdWdcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcihzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1VTRVJTOlxuICAgICAgbGV0IG1lcmdlZFN0YXRlID0gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVVc2VyKSk7XG5cbiAgICAgIHJldHVybiBtZXJnZWRTdGF0ZS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgaWYgKGEudXNlcm5hbWUgPCBiLnVzZXJuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2UgaWYgKGEudXNlcm5hbWUgPiBiLnVzZXJuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY2FzZSBIWURSQVRFX1VTRVJTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVVzZXIpO1xuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmF2YXRhcl9oYXNoID0gYWN0aW9uLmF2YXRhckhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBBamF4IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IG51bGw7XG4gICAgdGhpcy5fY3NyZlRva2VuID0gbnVsbDtcbiAgICB0aGlzLl9sb2NrcyA9IHt9O1xuICB9XG5cbiAgaW5pdChjb29raWVOYW1lKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IGNvb2tpZU5hbWU7XG4gICAgdGhpcy5fY3NyZlRva2VuID0gdGhpcy5nZXRDc3JmVG9rZW4oKTtcbiAgfVxuXG4gIGdldENzcmZUb2tlbigpIHtcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YodGhpcy5fY29va2llTmFtZSkgIT09IC0xKSB7XG4gICAgICBsZXQgY29va2llUmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuX2Nvb2tpZU5hbWUgKyAnXFw9KFteO10qKScpO1xuICAgICAgbGV0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChjb29raWVSZWdleClbMF07XG4gICAgICByZXR1cm4gY29va2llID8gY29va2llLnNwbGl0KCc9JylbMV0gOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0KG1ldGhvZCwgdXJsLCBkYXRhKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCB4aHIgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdYLUNTUkZUb2tlbic6IHNlbGYuX2NzcmZUb2tlblxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IChkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsKSxcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUikge1xuICAgICAgICAgIGxldCByZWplY3Rpb24gPSBqcVhIUi5yZXNwb25zZUpTT04gfHwge307XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzO1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiTG9zdCBjb25uZWN0aW9uIHdpdGggYXBwbGljYXRpb24uXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGlmICghcmVqZWN0aW9uLmRldGFpbCB8fCByZWplY3Rpb24uZGV0YWlsID09PSAnTk9UIEZPVU5EJykge1xuICAgICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA1MDAgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1c1RleHQgPSBqcVhIUi5zdGF0dXNUZXh0O1xuXG4gICAgICAgICAgcmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICQuYWpheCh4aHIpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0KHVybCwgcGFyYW1zLCBsb2NrKSB7XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgdXJsICs9ICc/JyArICQucGFyYW0ocGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAobG9jaykge1xuICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyB1cGRhdGUgdXJsIGluIGV4aXN0aW5nIGxvY2s/XG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10pIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10udXJsID0gdXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBpbW1lZGlhdGVseSBkZXJlZmVyZW5jZSBwcm9taXNlIGhhbmRsZXJzIHdpdGhvdXQgZG9pbmcgYW55dGhpbmdcbiAgICAgIC8vIHdlIGFyZSBhbHJlYWR5IHdhaXRpbmcgZm9yIGV4aXN0aW5nIHJlc3BvbnNlIHRvIHJlc29sdmVcbiAgICAgIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIC8vIHJldHVybiBwcm9taXNlIHRoYXQgd2lsbCBiZWdpbiB3aGVuIG9yaWdpbmFsIG9uZSByZXNvbHZlc1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0KSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGxldCB3YWl0ID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHdhaXRpbmcgb24gcHJvbWlzZVxuICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLndhaXQpIHtcbiAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2FpdCh1cmwpO1xuICAgICAgICAgICAgICB9LCAzMDApO1xuXG4gICAgICAgICAgICAvLyBwb2xsIGZvciBuZXcgdXJsXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCAhPT0gdXJsKSB7XG4gICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKTtcblxuICAgICAgICAgICAgLy8gYWpheCBiYWNrZW5kIGZvciByZXNwb25zZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNlbGYucmVxdWVzdCgnR0VUJywgc2VsZi5fbG9ja3NbbG9ja10udXJsKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCh1cmwpO1xuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBzZXR1cCBuZXcgbG9jayB3aXRob3V0IHdhaXRlclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10gPSB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHdhaXQ6IHRydWUsXG4gICAgICAgICAgd2FpdGVyOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBzZWxmLnJlcXVlc3QoJ0dFVCcsIHVybCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ0dFVCcsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgcG9zdCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQT1NUJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIHBhdGNoKHVybCwgZGF0YSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ1BBVENIJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIHB1dCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQVVQnLCB1cmwsIGRhdGEpO1xuICB9XG5cbiAgZGVsZXRlKHVybCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ0RFTEVURScsIHVybCk7XG4gIH1cblxuICB1cGxvYWQodXJsLCBkYXRhLCBwcm9ncmVzcykge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsZXQgeGhyID0ge1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBzZWxmLl9jc3JmVG9rZW5cbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcblxuICAgICAgICB4aHI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxldCB4aHIgPSBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICBpZiAoZXZ0Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MoTWF0aC5yb3VuZChldnQubG9hZGVkIC8gZXZ0LnRvdGFsICogMTAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB4aHI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICBsZXQgcmVqZWN0aW9uID0ganFYSFIucmVzcG9uc2VKU09OIHx8IHt9O1xuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1cyA9IGpxWEhSLnN0YXR1cztcblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkxvc3QgY29ubmVjdGlvbiB3aXRoIGFwcGxpY2F0aW9uLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gJ05PVCBGT1VORCcpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dDtcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkLmFqYXgoeGhyKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWpheCgpO1xuIiwiaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0IH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEF1dGgge1xuICBpbml0KHN0b3JlLCBsb2NhbCwgbW9kYWwpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuX2xvY2FsID0gbG9jYWw7XG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbDtcblxuICAgIC8vIHRlbGwgb3RoZXIgdGFicyB3aGF0IGF1dGggc3RhdGUgaXMgYmVjYXVzZSB3ZSBhcmUgbW9zdCBjdXJyZW50IHdpdGggaXRcbiAgICB0aGlzLnN5bmNTZXNzaW9uKCk7XG5cbiAgICAvLyBsaXN0ZW4gZm9yIG90aGVyIHRhYnMgdG8gdGVsbCB1cyB0aGF0IHN0YXRlIGNoYW5nZWRcbiAgICB0aGlzLndhdGNoU3RhdGUoKTtcbiAgfVxuXG4gIHN5bmNTZXNzaW9uKCkge1xuICAgIGxldCBzdGF0ZSA9IHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYXV0aDtcbiAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgICAgdXNlcm5hbWU6IHN0YXRlLnVzZXIudXNlcm5hbWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHdhdGNoU3RhdGUoKSB7XG4gICAgdGhpcy5fbG9jYWwud2F0Y2goJ2F1dGgnLCAobmV3U3RhdGUpID0+IHtcbiAgICAgIGlmIChuZXdTdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbkluKHtcbiAgICAgICAgICB1c2VybmFtZTogbmV3U3RhdGUudXNlcm5hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduSW4odXNlcikge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25Jbih1c2VyKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQoKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIHNvZnRTaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQodHJ1ZSkpO1xuICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKTsiLCIvKiBnbG9iYWwgZ3JlY2FwdGNoYSAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEJhc2VDYXB0Y2hhIHtcbiAgaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuX2FqYXggPSBhamF4O1xuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlO1xuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgLy8gaW1tZWRpYXRlbHkgcmVzb2x2ZSBhcyB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIHZhbGlkYXRlXG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFFBQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX2FqYXguZ2V0KHNlbGYuX2NvbnRleHQuZ2V0KCdDQVBUQ0hBX0FQSScpKS50aGVuKFxuICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBzZWxmLnF1ZXN0aW9uID0gZGF0YS5xdWVzdGlvbjtcbiAgICAgICAgc2VsZi5oZWxwVGV4dCA9IGRhdGEuaGVscF90ZXh0O1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZhaWxlZCB0byBsb2FkIENBUFRDSEEuXCIpKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17dGhpcy5xdWVzdGlvbn0gZm9yPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz17a3dhcmdzLmxhYmVsQ2xhc3MgfHwgXCJjb2wtc20tNFwifVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz17a3dhcmdzLmNvbnRyb2xDbGFzcyB8fCBcImNvbC1zbS04XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e3RoaXMuaGVscFRleHQgfHwgbnVsbH0+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX2NhcHRjaGFcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9jYXB0Y2hhX3N0YXR1c1wiXG4gICAgICAgICAgICAgZGlzYWJsZWQ9e2t3YXJncy5mb3JtLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICBvbkNoYW5nZT17a3dhcmdzLmZvcm0uYmluZElucHV0KCdjYXB0Y2hhJyl9XG4gICAgICAgICAgICAgdmFsdWU9e2t3YXJncy5mb3JtLnN0YXRlLmNhcHRjaGF9IC8+XG4gICAgPC9Gb3JtR3JvdXA+O1xuICB9XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59XG5cblxuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGdyZWNhcHRjaGEucmVuZGVyKCdyZWNhcHRjaGEnLCB7XG4gICAgICAnc2l0ZWtleSc6IHRoaXMucHJvcHMuc2l0ZUtleSxcbiAgICAgICdjYWxsYmFjayc6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAvLyBmaXJlIGZha2V5IGV2ZW50IHRvIGJpbmRpbmdcbiAgICAgICAgdGhpcy5wcm9wcy5iaW5kaW5nKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGlkPVwicmVjYXB0Y2hhXCIgLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZSgnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzJywgdHJ1ZSk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KCk7XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3YWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXB0Y2hhXCIpfSBmb3I9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcImNvbC1zbS00XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbENsYXNzPXtrd2FyZ3MuY29udHJvbENsYXNzIHx8IFwiY29sLXNtLThcIn1cbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXtrd2FyZ3MuZm9ybS5zdGF0ZS5lcnJvcnMuY2FwdGNoYX1cbiAgICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIlBsZWFzZSBzb2x2ZSB0aGUgcXVpY2sgdGVzdC5cIil9PlxuICAgICAgPFJlQ2FwdGNoYUNvbXBvbmVudCBzaXRlS2V5PXt0aGlzLl9jb250ZXh0LmdldCgnU0VUVElOR1MnKS5yZWNhcHRjaGFfc2l0ZV9rZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmc9e2t3YXJncy5mb3JtLmJpbmRJbnB1dCgnY2FwdGNoYScpfSAvPlxuICAgIDwvRm9ybUdyb3VwPjtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xufVxuXG5leHBvcnQgY2xhc3MgQ2FwdGNoYSB7XG4gIGluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpIHtcbiAgICBzd2l0Y2goY29udGV4dC5nZXQoJ1NFVFRJTkdTJykuY2FwdGNoYV90eXBlKSB7XG4gICAgICBjYXNlICdubyc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgTm9DYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdxYSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUUFDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyZSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUmVDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuX2NhcHRjaGEuaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcik7XG4gIH1cblxuICAvLyBhY2Nlc3NvcnMgZm9yIHVuZGVybHlpbmcgc3RyYXRlZ3lcblxuICBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmxvYWQoKTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS52YWxpZGF0b3IoKTtcbiAgfVxuXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS5jb21wb25lbnQoa3dhcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FwdGNoYSgpOyIsImV4cG9ydCBjbGFzcyBJbmNsdWRlIHtcbiAgaW5pdChzdGF0aWNVcmwpIHtcbiAgICB0aGlzLl9zdGF0aWNVcmwgPSBzdGF0aWNVcmw7XG4gICAgdGhpcy5faW5jbHVkZWQgPSBbXTtcbiAgfVxuXG4gIGluY2x1ZGUoc2NyaXB0LCByZW1vdGU9ZmFsc2UpIHtcbiAgICBpZiAodGhpcy5faW5jbHVkZWQuaW5kZXhPZihzY3JpcHQpID09PSAtMSkge1xuICAgICAgdGhpcy5faW5jbHVkZWQucHVzaChzY3JpcHQpO1xuICAgICAgdGhpcy5faW5jbHVkZShzY3JpcHQsIHJlbW90ZSk7XG4gICAgfVxuICB9XG5cbiAgX2luY2x1ZGUoc2NyaXB0LCByZW1vdGUpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAoIXJlbW90ZSA/IHRoaXMuX3N0YXRpY1VybCA6ICcnKSArIHNjcmlwdCxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgZGF0YVR5cGU6ICdzY3JpcHQnXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEluY2x1ZGUoKTsiLCJsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2Uge1xuICBpbml0KHByZWZpeCkge1xuICAgIHRoaXMuX3ByZWZpeCA9IHByZWZpeDtcbiAgICB0aGlzLl93YXRjaGVycyA9IFtdO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCAoZSkgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlSnNvbiA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICB0aGlzLl93YXRjaGVycy5mb3JFYWNoKGZ1bmN0aW9uKHdhdGNoZXIpIHtcbiAgICAgICAgaWYgKHdhdGNoZXIua2V5ID09PSBlLmtleSAmJiBlLm9sZFZhbHVlICE9PSBlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgd2F0Y2hlci5jYWxsYmFjayhuZXdWYWx1ZUpzb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgc3RvcmFnZS5zZXRJdGVtKHRoaXMuX3ByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBsZXQgaXRlbVN0cmluZyA9IHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9wcmVmaXggKyBrZXkpO1xuICAgIGlmIChpdGVtU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtU3RyaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgd2F0Y2goa2V5LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3dhdGNoZXJzLnB1c2goe1xuICAgICAga2V5OiB0aGlzLl9wcmVmaXggKyBrZXksXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9jYWxTdG9yYWdlKCk7IiwiaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgTW9iaWxlTmF2YmFyRHJvcGRvd24ge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9jb21wb25lbnQgPSBudWxsO1xuICB9XG5cbiAgc2hvdyhjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBjb21wb25lbnQpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIHNob3dDb25uZWN0ZWQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudCA9PT0gbmFtZSkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudCA9IG5hbWU7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQsIHRydWUpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vYmlsZU5hdmJhckRyb3Bkb3duKCk7XG4iLCJpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIE1vZGFsIHtcbiAgaW5pdChlbGVtZW50KSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICB0aGlzLl9tb2RhbCA9ICQoZWxlbWVudCkubW9kYWwoe3Nob3c6IGZhbHNlfSk7XG5cbiAgICB0aGlzLl9tb2RhbC5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3coY29tcG9uZW50KSB7XG4gICAgbW91bnQoY29tcG9uZW50LCB0aGlzLl9lbGVtZW50LmlkKTtcbiAgICB0aGlzLl9tb2RhbC5tb2RhbCgnc2hvdycpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLl9tb2RhbC5tb2RhbCgnaGlkZScpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBNb2RhbCgpO1xuIiwiZXhwb3J0IGNsYXNzIFBhZ2VUaXRsZSB7XG4gIGluaXQoaW5kZXhUaXRsZSwgZm9ydW1OYW1lKSB7XG4gICAgdGhpcy5faW5kZXhUaXRsZSA9IGluZGV4VGl0bGU7XG4gICAgdGhpcy5fZm9ydW1OYW1lID0gZm9ydW1OYW1lO1xuICB9XG5cbiAgc2V0KHRpdGxlKSB7XG4gICAgaWYgKCF0aXRsZSkge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLl9pbmRleFRpdGxlIHx8IHRoaXMuX2ZvcnVtTmFtZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGl0bGUgPSB7dGl0bGU6IHRpdGxlfTtcbiAgICB9XG5cbiAgICBsZXQgZmluYWxUaXRsZSA9IHRpdGxlLnRpdGxlO1xuXG4gICAgaWYgKHRpdGxlLnBhZ2UgPiAxKSB7XG4gICAgICBjb25zdCBwYWdlTGFiZWwgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KCdwYWdlOiAlKHBhZ2UpcycpLCB7XG4gICAgICAgIHBhZ2U6IHRpdGxlLnBhZ2VcbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICBmaW5hbFRpdGxlICs9ICcgKCcgKyBwYWdlTGFiZWwgKyAnKSc7XG4gICAgfVxuXG4gICAgaWYgKHRpdGxlLnBhcmVudCkge1xuICAgICAgZmluYWxUaXRsZSArPSAnIHwgJyArIHRpdGxlLnBhcmVudDtcbiAgICB9XG5cbiAgICBkb2N1bWVudC50aXRsZSA9IGZpbmFsVGl0bGUgKyAnIHwgJyArIHRoaXMuX2ZvcnVtTmFtZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUGFnZVRpdGxlKCk7XG4iLCJleHBvcnQgY2xhc3MgUG9sbHMge1xuICBpbml0KGFqYXgsIHNuYWNrYmFyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcblxuICAgIHRoaXMuX3BvbGxzID0ge307XG4gIH1cblxuICBzdGFydChrd2FyZ3MpIHtcbiAgICB0aGlzLnN0b3Aoa3dhcmdzLnBvbGwpO1xuXG4gICAgY29uc3QgcG9vbFNlcnZlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXSA9IGt3YXJncztcblxuICAgICAgdGhpcy5fYWpheC5nZXQoa3dhcmdzLnVybCwga3dhcmdzLmRhdGEgfHwgbnVsbCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgIGt3YXJncy51cGRhdGUoZGF0YSk7XG5cbiAgICAgICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0udGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpO1xuICAgICAgICB9XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLl9zdG9wcGVkKSB7XG4gICAgICAgICAgaWYgKGt3YXJncy5lcnJvcikge1xuICAgICAgICAgICAga3dhcmdzLmVycm9yKHJlamVjdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKGt3YXJncy5kZWxheWVkKSB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSB7XG4gICAgICAgIHRpbWVvdXQ6IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwb29sU2VydmVyKCk7XG4gICAgfVxuICB9XG5cbiAgc3RvcChwb2xsSWQpIHtcbiAgICBpZiAodGhpcy5fcG9sbHNbcG9sbElkXSkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9wb2xsc1twb2xsSWRdLnRpbWVvdXQpO1xuICAgICAgdGhpcy5fcG9sbHNbcG9sbElkXS5fc3RvcHBlZCA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb2xscygpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdGluZ0NvbXBvbmVudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIsIHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcbiAgICB0aGlzLl9wbGFjZWhvbGRlciA9ICQocGxhY2Vob2xkZXIpO1xuXG4gICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5faXNDbG9zaW5nID0gZmFsc2U7XG4gIH1cblxuICBvcGVuKHByb3BzKSB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLmNvbmZpZztcbiAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2lzT3BlbiAhPT0gcHJvcHMuY29uZmlnKSB7XG4gICAgICBjb25zdCBjaGFuZ2VGb3JtID0gY29uZmlybShnZXR0ZXh0KFwiWW91IGFyZSBhbHJlYWR5IHdvcmtpbmcgb24gb3RoZXIgbWVzc2FnZS4gRG8geW91IHdhbnQgdG8gZGlzY2FyZCBpdD9cIikpO1xuICAgICAgaWYgKGNoYW5nZUZvcm0pIHtcbiAgICAgICAgdGhpcy5faXNPcGVuID0gcHJvcHMuY29uZmlnO1xuICAgICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICBfcmVhbE9wZW4ocHJvcHMpIHtcbiAgICBtb3VudChcbiAgICAgIDxQb3N0aW5nQ29tcG9uZW50IHsuLi5wcm9wc30gLz4sXG4gICAgICAncG9zdGluZy1tb3VudCdcbiAgICApO1xuXG4gICAgdGhpcy5fcGxhY2Vob2xkZXIuYWRkQ2xhc3MoJ3NsaWRlLWluJyk7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IHRoaXMuX3BsYWNlaG9sZGVyLm9mZnNldCgpLnRvcFxuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiAmJiAhdGhpcy5faXNDbG9zaW5nKSB7XG4gICAgICB0aGlzLl9pc0Nsb3NpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5fcGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlLWluJyk7XG5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGluZy1tb3VudCcpKTtcbiAgICAgICAgdGhpcy5faXNDbG9zaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG4gIC8vIGpzaGludCBpZ25vcmU6ZW5kXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb3N0aW5nKCk7XG4iLCJpbXBvcnQgeyBzaG93U25hY2tiYXIsIGhpZGVTbmFja2JhciB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zbmFja2Jhcic7XG5cbmNvbnN0IEhJREVfQU5JTUFUSU9OX0xFTkdUSCA9IDMwMDtcbmNvbnN0IE1FU1NBR0VfU0hPV19MRU5HVEggPSA1MDAwO1xuXG5leHBvcnQgY2xhc3MgU25hY2tiYXIge1xuICBpbml0KHN0b3JlKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgfVxuXG4gIGFsZXJ0KG1lc3NhZ2UsIHR5cGUpIHtcbiAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKGhpZGVTbmFja2JhcigpKTtcblxuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgdHlwZSk7XG4gICAgICB9LCBISURFX0FOSU1BVElPTl9MRU5HVEgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaG93U25hY2tiYXIobWVzc2FnZSwgdHlwZSkpO1xuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goaGlkZVNuYWNrYmFyKCkpO1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgIH0sIE1FU1NBR0VfU0hPV19MRU5HVEgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNob3J0aGFuZHMgZm9yIG1lc3NhZ2UgdHlwZXNcblxuICBpbmZvKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdpbmZvJyk7XG4gIH1cblxuICBzdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdzdWNjZXNzJyk7XG4gIH1cblxuICB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICd3YXJuaW5nJyk7XG4gIH1cblxuICBlcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCAnZXJyb3InKTtcbiAgfVxuXG4gIC8vIHNob3J0aGFuZCBmb3IgYXBpIGVycm9yc1xuXG4gIGFwaUVycm9yKHJlamVjdGlvbikge1xuICAgIGxldCBtZXNzYWdlID0gcmVqZWN0aW9uLmRldGFpbDtcblxuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJVbmtub3duIGVycm9yIGhhcyBvY2N1cmVkLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIG1lc3NhZ2UgPT09IFwiUGVybWlzc2lvbiBkZW5pZWRcIikge1xuICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMuZXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNuYWNrYmFyKCk7XG4iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlIH0gZnJvbSAncmVkdXgnO1xuXG5leHBvcnQgY2xhc3MgU3RvcmVXcmFwcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBudWxsO1xuICAgIHRoaXMuX3JlZHVjZXJzID0ge307XG4gICAgdGhpcy5faW5pdGlhbFN0YXRlID0ge307XG4gIH1cblxuICBhZGRSZWR1Y2VyKG5hbWUsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSkge1xuICAgIHRoaXMuX3JlZHVjZXJzW25hbWVdID0gcmVkdWNlcjtcbiAgICB0aGlzLl9pbml0aWFsU3RhdGVbbmFtZV0gPSBpbml0aWFsU3RhdGU7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuX3N0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgICBjb21iaW5lUmVkdWNlcnModGhpcy5fcmVkdWNlcnMpLCB0aGlzLl9pbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgZ2V0U3RvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlO1xuICB9XG5cbiAgLy8gU3RvcmUgQVBJXG5cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLmdldFN0YXRlKCk7XG4gIH1cblxuICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU3RvcmVXcmFwcGVyKCk7XG4iLCIvKiBnbG9iYWwgenhjdmJuICovXG5leHBvcnQgY2xhc3MgWnhjdmJuIHtcbiAgaW5pdChpbmNsdWRlKSB7XG4gICAgdGhpcy5faW5jbHVkZSA9IGluY2x1ZGU7XG4gIH1cblxuICBzY29yZVBhc3N3b3JkKHBhc3N3b3JkLCBpbnB1dHMpIHtcbiAgICAvLyAwLTQgc2NvcmUsIHRoZSBtb3JlIHRoZSBzdHJvbmdlciBwYXNzd29yZFxuICAgIHJldHVybiB6eGN2Ym4ocGFzc3dvcmQsIGlucHV0cykuc2NvcmU7XG4gIH1cblxuICBsb2FkKCkge1xuICAgIGlmICh0eXBlb2YgenhjdmJuID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoJ21pc2Fnby9qcy96eGN2Ym4uanMnKTtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkaW5nUHJvbWlzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGVkUHJvbWlzZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9sb2FkaW5nUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB6eGN2Ym4gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQoKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdhaXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9sb2FkZWRQcm9taXNlKCkge1xuICAgIC8vIHdlIGhhdmUgYWxyZWFkeSBsb2FkZWQgenhjdmJuLmpzLCByZXNvbHZlIGF3YXkhXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgWnhjdmJuKCk7IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBQcm92aWRlciwgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQmFubmVkUGFnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9iYW5uZWQtcGFnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5sZXQgc2VsZWN0ID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnRpY2s7XG59O1xuXG5sZXQgUmVkcmF3ZWRCYW5uZWRQYWdlID0gY29ubmVjdChzZWxlY3QpKEJhbm5lZFBhZ2UpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYmFuLCBjaGFuZ2VTdGF0ZSkge1xuICBSZWFjdERPTS5yZW5kZXIoXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8UmVkcmF3ZWRCYW5uZWRQYWdlIG1lc3NhZ2U9e2Jhbi5tZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzPXtiYW4uZXhwaXJlc19vbiA/IG1vbWVudChiYW4uZXhwaXJlc19vbikgOiBudWxsfSAvPlxuICAgIDwvUHJvdmlkZXI+LFxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbW91bnQnKVxuICApO1xuXG4gIGlmICh0eXBlb2YgY2hhbmdlU3RhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNoYW5nZVN0YXRlKSB7XG4gICAgbGV0IGZvcnVtTmFtZSA9IG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1fbmFtZTtcbiAgICBkb2N1bWVudC50aXRsZSA9IGdldHRleHQoXCJZb3UgYXJlIGJhbm5lZFwiKSArICcgfCAnICsgZm9ydW1OYW1lO1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgbWlzYWdvLmdldCgnQkFOTkVEX1VSTCcpKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGxpc3QsIHJvd1dpZHRoLCBwYWRkaW5nPWZhbHNlKSB7XG4gIGxldCByb3dzID0gW107XG4gIGxldCByb3cgPSBbXTtcblxuICBsaXN0LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJvdy5wdXNoKGVsZW1lbnQpO1xuICAgIGlmIChyb3cubGVuZ3RoID09PSByb3dXaWR0aCkge1xuICAgICAgcm93cy5wdXNoKHJvdyk7XG4gICAgICByb3cgPSBbXTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHBhZCByb3cgdG8gcmVxdWlyZWQgbGVuZ3RoP1xuICBpZiAocGFkZGluZyAhPT0gZmFsc2UgJiYgcm93Lmxlbmd0aCA+IDAgJiYgcm93Lmxlbmd0aCA8IHJvd1dpZHRoKSB7XG4gICAgZm9yIChsZXQgaSA9IHJvdy5sZW5ndGg7IGkgPCByb3dXaWR0aDsgaSArKykge1xuICAgICAgcm93LnB1c2gocGFkZGluZyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJvdy5sZW5ndGgpIHtcbiAgICByb3dzLnB1c2gocm93KTtcbiAgfVxuXG4gIHJldHVybiByb3dzO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgbGV0IGlkcyA9IFtdO1xuICByZXR1cm4gYS5jb25jYXQoYikuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZiAoaWRzLmluZGV4T2YoaXRlbS5pZCkgPT09IC0xKSB7XG4gICAgICBpZHMucHVzaChpdGVtLmlkKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBjb3VudCkge1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fY291bnQgPSBjb3VudDtcbiAgfVxuXG4gIGNvdW50KCkge1xuICAgIHRoaXMuX2NvdW50IC09IDE7XG4gICAgaWYgKHRoaXMuX2NvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9jYWxsYmFjaygpO1xuICAgIH1cbiAgfVxufSIsImNvbnN0IG1hcCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMDM5Oydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvWyY8PlwiJ10vZywgZnVuY3Rpb24obSkgeyByZXR1cm4gbWFwW21dOyB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihieXRlcykge1xuICBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpICsgJyBHQic7XG4gIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCkge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMgLyAoMTAyNCAqIDEwMjQpKSArICcgTUInO1xuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCkge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMgLyAxMDI0KSArICcgS0InO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMpICsgJyBCJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91bmRTaXplKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS50b0ZpeGVkKDEpO1xufSIsImNvbnN0IFVSTF9QQVRURVJOID0gbmV3IFJlZ0V4cCgnXihodHRwcz86XFxcXC9cXFxcLyk/KCgoW2EtelxcXFxkXShbYS16XFxcXGQtXSpbYS16XFxcXGRdKSopXFxcXC4pK1thLXpdezIsfXwoKFxcXFxkezEsM31cXFxcLil7M31cXFxcZHsxLDN9KSkoXFxcXDpcXFxcZCspPyhcXFxcL1stYS16XFxcXGQlXy5+K10qKSooXFxcXD9bOyZhLXpcXFxcZCVfLn4rPS1dKik/KFxcXFwjWy1hLXpcXFxcZF9dKik/JCcsJ2knKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBVUkxfUEFUVEVSTi50ZXN0KCQudHJpbShzdHIpKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihDb21wb25lbnQsIHJvb3RFbGVtZW50SWQsIGNvbm5lY3RlZD10cnVlKSB7XG4gIGxldCByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvb3RFbGVtZW50SWQpO1xuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbGV0IGZpbmFsQ29tcG9uZW50ID0gQ29tcG9uZW50LnByb3BzID8gQ29tcG9uZW50IDogPENvbXBvbmVudCAvPjtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICBpZiAoY29ubmVjdGVkKSB7XG4gICAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZS5nZXRTdG9yZSgpfT5cbiAgICAgICAgICB7ZmluYWxDb21wb25lbnR9XG4gICAgICAgIDwvUHJvdmlkZXI+LFxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgICByb290RWxlbWVudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgUmVhY3RET00ucmVuZGVyKGZpbmFsQ29tcG9uZW50LCByb290RWxlbWVudCk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufVxuIiwiY2xhc3MgT3JkZXJlZExpc3Qge1xuICAgIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgICB0aGlzLmlzT3JkZXJlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcyB8fCBbXTtcbiAgICB9XG5cbiAgICBhZGQoa2V5LCBpdGVtLCBvcmRlcikge1xuICAgICAgdGhpcy5faXRlbXMucHVzaCh7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBpdGVtOiBpdGVtLFxuXG4gICAgICAgIGFmdGVyOiBvcmRlciA/IG9yZGVyLmFmdGVyIHx8IG51bGwgOiBudWxsLFxuICAgICAgICBiZWZvcmU6IG9yZGVyID8gb3JkZXIuYmVmb3JlIHx8IG51bGwgOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5faXRlbXNbaV0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbaV0uaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KGtleSkgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YWx1ZXMoKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKHRoaXMuX2l0ZW1zW2ldLml0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICBvcmRlcih2YWx1ZXNfb25seSkge1xuICAgICAgaWYgKCF0aGlzLmlzT3JkZXJlZCkge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IHRoaXMuX29yZGVyKHRoaXMuX2l0ZW1zKTtcbiAgICAgICAgdGhpcy5pc09yZGVyZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWVzX29ubHkgfHwgdHlwZW9mIHZhbHVlc19vbmx5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvcmRlcmVkVmFsdWVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3JkZXIodHJ1ZSk7XG4gICAgfVxuXG4gICAgX29yZGVyKHVub3JkZXJlZCkge1xuICAgICAgLy8gSW5kZXggb2YgdW5vcmRlcmVkIGl0ZW1zXG4gICAgICB2YXIgaW5kZXggPSBbXTtcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGluZGV4LnB1c2goaXRlbS5rZXkpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE9yZGVyZWQgaXRlbXNcbiAgICAgIHZhciBvcmRlcmVkID0gW107XG4gICAgICB2YXIgb3JkZXJpbmcgPSBbXTtcblxuICAgICAgLy8gRmlyc3QgcGFzczogcmVnaXN0ZXIgaXRlbXMgdGhhdFxuICAgICAgLy8gZG9uJ3Qgc3BlY2lmeSB0aGVpciBvcmRlclxuICAgICAgdW5vcmRlcmVkLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKCFpdGVtLmFmdGVyICYmICFpdGVtLmJlZm9yZSkge1xuICAgICAgICAgIG9yZGVyZWQucHVzaChpdGVtKTtcbiAgICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNlY29uZCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgICAvLyBzcGVjaWZ5IHRoZWlyIGJlZm9yZSB0byBcIl9lbmRcIlxuICAgICAgdW5vcmRlcmVkLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uYmVmb3JlID09PSBcIl9lbmRcIikge1xuICAgICAgICAgIG9yZGVyZWQucHVzaChpdGVtKTtcbiAgICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoaXJkIHBhc3M6IGtlZXAgaXRlcmF0aW5nIGl0ZW1zXG4gICAgICAvLyB1bnRpbCB3ZSBoaXQgaXRlcmF0aW9ucyBsaW1pdCBvciBmaW5pc2hcbiAgICAgIC8vIG9yZGVyaW5nIGxpc3RcbiAgICAgIGZ1bmN0aW9uIGluc2VydEl0ZW0oaXRlbSkge1xuICAgICAgICB2YXIgaW5zZXJ0QXQgPSAtMTtcbiAgICAgICAgaWYgKG9yZGVyaW5nLmluZGV4T2YoaXRlbS5rZXkpID09PSAtMSkge1xuICAgICAgICAgIGlmIChpdGVtLmFmdGVyKSB7XG4gICAgICAgICAgICBpbnNlcnRBdCA9IG9yZGVyaW5nLmluZGV4T2YoaXRlbS5hZnRlcik7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0QXQgIT09IC0xKSB7XG4gICAgICAgICAgICAgIGluc2VydEF0ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmJlZm9yZSkge1xuICAgICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYmVmb3JlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5zZXJ0QXQgIT09IC0xKSB7XG4gICAgICAgICAgICBvcmRlcmVkLnNwbGljZShpbnNlcnRBdCwgMCwgaXRlbSk7XG4gICAgICAgICAgICBvcmRlcmluZy5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0ua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAyMDA7XG4gICAgICB3aGlsZSAoaXRlcmF0aW9ucyA+IDAgJiYgaW5kZXgubGVuZ3RoICE9PSBvcmRlcmluZy5sZW5ndGgpIHtcbiAgICAgICAgaXRlcmF0aW9ucyAtPSAxO1xuICAgICAgICB1bm9yZGVyZWQuZm9yRWFjaChpbnNlcnRJdGVtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9yZGVyZWQ7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGRlZmF1bHQgT3JkZXJlZExpc3Q7XG4iLCJleHBvcnQgZnVuY3Rpb24gaW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSkgKyBtaW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShtaW4sIG1heCkge1xuICBsZXQgYXJyYXkgPSBuZXcgQXJyYXkoaW50KG1pbiwgbWF4KSk7XG4gIGZvcihsZXQgaT0wOyBpPGFycmF5Lmxlbmd0aDsgaSsrKXtcbiAgICBhcnJheVtpXSA9IGk7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFJvdXRlciwgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbW91bnQnKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0aW9ucykge1xuICBsZXQgcm91dGVzID0ge1xuICAgIGNvbXBvbmVudDogb3B0aW9ucy5jb21wb25lbnQgfHwgbnVsbCxcbiAgICBjaGlsZFJvdXRlczogW11cbiAgfTtcblxuICBpZiAob3B0aW9ucy5yb290KSB7XG4gICAgcm91dGVzLmNoaWxkUm91dGVzID0gW1xuICAgICAge1xuICAgICAgICBwYXRoOiBvcHRpb25zLnJvb3QsXG4gICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uKG5leHRTdGF0ZSwgcmVwbGFjZVN0YXRlKSB7XG4gICAgICAgICAgcmVwbGFjZVN0YXRlKG51bGwsIG9wdGlvbnMucGF0aHNbMF0ucGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLmNvbmNhdChvcHRpb25zLnBhdGhzKTtcbiAgfSBlbHNlIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBvcHRpb25zLnBhdGhzO1xuICB9XG5cbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8Um91dGVyIHJvdXRlcz17cm91dGVzfSBoaXN0b3J5PXticm93c2VySGlzdG9yeX0gLz5cbiAgICA8L1Byb3ZpZGVyPixcbiAgICByb290RWxlbWVudFxuICApO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHB1c2goYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBsZXQgY29weSA9IGFycmF5LnNsaWNlKCk7XG4gICAgY29weS5wdXNoKHZhbHVlKTtcbiAgICByZXR1cm4gY29weTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID49IDApIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIGxldCBjb3B5ID0gYXJyYXkuc2xpY2UoKTtcbiAgICBjb3B5LnB1c2godmFsdWUpO1xuICAgIHJldHVybiBjb3B5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGkgIT09IHZhbHVlO1xuICAgIH0pO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyaW5nLCBzdWJTdHJpbmcpIHtcbiAgc3RyaW5nID0gKHN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gIHN1YlN0cmluZyA9IChzdWJTdHJpbmcgKyBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChzdWJTdHJpbmcubGVuZ3RoIDw9IDApIHJldHVybiAwO1xuXG4gIGxldCBuID0gMDtcbiAgbGV0IHBvcyA9IDA7XG4gIGxldCBzdGVwID0gc3ViU3RyaW5nLmxlbmd0aDtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKHN1YlN0cmluZywgcG9zKTtcbiAgICBpZiAocG9zID49IDApIHtcbiAgICAgIG4gKz0gMTtcbiAgICAgIHBvcyArPSBzdGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbjtcbn0iLCJjb25zdCBFTUFJTCA9IC9eKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Mix9KSQvaTtcbmNvbnN0IFVTRVJOQU1FID0gbmV3IFJlZ0V4cCgnXlswLTlhLXpdKyQnLCAnaScpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWQoKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICgkLnRyaW0odmFsdWUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWFpbChtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghRU1BSUwudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlIHx8IGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbkxlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gJyc7XG4gICAgdmFyIGxlbmd0aCA9ICQudHJpbSh2YWx1ZSkubGVuZ3RoO1xuXG4gICAgaWYgKGxlbmd0aCA8IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBsaW1pdFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShyZXR1cm5NZXNzYWdlLCB7XG4gICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1heExlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gJyc7XG4gICAgdmFyIGxlbmd0aCA9ICQudHJpbSh2YWx1ZSkubGVuZ3RoO1xuXG4gICAgaWYgKGxlbmd0aCA+IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbW9zdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IG1vc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgbGltaXRWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUocmV0dXJuTWVzc2FnZSwge1xuICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1pbkxlbmd0aChzZXR0aW5ncykge1xuICB2YXIgbWVzc2FnZSA9IGZ1bmN0aW9uKGxpbWl0VmFsdWUpIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlVzZXJuYW1lIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIHRoaXMubWluTGVuZ3RoKHNldHRpbmdzLnVzZXJuYW1lX2xlbmd0aF9taW4sIG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNYXhMZW5ndGgoc2V0dGluZ3MpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsaW1pdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3Rlci5cIixcbiAgICAgIFwiVXNlcm5hbWUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG4gIH07XG4gIHJldHVybiB0aGlzLm1heExlbmd0aChzZXR0aW5ncy51c2VybmFtZV9sZW5ndGhfbWF4LCBtZXNzYWdlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZXJuYW1lQ29udGVudCgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFVU0VSTkFNRS50ZXN0KCQudHJpbSh2YWx1ZSkpKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlVzZXJuYW1lIGNhbiBvbmx5IGNvbnRhaW4gbGF0aW4gYWxwaGFiZXQgbGV0dGVycyBhbmQgZGlnaXRzLlwiKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXNzd29yZE1pbkxlbmd0aChzZXR0aW5ncykge1xuICB2YXIgbWVzc2FnZSA9IGZ1bmN0aW9uKGxpbWl0VmFsdWUpIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgXCJWYWxpZCBwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIHRoaXMubWluTGVuZ3RoKHNldHRpbmdzLnBhc3N3b3JkX2xlbmd0aF9taW4sIG1lc3NhZ2UpO1xufSJdfQ==
