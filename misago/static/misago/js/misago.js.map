{"version":3,"sources":["misago.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","value","Misago","undefined","_orderedList","_orderedList2","this","_initializers","_context","initializer","push","name","item","after","before","context","_this","initOrder","orderedValues","forEach","hasOwnProperty","fallback","has","misago","self","window","../../../../documents/misago/frontend/src/utils/ordered-list",2,"_ajax2","init","_index2","get","_index","_ajax","addInitializer","../../../../../documents/misago/frontend/src/index","../../../../../documents/misago/frontend/src/services/ajax",3,"_mountComponent2","_reactRedux","connect","_authMessage","select","_authMessage2","_mountComponent","../../../../../documents/misago/frontend/src/components/auth-message","../../../../../documents/misago/frontend/src/utils/mount-component","react-redux",4,"_store2","addReducer","_auth2","assign","isAuthenticated","isAnonymous","user","_auth","initialState","_store","../../../../../documents/misago/frontend/src/reducers/auth","../../../../../documents/misago/frontend/src/services/store",5,"_localStorage2","_modal2","_modal","_localStorage","../../../../../documents/misago/frontend/src/services/auth","../../../../../documents/misago/frontend/src/services/local-storage","../../../../../documents/misago/frontend/src/services/modal",6,"_bannedPage2","_bannedPage","../../../../../documents/misago/frontend/src/utils/banned-page",7,"_captcha2","_include2","_snackbar2","_captcha","_include","_snackbar","../../../../../documents/misago/frontend/src/services/captcha","../../../../../documents/misago/frontend/src/services/include","../../../../../documents/misago/frontend/src/services/snackbar",8,9,10,"element","document","getElementById","_mobileNavbarDropdown2","_mobileNavbarDropdown","../../../../../documents/misago/frontend/src/services/mobile-navbar-dropdown",11,12,"_moment2","locale","$","attr","_moment","moment",13,"_requestActivationLink2","_requestActivationLink","../../../../../documents/misago/frontend/src/components/request-activation-link",14,"_requestPasswordReset2","_requestPasswordReset","../../../../../documents/misago/frontend/src/components/request-password-reset",15,"_resetPasswordForm2","_resetPasswordForm","../../../../../documents/misago/frontend/src/components/reset-password-form",16,"Snackbar","../../../../../documents/misago/frontend/src/components/snackbar",17,"../../../../../documents/misago/frontend/src/reducers/snackbar",18,19,20,"_tick2","_tick","../../../../../documents/misago/frontend/src/reducers/tick",21,"setInterval","dispatch","doTick","TICK_PERIOD",22,"_root","UserMenu","CompactUserMenu","../../../../../documents/misago/frontend/src/components/user-menu/root",23,"_zxcvbn2","_zxcvbn","../../../../../documents/misago/frontend/src/services/zxcvbn",24,"_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","state","auth","signedIn","signedOut","_react","_react2","_class","_React$Component","getPrototypeOf","apply","arguments","location","reload","interpolate","gettext","username","createElement","className","getClassName","getMessage","type","onClick","refresh","Component","react",25,"BASE_URL","size","url","id","avatar_hash","src","getSrc","title",26,"message","html","dangerouslySetInnerHTML","__html","plain","expires","isAfter","expires_on","fromNow","getReasonMessage","getExpirationMessage",27,"_loader","_loader2","Button","disabled","loading","children","defaultProps","./loader",28,"_avatar","_button","_button2","cropAvatar","isLoading","setState","avatarType","upload","cropit","post","avatar_api_url","avatar","crop","offset","zoom","then","data","onComplete","options","success","detail","rejection","status","error","showError","crop_tmp","crop_org","secret","getAvatarSecret","getAvatarHash","join","_this2","width","getAvatarSize","height","imageState","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","x","y","displayedHeight","offsetY","showIndex","../../services/ajax","../../services/snackbar","../avatar","../button",29,"Gallery","GalleryItem","_batch","_batch2","_Object$getPrototypeO","_temp","_ret","_len","args","Array","_key","concat","image","selection","_React$Component2","_this3","images","map","row","_React$Component3","_this4","save","response","_this5","galleries","../../index","../../utils/batch",30,"_avatar2","setGravatar","callApi","setGenerated","gravatar","showCrop","showUpload","showGallery","getAvatarPreview","getGravatarButton","getCropButton","getUploadButton","getGalleryButton","../loader",31,"ChangeAvatarError","_crop","_crop2","_upload","_upload2","_gallery","_gallery2","_modalLoader","_modalLoader2","_users","reason","getErrorReason","component","completeFlow","avatarHash","updateAvatar","role","data-dismiss","aria-label","aria-hidden","getBody","../../reducers/users","../../services/store","../modal-loader","./crop","./gallery","./index","./upload",32,"_fileSize","_fileSize2","pickFile","click","uploadFile","files","validationError","validateFile","preview","URL","createObjectURL","progress","FormData","append","uploaded","info","limit","filesize","invalidTypeMsg","allowed_mime_types","indexOf","extensionFound","loweredFilename","toLowerCase","allowed_extensions","extension","substr","extensions","getUploadRequirements","aria-valuenow","aria-valuemin","aria-valuemax","style","getUploadProgressLabel","onChange","getUploadProgress","renderCrop","renderUpload","../../utils/file-size",33,"validation","isValidated","helpText","labelClass","htmlFor","label","controlClass","getFeedbackIcon","getFeedbackDescription","getFeedback","getHelpText","extra",34,"_validators","validateRequired","required","bindInput","event","newState","formErrors","errors","validateField","handleSubmit","preventDefault","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","fieldErrors","validate","field","requiredError","../utils/validators",35,36,37,"LABELS","STYLES","_score","_password","_inputs","password","inputs","cacheStale","trim","scorePassword","score","getScore","../services/zxcvbn",38,"_register","_register2","showRegisterModal","account_activation","isLoaded","show","Promise","all","load","../services/captcha","../services/modal","../services/snackbar","./register.js",39,"_interopRequireWildcard","newObj","RegisterComplete","RegisterForm","_form","_form2","_formGroup","_formGroup2","_passwordStrength","_passwordStrength2","_Form","email","captcha","usernameContent","usernameMinLength","usernameMaxLength","passwordMinLength","validator","isValid","apiResponse","callback","ban","hide","apiError","href","onSubmit","display","for","aria-describedby","form","getLegalFootNote","activation","getLead","getSubscript","completeRegistration","signIn","complete","../index","../services/ajax","../services/auth","../utils/banned-page","./button","./form","./form-group","./password-strength",40,"LinkSent","RequestLinkForm","placeholder","reset",41,"AccountInactivePage","RequestResetForm","_reactDom","_reactDom2","showInactivePage","getActivateButton","render","react-dom",42,"PasswordChangedPage","ResetPasswordForm","_signIn","_signIn2","showSignIn","softSignOut","remove","./sign-in.js",43,"showActivation","find","val","getCsrfToken","pathname","submit","getActivationButton",44,"snackbar","TYPES_CLASSES","warning","snackbarClass","isVisible","getSnackbarClass",45,"CompactGuestNav","GuestNav","GuestMenu","_registerButton","_registerButton2","showSignInModal","_GuestMenu","showGuestMenu","../../services/mobile-navbar-dropdown","../../services/modal","../register-button","../sign-in.js",46,"_guestNav","_userNav","UserNav","CompactUserNav","./guest-nav","./user-nav",47,"selectUserMenu","_root2","decision","confirm","absolute_url","changeAvatar","logout","data-toggle","aria-haspopup","aria-expanded","showConnected","showUserMenu","../change-avatar/root",48,"./utils/ordered-list",49,"SIGN_IN","signOut","soft","SIGN_OUT","action","UPDATE_AVATAR","userId","./users",50,"showSnackbar","SHOW_SNACKBAR","messageType","hideSnackbar","HIDE_SNACKBAR",51,"TICK","tick",52,53,"Ajax","_cookieName","_csrfToken","cookieName","cookie","cookieRegex","RegExp","match","split","method","resolve","reject","xhr","headers","X-CSRFToken","JSON","stringify","contentType","dataType","jqXHR","responseJSON","statusText","ajax","request","processData","XMLHttpRequest","addEventListener","evt","lengthComputable","Math","round","loaded","total",54,"Auth","store","local","modal","_local","syncSession","watchState","getState","set","watch","../reducers/auth",55,"Captcha","ReCaptcha","ReCaptchaComponent","QACaptcha","NoCaptcha","BaseCaptcha","include","_BaseCaptcha","_BaseCaptcha2","question","help_text","kwargs","grecaptcha","sitekey","siteKey","binding","_BaseCaptcha3","wait","setTimeout","recaptcha_site_key","captcha_type","../components/form-group",56,"Include","staticUrl","_staticUrl","_included","script","remote","cache",57,"storage","localStorage","LocalStorage","prefix","_prefix","_watchers","newValueJson","parse","newValue","watcher","oldValue","setItem","itemString","getItem",58,"MobileNavbarDropdown","_element","_component","addClass","removeClass","../utils/mount-component",59,"Modal","on","unmountComponentAtNode",60,"HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","clearTimeout","alert","../reducers/snackbar",61,"StoreWrapper","_redux","_reducers","_initialState","reducer","createStore","combineReducers","redux",62,"Zxcvbn","zxcvbn","_loadingPromise","_loadedPromise",63,"changeState","Provider","getStore","RedrawedBannedPage","forumName","forum_name","history","pushState","../components/banned-page","../services/store",64,"list","rowWidth","padding","rows",65,"bytes",66,"rootElementId","connected","rootElement",67,"OrderedList","items","isOrdered","_items","order","values","values_only","_order","unordered","insertItem","insertAt","ordering","ordered","splice","index","iterations",68,"EMAIL","test","minLength","limitValue","returnMessage","ngettext","limit_value","show_value","maxLength","settings","username_length_min","username_length_max","USERNAME","password_length_min"],"mappings":"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","file":"misago.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Misago = undefined;\n\nvar _orderedList = require('../../../../documents/misago/frontend/src/utils/ordered-list');\n\nvar _orderedList2 = _interopRequireDefault(_orderedList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Misago = exports.Misago = function () {\n  function Misago() {\n    _classCallCheck(this, Misago);\n\n    this._initializers = [];\n    this._context = {};\n  }\n\n  _createClass(Misago, [{\n    key: 'addInitializer',\n    value: function addInitializer(initializer) {\n      this._initializers.push({\n        key: initializer.name,\n\n        item: initializer.initializer,\n\n        after: initializer.after,\n        before: initializer.before\n      });\n    }\n  }, {\n    key: 'init',\n    value: function init(context) {\n      var _this = this;\n\n      this._context = context;\n\n      var initOrder = new _orderedList2.default(this._initializers).orderedValues();\n      initOrder.forEach(function (initializer) {\n        initializer(_this);\n      });\n    }\n\n    // context accessors\n\n  }, {\n    key: 'has',\n    value: function has(key) {\n      return this._context.hasOwnProperty(key);\n    }\n  }, {\n    key: 'get',\n    value: function get(key, fallback) {\n      if (this.has(key)) {\n        return this._context[key];\n      } else {\n        return fallback || undefined;\n      }\n    }\n  }]);\n\n  return Misago;\n}();\n\n// create  singleton\n\nvar misago = new Misago();\n\n// expose it globally\nglobal.misago = misago;\n\n// and export it for tests and stuff\nexports.default = misago;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../../../documents/misago/frontend/src/utils/ordered-list\":67}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../../../../../documents/misago/frontend/src/services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));\n}\n\n_index2.default.addInitializer({\n  name: 'ajax',\n  initializer: initializer\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/ajax\":53}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _authMessage = require('../../../../../documents/misago/frontend/src/components/auth-message');\n\nvar _authMessage2 = _interopRequireDefault(_authMessage);\n\nvar _mountComponent = require('../../../../../documents/misago/frontend/src/utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:auth-message',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/components/auth-message\":24,\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/utils/mount-component\":66,\"react-redux\":\"react-redux\"}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../../../../../documents/misago/frontend/src/reducers/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _store = require('../../../../../documents/misago/frontend/src/services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _store2.default.addReducer('auth', _auth2.default, Object.assign({\n    'isAuthenticated': context.get('isAuthenticated'),\n    'isAnonymous': !context.get('isAuthenticated'),\n\n    'user': context.get('user')\n  }, _auth.initialState));\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:auth',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/reducers/auth\":49,\"../../../../../documents/misago/frontend/src/services/store\":61}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../../../../../documents/misago/frontend/src/services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _modal = require('../../../../../documents/misago/frontend/src/services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _store = require('../../../../../documents/misago/frontend/src/services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _localStorage = require('../../../../../documents/misago/frontend/src/services/local-storage');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'auth',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/auth\":54,\"../../../../../documents/misago/frontend/src/services/local-storage\":57,\"../../../../../documents/misago/frontend/src/services/modal\":59,\"../../../../../documents/misago/frontend/src/services/store\":61}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _bannedPage = require('../../../../../documents/misago/frontend/src/utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.get('BAN_MESSAGE')) {\n    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:baned-page',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/utils/banned-page\":63}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../../../../../documents/misago/frontend/src/services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _captcha = require('../../../../../documents/misago/frontend/src/services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _include = require('../../../../../documents/misago/frontend/src/services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nvar _snackbar = require('../../../../../documents/misago/frontend/src/services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'captcha',\n  initializer: initializer\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/ajax\":53,\"../../../../../documents/misago/frontend/src/services/captcha\":55,\"../../../../../documents/misago/frontend/src/services/include\":56,\"../../../../../documents/misago/frontend/src/services/snackbar\":60}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _include = require('../../../../../documents/misago/frontend/src/services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _include2.default.init(context.get('STATIC_URL'));\n}\n\n_index2.default.addInitializer({\n  name: 'include',\n  initializer: initializer\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/include\":56}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _localStorage = require('../../../../../documents/misago/frontend/src/services/local-storage');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _localStorage2.default.init('misago_');\n}\n\n_index2.default.addInitializer({\n  name: 'local-storage',\n  initializer: initializer\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/local-storage\":57}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mobileNavbarDropdown = require('../../../../../documents/misago/frontend/src/services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('mobile-navbar-dropdown-mount');\n  if (element) {\n    _mobileNavbarDropdown2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'dropdown',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/mobile-navbar-dropdown\":58}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _modal = require('../../../../../documents/misago/frontend/src/services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('modal-mount');\n  if (element) {\n    _modal2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'modal',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/modal\":59}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _moment2.default.locale($('html').attr('lang'));\n}\n\n_index2.default.addInitializer({\n  name: 'moment',\n  initializer: initializer\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"moment\":\"moment\"}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _requestActivationLink = require('../../../../../documents/misago/frontend/src/components/request-activation-link');\n\nvar _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);\n\nvar _mountComponent = require('../../../../../documents/misago/frontend/src/utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('request-activation-link-mount')) {\n    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:request-activation-link',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/components/request-activation-link\":40,\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/utils/mount-component\":66}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _requestPasswordReset = require('../../../../../documents/misago/frontend/src/components/request-password-reset');\n\nvar _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);\n\nvar _mountComponent = require('../../../../../documents/misago/frontend/src/utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('request-password-reset-mount')) {\n    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:request-password-reset',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/components/request-password-reset\":41,\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/utils/mount-component\":66}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _resetPasswordForm = require('../../../../../documents/misago/frontend/src/components/reset-password-form');\n\nvar _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);\n\nvar _mountComponent = require('../../../../../documents/misago/frontend/src/utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('reset-password-form-mount')) {\n    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:reset-password-form',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/components/reset-password-form\":42,\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/utils/mount-component\":66}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../../../../../documents/misago/frontend/src/components/snackbar');\n\nvar _mountComponent = require('../../../../../documents/misago/frontend/src/utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:snackbar',\n  initializer: initializer,\n  after: 'snackbar'\n});\n\n},{\"../../../../../documents/misago/frontend/src/components/snackbar\":44,\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/utils/mount-component\":66,\"react-redux\":\"react-redux\"}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../../../../../documents/misago/frontend/src/reducers/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../../documents/misago/frontend/src/services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:snackbar',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/reducers/snackbar\":50,\"../../../../../documents/misago/frontend/src/services/store\":61}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../../../../../documents/misago/frontend/src/services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../../documents/misago/frontend/src/services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _snackbar2.default.init(_store2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'snackbar',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/snackbar\":60,\"../../../../../documents/misago/frontend/src/services/store\":61}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../../../../../documents/misago/frontend/src/services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.init();\n}\n\n_index2.default.addInitializer({\n  name: 'store',\n  initializer: initializer,\n  before: '_end'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/store\":61}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../../../../../documents/misago/frontend/src/reducers/tick');\n\nvar _tick2 = _interopRequireDefault(_tick);\n\nvar _store = require('../../../../../documents/misago/frontend/src/services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:tick',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/reducers/tick\":51,\"../../../../../documents/misago/frontend/src/services/store\":61}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../../../../../documents/misago/frontend/src/reducers/tick');\n\nvar _store = require('../../../../../documents/misago/frontend/src/services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TICK_PERIOD = 50 * 1000; //do the tick every 50s\n\nfunction initializer() {\n  window.setInterval(function () {\n    _store2.default.dispatch((0, _tick.doTick)());\n  }, TICK_PERIOD);\n}\n\n_index2.default.addInitializer({\n  name: 'tick-start',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/reducers/tick\":51,\"../../../../../documents/misago/frontend/src/services/store\":61}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _root = require('../../../../../documents/misago/frontend/src/components/user-menu/root');\n\nvar _mountComponent = require('../../../../../documents/misago/frontend/src/utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:user-menu',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../../../../documents/misago/frontend/src/components/user-menu/root\":46,\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/utils/mount-component\":66,\"react-redux\":\"react-redux\"}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../../../../documents/misago/frontend/src/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _include = require('../../../../../documents/misago/frontend/src/services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nvar _zxcvbn = require('../../../../../documents/misago/frontend/src/services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _zxcvbn2.default.init(_include2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'zxcvbn',\n  initializer: initializer\n});\n\n},{\"../../../../../documents/misago/frontend/src/index\":48,\"../../../../../documents/misago/frontend/src/services/include\":56,\"../../../../../documents/misago/frontend/src/services/zxcvbn\":62}],24:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.select = select;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"refresh\",\n    value: function refresh() {\n      window.location.reload();\n    }\n  }, {\n    key: \"getMessage\",\n    value: function getMessage() {\n      if (this.props.signedIn) {\n        return interpolate(gettext(\"You have signed in as %(username)s. Please refresh the page before continuing.\"), { username: this.props.signedIn.username }, true);\n      } else if (this.props.signedOut) {\n        return interpolate(gettext(\"%(username)s, you have been signed out. Please refresh the page before continuing.\"), { username: this.props.user.username }, true);\n      }\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      if (this.props.signedIn || this.props.signedOut) {\n        return \"auth-message show\";\n      } else {\n        return \"auth-message\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"container\" },\n          _react2.default.createElement(\n            \"p\",\n            { className: \"lead\" },\n            this.getMessage()\n          ),\n          _react2.default.createElement(\n            \"p\",\n            null,\n            _react2.default.createElement(\n              \"button\",\n              { type: \"button\", className: \"btn btn-default\",\n                onClick: this.refresh },\n              gettext(\"Reload page\")\n            ),\n            \" \",\n            _react2.default.createElement(\n              \"span\",\n              { className: \"hidden-xs hidden-sm text-muted\" },\n              gettext(\"or press F5 key.\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut\n  };\n}\n\n},{\"react\":\"react\"}],25:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BASE_URL = $('base').attr('href') + 'user-avatar/';\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getSrc',\n    value: function getSrc() {\n      var size = this.props.size || 100; // jshint ignore:line\n      var url = BASE_URL;\n\n      if (this.props.user && this.props.user.id) {\n        // just avatar hash, size and user id\n        url += this.props.user.avatar_hash + '/' + size + '/' + this.props.user.id + '.png';\n      } else {\n        // just append avatar size to file to produce no-avatar placeholder\n        url += size + '.png';\n      }\n\n      return url;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement('img', { src: this.getSrc(),\n        className: this.props.className || 'user-avatar',\n        title: gettext(\"User avatar\") });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],26:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getReasonMessage',\n    value: function getReasonMessage() {\n      /* jshint ignore:start */\n      if (this.props.message.html) {\n        return _react2.default.createElement('div', { className: 'lead',\n          dangerouslySetInnerHTML: { __html: this.props.message.html } });\n      } else {\n        return _react2.default.createElement(\n          'p',\n          { className: 'lead' },\n          this.props.message.plain\n        );\n      }\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getExpirationMessage',\n    value: function getExpirationMessage() {\n      if (this.props.expires) {\n        if (this.props.expires.isAfter((0, _moment2.default)())) {\n          return interpolate(gettext(\"This ban expires %(expires_on)s.\"), { 'expires_on': this.props.expires.fromNow() }, true);\n        } else {\n          return gettext(\"This ban has expired.\");\n        }\n      } else {\n        return gettext(\"This ban is permanent.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-error page-error-banned' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'highlight_off'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              this.getReasonMessage(),\n              _react2.default.createElement(\n                'p',\n                { className: 'message-footnote' },\n                this.getExpirationMessage()\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"moment\":\"moment\",\"react\":\"react\"}],27:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Button).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: 'render',\n    value: function render() {\n      var className = 'btn ' + this.props.className;\n      var disabled = this.props.disabled;\n\n      if (this.props.loading) {\n        className += ' btn-loading';\n        disabled = true;\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: this.props.onClick ? 'button' : 'submit',\n          className: className,\n          disabled: disabled,\n          onClick: this.props.onClick },\n        this.props.children,\n        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Button;\n}(_react2.default.Component);\n\nexports.default = Button;\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null\n};\n\n},{\"./loader\":35,\"react\":\"react\"}],28:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n// jshint ignore:line\n\nvar BASE_URL = $('base').attr('href') + 'user-avatar';\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.cropAvatar = function () {\n      if (_this.state.isLoading) {\n        return false;\n      }\n\n      _this.setState({\n        'isLoading': true\n      });\n\n      var avatarType = _this.props.upload ? 'crop_tmp' : 'crop_org';\n      var cropit = $('.crop-form');\n\n      _ajax2.default.post(_this.props.user.avatar_api_url, {\n        'avatar': avatarType,\n        'crop': {\n          'offset': cropit.cropit('offset'),\n          'zoom': cropit.cropit('zoom')\n        }\n      }).then(function (data) {\n        _this.props.onComplete(data.avatar_hash, data.options);\n        _snackbar2.default.success(data.detail);\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n          _this.setState({\n            'isLoading': false\n          });\n        } else {\n          _this.props.showError(rejection);\n        }\n      });\n    };\n\n    _this.state = {\n      'isLoading': false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'getAvatarSize',\n    value: function getAvatarSize() {\n      if (this.props.upload) {\n        return this.props.options.crop_tmp.size;\n      } else {\n        return this.props.options.crop_org.size;\n      }\n    }\n  }, {\n    key: 'getAvatarSecret',\n    value: function getAvatarSecret() {\n      if (this.props.upload) {\n        return this.props.options.crop_tmp.secret;\n      } else {\n        return this.props.options.crop_org.secret;\n      }\n    }\n  }, {\n    key: 'getAvatarHash',\n    value: function getAvatarHash() {\n      return this.props.upload || this.props.user.avatar_hash;\n    }\n  }, {\n    key: 'getImagePath',\n    value: function getImagePath() {\n      return [BASE_URL, this.getAvatarSecret() + ':' + this.getAvatarHash(), this.props.user.id + '.png'].join('/');\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var cropit = $('.crop-form');\n      cropit.width(this.getAvatarSize());\n\n      cropit.cropit({\n        'width': this.getAvatarSize(),\n        'height': this.getAvatarSize(),\n        'imageState': {\n          'src': this.getImagePath()\n        },\n        onImageLoaded: function onImageLoaded() {\n          if (_this2.props.upload) {\n            // center uploaded image\n            var zoomLevel = cropit.cropit('zoom');\n            var imageSize = cropit.cropit('imageSize');\n\n            // is it wider than taller?\n            if (imageSize.width > imageSize.height) {\n              var displayedWidth = imageSize.width * zoomLevel;\n              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;\n\n              cropit.cropit('offset', {\n                'x': offsetX,\n                'y': 0\n              });\n            } else if (imageSize.width < imageSize.height) {\n              var displayedHeight = imageSize.height * zoomLevel;\n              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;\n\n              cropit.cropit('offset', {\n                'x': 0,\n                'y': offsetY\n              });\n            }\n          } else {\n            // use preserved crop\n            var crop = _this2.props.options.crop_org.crop;\n            if (crop) {\n              cropit.cropit('zoom', crop.zoom);\n              cropit.cropit('offset', {\n                'x': crop.x,\n                'y': crop.y\n              });\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      $('.crop-form').cropit('disable');\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body modal-avatar-crop' },\n          _react2.default.createElement(\n            'div',\n            { className: 'crop-form' },\n            _react2.default.createElement('div', { className: 'cropit-image-preview' }),\n            _react2.default.createElement('input', { type: 'range', className: 'cropit-image-zoom-input' })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-6 col-md-offset-3' },\n            _react2.default.createElement(\n              _button2.default,\n              { onClick: this.cropAvatar,\n                loading: this.state.isLoading,\n                className: 'btn-primary btn-block' },\n              this.props.upload ? gettext(\"Set avatar\") : gettext(\"Crop image\")\n            ),\n            _react2.default.createElement(\n              _button2.default,\n              { onClick: this.props.showIndex,\n                disabled: this.state.isLoading,\n                className: 'btn-default btn-block' },\n              gettext(\"Cancel\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":53,\"../../services/snackbar\":60,\"../avatar\":25,\"../button\":27,\"react\":\"react\"}],29:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Gallery = exports.GalleryItem = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _batch = require('../../utils/batch');\n\nvar _batch2 = _interopRequireDefault(_batch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n// jshint ignore:line\n\nvar GalleryItem = exports.GalleryItem = function (_React$Component) {\n  _inherits(GalleryItem, _React$Component);\n\n  function GalleryItem() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, GalleryItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(GalleryItem)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.select = function () {\n      _this.props.select(_this.props.image);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /* jshint ignore:start */\n\n  _createClass(GalleryItem, [{\n    key: 'getClassName',\n\n    /* jshint ignore:end */\n\n    value: function getClassName() {\n      if (this.props.selection === this.props.image) {\n        if (this.props.disabled) {\n          return 'btn btn-avatar btn-disabled avatar-selected';\n        } else {\n          return 'btn btn-avatar avatar-selected';\n        }\n      } else if (this.props.disabled) {\n        return 'btn btn-avatar btn-disabled';\n      } else {\n        return 'btn btn-avatar';\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button',\n          className: this.getClassName(),\n          disabled: this.props.disabled,\n          onClick: this.select },\n        _react2.default.createElement('img', { src: _index2.default.get('MEDIA_URL') + this.props.image })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GalleryItem;\n}(_react2.default.Component);\n\nvar Gallery = exports.Gallery = function (_React$Component2) {\n  _inherits(Gallery, _React$Component2);\n\n  function Gallery() {\n    _classCallCheck(this, Gallery);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Gallery).apply(this, arguments));\n  }\n\n  _createClass(Gallery, [{\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'avatars-gallery' },\n        _react2.default.createElement(\n          'h3',\n          null,\n          this.props.name\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'avatars-gallery-images' },\n          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {\n            return _react2.default.createElement(\n              'div',\n              { className: 'row', key: i },\n              row.map(function (item, i) {\n                return _react2.default.createElement(\n                  'div',\n                  { className: 'col-xs-3', key: i },\n                  item ? _react2.default.createElement(GalleryItem, { image: item,\n                    disabled: _this3.props.disabled,\n                    select: _this3.props.select,\n                    selection: _this3.props.selection }) : _react2.default.createElement('div', { className: 'blank-avatar' })\n                );\n              })\n            );\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Gallery;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component3) {\n  _inherits(_class, _React$Component3);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this4.select = function (image) {\n      _this4.setState({\n        selection: image\n      });\n    };\n\n    _this4.save = function () {\n      if (_this4.state.isLoading) {\n        return false;\n      }\n\n      _this4.setState({\n        'isLoading': true\n      });\n\n      _ajax2.default.post(_this4.props.user.avatar_api_url, {\n        avatar: 'galleries',\n        image: _this4.state.selection\n      }).then(function (response) {\n        _this4.setState({\n          'isLoading': false\n        });\n\n        _snackbar2.default.success(response.detail);\n        _this4.props.onComplete(response.avatar_hash, response.options);\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n          _this4.setState({\n            'isLoading': false\n          });\n        } else {\n          _this4.props.showError(rejection);\n        }\n      });\n    };\n\n    _this4.state = {\n      'selection': null,\n      'isLoading': false\n    };\n    return _this4;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      var _this5 = this;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body modal-avatar-gallery' },\n          this.props.options.galleries.map(function (item, i) {\n            return _react2.default.createElement(Gallery, { name: item.name,\n              images: item.images,\n              selection: _this5.state.selection,\n              disabled: _this5.state.isLoading,\n              select: _this5.select,\n              key: i });\n          })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-6 col-md-offset-3' },\n              _react2.default.createElement(\n                _button2.default,\n                { onClick: this.save,\n                  loading: this.state.isLoading,\n                  disabled: !this.state.selection,\n                  className: 'btn-primary btn-block' },\n                this.state.selection ? gettext(\"Save choice\") : gettext(\"Select avatar\")\n              ),\n              _react2.default.createElement(\n                _button2.default,\n                { onClick: this.props.showIndex,\n                  disabled: this.state.isLoading,\n                  className: 'btn-default btn-block' },\n                gettext(\"Cancel\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../index\":48,\"../../services/ajax\":53,\"../../services/snackbar\":60,\"../../utils/batch\":64,\"../button\":27,\"react\":\"react\"}],30:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _loader = require('../loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.setGravatar = function () {\n      _this.callApi('gravatar');\n    };\n\n    _this.setGenerated = function () {\n      _this.callApi('generated');\n    };\n\n    _this.state = {\n      'isLoading': false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'callApi',\n    value: function callApi(avatarType) {\n      var _this2 = this;\n\n      if (this.state.isLoading) {\n        return false;\n      }\n\n      this.setState({\n        'isLoading': true\n      });\n\n      _ajax2.default.post(this.props.user.avatar_api_url, {\n        avatar: avatarType\n      }).then(function (response) {\n        _this2.setState({\n          'isLoading': false\n        });\n\n        _snackbar2.default.success(response.detail);\n        _this2.props.onComplete(response.avatar_hash, response.options);\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n          _this2.setState({\n            'isLoading': false\n          });\n        } else {\n          _this2.props.showError(rejection);\n        }\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getGravatarButton',\n\n    /* jshint ignore:end */\n\n    value: function getGravatarButton() {\n      if (this.props.options.gravatar) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _button2.default,\n          { onClick: this.setGravatar,\n            disabled: this.state.isLoading,\n            className: 'btn-default btn-block btn-avatar-gravatar' },\n          gettext(\"Download my Gravatar\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getCropButton',\n    value: function getCropButton() {\n      if (this.props.options.crop_org) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _button2.default,\n          { onClick: this.props.showCrop,\n            disabled: this.state.isLoading,\n            className: 'btn-default btn-block btn-avatar-crop' },\n          gettext(\"Re-crop uploaded image\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getUploadButton',\n    value: function getUploadButton() {\n      if (this.props.options.upload) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _button2.default,\n          { onClick: this.props.showUpload,\n            disabled: this.state.isLoading,\n            className: 'btn-default btn-block btn-avatar-upload' },\n          gettext(\"Upload new image\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getGalleryButton',\n    value: function getGalleryButton() {\n      if (this.props.options.galleries) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _button2.default,\n          { onClick: this.props.showGallery,\n            disabled: this.state.isLoading,\n            className: 'btn-default btn-block btn-avatar-gallery' },\n          gettext(\"Pick avatar from gallery\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getAvatarPreview',\n    value: function getAvatarPreview() {\n      if (this.state.isLoading) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'avatar-preview preview-loading' },\n          _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '200' }),\n          _react2.default.createElement(_loader2.default, null)\n        );\n        /* jshint ignore:end */\n      } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(\n            'div',\n            { className: 'avatar-preview' },\n            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '200' })\n          );\n          /* jshint ignore:end */\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-avatar-index' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-5' },\n            this.getAvatarPreview()\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-7' },\n            this.getGravatarButton(),\n            _react2.default.createElement(\n              _button2.default,\n              { onClick: this.setGenerated,\n                disabled: this.state.isLoading,\n                className: 'btn-default btn-block btn-avatar-generate' },\n              gettext(\"Generate my individual avatar\")\n            ),\n            this.getCropButton(),\n            this.getUploadButton(),\n            this.getGalleryButton()\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":53,\"../../services/snackbar\":60,\"../avatar\":25,\"../button\":27,\"../loader\":35,\"react\":\"react\"}],31:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChangeAvatarError = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('./index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _crop = require('./crop');\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nvar _upload = require('./upload');\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _gallery = require('./gallery');\n\nvar _gallery2 = _interopRequireDefault(_gallery);\n\nvar _modalLoader = require('../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _users = require('../../reducers/users');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n// jshint ignore:line\n\nvar ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {\n  _inherits(ChangeAvatarError, _React$Component);\n\n  function ChangeAvatarError() {\n    _classCallCheck(this, ChangeAvatarError);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ChangeAvatarError).apply(this, arguments));\n  }\n\n  _createClass(ChangeAvatarError, [{\n    key: 'getErrorReason',\n    value: function getErrorReason() {\n      if (this.props.reason) {\n        /* jshint ignore:start */\n        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'message-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'remove_circle_outline'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'message-body' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            this.props.message\n          ),\n          this.getErrorReason()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ChangeAvatarError;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this2), _this2.showError = function (error) {\n      _this2.setState({\n        error: error\n      });\n    }, _this2.showIndex = function () {\n      _this2.setState({\n        'component': _index2.default\n      });\n    }, _this2.showUpload = function () {\n      _this2.setState({\n        'component': _upload2.default\n      });\n    }, _this2.showCrop = function () {\n      _this2.setState({\n        'component': _crop2.default\n      });\n    }, _this2.showGallery = function () {\n      _this2.setState({\n        'component': _gallery2.default\n      });\n    }, _this2.completeFlow = function (avatarHash, options) {\n      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, avatarHash));\n\n      _this2.setState({\n        'component': _index2.default,\n        options: options\n      });\n    }, _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      _ajax2.default.get(this.props.user.avatar_api_url).then(function (options) {\n        _this3.setState({\n          'component': _index2.default,\n          'options': options,\n          'error': null\n        });\n      }, function (rejection) {\n        _this3.showError(rejection);\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getBody',\n\n    /* jshint ignore:end */\n\n    value: function getBody() {\n      if (this.state) {\n        if (this.state.error) {\n          /* jshint ignore:start */\n          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,\n            reason: this.state.error.reason });\n          /* jshint ignore:end */\n        } else {\n            /* jshint ignore:start */\n            return _react2.default.createElement(this.state.component, { options: this.state.options,\n              user: this.props.user,\n              onComplete: this.completeFlow,\n              showError: this.showError,\n              showIndex: this.showIndex,\n              showCrop: this.showCrop,\n              showUpload: this.showUpload,\n              showGallery: this.showGallery });\n            /* jshint ignore:end */\n          }\n      } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(_modalLoader2.default, null);\n          /* jshint ignore:end */\n        }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.state && this.state.error) {\n        return \"modal-dialog modal-message modal-change-avatar\";\n      } else {\n        return \"modal-dialog modal-change-avatar\";\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(),\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '×'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Change your avatar\")\n            )\n          ),\n          this.getBody()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction select(state) {\n  return {\n    'user': state.auth.user\n  };\n}\n\n},{\"../../reducers/users\":52,\"../../services/ajax\":53,\"../../services/store\":61,\"../modal-loader\":36,\"./crop\":28,\"./gallery\":29,\"./index\":30,\"./upload\":32,\"react\":\"react\"}],32:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _crop = require('./crop');\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _fileSize = require('../../utils/file-size');\n\nvar _fileSize2 = _interopRequireDefault(_fileSize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.pickFile = function () {\n      document.getElementById('avatar-hidden-upload').click();\n    };\n\n    _this.uploadFile = function () {\n      var image = document.getElementById('avatar-hidden-upload').files[0];\n\n      var validationError = _this.validateFile(image);\n      if (validationError) {\n        _snackbar2.default.error(validationError);\n        return;\n      }\n\n      _this.setState({\n        image: image,\n        'preview': URL.createObjectURL(image),\n        'progress': 0\n      });\n\n      var data = new FormData();\n      data.append('avatar', 'upload');\n      data.append('image', image);\n\n      _ajax2.default.upload(_this.props.user.avatar_api_url, data, function (progress) {\n        _this.setState({\n          progress: progress\n        });\n      }).then(function (data) {\n        _this.setState({\n          'options': data.options,\n          'uploaded': data.detail\n        });\n        _snackbar2.default.info(gettext(\"Your image has been uploaded and you may now crop it.\"));\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n          _this.setState({\n            'isLoading': false,\n            'image': null,\n            'progress': 0\n          });\n        } else {\n          _this.props.showError(rejection);\n        }\n      });\n    };\n\n    _this.state = {\n      'image': null,\n      'preview': null,\n      'progress': 0,\n      'uploaded': null\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'validateFile',\n    value: function validateFile(image) {\n      if (image.size > this.props.options.upload.limit) {\n        return interpolate(gettext(\"Selected file is too big. (%(filesize)s)\"), {\n          'filesize': (0, _fileSize2.default)(image.size)\n        }, true);\n      }\n\n      var invalidTypeMsg = gettext(\"Selected file type is not supported.\");\n      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {\n        return invalidTypeMsg;\n      }\n\n      var extensionFound = false;\n      var loweredFilename = image.name.toLowerCase();\n      this.props.options.upload.allowed_extensions.map(function (extension) {\n        if (loweredFilename.substr(extension.length * -1) === extension) {\n          extensionFound = true;\n        }\n      });\n\n      if (!extensionFound) {\n        return invalidTypeMsg;\n      }\n\n      return false;\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getUploadRequirements',\n\n    /* jshint ignore:end */\n\n    value: function getUploadRequirements(options) {\n      var extensions = options.allowed_extensions.map(function (extension) {\n        return extension.substr(1);\n      });\n\n      return interpolate(gettext(\"%(files)s files smaller than %(limit)s\"), {\n        'files': extensions.join(', '),\n        'limit': (0, _fileSize2.default)(options.limit)\n      }, true);\n    }\n  }, {\n    key: 'getUploadButton',\n    value: function getUploadButton() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-avatar-upload' },\n        _react2.default.createElement(\n          _button2.default,\n          { className: 'btn-pick-file',\n            onClick: this.pickFile },\n          _react2.default.createElement(\n            'div',\n            { className: 'material-icon' },\n            'input'\n          ),\n          gettext(\"Select file\")\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'text-muted' },\n          this.getUploadRequirements(this.props.options.upload)\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getUploadProgressLabel',\n    value: function getUploadProgressLabel() {\n      return interpolate(gettext(\"%(progress)s % complete\"), {\n        'progress': this.state.progress\n      }, true);\n    }\n  }, {\n    key: 'getUploadProgress',\n    value: function getUploadProgress() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-avatar-upload' },\n        _react2.default.createElement(\n          'div',\n          { className: 'upload-progress' },\n          _react2.default.createElement('img', { src: this.state.preview }),\n          _react2.default.createElement(\n            'div',\n            { className: 'progress' },\n            _react2.default.createElement(\n              'div',\n              { className: 'progress-bar', role: 'progressbar',\n                'aria-valuenow': '{this.state.progress}',\n                'aria-valuemin': '0', 'aria-valuemax': '100',\n                style: { width: this.state.progress + '%' } },\n              _react2.default.createElement(\n                'span',\n                { className: 'sr-only' },\n                this.getUploadProgressLabel()\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'renderUpload',\n    value: function renderUpload() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement('input', { type: 'file',\n          id: 'avatar-hidden-upload',\n          className: 'hidden-file-upload',\n          onChange: this.uploadFile }),\n        this.state.image ? this.getUploadProgress() : this.getUploadButton(),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-6 col-md-offset-3' },\n            _react2.default.createElement(\n              _button2.default,\n              { onClick: this.props.showIndex,\n                disabled: !!this.state.image,\n                className: 'btn-default btn-block' },\n              gettext(\"Cancel\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'renderCrop',\n    value: function renderCrop() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(_crop2.default, { options: this.state.options,\n        user: this.props.user,\n        upload: this.state.uploaded,\n        onComplete: this.props.onComplete,\n        showError: this.props.showError,\n        showIndex: this.props.showIndex });\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return this.state.uploaded ? this.renderCrop() : this.renderUpload();\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":53,\"../../services/snackbar\":60,\"../../utils/file-size\":65,\"../button\":27,\"./crop\":28,\"react\":\"react\"}],33:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'isValidated',\n    value: function isValidated() {\n      return typeof this.props.validation !== \"undefined\";\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      var className = 'form-group';\n      if (this.isValidated()) {\n        className += ' has-feedback';\n        if (this.props.validation === null) {\n          className += ' has-success';\n        } else {\n          className += ' has-error';\n        }\n      }\n      return className;\n    }\n  }, {\n    key: 'getFeedback',\n    value: function getFeedback() {\n      var _this2 = this;\n\n      if (this.props.validation) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'help-block errors' },\n          this.props.validation.map(function (error, i) {\n            return _react2.default.createElement(\n              'p',\n              { key: _this2.props.for + 'FeedbackItem' + i },\n              error\n            );\n          })\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getFeedbackIcon',\n    value: function getFeedbackIcon() {\n      if (this.isValidated()) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { className: 'material-icon form-control-feedback',\n            'aria-hidden': 'true', key: this.props.for + 'FeedbackIcon' },\n          this.props.validation ? 'clear' : 'check'\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getFeedbackDescription',\n    value: function getFeedbackDescription() {\n      if (this.isValidated()) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { id: this.props.for + '_status', className: 'sr-only' },\n          this.props.validation ? gettext('(error)') : gettext('(success)')\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getHelpText',\n    value: function getHelpText() {\n      if (this.props.helpText) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          { className: 'help-block' },\n          this.props.helpText\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'label',\n          { className: 'control-label ' + (this.props.labelClass || ''),\n            htmlFor: this.props.for || '' },\n          this.props.label + ':'\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: this.props.controlClass || '' },\n          this.props.children,\n          this.getFeedbackIcon(),\n          this.getFeedbackDescription(),\n          this.getFeedback(),\n          this.getHelpText(),\n          this.props.extra || null\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],34:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _validators = require('../utils/validators');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar validateRequired = (0, _validators.required)();\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.bindInput = function (name) {\n      return function (event) {\n        var newState = {};\n        newState[name] = event.target.value;\n\n        var formErrors = _this.state.errors || {};\n        formErrors[name] = _this.validateField(name, newState[name]);\n        newState.errors = formErrors;\n\n        _this.setState(newState);\n      };\n    }, _this.handleSubmit = function (event) {\n      // we don't reload page on submissions\n      event.preventDefault();\n      if (_this.state.isLoading) {\n        return;\n      }\n\n      if (_this.clean()) {\n        _this.setState({ 'isLoading': true });\n        var promise = _this.send();\n\n        if (promise) {\n          promise.then(function (success) {\n            _this.setState({ 'isLoading': false });\n            _this.handleSuccess(success);\n          }, function (rejection) {\n            _this.setState({ 'isLoading': false });\n            _this.handleError(rejection);\n          });\n        } else {\n          _this.setState({ 'isLoading': false });\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'validate',\n    value: function validate() {\n      var errors = {};\n\n      var validators = {\n        required: this.state.validators.required || this.state.validators,\n        optional: this.state.validators.optional || {}\n      };\n\n      var validatedFields = [];\n\n      // add required fields to validation\n      for (var name in validators.required) {\n        if (validators.required.hasOwnProperty(name) && validators.required[name]) {\n          validatedFields.push(name);\n        }\n      }\n\n      // add optional fields to validation\n      for (var name in validators.optional) {\n        if (validators.optional.hasOwnProperty(name) && validators.optional[name]) {\n          validatedFields.push(name);\n        }\n      }\n\n      // validate fields values\n      for (var i in validatedFields) {\n        var name = validatedFields[i];\n        var fieldErrors = this.validateField(name, this.state[name]);\n\n        if (fieldErrors === null) {\n          errors[name] = null;\n        } else if (fieldErrors) {\n          errors[name] = fieldErrors;\n        }\n      }\n\n      return errors;\n    }\n  }, {\n    key: 'isValid',\n    value: function isValid() {\n      var errors = this.validate();\n      for (var field in errors) {\n        if (errors.hasOwnProperty(field)) {\n          if (errors[field] !== null) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: 'validateField',\n    value: function validateField(name, value) {\n      var errors = [];\n\n      var validators = {\n        required: (this.state.validators.required || this.state.validators)[name],\n        optional: (this.state.validators.optional || {})[name]\n      };\n\n      var requiredError = validateRequired(value) || false;\n\n      if (validators.required) {\n        if (requiredError) {\n          errors = [requiredError];\n        } else {\n          for (var i in validators.required) {\n            var validationError = validators.required[i](value);\n            if (validationError) {\n              errors.push(validationError);\n            }\n          }\n        }\n\n        return errors.length ? errors : null;\n      } else if (requiredError === false && validators.optional) {\n        for (var i in validators.optional) {\n          var validationError = validators.optional[i](value);\n          if (validationError) {\n            errors.push(validationError);\n          }\n        }\n\n        return errors.length ? errors : null;\n      }\n\n      return false; // false === field wasn't validated\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'clean',\n    value: function clean() {\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return null;\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      return;\n    }\n  }, {\n    key: 'handleError',\n\n    /* jshint ignore:end */\n    value: function handleError(rejection) {\n      return;\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../utils/validators\":68,\"react\":\"react\"}],35:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"loader\" },\n        _react2.default.createElement(\"div\", { className: \"loader-spinning-wheel\" })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],36:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-loader' },\n        _react2.default.createElement(_loader2.default, null)\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./loader\":35,\"react\":\"react\"}],37:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LABELS = exports.STYLES = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _zxcvbn = require('../services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];\n\nvar LABELS = exports.LABELS = [gettext(\"Entered password is very weak.\"), gettext(\"Entered password is weak.\"), gettext(\"Entered password is average.\"), gettext(\"Entered password is strong.\"), gettext(\"Entered password is very strong.\")];\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this._score = 0;\n    _this._password = null;\n    _this._inputs = [];\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'getScore',\n    value: function getScore(password, inputs) {\n      var _this2 = this;\n\n      var cacheStale = false;\n\n      if (password.trim() !== this._password) {\n        cacheStale = true;\n      }\n\n      if (inputs.length !== this._inputs.length) {\n        cacheStale = true;\n      } else {\n        inputs.map(function (value, i) {\n          if (value.trim() !== _this2._inputs[i]) {\n            cacheStale = true;\n          }\n        });\n      }\n\n      if (cacheStale) {\n        this._score = _zxcvbn2.default.scorePassword(password, inputs);\n        this._password = password.trim();\n        this._inputs = inputs.map(function (value) {\n          return value.trim();\n        });\n      }\n\n      return this._score;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      var score = this.getScore(this.props.password, this.props.inputs);\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'help-block password-strength' },\n        _react2.default.createElement(\n          'div',\n          { className: 'progress' },\n          _react2.default.createElement(\n            'div',\n            { className: \"progress-bar \" + STYLES[score],\n              style: { width: 20 + 20 * score + '%' },\n              role: 'progress-bar',\n              'aria-valuenow': score,\n              'aria-valuemin': '0',\n              'aria-valuemax': '4' },\n            _react2.default.createElement(\n              'span',\n              { className: 'sr-only' },\n              LABELS[score]\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'text-small' },\n          LABELS[score]\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/zxcvbn\":62,\"react\":\"react\"}],38:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _register = require('./register.js');\n\nvar _register2 = _interopRequireDefault(_register);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _zxcvbn = require('../services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.showRegisterModal = function () {\n      if (misago.get('SETTINGS').account_activation === 'closed') {\n        _snackbar2.default.info(gettext(\"New registrations are currently disabled.\"));\n      } else if (_this.state.isLoaded) {\n        _modal2.default.show(_register2.default);\n      } else {\n        _this.setState({\n          'isLoading': true\n        });\n\n        Promise.all([_captcha2.default.load(), _zxcvbn2.default.load()]).then(function () {\n          if (!_this.state.isLoaded) {\n            _this.setState({\n              'isLoading': false,\n              'isLoaded': false\n            });\n          }\n\n          _modal2.default.show(_register2.default);\n        });\n      }\n    };\n\n    _this.state = {\n      'isLoading': false,\n      'isLoaded': false\n    };\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'getClassName',\n\n    /* jshint ignore:end */\n\n    value: function getClassName() {\n      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showRegisterModal,\n          className: 'btn ' + this.getClassName(),\n          disabled: this.state.isLoaded },\n        gettext(\"Register\"),\n        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/captcha\":55,\"../services/modal\":59,\"../services/snackbar\":60,\"../services/zxcvbn\":62,\"./loader\":35,\"./register.js\":39,\"react\":\"react\"}],39:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RegisterComplete = exports.RegisterForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('./form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _passwordStrength = require('./password-strength');\n\nvar _passwordStrength2 = _interopRequireDefault(_passwordStrength);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar RegisterForm = exports.RegisterForm = function (_Form) {\n  _inherits(RegisterForm, _Form);\n\n  function RegisterForm(props) {\n    _classCallCheck(this, RegisterForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RegisterForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'username': '',\n      'email': '',\n      'password': '',\n      'captcha': '',\n\n      'validators': {\n        'username': [validators.usernameContent(), validators.usernameMinLength(_index2.default.get('SETTINGS')), validators.usernameMaxLength(_index2.default.get('SETTINGS'))],\n        'email': [validators.email()],\n        'password': [validators.passwordMinLength(_index2.default.get('SETTINGS'))],\n        'captcha': _captcha2.default.validator()\n      },\n\n      'errors': {}\n    };\n    return _this;\n  }\n\n  _createClass(RegisterForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        this.setState({\n          'errors': this.validate()\n        });\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('USERS_API'), {\n        'username': this.state.username,\n        'email': this.state.email,\n        'password': this.state.password,\n        'captcha': this.state.captcha\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        this.setState({\n          'errors': Object.assign({}, this.state.errors, rejection)\n        });\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n        _modal2.default.hide();\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getLegalFootNote',\n    value: function getLegalFootNote() {\n      if (_index2.default.get('TERMS_OF_SERVICE_URL')) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'a',\n          { href: _index2.default.get('TERMS_OF_SERVICE_URL'),\n            target: '_blank' },\n          gettext(\"By registering you agree to site's terms and conditions.\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-register', role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '×'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Register\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit, className: 'form-horizontal' },\n            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),\n            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"Username\"), 'for': 'id_username',\n                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                  validation: this.state.errors.username },\n                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',\n                  'aria-describedby': 'id_username_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('username'),\n                  value: this.state.username })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"E-mail\"), 'for': 'id_email',\n                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                  validation: this.state.errors.email },\n                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',\n                  'aria-describedby': 'id_email_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('email'),\n                  value: this.state.email })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"Password\"), 'for': 'id_password',\n                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                  validation: this.state.errors.password,\n                  extra: _react2.default.createElement(_passwordStrength2.default, { password: this.state.password,\n                    inputs: [this.state.username, this.state.email] }) },\n                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',\n                  'aria-describedby': 'id_password_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('password'),\n                  value: this.state.password })\n              ),\n              _captcha2.default.component({\n                form: this,\n                labelClass: \"col-sm-4\",\n                controlClass: \"col-sm-8\"\n              })\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              this.getLegalFootNote(),\n              _react2.default.createElement(\n                _button2.default,\n                { className: 'btn-primary', loading: this.state.isLoading },\n                gettext(\"Register account\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RegisterForm;\n}(_form2.default);\n\nvar RegisterComplete = exports.RegisterComplete = function (_React$Component) {\n  _inherits(RegisterComplete, _React$Component);\n\n  function RegisterComplete() {\n    _classCallCheck(this, RegisterComplete);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(RegisterComplete).apply(this, arguments));\n  }\n\n  _createClass(RegisterComplete, [{\n    key: 'getLead',\n    value: function getLead() {\n      if (this.props.activation === 'user') {\n        return gettext(\"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\");\n      } else if (this.props.activation === 'admin') {\n        return gettext(\"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\");\n      }\n    }\n  }, {\n    key: 'getSubscript',\n    value: function getSubscript() {\n      if (this.props.activation === 'user') {\n        return gettext(\"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\");\n      } else if (this.props.activation === 'admin') {\n        return gettext(\"We will send an e-mail to %(email)s when this takes place.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-message modal-register',\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '×'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Registration complete\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-body' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'info_outline'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                interpolate(this.getLead(), { 'username': this.props.username }, true)\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                interpolate(this.getSubscript(), { 'email': this.props.email }, true)\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RegisterComplete;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this3.completeRegistration = function (apiResponse) {\n      if (apiResponse.activation === 'active') {\n        _modal2.default.hide();\n        _auth2.default.signIn(apiResponse);\n      } else {\n        _this3.setState({\n          'complete': apiResponse\n        });\n      }\n    };\n\n    _this3.state = {\n      'complete': false\n    };\n    return _this3;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(RegisterComplete, { activation: this.state.complete.activation,\n          username: this.state.complete.username,\n          email: this.state.complete.email });\n      } else {\n        return _react2.default.createElement(RegisterForm, { callback: this.completeRegistration });\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":48,\"../services/ajax\":53,\"../services/auth\":54,\"../services/captcha\":55,\"../services/modal\":59,\"../services/snackbar\":60,\"../utils/banned-page\":63,\"../utils/validators\":68,\"./button\":27,\"./form\":34,\"./form-group\":33,\"./password-strength\":37,\"react\":\"react\"}],40:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkSent = exports.RequestLinkForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar RequestLinkForm = exports.RequestLinkForm = function (_Form) {\n  _inherits(RequestLinkForm, _Form);\n\n  function RequestLinkForm(props) {\n    _classCallCheck(this, RequestLinkForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RequestLinkForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'email': '',\n\n      'validators': {\n        'email': [validators.email()]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(RequestLinkForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Enter a valid email address.\"));\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {\n        'email': this.state.email\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {\n        _snackbar2.default.info(rejection.detail);\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-activation-link' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'text', className: 'form-control',\n                placeholder: gettext(\"Your e-mail address\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('email'),\n                value: this.state.email })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Send link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RequestLinkForm;\n}(_form2.default);\n\nvar LinkSent = exports.LinkSent = function (_React$Component) {\n  _inherits(LinkSent, _React$Component);\n\n  function LinkSent() {\n    _classCallCheck(this, LinkSent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(LinkSent).apply(this, arguments));\n  }\n\n  _createClass(LinkSent, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"Activation link was sent to %(email)s\"), {\n        email: this.props.user.email\n      }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-activation-link well-done' },\n        _react2.default.createElement(\n          'div',\n          { className: 'done-message' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-icon' },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'message-body' },\n            _react2.default.createElement(\n              'p',\n              null,\n              this.getMessage()\n            )\n          ),\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-primary btn-block',\n              onClick: this.props.callback },\n            gettext(\"Request another link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return LinkSent;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this3.complete = function (apiResponse) {\n      _this3.setState({\n        complete: apiResponse\n      });\n    };\n\n    _this3.reset = function () {\n      _this3.setState({\n        complete: false\n      });\n    };\n\n    _this3.state = {\n      complete: false\n    };\n    return _this3;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });\n      } else {\n        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });\n      };\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":48,\"../services/ajax\":53,\"../services/snackbar\":60,\"../utils/banned-page\":63,\"../utils/validators\":68,\"./button\":27,\"./form\":34,\"react\":\"react\"}],41:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar RequestResetForm = exports.RequestResetForm = function (_Form) {\n  _inherits(RequestResetForm, _Form);\n\n  function RequestResetForm(props) {\n    _classCallCheck(this, RequestResetForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RequestResetForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'email': '',\n\n      'validators': {\n        'email': [validators.email()]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(RequestResetForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Enter a valid email address.\"));\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {\n        'email': this.state.email\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {\n        this.props.showInactivePage(rejection);\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-password-reset' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'text', className: 'form-control',\n                placeholder: gettext(\"Your e-mail address\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('email'),\n                value: this.state.email })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Send link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RequestResetForm;\n}(_form2.default);\n\nvar LinkSent = exports.LinkSent = function (_React$Component) {\n  _inherits(LinkSent, _React$Component);\n\n  function LinkSent() {\n    _classCallCheck(this, LinkSent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(LinkSent).apply(this, arguments));\n  }\n\n  _createClass(LinkSent, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"Reset password link was sent to %(email)s\"), {\n        email: this.props.user.email\n      }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-password-reset well-done' },\n        _react2.default.createElement(\n          'div',\n          { className: 'done-message' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-icon' },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'message-body' },\n            _react2.default.createElement(\n              'p',\n              null,\n              this.getMessage()\n            )\n          ),\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-primary btn-block',\n              onClick: this.props.callback },\n            gettext(\"Request another link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return LinkSent;\n}(_react2.default.Component);\n\nvar AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {\n  _inherits(AccountInactivePage, _React$Component2);\n\n  function AccountInactivePage() {\n    _classCallCheck(this, AccountInactivePage);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(AccountInactivePage).apply(this, arguments));\n  }\n\n  _createClass(AccountInactivePage, [{\n    key: 'getActivateButton',\n    value: function getActivateButton() {\n      if (this.props.activation === 'inactive_user') {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },\n            gettext(\"Activate your account.\")\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-message page-message-info page-forgotten-password-inactive' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'info_outline'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                gettext(\"Your account is inactive.\")\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                this.props.message\n              ),\n              this.getActivateButton()\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return AccountInactivePage;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component3) {\n  _inherits(_class, _React$Component3);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this4.complete = function (apiResponse) {\n      _this4.setState({\n        complete: apiResponse\n      });\n    };\n\n    _this4.reset = function () {\n      _this4.setState({\n        complete: false\n      });\n    };\n\n    _this4.state = {\n      complete: false\n    };\n    return _this4;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'showInactivePage',\n    value: function showInactivePage(apiResponse) {\n      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, { activation: apiResponse.code,\n        message: apiResponse.detail }), document.getElementById('page-mount'));\n    }\n    /* jshint ignore:end */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });\n      } else {\n        return _react2.default.createElement(RequestResetForm, { callback: this.complete,\n          showInactivePage: this.showInactivePage });\n      };\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":48,\"../services/ajax\":53,\"../services/snackbar\":60,\"../utils/banned-page\":63,\"../utils/validators\":68,\"./button\":27,\"./form\":34,\"react\":\"react\",\"react-dom\":\"react-dom\"}],42:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PasswordChangedPage = exports.ResetPasswordForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _signIn = require('./sign-in.js');\n\nvar _signIn2 = _interopRequireDefault(_signIn);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {\n  _inherits(ResetPasswordForm, _Form);\n\n  function ResetPasswordForm(props) {\n    _classCallCheck(this, ResetPasswordForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ResetPasswordForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'password': '',\n\n      'validators': {\n        'password': [validators.passwordMinLength(_index2.default.get('SETTINGS'))]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ResetPasswordForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        if (this.state.password.trim().length) {\n          _snackbar2.default.error(this.state.errors.password[0]);\n        } else {\n          _snackbar2.default.error(gettext(\"Enter new password.\"));\n        }\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {\n        'password': this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-reset-password' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'password', className: 'form-control',\n                placeholder: gettext(\"Enter new password\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('password'),\n                value: this.state.password })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Change password\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ResetPasswordForm;\n}(_form2.default);\n\nvar PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {\n  _inherits(PasswordChangedPage, _React$Component);\n\n  function PasswordChangedPage() {\n    _classCallCheck(this, PasswordChangedPage);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(PasswordChangedPage).apply(this, arguments));\n  }\n\n  _createClass(PasswordChangedPage, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"%(username)s, your password has been changed successfully.\"), {\n        username: this.props.user.username\n      }, true);\n    }\n  }, {\n    key: 'showSignIn',\n    value: function showSignIn() {\n      _modal2.default.show(_signIn2.default);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-message page-message-success page-forgotten-password-changed' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'check'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                this.getMessage()\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                gettext(\"You will have to sign in using new password before continuing.\")\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'button',\n                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },\n                  gettext(\"Sign in\")\n                )\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return PasswordChangedPage;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this3, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {\n      _auth2.default.softSignOut();\n\n      // nuke \"redirect_to\" field so we don't end\n      // coming back to error page after sign in\n      $('#hidden-login-form input[name=\"redirect_to\"]').remove();\n\n      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));\n    }, _temp), _possibleConstructorReturn(_this3, _ret);\n  }\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":48,\"../services/ajax\":53,\"../services/auth\":54,\"../services/modal\":59,\"../services/snackbar\":60,\"../utils/banned-page\":63,\"../utils/validators\":68,\"./button\":27,\"./form\":34,\"./sign-in.js\":43,\"react\":\"react\",\"react-dom\":\"react-dom\"}],43:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n      'showActivation': false,\n\n      'username': '',\n      'password': '',\n\n      'validators': {\n        'username': [],\n        'password': []\n      }\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.isValid()) {\n        _snackbar2.default.error(gettext(\"Fill out both fields.\"));\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('AUTH_API'), {\n        'username': this.state.username,\n        'password': this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess() {\n      var form = $('#hidden-login-form');\n\n      form.append('<input type=\"text\" name=\"username\" />');\n      form.append('<input type=\"password\" name=\"password\" />');\n\n      // fill out form with user credentials and submit it, this will tell\n      // Misago to redirect user back to right page, and will trigger browser's\n      // key ring feature\n      form.find('input[type=\"hidden\"]').val(_ajax2.default.getCsrfToken());\n      form.find('input[name=\"redirect_to\"]').val(window.location.pathname);\n      form.find('input[name=\"username\"]').val(this.state.username);\n      form.find('input[name=\"password\"]').val(this.state.password);\n      form.submit();\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        if (rejection.code === 'inactive_admin') {\n          _snackbar2.default.info(rejection.detail);\n        } else if (rejection.code === 'inactive_user') {\n          _snackbar2.default.info(rejection.detail);\n          this.setState({\n            'showActivation': true\n          });\n        } else if (rejection.code === 'banned') {\n          (0, _bannedPage2.default)(rejection.detail);\n          _modal2.default.hide();\n        } else {\n          _snackbar2.default.error(rejection.detail);\n        }\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n        _modal2.default.hide();\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getActivationButton',\n    value: function getActivationButton() {\n      if (this.state.showActivation) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'a',\n          { href: _index2.default.get('REQUEST_ACTIVATION_URL'),\n            className: 'btn btn-success btn-block' },\n          gettext(\"Activate account\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-sm modal-sign-in',\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '×'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Sign in\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', { id: 'id_username', className: 'form-control', type: 'text',\n                    disabled: this.state.isLoading,\n                    placeholder: gettext(\"Username or e-mail\"),\n                    onChange: this.bindInput('username'),\n                    value: this.state.username })\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', { id: 'id_password', className: 'form-control', type: 'password',\n                    disabled: this.state.isLoading,\n                    placeholder: gettext(\"Password\"),\n                    onChange: this.bindInput('password'),\n                    value: this.state.password })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              this.getActivationButton(),\n              _react2.default.createElement(\n                _button2.default,\n                { className: 'btn-primary btn-block',\n                  loading: this.state.isLoading },\n                gettext(\"Sign in\")\n              ),\n              _react2.default.createElement(\n                'a',\n                { href: _index2.default.get('FORGOTTEN_PASSWORD_URL'),\n                  className: 'btn btn-default btn-block' },\n                gettext(\"Forgot password?\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../index\":48,\"../services/ajax\":53,\"../services/modal\":59,\"../services/snackbar\":60,\"../utils/banned-page\":63,\"./button\":27,\"./form\":34,\"react\":\"react\"}],44:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* jshint ignore:start */\nvar TYPES_CLASSES = {\n  'info': 'alert-info',\n  'success': 'alert-success',\n  'warning': 'alert-warning',\n  'error': 'alert-danger'\n};\n/* jshint ignore:end */\n\nvar Snackbar = exports.Snackbar = function (_React$Component) {\n  _inherits(Snackbar, _React$Component);\n\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Snackbar).apply(this, arguments));\n  }\n\n  _createClass(Snackbar, [{\n    key: 'getSnackbarClass',\n    value: function getSnackbarClass() {\n      var snackbarClass = 'alerts-snackbar';\n      if (this.props.isVisible) {\n        snackbarClass += ' in';\n      } else {\n        snackbarClass += ' out';\n      }\n      return snackbarClass;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getSnackbarClass() },\n        _react2.default.createElement(\n          'p',\n          { className: 'alert ' + TYPES_CLASSES[this.props.type] },\n          this.props.message\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Snackbar;\n}(_react2.default.Component);\n\nfunction select(state) {\n  return state.snackbar;\n}\n\n},{\"react\":\"react\"}],45:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _registerButton = require('../register-button');\n\nvar _registerButton2 = _interopRequireDefault(_registerButton);\n\nvar _signIn = require('../sign-in.js');\n\nvar _signIn2 = _interopRequireDefault(_signIn);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar GuestMenu = exports.GuestMenu = function (_React$Component) {\n  _inherits(GuestMenu, _React$Component);\n\n  function GuestMenu() {\n    _classCallCheck(this, GuestMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestMenu).apply(this, arguments));\n  }\n\n  _createClass(GuestMenu, [{\n    key: 'showSignInModal',\n    value: function showSignInModal() {\n      _modal2.default.show(_signIn2.default);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu' },\n        _react2.default.createElement(\n          'li',\n          { className: 'guest-preview' },\n          _react2.default.createElement(\n            'h4',\n            null,\n            gettext(\"You are browsing as guest.\")\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            gettext('Sign in or register to start and participate in discussions.')\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                'button',\n                { type: 'button', className: 'btn btn-default btn-block',\n                  onClick: this.showSignInModal },\n                gettext(\"Sign in\")\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                _registerButton2.default,\n                { className: 'btn-primary btn-block' },\n                gettext(\"Register\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestMenu;\n}(_react2.default.Component);\n\nvar GuestNav = exports.GuestNav = function (_GuestMenu) {\n  _inherits(GuestNav, _GuestMenu);\n\n  function GuestNav() {\n    _classCallCheck(this, GuestNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestNav).apply(this, arguments));\n  }\n\n  _createClass(GuestNav, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'nav nav-guest' },\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn navbar-btn btn-default',\n            onClick: this.showSignInModal },\n          gettext(\"Sign in\")\n        ),\n        _react2.default.createElement(\n          _registerButton2.default,\n          { className: 'navbar-btn btn-primary' },\n          gettext(\"Register\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestNav;\n}(GuestMenu);\n\nvar CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {\n  _inherits(CompactGuestNav, _React$Component2);\n\n  function CompactGuestNav() {\n    _classCallCheck(this, CompactGuestNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactGuestNav).apply(this, arguments));\n  }\n\n  _createClass(CompactGuestNav, [{\n    key: 'showGuestMenu',\n    value: function showGuestMenu() {\n      _mobileNavbarDropdown2.default.show(GuestMenu);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showGuestMenu },\n        _react2.default.createElement(_avatar2.default, { size: '64' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactGuestNav;\n}(_react2.default.Component);\n\n},{\"../../services/mobile-navbar-dropdown\":58,\"../../services/modal\":59,\"../avatar\":25,\"../register-button\":38,\"../sign-in.js\":43,\"react\":\"react\"}],46:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserMenu = exports.UserMenu = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _guestNav = require('./guest-nav');\n\nvar _userNav = require('./user-nav');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n// jshint ignore:line\n\nvar UserMenu = exports.UserMenu = function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.GuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n}(_react2.default.Component);\n\nvar CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {\n  _inherits(CompactUserMenu, _React$Component2);\n\n  function CompactUserMenu() {\n    _classCallCheck(this, CompactUserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserMenu).apply(this, arguments));\n  }\n\n  _createClass(CompactUserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.CompactGuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserMenu;\n}(_react2.default.Component);\n\nfunction select(state) {\n  return state.auth;\n}\n\n},{\"./guest-nav\":45,\"./user-nav\":47,\"react\":\"react\"}],47:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserNav = exports.UserNav = exports.UserMenu = undefined;\nexports.selectUserMenu = selectUserMenu;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _root = require('../change-avatar/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar UserMenu = exports.UserMenu = function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'logout',\n    value: function logout() {\n      var decision = confirm(gettext(\"Are you sure you want to sign out?\"));\n      if (decision) {\n        $('#hidden-logout-form').submit();\n      }\n    }\n  }, {\n    key: 'changeAvatar',\n    value: function changeAvatar() {\n      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu' },\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-header' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            this.props.user.username\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: this.props.user.absolute_url },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'account_circle'\n            ),\n            gettext(\"See your profile\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _index2.default.get('USERCP_URL') },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'done_all'\n            ),\n            gettext(\"Change options\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn-link', onClick: this.changeAvatar },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'face'\n            ),\n            gettext(\"Change avatar\")\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-footer' },\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-default btn-block',\n              onClick: this.logout },\n            gettext(\"Log out\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n}(_react2.default.Component);\n\nvar UserNav = exports.UserNav = function (_React$Component2) {\n  _inherits(UserNav, _React$Component2);\n\n  function UserNav() {\n    _classCallCheck(this, UserNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserNav).apply(this, arguments));\n  }\n\n  _createClass(UserNav, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'ul nav navbar-nav nav-user' },\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown' },\n          _react2.default.createElement(\n            'a',\n            { href: this.props.user.absolute_url, className: 'dropdown-toggle',\n              'data-toggle': 'dropdown', 'aria-haspopup': 'true', 'aria-expanded': 'false',\n              role: 'button' },\n            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })\n          ),\n          _react2.default.createElement(UserMenu, { user: this.props.user })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserNav;\n}(_react2.default.Component);\n\nfunction selectUserMenu(state) {\n  return { user: state.auth.user };\n}\n\nvar CompactUserNav = exports.CompactUserNav = function (_React$Component3) {\n  _inherits(CompactUserNav, _React$Component3);\n\n  function CompactUserNav() {\n    _classCallCheck(this, CompactUserNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserNav).apply(this, arguments));\n  }\n\n  _createClass(CompactUserNav, [{\n    key: 'showUserMenu',\n    value: function showUserMenu() {\n      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showUserMenu },\n        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserNav;\n}(_react2.default.Component);\n\n},{\"../../index\":48,\"../../services/mobile-navbar-dropdown\":58,\"../../services/modal\":59,\"../avatar\":25,\"../change-avatar/root\":31,\"react\":\"react\",\"react-redux\":\"react-redux\"}],48:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Misago = undefined;\n\nvar _orderedList = require('./utils/ordered-list');\n\nvar _orderedList2 = _interopRequireDefault(_orderedList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Misago = exports.Misago = function () {\n  function Misago() {\n    _classCallCheck(this, Misago);\n\n    this._initializers = [];\n    this._context = {};\n  }\n\n  _createClass(Misago, [{\n    key: 'addInitializer',\n    value: function addInitializer(initializer) {\n      this._initializers.push({\n        key: initializer.name,\n\n        item: initializer.initializer,\n\n        after: initializer.after,\n        before: initializer.before\n      });\n    }\n  }, {\n    key: 'init',\n    value: function init(context) {\n      var _this = this;\n\n      this._context = context;\n\n      var initOrder = new _orderedList2.default(this._initializers).orderedValues();\n      initOrder.forEach(function (initializer) {\n        initializer(_this);\n      });\n    }\n\n    // context accessors\n\n  }, {\n    key: 'has',\n    value: function has(key) {\n      return this._context.hasOwnProperty(key);\n    }\n  }, {\n    key: 'get',\n    value: function get(key, fallback) {\n      if (this.has(key)) {\n        return this._context[key];\n      } else {\n        return fallback || undefined;\n      }\n    }\n  }]);\n\n  return Misago;\n}();\n\n// create  singleton\n\nvar misago = new Misago();\n\n// expose it globally\nglobal.misago = misago;\n\n// and export it for tests and stuff\nexports.default = misago;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./utils/ordered-list\":67}],49:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SIGN_OUT = exports.SIGN_IN = exports.initialState = undefined;\nexports.signIn = signIn;\nexports.signOut = signOut;\nexports.default = auth;\n\nvar _users = require('./users');\n\nvar initialState = exports.initialState = {\n  signedIn: false,\n  signedOut: false\n};\n\nvar SIGN_IN = exports.SIGN_IN = 'SIGN_IN';\nvar SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';\n\nfunction signIn(user) {\n  return {\n    type: SIGN_IN,\n    user: user\n  };\n}\n\nfunction signOut() {\n  var soft = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\n  return {\n    type: SIGN_OUT,\n    soft: soft\n  };\n}\n\nfunction auth() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  switch (action.type) {\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user\n      });\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft\n      });\n\n    case _users.UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        var newState = Object.assign({}, state);\n        newState.user = Object.assign({}, state.user, {\n          'avatar_hash': action.avatarHash\n        });\n        return newState;\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n\n},{\"./users\":52}],50:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.showSnackbar = showSnackbar;\nexports.hideSnackbar = hideSnackbar;\nexports.default = snackbar;\nvar initialState = exports.initialState = {\n  type: 'info',\n  message: '',\n  isVisible: false\n};\n\nvar SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';\nvar HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';\n\nfunction showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message: message,\n    messageType: type\n  };\n}\n\nfunction hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR\n  };\n}\n\nfunction snackbar() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true\n    };\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],51:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.doTick = doTick;\nexports.default = tick;\nvar initialState = exports.initialState = {\n  tick: 0\n};\n\nvar TICK = exports.TICK = 'TICK';\n\nfunction doTick() {\n  return {\n    type: TICK\n  };\n}\n\nfunction tick() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],52:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateAvatar = updateAvatar;\nvar UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';\n\nfunction updateAvatar(user, avatarHash) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatarHash: avatarHash\n  };\n}\n\n},{}],53:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Ajax = exports.Ajax = function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n\n    this._cookieName = null;\n    this._csrfToken = null;\n  }\n\n  _createClass(Ajax, [{\n    key: 'init',\n    value: function init(cookieName) {\n      this._cookieName = cookieName;\n      this._csrfToken = this.getCsrfToken();\n    }\n  }, {\n    key: 'getCsrfToken',\n    value: function getCsrfToken() {\n      if (document.cookie.indexOf(this._cookieName) !== -1) {\n        var cookieRegex = new RegExp(this._cookieName + '\\=([^;]*)');\n        var cookie = document.cookie.match(cookieRegex)[0];\n        return cookie ? cookie.split('=')[1] : null;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'request',\n    value: function request(method, url, data) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = {\n          url: url,\n          method: method,\n          headers: {\n            'X-CSRFToken': self._csrfToken\n          },\n\n          data: data ? JSON.stringify(data) : null,\n          contentType: \"application/json; charset=utf-8\",\n          dataType: 'json',\n\n          success: function success(data) {\n            resolve(data);\n          },\n\n          error: function error(jqXHR) {\n            var rejection = jqXHR.responseJSON || {};\n\n            rejection.status = jqXHR.status;\n\n            if (rejection.status === 0) {\n              rejection.detail = gettext(\"Lost connection with application.\");\n            }\n\n            rejection.statusText = jqXHR.statusText;\n\n            reject(rejection);\n          }\n        };\n\n        $.ajax(xhr);\n      });\n    }\n  }, {\n    key: 'get',\n    value: function get(url) {\n      return this.request('GET', url);\n    }\n  }, {\n    key: 'post',\n    value: function post(url, data) {\n      return this.request('POST', url, data);\n    }\n  }, {\n    key: 'patch',\n    value: function patch(url, data) {\n      return this.request('PATCH', url, data);\n    }\n  }, {\n    key: 'put',\n    value: function put(url, data) {\n      return this.request('PUT', url, data);\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(url) {\n      return this.request('DELETE', url);\n    }\n  }, {\n    key: 'upload',\n    value: function upload(url, data, progress) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = {\n          url: url,\n          method: 'POST',\n          headers: {\n            'X-CSRFToken': self._csrfToken\n          },\n\n          data: data,\n          contentType: false,\n          processData: false,\n\n          xhr: function xhr() {\n            var xhr = new window.XMLHttpRequest();\n            xhr.upload.addEventListener(\"progress\", function (evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round(evt.loaded / evt.total * 100));\n              }\n            }, false);\n            return xhr;\n          },\n\n          success: function success(response) {\n            resolve(response);\n          },\n\n          error: function error(jqXHR) {\n            var rejection = jqXHR.responseJSON || {};\n\n            rejection.status = jqXHR.status;\n\n            if (rejection.status === 0) {\n              rejection.detail = gettext(\"Lost connection with application.\");\n            }\n\n            rejection.statusText = jqXHR.statusText;\n\n            reject(rejection);\n          }\n        };\n\n        $.ajax(xhr);\n      });\n    }\n  }]);\n\n  return Ajax;\n}();\n\nexports.default = new Ajax();\n\n},{}],54:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Auth = undefined;\n\nvar _auth = require('../reducers/auth');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint ignore:line\n\nvar Auth = exports.Auth = function () {\n  function Auth() {\n    _classCallCheck(this, Auth);\n  }\n\n  _createClass(Auth, [{\n    key: 'init',\n    value: function init(store, local, modal) {\n      this._store = store;\n      this._local = local;\n      this._modal = modal;\n\n      // tell other tabs what auth state is because we are most current with it\n      this.syncSession();\n\n      // listen for other tabs to tell us that state changed\n      this.watchState();\n    }\n  }, {\n    key: 'syncSession',\n    value: function syncSession() {\n      var state = this._store.getState().auth;\n      if (state.isAuthenticated) {\n        this._local.set('auth', {\n          isAuthenticated: true,\n          username: state.user.username\n        });\n      } else {\n        this._local.set('auth', {\n          isAuthenticated: false\n        });\n      }\n    }\n  }, {\n    key: 'watchState',\n    value: function watchState() {\n      var _this = this;\n\n      this._local.watch('auth', function (newState) {\n        if (newState.isAuthenticated) {\n          _this._store.dispatch((0, _auth.signIn)({\n            username: newState.username\n          }));\n        } else {\n          _this._store.dispatch((0, _auth.signOut)());\n        }\n      });\n      this._modal.hide();\n    }\n  }, {\n    key: 'signIn',\n    value: function signIn(user) {\n      this._store.dispatch((0, _auth.signIn)(user));\n      this._local.set('auth', {\n        isAuthenticated: true,\n        username: user.username\n      });\n      this._modal.hide();\n    }\n  }, {\n    key: 'signOut',\n    value: function signOut() {\n      this._store.dispatch((0, _auth.signOut)());\n      this._local.set('auth', {\n        isAuthenticated: false\n      });\n      this._modal.hide();\n    }\n  }, {\n    key: 'softSignOut',\n    value: function softSignOut() {\n      this._store.dispatch((0, _auth.signOut)(true));\n      this._local.set('auth', {\n        isAuthenticated: false\n      });\n      this._modal.hide();\n    }\n  }]);\n\n  return Auth;\n}();\n\nexports.default = new Auth();\n\n},{\"../reducers/auth\":49}],55:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */\n// jshint ignore:line\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _formGroup = require('../components/form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint ignore:line\n\nvar BaseCaptcha = exports.BaseCaptcha = function () {\n  function BaseCaptcha() {\n    _classCallCheck(this, BaseCaptcha);\n  }\n\n  _createClass(BaseCaptcha, [{\n    key: 'init',\n    value: function init(context, ajax, include, snackbar) {\n      this._context = context;\n      this._ajax = ajax;\n      this._include = include;\n      this._snackbar = snackbar;\n    }\n  }]);\n\n  return BaseCaptcha;\n}();\n\nvar NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {\n  _inherits(NoCaptcha, _BaseCaptcha);\n\n  function NoCaptcha() {\n    _classCallCheck(this, NoCaptcha);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(NoCaptcha).apply(this, arguments));\n  }\n\n  _createClass(NoCaptcha, [{\n    key: 'load',\n    value: function load() {\n      return new Promise(function (resolve) {\n        // immediately resolve as we don't have anything to validate\n        resolve();\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return null;\n    }\n  }, {\n    key: 'component',\n    value: function component() {\n      return null;\n    }\n  }]);\n\n  return NoCaptcha;\n}(BaseCaptcha);\n\nvar QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {\n  _inherits(QACaptcha, _BaseCaptcha2);\n\n  function QACaptcha() {\n    _classCallCheck(this, QACaptcha);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(QACaptcha).apply(this, arguments));\n  }\n\n  _createClass(QACaptcha, [{\n    key: 'load',\n    value: function load() {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        self._ajax.get(self._context.get('CAPTCHA_API_URL')).then(function (data) {\n          self.question = data.question;\n          self.helpText = data.help_text;\n          resolve();\n        }, function () {\n          self._snackbar.error(gettext(\"Failed to load CAPTCHA.\"));\n          reject();\n        });\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return [];\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return _react2.default.createElement(\n        _formGroup2.default,\n        { label: this.question, 'for': 'id_captcha',\n          labelClass: kwargs.labelClass || \"col-sm-4\",\n          controlClass: kwargs.controlClass || \"col-sm-8\",\n          validation: kwargs.form.state.errors.captcha,\n          helpText: this.helpText || null },\n        _react2.default.createElement('input', { type: 'text', id: 'id_captcha', className: 'form-control',\n          'aria-describedby': 'id_captcha_status',\n          disabled: kwargs.form.state.isLoading,\n          onChange: kwargs.form.bindInput('captcha'),\n          value: kwargs.form.state.captcha })\n      );\n    }\n    /* jshint ignore:end */\n\n  }]);\n\n  return QACaptcha;\n}(BaseCaptcha);\n\nvar ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {\n  _inherits(ReCaptchaComponent, _React$Component);\n\n  function ReCaptchaComponent() {\n    _classCallCheck(this, ReCaptchaComponent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ReCaptchaComponent).apply(this, arguments));\n  }\n\n  _createClass(ReCaptchaComponent, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      grecaptcha.render('recaptcha', {\n        'sitekey': this.props.siteKey,\n        'callback': function callback(response) {\n          // fire fakey event to binding\n          _this4.props.binding({\n            target: {\n              value: response\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement('div', { id: 'recaptcha' });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ReCaptchaComponent;\n}(_react2.default.Component);\n\nvar ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {\n  _inherits(ReCaptcha, _BaseCaptcha3);\n\n  function ReCaptcha() {\n    _classCallCheck(this, ReCaptcha);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ReCaptcha).apply(this, arguments));\n  }\n\n  _createClass(ReCaptcha, [{\n    key: 'load',\n    value: function load() {\n      this._include.include('https://www.google.com/recaptcha/api.js', true);\n\n      return new Promise(function (resolve) {\n        var wait = function wait() {\n          if (typeof grecaptcha === \"undefined\") {\n            window.setTimeout(function () {\n              wait();\n            }, 200);\n          } else {\n            resolve();\n          }\n        };\n        wait();\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return [];\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return _react2.default.createElement(\n        _formGroup2.default,\n        { label: gettext(\"Captcha\"), 'for': 'id_captcha',\n          labelClass: kwargs.labelClass || \"col-sm-4\",\n          controlClass: kwargs.controlClass || \"col-sm-8\",\n          validation: kwargs.form.state.errors.captcha,\n          helpText: gettext(\"Please solve the quick test.\") },\n        _react2.default.createElement(ReCaptchaComponent, { siteKey: this._context.get('SETTINGS').recaptcha_site_key,\n          binding: kwargs.form.bindInput('captcha') })\n      );\n    }\n    /* jshint ignore:end */\n\n  }]);\n\n  return ReCaptcha;\n}(BaseCaptcha);\n\nvar Captcha = exports.Captcha = function () {\n  function Captcha() {\n    _classCallCheck(this, Captcha);\n  }\n\n  _createClass(Captcha, [{\n    key: 'init',\n    value: function init(context, ajax, include, snackbar) {\n      switch (context.get('SETTINGS').captcha_type) {\n        case 'no':\n          this._captcha = new NoCaptcha();\n          break;\n\n        case 'qa':\n          this._captcha = new QACaptcha();\n          break;\n\n        case 're':\n          this._captcha = new ReCaptcha();\n          break;\n      }\n\n      this._captcha.init(context, ajax, include, snackbar);\n    }\n\n    // accessors for underlying strategy\n\n  }, {\n    key: 'load',\n    value: function load() {\n      return this._captcha.load();\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return this._captcha.validator();\n    }\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return this._captcha.component(kwargs);\n    }\n  }]);\n\n  return Captcha;\n}();\n\nexports.default = new Captcha();\n\n},{\"../components/form-group\":33,\"react\":\"react\"}],56:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Include = exports.Include = function () {\n  function Include() {\n    _classCallCheck(this, Include);\n  }\n\n  _createClass(Include, [{\n    key: 'init',\n    value: function init(staticUrl) {\n      this._staticUrl = staticUrl;\n      this._included = [];\n    }\n  }, {\n    key: 'include',\n    value: function include(script) {\n      var remote = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n      if (this._included.indexOf(script) === -1) {\n        this._included.push(script);\n        this._include(script, remote);\n      }\n    }\n  }, {\n    key: '_include',\n    value: function _include(script, remote) {\n      $.ajax({\n        url: (!remote ? this._staticUrl : '') + script,\n        cache: true,\n        dataType: 'script'\n      });\n    }\n  }]);\n\n  return Include;\n}();\n\nexports.default = new Include();\n\n},{}],57:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar storage = window.localStorage;\n\nvar LocalStorage = exports.LocalStorage = function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n\n  _createClass(LocalStorage, [{\n    key: 'init',\n    value: function init(prefix) {\n      var _this = this;\n\n      this._prefix = prefix;\n      this._watchers = [];\n\n      window.addEventListener('storage', function (e) {\n        var newValueJson = JSON.parse(e.newValue);\n        _this._watchers.forEach(function (watcher) {\n          if (watcher.key === e.key && e.oldValue !== e.newValue) {\n            watcher.callback(newValueJson);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'set',\n    value: function set(key, value) {\n      storage.setItem(this._prefix + key, JSON.stringify(value));\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var itemString = storage.getItem(this._prefix + key);\n      if (itemString) {\n        return JSON.parse(itemString);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'watch',\n    value: function watch(key, callback) {\n      this._watchers.push({\n        key: this._prefix + key,\n        callback: callback\n      });\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nexports.default = new LocalStorage();\n\n},{}],58:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MobileNavbarDropdown = undefined;\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {\n  function MobileNavbarDropdown() {\n    _classCallCheck(this, MobileNavbarDropdown);\n  }\n\n  _createClass(MobileNavbarDropdown, [{\n    key: 'init',\n    value: function init(element) {\n      this._element = element;\n      this._component = null;\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      if (this._component === component) {\n        this.hide();\n      } else {\n        this._component = component;\n        (0, _mountComponent2.default)(component, this._element.id);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'showConnected',\n    value: function showConnected(name, component) {\n      if (this._component === name) {\n        this.hide();\n      } else {\n        this._component = name;\n        (0, _mountComponent2.default)(component, this._element.id, true);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      $(this._element).removeClass('open');\n      this._component = null;\n    }\n  }]);\n\n  return MobileNavbarDropdown;\n}();\n\nexports.default = new MobileNavbarDropdown();\n\n},{\"../utils/mount-component\":66}],59:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Modal = undefined;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Modal = exports.Modal = function () {\n  function Modal() {\n    _classCallCheck(this, Modal);\n  }\n\n  _createClass(Modal, [{\n    key: 'init',\n    value: function init(element) {\n      var _this = this;\n\n      this._element = element;\n\n      this._modal = $(element).modal({ show: false });\n\n      this._modal.on('hidden.bs.modal', function () {\n        _reactDom2.default.unmountComponentAtNode(_this._element);\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      (0, _mountComponent2.default)(component, this._element.id);\n      this._modal.modal('show');\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this._modal.modal('hide');\n    }\n  }]);\n\n  return Modal;\n}();\n\nexports.default = new Modal();\n\n},{\"../utils/mount-component\":66,\"react-dom\":\"react-dom\"}],60:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\n\nvar _snackbar = require('../reducers/snackbar');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HIDE_ANIMATION_LENGTH = 300;\nvar MESSAGE_SHOW_LENGTH = 5000;\n\nvar Snackbar = exports.Snackbar = function () {\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n  }\n\n  _createClass(Snackbar, [{\n    key: 'init',\n    value: function init(store) {\n      this._store = store;\n      this._timeout = null;\n    }\n  }, {\n    key: 'alert',\n    value: function alert(message, type) {\n      var _this = this;\n\n      if (this._timeout) {\n        window.clearTimeout(this._timeout);\n        this._store.dispatch((0, _snackbar.hideSnackbar)());\n\n        this._timeout = window.setTimeout(function () {\n          _this._timeout = null;\n          _this.alert(message, type);\n        }, HIDE_ANIMATION_LENGTH);\n      } else {\n        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));\n        this._timeout = window.setTimeout(function () {\n          _this._store.dispatch((0, _snackbar.hideSnackbar)());\n          _this._timeout = null;\n        }, MESSAGE_SHOW_LENGTH);\n      }\n    }\n\n    // shorthands for message types\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.alert(message, 'info');\n    }\n  }, {\n    key: 'success',\n    value: function success(message) {\n      this.alert(message, 'success');\n    }\n  }, {\n    key: 'warning',\n    value: function warning(message) {\n      this.alert(message, 'warning');\n    }\n  }, {\n    key: 'error',\n    value: function error(message) {\n      this.alert(message, 'error');\n    }\n\n    // shorthand for api errors\n\n  }, {\n    key: 'apiError',\n    value: function apiError(rejection) {\n      var message = gettext(\"Unknown error has occured.\");\n\n      if (rejection.status === 0) {\n        message = rejection.detail;\n      }\n\n      if (rejection.status === 400 && rejection.detail) {\n        message = rejection.detail;\n      }\n\n      if (rejection.status === 403) {\n        message = rejection.detail;\n        if (message === \"Permission denied\") {\n          message = gettext(\"You don't have permission to perform this action.\");\n        }\n      }\n\n      if (rejection.status === 404) {\n        message = gettext(\"Action link is invalid.\");\n      }\n\n      this.error(message);\n    }\n  }]);\n\n  return Snackbar;\n}();\n\nexports.default = new Snackbar();\n\n},{\"../reducers/snackbar\":50}],61:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StoreWrapper = undefined;\n\nvar _redux = require('redux');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StoreWrapper = exports.StoreWrapper = function () {\n  function StoreWrapper() {\n    _classCallCheck(this, StoreWrapper);\n\n    this._store = null;\n    this._reducers = {};\n    this._initialState = {};\n  }\n\n  _createClass(StoreWrapper, [{\n    key: 'addReducer',\n    value: function addReducer(name, reducer, initialState) {\n      this._reducers[name] = reducer;\n      this._initialState[name] = initialState;\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);\n    }\n  }, {\n    key: 'getStore',\n    value: function getStore() {\n      return this._store;\n    }\n\n    // Store API\n\n  }, {\n    key: 'getState',\n    value: function getState() {\n      return this._store.getState();\n    }\n  }, {\n    key: 'dispatch',\n    value: function dispatch(action) {\n      return this._store.dispatch(action);\n    }\n  }]);\n\n  return StoreWrapper;\n}();\n\nexports.default = new StoreWrapper();\n\n},{\"redux\":\"redux\"}],62:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global zxcvbn */\n\nvar Zxcvbn = exports.Zxcvbn = function () {\n  function Zxcvbn() {\n    _classCallCheck(this, Zxcvbn);\n  }\n\n  _createClass(Zxcvbn, [{\n    key: \"init\",\n    value: function init(include) {\n      this._include = include;\n    }\n  }, {\n    key: \"scorePassword\",\n    value: function scorePassword(password, inputs) {\n      // 0-4 score, the more the stronger password\n      return zxcvbn(password, inputs).score;\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      if (typeof zxcvbn === \"undefined\") {\n        this._include.include('misago/js/zxcvbn.js');\n        return this._loadingPromise();\n      } else {\n        return this._loadedPromise();\n      }\n    }\n  }, {\n    key: \"_loadingPromise\",\n    value: function _loadingPromise() {\n      return new Promise(function (resolve) {\n        var wait = function wait() {\n          if (typeof zxcvbn === \"undefined\") {\n            window.setTimeout(function () {\n              wait();\n            }, 200);\n          } else {\n            resolve();\n          }\n        };\n        wait();\n      });\n    }\n  }, {\n    key: \"_loadedPromise\",\n    value: function _loadedPromise() {\n      // we have already loaded zxcvbn.js, resolve away!\n      return new Promise(function (resolve) {\n        resolve();\n      });\n    }\n  }]);\n\n  return Zxcvbn;\n}();\n\nexports.default = new Zxcvbn();\n\n},{}],63:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (ban, changeState) {\n  _reactDom2.default.render(\n  /* jshint ignore:start */\n  _react2.default.createElement(\n    _reactRedux.Provider,\n    { store: _store2.default.getStore() },\n    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,\n      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })\n  ),\n  /* jshint ignore:end */\n  document.getElementById('page-mount'));\n\n  if (typeof changeState === 'undefined' || changeState) {\n    var forumName = _index2.default.get('SETTINGS').forum_name;\n    document.title = gettext(\"You are banned\") + ' | ' + forumName;\n    window.history.pushState({}, \"\", _index2.default.get('BANNED_URL'));\n  }\n};\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _bannedPage = require('../components/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:line\n\n/* jshint ignore:start */\n// jshint ignore:line\n// jshint ignore:line\nvar select = function select(state) {\n  return state.tick;\n}; // jshint ignore:line\n// jshint ignore:line\n\nvar RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);\n/* jshint ignore:end */\n\n},{\"../components/banned-page\":26,\"../index\":48,\"../services/store\":61,\"moment\":\"moment\",\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],64:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (list, rowWidth) {\n  var padding = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\n  var rows = [];\n  var row = [];\n\n  list.forEach(function (element) {\n    row.push(element);\n    if (row.length === rowWidth) {\n      rows.push(row);\n      row = [];\n    }\n  });\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (var i = row.length; i < rowWidth; i++) {\n      row.push(padding);\n    }\n  }\n\n  if (row.length) {\n    rows.push(row);\n  }\n\n  return rows;\n};\n\n},{}],65:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (bytes) {\n  if (bytes > 1000 * 1000 * 1000) {\n    return Math.round(bytes * 100 / (1000 * 1000 * 1000)) / 100 + ' GB';\n  } else if (bytes > 1000 * 1000) {\n    return Math.round(bytes * 100 / (1000 * 1000)) / 100 + ' MB';\n  } else if (bytes > 1000) {\n    return Math.round(bytes * 100 / 1000) / 100 + ' KB';\n  } else {\n    return Math.round(bytes * 100) / 100 + ' B';\n  }\n};\n\n},{}],66:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (Component, rootElementId) {\n  var connected = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\n\n  var rootElement = document.getElementById(rootElementId);\n\n  if (rootElement) {\n    if (connected) {\n      _reactDom2.default.render(\n      /* jshint ignore:start */\n      _react2.default.createElement(\n        _reactRedux.Provider,\n        { store: _store2.default.getStore() },\n        _react2.default.createElement(Component, null)\n      ),\n      /* jshint ignore:end */\n      rootElement);\n    } else {\n      _reactDom2.default.render(\n      /* jshint ignore:start */\n      _react2.default.createElement(Component, null),\n      /* jshint ignore:end */\n      rootElement);\n    }\n  }\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../services/store\":61,\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],67:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OrderedList = function () {\n  function OrderedList(items) {\n    _classCallCheck(this, OrderedList);\n\n    this.isOrdered = false;\n    this._items = items || [];\n  }\n\n  _createClass(OrderedList, [{\n    key: \"add\",\n    value: function add(key, item, order) {\n      this._items.push({\n        key: key,\n        item: item,\n\n        after: order ? order.after || null : null,\n        before: order ? order.before || null : null\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, value) {\n      for (var i = 0; i < this._items.length; i++) {\n        if (this._items[i].key === key) {\n          return this._items[i].item;\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this.get(key) !== undefined;\n    }\n  }, {\n    key: \"values\",\n    value: function values() {\n      var values = [];\n      for (var i = 0; i < this._items.length; i++) {\n        values.push(this._items[i].item);\n      }\n      return values;\n    }\n  }, {\n    key: \"order\",\n    value: function order(values_only) {\n      if (!this.isOrdered) {\n        this._items = this._order(this._items);\n        this.isOrdered = true;\n      }\n\n      if (values_only || typeof values_only === 'undefined') {\n        return this.values();\n      } else {\n        return this._items;\n      }\n    }\n  }, {\n    key: \"orderedValues\",\n    value: function orderedValues() {\n      return this.order(true);\n    }\n  }, {\n    key: \"_order\",\n    value: function _order(unordered) {\n      // Index of unordered items\n      var index = [];\n      unordered.forEach(function (item) {\n        index.push(item.key);\n      });\n\n      // Ordered items\n      var ordered = [];\n      var ordering = [];\n\n      // First pass: register items that\n      // don't specify their order\n      unordered.forEach(function (item) {\n        if (!item.after && !item.before) {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Second pass: register items that\n      // specify their before to \"_end\"\n      unordered.forEach(function (item) {\n        if (item.before === \"_end\") {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Third pass: keep iterating items\n      // until we hit iterations limit or finish\n      // ordering list\n      function insertItem(item) {\n        var insertAt = -1;\n        if (ordering.indexOf(item.key) === -1) {\n          if (item.after) {\n            insertAt = ordering.indexOf(item.after);\n            if (insertAt !== -1) {\n              insertAt += 1;\n            }\n          } else if (item.before) {\n            insertAt = ordering.indexOf(item.before);\n          }\n\n          if (insertAt !== -1) {\n            ordered.splice(insertAt, 0, item);\n            ordering.splice(insertAt, 0, item.key);\n          }\n        }\n      }\n\n      var iterations = 200;\n      while (iterations > 0 && index.length !== ordering.length) {\n        iterations -= 1;\n        unordered.forEach(insertItem);\n      }\n\n      return ordered;\n    }\n  }]);\n\n  return OrderedList;\n}();\n\nexports.default = OrderedList;\n\n},{}],68:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.required = required;\nexports.email = email;\nexports.minLength = minLength;\nexports.maxLength = maxLength;\nexports.usernameMinLength = usernameMinLength;\nexports.usernameMaxLength = usernameMaxLength;\nexports.usernameContent = usernameContent;\nexports.passwordMinLength = passwordMinLength;\nvar EMAIL = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nvar USERNAME = new RegExp('^[0-9a-z]+$', 'i');\n\nfunction required() {\n  return function (value) {\n    if ($.trim(value).length === 0) {\n      return gettext(\"This field is required.\");\n    }\n  };\n}\n\nfunction email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\");\n    }\n  };\n}\n\nfunction minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction usernameMinLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Username must be at least %(limit_value)s character long.\", \"Username must be at least %(limit_value)s characters long.\", limitValue);\n  };\n  return this.minLength(settings.username_length_min, message);\n}\n\nfunction usernameMaxLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Username cannot be longer than %(limit_value)s character.\", \"Username cannot be longer than %(limit_value)s characters.\", limitValue);\n  };\n  return this.maxLength(settings.username_length_max, message);\n}\n\nfunction usernameContent() {\n  return function (value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\"Username can only contain latin alphabet letters and digits.\");\n    }\n  };\n}\n\nfunction passwordMinLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Valid password must be at least %(limit_value)s character long.\", \"Valid password must be at least %(limit_value)s characters long.\", limitValue);\n  };\n  return this.minLength(settings.password_length_min, message);\n}\n\n},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]);\n"],"sourceRoot":"/source/"}